var c5=Object.defineProperty;var d5=(e,n,s)=>n in e?c5(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s;var T=(e,n,s)=>d5(e,typeof n!="symbol"?n+"":n,s);function f5(e,n){for(var s=0;s<n.length;s++){const a=n[s];if(typeof a!="string"&&!Array.isArray(a)){for(const h in a)if(h!=="default"&&!(h in e)){const d=Object.getOwnPropertyDescriptor(a,h);d&&Object.defineProperty(e,h,d.get?d:{enumerable:!0,get:()=>a[h]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var Zs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function p5(e){if(e.__esModule)return e;var n=e.default;if(typeof n=="function"){var s=function a(){return this instanceof a?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};s.prototype=n.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var h=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(s,a,h.get?h:{enumerable:!0,get:function(){return e[a]}})}),s}var vD={exports:{}},Q0={},xD={exports:{}},tn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fg=Symbol.for("react.element"),g5=Symbol.for("react.portal"),m5=Symbol.for("react.fragment"),y5=Symbol.for("react.strict_mode"),v5=Symbol.for("react.profiler"),x5=Symbol.for("react.provider"),b5=Symbol.for("react.context"),w5=Symbol.for("react.forward_ref"),S5=Symbol.for("react.suspense"),P5=Symbol.for("react.memo"),k5=Symbol.for("react.lazy"),TA=Symbol.iterator;function T5(e){return e===null||typeof e!="object"?null:(e=TA&&e[TA]||e["@@iterator"],typeof e=="function"?e:null)}var bD={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wD=Object.assign,SD={};function od(e,n,s){this.props=e,this.context=n,this.refs=SD,this.updater=s||bD}od.prototype.isReactComponent={};od.prototype.setState=function(e,n){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")};od.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function PD(){}PD.prototype=od.prototype;function KP(e,n,s){this.props=e,this.context=n,this.refs=SD,this.updater=s||bD}var GP=KP.prototype=new PD;GP.constructor=KP;wD(GP,od.prototype);GP.isPureReactComponent=!0;var MA=Array.isArray,kD=Object.prototype.hasOwnProperty,WP={current:null},TD={key:!0,ref:!0,__self:!0,__source:!0};function MD(e,n,s){var a,h={},d=null,p=null;if(n!=null)for(a in n.ref!==void 0&&(p=n.ref),n.key!==void 0&&(d=""+n.key),n)kD.call(n,a)&&!TD.hasOwnProperty(a)&&(h[a]=n[a]);var v=arguments.length-2;if(v===1)h.children=s;else if(1<v){for(var x=Array(v),S=0;S<v;S++)x[S]=arguments[S+2];h.children=x}if(e&&e.defaultProps)for(a in v=e.defaultProps,v)h[a]===void 0&&(h[a]=v[a]);return{$$typeof:fg,type:e,key:d,ref:p,props:h,_owner:WP.current}}function M5(e,n){return{$$typeof:fg,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}function HP(e){return typeof e=="object"&&e!==null&&e.$$typeof===fg}function A5(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return n[s]})}var AA=/\/+/g;function z1(e,n){return typeof e=="object"&&e!==null&&e.key!=null?A5(""+e.key):n.toString(36)}function Fm(e,n,s,a,h){var d=typeof e;(d==="undefined"||d==="boolean")&&(e=null);var p=!1;if(e===null)p=!0;else switch(d){case"string":case"number":p=!0;break;case"object":switch(e.$$typeof){case fg:case g5:p=!0}}if(p)return p=e,h=h(p),e=a===""?"."+z1(p,0):a,MA(h)?(s="",e!=null&&(s=e.replace(AA,"$&/")+"/"),Fm(h,n,s,"",function(S){return S})):h!=null&&(HP(h)&&(h=M5(h,s+(!h.key||p&&p.key===h.key?"":(""+h.key).replace(AA,"$&/")+"/")+e)),n.push(h)),1;if(p=0,a=a===""?".":a+":",MA(e))for(var v=0;v<e.length;v++){d=e[v];var x=a+z1(d,v);p+=Fm(d,n,s,x,h)}else if(x=T5(e),typeof x=="function")for(e=x.call(e),v=0;!(d=e.next()).done;)d=d.value,x=a+z1(d,v++),p+=Fm(d,n,s,x,h);else if(d==="object")throw n=String(e),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return p}function Wg(e,n,s){if(e==null)return e;var a=[],h=0;return Fm(e,a,"","",function(d){return n.call(s,d,h++)}),a}function C5(e){if(e._status===-1){var n=e._result;n=n(),n.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=n)}if(e._status===1)return e._result.default;throw e._result}var Wr={current:null},jm={transition:null},O5={ReactCurrentDispatcher:Wr,ReactCurrentBatchConfig:jm,ReactCurrentOwner:WP};function AD(){throw Error("act(...) is not supported in production builds of React.")}tn.Children={map:Wg,forEach:function(e,n,s){Wg(e,function(){n.apply(this,arguments)},s)},count:function(e){var n=0;return Wg(e,function(){n++}),n},toArray:function(e){return Wg(e,function(n){return n})||[]},only:function(e){if(!HP(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};tn.Component=od;tn.Fragment=m5;tn.Profiler=v5;tn.PureComponent=KP;tn.StrictMode=y5;tn.Suspense=S5;tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O5;tn.act=AD;tn.cloneElement=function(e,n,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=wD({},e.props),h=e.key,d=e.ref,p=e._owner;if(n!=null){if(n.ref!==void 0&&(d=n.ref,p=WP.current),n.key!==void 0&&(h=""+n.key),e.type&&e.type.defaultProps)var v=e.type.defaultProps;for(x in n)kD.call(n,x)&&!TD.hasOwnProperty(x)&&(a[x]=n[x]===void 0&&v!==void 0?v[x]:n[x])}var x=arguments.length-2;if(x===1)a.children=s;else if(1<x){v=Array(x);for(var S=0;S<x;S++)v[S]=arguments[S+2];a.children=v}return{$$typeof:fg,type:e.type,key:h,ref:d,props:a,_owner:p}};tn.createContext=function(e){return e={$$typeof:b5,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:x5,_context:e},e.Consumer=e};tn.createElement=MD;tn.createFactory=function(e){var n=MD.bind(null,e);return n.type=e,n};tn.createRef=function(){return{current:null}};tn.forwardRef=function(e){return{$$typeof:w5,render:e}};tn.isValidElement=HP;tn.lazy=function(e){return{$$typeof:k5,_payload:{_status:-1,_result:e},_init:C5}};tn.memo=function(e,n){return{$$typeof:P5,type:e,compare:n===void 0?null:n}};tn.startTransition=function(e){var n=jm.transition;jm.transition={};try{e()}finally{jm.transition=n}};tn.unstable_act=AD;tn.useCallback=function(e,n){return Wr.current.useCallback(e,n)};tn.useContext=function(e){return Wr.current.useContext(e)};tn.useDebugValue=function(){};tn.useDeferredValue=function(e){return Wr.current.useDeferredValue(e)};tn.useEffect=function(e,n){return Wr.current.useEffect(e,n)};tn.useId=function(){return Wr.current.useId()};tn.useImperativeHandle=function(e,n,s){return Wr.current.useImperativeHandle(e,n,s)};tn.useInsertionEffect=function(e,n){return Wr.current.useInsertionEffect(e,n)};tn.useLayoutEffect=function(e,n){return Wr.current.useLayoutEffect(e,n)};tn.useMemo=function(e,n){return Wr.current.useMemo(e,n)};tn.useReducer=function(e,n,s){return Wr.current.useReducer(e,n,s)};tn.useRef=function(e){return Wr.current.useRef(e)};tn.useState=function(e){return Wr.current.useState(e)};tn.useSyncExternalStore=function(e,n,s){return Wr.current.useSyncExternalStore(e,n,s)};tn.useTransition=function(){return Wr.current.useTransition()};tn.version="18.3.1";xD.exports=tn;var at=xD.exports;const wt=wn(at),N5=f5({__proto__:null,default:wt},[at]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E5=at,L5=Symbol.for("react.element"),_5=Symbol.for("react.fragment"),D5=Object.prototype.hasOwnProperty,R5=E5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,I5={key:!0,ref:!0,__self:!0,__source:!0};function CD(e,n,s){var a,h={},d=null,p=null;s!==void 0&&(d=""+s),n.key!==void 0&&(d=""+n.key),n.ref!==void 0&&(p=n.ref);for(a in n)D5.call(n,a)&&!I5.hasOwnProperty(a)&&(h[a]=n[a]);if(e&&e.defaultProps)for(a in n=e.defaultProps,n)h[a]===void 0&&(h[a]=n[a]);return{$$typeof:L5,type:e,key:d,ref:p,props:h,_owner:R5.current}}Q0.Fragment=_5;Q0.jsx=CD;Q0.jsxs=CD;vD.exports=Q0;var ot=vD.exports;function F5(){return ot.jsx("div",{className:"mt-auto w-full max-w-[85rem] py-10 px-4 sm:px-6 lg:px-8 mx-auto",children:ot.jsxs("div",{className:"text-center",children:[ot.jsx("div",{children:ot.jsx("a",{className:"flex-none text-xl font-semibold text-black",href:"#","aria-label":"Brand",children:"Brand"})}),ot.jsxs("div",{className:"mt-3",children:[ot.jsxs("p",{className:"text-gray-500",children:["We're part of the"," ",ot.jsx("a",{className:"text-blue-600 decoration-2 hover:underline focus:outline-none focus:underline font-medium",href:"#",children:"Htmlstream"})," ","family."]}),ot.jsx("p",{className:"text-gray-500",children:"Â© Preline. 2022 Htmlstream. All rights reserved."})]}),ot.jsxs("div",{className:"mt-3 space-x-2",children:[ot.jsx("a",{className:"size-8 inline-flex justify-center items-center gap-x-2 text-sm font-semibold rounded-full border border-transparent text-gray-500 hover:bg-gray-50 focus:outline-none focus:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none",href:"#",children:ot.jsx("svg",{className:"shrink-0 size-3.5",xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",viewBox:"0 0 16 16",children:ot.jsx("path",{d:"M15.545 6.558a9.42 9.42 0 0 1 .139 1.626c0 2.434-.87 4.492-2.384 5.885h.002C11.978 15.292 10.158 16 8 16A8 8 0 1 1 8 0a7.689 7.689 0 0 1 5.352 2.082l-2.284 2.284A4.347 4.347 0 0 0 8 3.166c-2.087 0-3.86 1.408-4.492 3.304a4.792 4.792 0 0 0 0 3.063h.003c.635 1.893 2.405 3.301 4.492 3.301 1.078 0 2.004-.276 2.722-.764h-.003a3.702 3.702 0 0 0 1.599-2.431H8v-3.08h7.545z"})})}),ot.jsx("a",{className:"size-8 inline-flex justify-center items-center gap-x-2 text-sm font-semibold rounded-full border border-transparent text-gray-500 hover:bg-gray-50 focus:outline-none focus:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none",href:"#",children:ot.jsx("svg",{className:"shrink-0 size-3.5",xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",viewBox:"0 0 16 16",children:ot.jsx("path",{d:"M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z"})})}),ot.jsx("a",{className:"size-8 inline-flex justify-center items-center gap-x-2 text-sm font-semibold rounded-full border border-transparent text-gray-500 hover:bg-gray-50 focus:outline-none focus:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none",href:"#",children:ot.jsx("svg",{className:"shrink-0 size-3.5",xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",viewBox:"0 0 16 16",children:ot.jsx("path",{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"})})}),ot.jsx("a",{className:"size-8 inline-flex justify-center items-center gap-x-2 text-sm font-semibold rounded-full border border-transparent text-gray-500 hover:bg-gray-50 focus:outline-none focus:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none",href:"#",children:ot.jsx("svg",{className:"shrink-0 size-3.5",xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",viewBox:"0 0 16 16",children:ot.jsx("path",{d:"M3.362 10.11c0 .926-.756 1.681-1.681 1.681S0 11.036 0 10.111C0 9.186.756 8.43 1.68 8.43h1.682v1.68zm.846 0c0-.924.756-1.68 1.681-1.68s1.681.756 1.681 1.68v4.21c0 .924-.756 1.68-1.68 1.68a1.685 1.685 0 0 1-1.682-1.68v-4.21zM5.89 3.362c-.926 0-1.682-.756-1.682-1.681S4.964 0 5.89 0s1.68.756 1.68 1.68v1.682H5.89zm0 .846c.924 0 1.68.756 1.68 1.681S6.814 7.57 5.89 7.57H1.68C.757 7.57 0 6.814 0 5.89c0-.926.756-1.682 1.68-1.682h4.21zm6.749 1.682c0-.926.755-1.682 1.68-1.682.925 0 1.681.756 1.681 1.681s-.756 1.681-1.68 1.681h-1.681V5.89zm-.848 0c0 .924-.755 1.68-1.68 1.68A1.685 1.685 0 0 1 8.43 5.89V1.68C8.43.757 9.186 0 10.11 0c.926 0 1.681.756 1.681 1.68v4.21zm-1.681 6.748c.926 0 1.682.756 1.682 1.681S11.036 16 10.11 16s-1.681-.756-1.681-1.68v-1.682h1.68zm0-.847c-.924 0-1.68-.755-1.68-1.68 0-.925.756-1.681 1.68-1.681h4.21c.924 0 1.68.756 1.68 1.68 0 .926-.756 1.681-1.68 1.681h-4.21z"})})})]})]})})}function OD(e,n){return function(){return e.apply(n,arguments)}}const{toString:j5}=Object.prototype,{getPrototypeOf:XP}=Object,tv=(e=>n=>{const s=j5.call(n);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Do=e=>(e=e.toLowerCase(),n=>tv(n)===e),ev=e=>n=>typeof n===e,{isArray:ad}=Array,Jf=ev("undefined");function B5(e){return e!==null&&!Jf(e)&&e.constructor!==null&&!Jf(e.constructor)&&Cs(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const ND=Do("ArrayBuffer");function $5(e){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(e):n=e&&e.buffer&&ND(e.buffer),n}const z5=ev("string"),Cs=ev("function"),ED=ev("number"),nv=e=>e!==null&&typeof e=="object",V5=e=>e===!0||e===!1,Bm=e=>{if(tv(e)!=="object")return!1;const n=XP(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},U5=Do("Date"),K5=Do("File"),G5=Do("Blob"),W5=Do("FileList"),H5=e=>nv(e)&&Cs(e.pipe),X5=e=>{let n;return e&&(typeof FormData=="function"&&e instanceof FormData||Cs(e.append)&&((n=tv(e))==="formdata"||n==="object"&&Cs(e.toString)&&e.toString()==="[object FormData]"))},Y5=Do("URLSearchParams"),[q5,Z5,J5,Q5]=["ReadableStream","Request","Response","Headers"].map(Do),tU=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function pg(e,n,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let a,h;if(typeof e!="object"&&(e=[e]),ad(e))for(a=0,h=e.length;a<h;a++)n.call(null,e[a],a,e);else{const d=s?Object.getOwnPropertyNames(e):Object.keys(e),p=d.length;let v;for(a=0;a<p;a++)v=d[a],n.call(null,e[v],v,e)}}function LD(e,n){n=n.toLowerCase();const s=Object.keys(e);let a=s.length,h;for(;a-- >0;)if(h=s[a],n===h.toLowerCase())return h;return null}const Eu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,_D=e=>!Jf(e)&&e!==Eu;function Nb(){const{caseless:e}=_D(this)&&this||{},n={},s=(a,h)=>{const d=e&&LD(n,h)||h;Bm(n[d])&&Bm(a)?n[d]=Nb(n[d],a):Bm(a)?n[d]=Nb({},a):ad(a)?n[d]=a.slice():n[d]=a};for(let a=0,h=arguments.length;a<h;a++)arguments[a]&&pg(arguments[a],s);return n}const eU=(e,n,s,{allOwnKeys:a}={})=>(pg(n,(h,d)=>{s&&Cs(h)?e[d]=OD(h,s):e[d]=h},{allOwnKeys:a}),e),nU=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),iU=(e,n,s,a)=>{e.prototype=Object.create(n.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:n.prototype}),s&&Object.assign(e.prototype,s)},rU=(e,n,s,a)=>{let h,d,p;const v={};if(n=n||{},e==null)return n;do{for(h=Object.getOwnPropertyNames(e),d=h.length;d-- >0;)p=h[d],(!a||a(p,e,n))&&!v[p]&&(n[p]=e[p],v[p]=!0);e=s!==!1&&XP(e)}while(e&&(!s||s(e,n))&&e!==Object.prototype);return n},sU=(e,n,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=n.length;const a=e.indexOf(n,s);return a!==-1&&a===s},oU=e=>{if(!e)return null;if(ad(e))return e;let n=e.length;if(!ED(n))return null;const s=new Array(n);for(;n-- >0;)s[n]=e[n];return s},aU=(e=>n=>e&&n instanceof e)(typeof Uint8Array<"u"&&XP(Uint8Array)),lU=(e,n)=>{const a=(e&&e[Symbol.iterator]).call(e);let h;for(;(h=a.next())&&!h.done;){const d=h.value;n.call(e,d[0],d[1])}},uU=(e,n)=>{let s;const a=[];for(;(s=e.exec(n))!==null;)a.push(s);return a},hU=Do("HTMLFormElement"),cU=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,a,h){return a.toUpperCase()+h}),CA=(({hasOwnProperty:e})=>(n,s)=>e.call(n,s))(Object.prototype),dU=Do("RegExp"),DD=(e,n)=>{const s=Object.getOwnPropertyDescriptors(e),a={};pg(s,(h,d)=>{let p;(p=n(h,d,e))!==!1&&(a[d]=p||h)}),Object.defineProperties(e,a)},fU=e=>{DD(e,(n,s)=>{if(Cs(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const a=e[s];if(Cs(a)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},pU=(e,n)=>{const s={},a=h=>{h.forEach(d=>{s[d]=!0})};return ad(e)?a(e):a(String(e).split(n)),s},gU=()=>{},mU=(e,n)=>e!=null&&Number.isFinite(e=+e)?e:n,V1="abcdefghijklmnopqrstuvwxyz",OA="0123456789",RD={DIGIT:OA,ALPHA:V1,ALPHA_DIGIT:V1+V1.toUpperCase()+OA},yU=(e=16,n=RD.ALPHA_DIGIT)=>{let s="";const{length:a}=n;for(;e--;)s+=n[Math.random()*a|0];return s};function vU(e){return!!(e&&Cs(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const xU=e=>{const n=new Array(10),s=(a,h)=>{if(nv(a)){if(n.indexOf(a)>=0)return;if(!("toJSON"in a)){n[h]=a;const d=ad(a)?[]:{};return pg(a,(p,v)=>{const x=s(p,h+1);!Jf(x)&&(d[v]=x)}),n[h]=void 0,d}}return a};return s(e,0)},bU=Do("AsyncFunction"),wU=e=>e&&(nv(e)||Cs(e))&&Cs(e.then)&&Cs(e.catch),ID=((e,n)=>e?setImmediate:n?((s,a)=>(Eu.addEventListener("message",({source:h,data:d})=>{h===Eu&&d===s&&a.length&&a.shift()()},!1),h=>{a.push(h),Eu.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",Cs(Eu.postMessage)),SU=typeof queueMicrotask<"u"?queueMicrotask.bind(Eu):typeof process<"u"&&process.nextTick||ID,Wt={isArray:ad,isArrayBuffer:ND,isBuffer:B5,isFormData:X5,isArrayBufferView:$5,isString:z5,isNumber:ED,isBoolean:V5,isObject:nv,isPlainObject:Bm,isReadableStream:q5,isRequest:Z5,isResponse:J5,isHeaders:Q5,isUndefined:Jf,isDate:U5,isFile:K5,isBlob:G5,isRegExp:dU,isFunction:Cs,isStream:H5,isURLSearchParams:Y5,isTypedArray:aU,isFileList:W5,forEach:pg,merge:Nb,extend:eU,trim:tU,stripBOM:nU,inherits:iU,toFlatObject:rU,kindOf:tv,kindOfTest:Do,endsWith:sU,toArray:oU,forEachEntry:lU,matchAll:uU,isHTMLForm:hU,hasOwnProperty:CA,hasOwnProp:CA,reduceDescriptors:DD,freezeMethods:fU,toObjectSet:pU,toCamelCase:cU,noop:gU,toFiniteNumber:mU,findKey:LD,global:Eu,isContextDefined:_D,ALPHABET:RD,generateString:yU,isSpecCompliantForm:vU,toJSONObject:xU,isAsyncFn:bU,isThenable:wU,setImmediate:ID,asap:SU};function Ue(e,n,s,a,h){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",n&&(this.code=n),s&&(this.config=s),a&&(this.request=a),h&&(this.response=h)}Wt.inherits(Ue,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Wt.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const FD=Ue.prototype,jD={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{jD[e]={value:e}});Object.defineProperties(Ue,jD);Object.defineProperty(FD,"isAxiosError",{value:!0});Ue.from=(e,n,s,a,h,d)=>{const p=Object.create(FD);return Wt.toFlatObject(e,p,function(x){return x!==Error.prototype},v=>v!=="isAxiosError"),Ue.call(p,e.message,n,s,a,h),p.cause=e,p.name=e.name,d&&Object.assign(p,d),p};const PU=null;function Eb(e){return Wt.isPlainObject(e)||Wt.isArray(e)}function BD(e){return Wt.endsWith(e,"[]")?e.slice(0,-2):e}function NA(e,n,s){return e?e.concat(n).map(function(h,d){return h=BD(h),!s&&d?"["+h+"]":h}).join(s?".":""):n}function kU(e){return Wt.isArray(e)&&!e.some(Eb)}const TU=Wt.toFlatObject(Wt,{},null,function(n){return/^is[A-Z]/.test(n)});function iv(e,n,s){if(!Wt.isObject(e))throw new TypeError("target must be an object");n=n||new FormData,s=Wt.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,V){return!Wt.isUndefined(V[j])});const a=s.metaTokens,h=s.visitor||M,d=s.dots,p=s.indexes,x=(s.Blob||typeof Blob<"u"&&Blob)&&Wt.isSpecCompliantForm(n);if(!Wt.isFunction(h))throw new TypeError("visitor must be a function");function S(I){if(I===null)return"";if(Wt.isDate(I))return I.toISOString();if(!x&&Wt.isBlob(I))throw new Ue("Blob is not supported. Use a Buffer instead.");return Wt.isArrayBuffer(I)||Wt.isTypedArray(I)?x&&typeof Blob=="function"?new Blob([I]):Buffer.from(I):I}function M(I,j,V){let C=I;if(I&&!V&&typeof I=="object"){if(Wt.endsWith(j,"{}"))j=a?j:j.slice(0,-2),I=JSON.stringify(I);else if(Wt.isArray(I)&&kU(I)||(Wt.isFileList(I)||Wt.endsWith(j,"[]"))&&(C=Wt.toArray(I)))return j=BD(j),C.forEach(function(F,Y){!(Wt.isUndefined(F)||F===null)&&n.append(p===!0?NA([j],Y,d):p===null?j:j+"[]",S(F))}),!1}return Eb(I)?!0:(n.append(NA(V,j,d),S(I)),!1)}const A=[],O=Object.assign(TU,{defaultVisitor:M,convertValue:S,isVisitable:Eb});function B(I,j){if(!Wt.isUndefined(I)){if(A.indexOf(I)!==-1)throw Error("Circular reference detected in "+j.join("."));A.push(I),Wt.forEach(I,function(C,z){(!(Wt.isUndefined(C)||C===null)&&h.call(n,C,Wt.isString(z)?z.trim():z,j,O))===!0&&B(C,j?j.concat(z):[z])}),A.pop()}}if(!Wt.isObject(e))throw new TypeError("data must be an object");return B(e),n}function EA(e){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return n[a]})}function YP(e,n){this._pairs=[],e&&iv(e,this,n)}const $D=YP.prototype;$D.append=function(n,s){this._pairs.push([n,s])};$D.toString=function(n){const s=n?function(a){return n.call(this,a,EA)}:EA;return this._pairs.map(function(h){return s(h[0])+"="+s(h[1])},"").join("&")};function MU(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function zD(e,n,s){if(!n)return e;const a=s&&s.encode||MU,h=s&&s.serialize;let d;if(h?d=h(n,s):d=Wt.isURLSearchParams(n)?n.toString():new YP(n,s).toString(a),d){const p=e.indexOf("#");p!==-1&&(e=e.slice(0,p)),e+=(e.indexOf("?")===-1?"?":"&")+d}return e}class LA{constructor(){this.handlers=[]}use(n,s,a){return this.handlers.push({fulfilled:n,rejected:s,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){Wt.forEach(this.handlers,function(a){a!==null&&n(a)})}}const VD={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},AU=typeof URLSearchParams<"u"?URLSearchParams:YP,CU=typeof FormData<"u"?FormData:null,OU=typeof Blob<"u"?Blob:null,NU={isBrowser:!0,classes:{URLSearchParams:AU,FormData:CU,Blob:OU},protocols:["http","https","file","blob","url","data"]},qP=typeof window<"u"&&typeof document<"u",EU=(e=>qP&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),LU=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",_U=qP&&window.location.href||"http://localhost",DU=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:qP,hasStandardBrowserEnv:EU,hasStandardBrowserWebWorkerEnv:LU,origin:_U},Symbol.toStringTag,{value:"Module"})),Co={...DU,...NU};function RU(e,n){return iv(e,new Co.classes.URLSearchParams,Object.assign({visitor:function(s,a,h,d){return Co.isNode&&Wt.isBuffer(s)?(this.append(a,s.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)}},n))}function IU(e){return Wt.matchAll(/\w+|\[(\w*)]/g,e).map(n=>n[0]==="[]"?"":n[1]||n[0])}function FU(e){const n={},s=Object.keys(e);let a;const h=s.length;let d;for(a=0;a<h;a++)d=s[a],n[d]=e[d];return n}function UD(e){function n(s,a,h,d){let p=s[d++];if(p==="__proto__")return!0;const v=Number.isFinite(+p),x=d>=s.length;return p=!p&&Wt.isArray(h)?h.length:p,x?(Wt.hasOwnProp(h,p)?h[p]=[h[p],a]:h[p]=a,!v):((!h[p]||!Wt.isObject(h[p]))&&(h[p]=[]),n(s,a,h[p],d)&&Wt.isArray(h[p])&&(h[p]=FU(h[p])),!v)}if(Wt.isFormData(e)&&Wt.isFunction(e.entries)){const s={};return Wt.forEachEntry(e,(a,h)=>{n(IU(a),h,s,0)}),s}return null}function jU(e,n,s){if(Wt.isString(e))try{return(n||JSON.parse)(e),Wt.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(s||JSON.stringify)(e)}const gg={transitional:VD,adapter:["xhr","http","fetch"],transformRequest:[function(n,s){const a=s.getContentType()||"",h=a.indexOf("application/json")>-1,d=Wt.isObject(n);if(d&&Wt.isHTMLForm(n)&&(n=new FormData(n)),Wt.isFormData(n))return h?JSON.stringify(UD(n)):n;if(Wt.isArrayBuffer(n)||Wt.isBuffer(n)||Wt.isStream(n)||Wt.isFile(n)||Wt.isBlob(n)||Wt.isReadableStream(n))return n;if(Wt.isArrayBufferView(n))return n.buffer;if(Wt.isURLSearchParams(n))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let v;if(d){if(a.indexOf("application/x-www-form-urlencoded")>-1)return RU(n,this.formSerializer).toString();if((v=Wt.isFileList(n))||a.indexOf("multipart/form-data")>-1){const x=this.env&&this.env.FormData;return iv(v?{"files[]":n}:n,x&&new x,this.formSerializer)}}return d||h?(s.setContentType("application/json",!1),jU(n)):n}],transformResponse:[function(n){const s=this.transitional||gg.transitional,a=s&&s.forcedJSONParsing,h=this.responseType==="json";if(Wt.isResponse(n)||Wt.isReadableStream(n))return n;if(n&&Wt.isString(n)&&(a&&!this.responseType||h)){const p=!(s&&s.silentJSONParsing)&&h;try{return JSON.parse(n)}catch(v){if(p)throw v.name==="SyntaxError"?Ue.from(v,Ue.ERR_BAD_RESPONSE,this,null,this.response):v}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Co.classes.FormData,Blob:Co.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Wt.forEach(["delete","get","head","post","put","patch"],e=>{gg.headers[e]={}});const BU=Wt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),$U=e=>{const n={};let s,a,h;return e&&e.split(`
`).forEach(function(p){h=p.indexOf(":"),s=p.substring(0,h).trim().toLowerCase(),a=p.substring(h+1).trim(),!(!s||n[s]&&BU[s])&&(s==="set-cookie"?n[s]?n[s].push(a):n[s]=[a]:n[s]=n[s]?n[s]+", "+a:a)}),n},_A=Symbol("internals");function Hd(e){return e&&String(e).trim().toLowerCase()}function $m(e){return e===!1||e==null?e:Wt.isArray(e)?e.map($m):String(e)}function zU(e){const n=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=s.exec(e);)n[a[1]]=a[2];return n}const VU=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function U1(e,n,s,a,h){if(Wt.isFunction(a))return a.call(this,n,s);if(h&&(n=s),!!Wt.isString(n)){if(Wt.isString(a))return n.indexOf(a)!==-1;if(Wt.isRegExp(a))return a.test(n)}}function UU(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,s,a)=>s.toUpperCase()+a)}function KU(e,n){const s=Wt.toCamelCase(" "+n);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+s,{value:function(h,d,p){return this[a].call(this,n,h,d,p)},configurable:!0})})}class ls{constructor(n){n&&this.set(n)}set(n,s,a){const h=this;function d(v,x,S){const M=Hd(x);if(!M)throw new Error("header name must be a non-empty string");const A=Wt.findKey(h,M);(!A||h[A]===void 0||S===!0||S===void 0&&h[A]!==!1)&&(h[A||x]=$m(v))}const p=(v,x)=>Wt.forEach(v,(S,M)=>d(S,M,x));if(Wt.isPlainObject(n)||n instanceof this.constructor)p(n,s);else if(Wt.isString(n)&&(n=n.trim())&&!VU(n))p($U(n),s);else if(Wt.isHeaders(n))for(const[v,x]of n.entries())d(x,v,a);else n!=null&&d(s,n,a);return this}get(n,s){if(n=Hd(n),n){const a=Wt.findKey(this,n);if(a){const h=this[a];if(!s)return h;if(s===!0)return zU(h);if(Wt.isFunction(s))return s.call(this,h,a);if(Wt.isRegExp(s))return s.exec(h);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,s){if(n=Hd(n),n){const a=Wt.findKey(this,n);return!!(a&&this[a]!==void 0&&(!s||U1(this,this[a],a,s)))}return!1}delete(n,s){const a=this;let h=!1;function d(p){if(p=Hd(p),p){const v=Wt.findKey(a,p);v&&(!s||U1(a,a[v],v,s))&&(delete a[v],h=!0)}}return Wt.isArray(n)?n.forEach(d):d(n),h}clear(n){const s=Object.keys(this);let a=s.length,h=!1;for(;a--;){const d=s[a];(!n||U1(this,this[d],d,n,!0))&&(delete this[d],h=!0)}return h}normalize(n){const s=this,a={};return Wt.forEach(this,(h,d)=>{const p=Wt.findKey(a,d);if(p){s[p]=$m(h),delete s[d];return}const v=n?UU(d):String(d).trim();v!==d&&delete s[d],s[v]=$m(h),a[v]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const s=Object.create(null);return Wt.forEach(this,(a,h)=>{a!=null&&a!==!1&&(s[h]=n&&Wt.isArray(a)?a.join(", "):a)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,s])=>n+": "+s).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...s){const a=new this(n);return s.forEach(h=>a.set(h)),a}static accessor(n){const a=(this[_A]=this[_A]={accessors:{}}).accessors,h=this.prototype;function d(p){const v=Hd(p);a[v]||(KU(h,p),a[v]=!0)}return Wt.isArray(n)?n.forEach(d):d(n),this}}ls.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Wt.reduceDescriptors(ls.prototype,({value:e},n)=>{let s=n[0].toUpperCase()+n.slice(1);return{get:()=>e,set(a){this[s]=a}}});Wt.freezeMethods(ls);function K1(e,n){const s=this||gg,a=n||s,h=ls.from(a.headers);let d=a.data;return Wt.forEach(e,function(v){d=v.call(s,d,h.normalize(),n?n.status:void 0)}),h.normalize(),d}function KD(e){return!!(e&&e.__CANCEL__)}function ld(e,n,s){Ue.call(this,e??"canceled",Ue.ERR_CANCELED,n,s),this.name="CanceledError"}Wt.inherits(ld,Ue,{__CANCEL__:!0});function GD(e,n,s){const a=s.config.validateStatus;!s.status||!a||a(s.status)?e(s):n(new Ue("Request failed with status code "+s.status,[Ue.ERR_BAD_REQUEST,Ue.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function GU(e){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}function WU(e,n){e=e||10;const s=new Array(e),a=new Array(e);let h=0,d=0,p;return n=n!==void 0?n:1e3,function(x){const S=Date.now(),M=a[d];p||(p=S),s[h]=x,a[h]=S;let A=d,O=0;for(;A!==h;)O+=s[A++],A=A%e;if(h=(h+1)%e,h===d&&(d=(d+1)%e),S-p<n)return;const B=M&&S-M;return B?Math.round(O*1e3/B):void 0}}function HU(e,n){let s=0,a=1e3/n,h,d;const p=(S,M=Date.now())=>{s=M,h=null,d&&(clearTimeout(d),d=null),e.apply(null,S)};return[(...S)=>{const M=Date.now(),A=M-s;A>=a?p(S,M):(h=S,d||(d=setTimeout(()=>{d=null,p(h)},a-A)))},()=>h&&p(h)]}const hy=(e,n,s=3)=>{let a=0;const h=WU(50,250);return HU(d=>{const p=d.loaded,v=d.lengthComputable?d.total:void 0,x=p-a,S=h(x),M=p<=v;a=p;const A={loaded:p,total:v,progress:v?p/v:void 0,bytes:x,rate:S||void 0,estimated:S&&v&&M?(v-p)/S:void 0,event:d,lengthComputable:v!=null,[n?"download":"upload"]:!0};e(A)},s)},DA=(e,n)=>{const s=e!=null;return[a=>n[0]({lengthComputable:s,total:e,loaded:a}),n[1]]},RA=e=>(...n)=>Wt.asap(()=>e(...n)),XU=Co.hasStandardBrowserEnv?function(){const n=/(msie|trident)/i.test(navigator.userAgent),s=document.createElement("a");let a;function h(d){let p=d;return n&&(s.setAttribute("href",p),p=s.href),s.setAttribute("href",p),{href:s.href,protocol:s.protocol?s.protocol.replace(/:$/,""):"",host:s.host,search:s.search?s.search.replace(/^\?/,""):"",hash:s.hash?s.hash.replace(/^#/,""):"",hostname:s.hostname,port:s.port,pathname:s.pathname.charAt(0)==="/"?s.pathname:"/"+s.pathname}}return a=h(window.location.href),function(p){const v=Wt.isString(p)?h(p):p;return v.protocol===a.protocol&&v.host===a.host}}():function(){return function(){return!0}}(),YU=Co.hasStandardBrowserEnv?{write(e,n,s,a,h,d){const p=[e+"="+encodeURIComponent(n)];Wt.isNumber(s)&&p.push("expires="+new Date(s).toGMTString()),Wt.isString(a)&&p.push("path="+a),Wt.isString(h)&&p.push("domain="+h),d===!0&&p.push("secure"),document.cookie=p.join("; ")},read(e){const n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function qU(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function ZU(e,n){return n?e.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):e}function WD(e,n){return e&&!qU(n)?ZU(e,n):n}const IA=e=>e instanceof ls?{...e}:e;function Zu(e,n){n=n||{};const s={};function a(S,M,A){return Wt.isPlainObject(S)&&Wt.isPlainObject(M)?Wt.merge.call({caseless:A},S,M):Wt.isPlainObject(M)?Wt.merge({},M):Wt.isArray(M)?M.slice():M}function h(S,M,A){if(Wt.isUndefined(M)){if(!Wt.isUndefined(S))return a(void 0,S,A)}else return a(S,M,A)}function d(S,M){if(!Wt.isUndefined(M))return a(void 0,M)}function p(S,M){if(Wt.isUndefined(M)){if(!Wt.isUndefined(S))return a(void 0,S)}else return a(void 0,M)}function v(S,M,A){if(A in n)return a(S,M);if(A in e)return a(void 0,S)}const x={url:d,method:d,data:d,baseURL:p,transformRequest:p,transformResponse:p,paramsSerializer:p,timeout:p,timeoutMessage:p,withCredentials:p,withXSRFToken:p,adapter:p,responseType:p,xsrfCookieName:p,xsrfHeaderName:p,onUploadProgress:p,onDownloadProgress:p,decompress:p,maxContentLength:p,maxBodyLength:p,beforeRedirect:p,transport:p,httpAgent:p,httpsAgent:p,cancelToken:p,socketPath:p,responseEncoding:p,validateStatus:v,headers:(S,M)=>h(IA(S),IA(M),!0)};return Wt.forEach(Object.keys(Object.assign({},e,n)),function(M){const A=x[M]||h,O=A(e[M],n[M],M);Wt.isUndefined(O)&&A!==v||(s[M]=O)}),s}const HD=e=>{const n=Zu({},e);let{data:s,withXSRFToken:a,xsrfHeaderName:h,xsrfCookieName:d,headers:p,auth:v}=n;n.headers=p=ls.from(p),n.url=zD(WD(n.baseURL,n.url),e.params,e.paramsSerializer),v&&p.set("Authorization","Basic "+btoa((v.username||"")+":"+(v.password?unescape(encodeURIComponent(v.password)):"")));let x;if(Wt.isFormData(s)){if(Co.hasStandardBrowserEnv||Co.hasStandardBrowserWebWorkerEnv)p.setContentType(void 0);else if((x=p.getContentType())!==!1){const[S,...M]=x?x.split(";").map(A=>A.trim()).filter(Boolean):[];p.setContentType([S||"multipart/form-data",...M].join("; "))}}if(Co.hasStandardBrowserEnv&&(a&&Wt.isFunction(a)&&(a=a(n)),a||a!==!1&&XU(n.url))){const S=h&&d&&YU.read(d);S&&p.set(h,S)}return n},JU=typeof XMLHttpRequest<"u",QU=JU&&function(e){return new Promise(function(s,a){const h=HD(e);let d=h.data;const p=ls.from(h.headers).normalize();let{responseType:v,onUploadProgress:x,onDownloadProgress:S}=h,M,A,O,B,I;function j(){B&&B(),I&&I(),h.cancelToken&&h.cancelToken.unsubscribe(M),h.signal&&h.signal.removeEventListener("abort",M)}let V=new XMLHttpRequest;V.open(h.method.toUpperCase(),h.url,!0),V.timeout=h.timeout;function C(){if(!V)return;const F=ls.from("getAllResponseHeaders"in V&&V.getAllResponseHeaders()),U={data:!v||v==="text"||v==="json"?V.responseText:V.response,status:V.status,statusText:V.statusText,headers:F,config:e,request:V};GD(function(K){s(K),j()},function(K){a(K),j()},U),V=null}"onloadend"in V?V.onloadend=C:V.onreadystatechange=function(){!V||V.readyState!==4||V.status===0&&!(V.responseURL&&V.responseURL.indexOf("file:")===0)||setTimeout(C)},V.onabort=function(){V&&(a(new Ue("Request aborted",Ue.ECONNABORTED,e,V)),V=null)},V.onerror=function(){a(new Ue("Network Error",Ue.ERR_NETWORK,e,V)),V=null},V.ontimeout=function(){let Y=h.timeout?"timeout of "+h.timeout+"ms exceeded":"timeout exceeded";const U=h.transitional||VD;h.timeoutErrorMessage&&(Y=h.timeoutErrorMessage),a(new Ue(Y,U.clarifyTimeoutError?Ue.ETIMEDOUT:Ue.ECONNABORTED,e,V)),V=null},d===void 0&&p.setContentType(null),"setRequestHeader"in V&&Wt.forEach(p.toJSON(),function(Y,U){V.setRequestHeader(U,Y)}),Wt.isUndefined(h.withCredentials)||(V.withCredentials=!!h.withCredentials),v&&v!=="json"&&(V.responseType=h.responseType),S&&([O,I]=hy(S,!0),V.addEventListener("progress",O)),x&&V.upload&&([A,B]=hy(x),V.upload.addEventListener("progress",A),V.upload.addEventListener("loadend",B)),(h.cancelToken||h.signal)&&(M=F=>{V&&(a(!F||F.type?new ld(null,e,V):F),V.abort(),V=null)},h.cancelToken&&h.cancelToken.subscribe(M),h.signal&&(h.signal.aborted?M():h.signal.addEventListener("abort",M)));const z=GU(h.url);if(z&&Co.protocols.indexOf(z)===-1){a(new Ue("Unsupported protocol "+z+":",Ue.ERR_BAD_REQUEST,e));return}V.send(d||null)})},t8=(e,n)=>{let s=new AbortController,a;const h=function(x){if(!a){a=!0,p();const S=x instanceof Error?x:this.reason;s.abort(S instanceof Ue?S:new ld(S instanceof Error?S.message:S))}};let d=n&&setTimeout(()=>{h(new Ue(`timeout ${n} of ms exceeded`,Ue.ETIMEDOUT))},n);const p=()=>{e&&(d&&clearTimeout(d),d=null,e.forEach(x=>{x&&(x.removeEventListener?x.removeEventListener("abort",h):x.unsubscribe(h))}),e=null)};e.forEach(x=>x&&x.addEventListener&&x.addEventListener("abort",h));const{signal:v}=s;return v.unsubscribe=p,[v,()=>{d&&clearTimeout(d),d=null}]},e8=function*(e,n){let s=e.byteLength;if(!n||s<n){yield e;return}let a=0,h;for(;a<s;)h=a+n,yield e.slice(a,h),a=h},n8=async function*(e,n,s){for await(const a of e)yield*e8(ArrayBuffer.isView(a)?a:await s(String(a)),n)},FA=(e,n,s,a,h)=>{const d=n8(e,n,h);let p=0,v,x=S=>{v||(v=!0,a&&a(S))};return new ReadableStream({async pull(S){try{const{done:M,value:A}=await d.next();if(M){x(),S.close();return}let O=A.byteLength;if(s){let B=p+=O;s(B)}S.enqueue(new Uint8Array(A))}catch(M){throw x(M),M}},cancel(S){return x(S),d.return()}},{highWaterMark:2})},rv=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",XD=rv&&typeof ReadableStream=="function",Lb=rv&&(typeof TextEncoder=="function"?(e=>n=>e.encode(n))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),YD=(e,...n)=>{try{return!!e(...n)}catch{return!1}},i8=XD&&YD(()=>{let e=!1;const n=new Request(Co.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!n}),jA=64*1024,_b=XD&&YD(()=>Wt.isReadableStream(new Response("").body)),cy={stream:_b&&(e=>e.body)};rv&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(n=>{!cy[n]&&(cy[n]=Wt.isFunction(e[n])?s=>s[n]():(s,a)=>{throw new Ue(`Response type '${n}' is not supported`,Ue.ERR_NOT_SUPPORT,a)})})})(new Response);const r8=async e=>{if(e==null)return 0;if(Wt.isBlob(e))return e.size;if(Wt.isSpecCompliantForm(e))return(await new Request(e).arrayBuffer()).byteLength;if(Wt.isArrayBufferView(e)||Wt.isArrayBuffer(e))return e.byteLength;if(Wt.isURLSearchParams(e)&&(e=e+""),Wt.isString(e))return(await Lb(e)).byteLength},s8=async(e,n)=>{const s=Wt.toFiniteNumber(e.getContentLength());return s??r8(n)},o8=rv&&(async e=>{let{url:n,method:s,data:a,signal:h,cancelToken:d,timeout:p,onDownloadProgress:v,onUploadProgress:x,responseType:S,headers:M,withCredentials:A="same-origin",fetchOptions:O}=HD(e);S=S?(S+"").toLowerCase():"text";let[B,I]=h||d||p?t8([h,d],p):[],j,V;const C=()=>{!j&&setTimeout(()=>{B&&B.unsubscribe()}),j=!0};let z;try{if(x&&i8&&s!=="get"&&s!=="head"&&(z=await s8(M,a))!==0){let J=new Request(n,{method:"POST",body:a,duplex:"half"}),K;if(Wt.isFormData(a)&&(K=J.headers.get("content-type"))&&M.setContentType(K),J.body){const[rt,gt]=DA(z,hy(RA(x)));a=FA(J.body,jA,rt,gt,Lb)}}Wt.isString(A)||(A=A?"include":"omit"),V=new Request(n,{...O,signal:B,method:s.toUpperCase(),headers:M.normalize().toJSON(),body:a,duplex:"half",credentials:A});let F=await fetch(V);const Y=_b&&(S==="stream"||S==="response");if(_b&&(v||Y)){const J={};["status","statusText","headers"].forEach(lt=>{J[lt]=F[lt]});const K=Wt.toFiniteNumber(F.headers.get("content-length")),[rt,gt]=v&&DA(K,hy(RA(v),!0))||[];F=new Response(FA(F.body,jA,rt,()=>{gt&&gt(),Y&&C()},Lb),J)}S=S||"text";let U=await cy[Wt.findKey(cy,S)||"text"](F,e);return!Y&&C(),I&&I(),await new Promise((J,K)=>{GD(J,K,{data:U,headers:ls.from(F.headers),status:F.status,statusText:F.statusText,config:e,request:V})})}catch(F){throw C(),F&&F.name==="TypeError"&&/fetch/i.test(F.message)?Object.assign(new Ue("Network Error",Ue.ERR_NETWORK,e,V),{cause:F.cause||F}):Ue.from(F,F&&F.code,e,V)}}),Db={http:PU,xhr:QU,fetch:o8};Wt.forEach(Db,(e,n)=>{if(e){try{Object.defineProperty(e,"name",{value:n})}catch{}Object.defineProperty(e,"adapterName",{value:n})}});const BA=e=>`- ${e}`,a8=e=>Wt.isFunction(e)||e===null||e===!1,qD={getAdapter:e=>{e=Wt.isArray(e)?e:[e];const{length:n}=e;let s,a;const h={};for(let d=0;d<n;d++){s=e[d];let p;if(a=s,!a8(s)&&(a=Db[(p=String(s)).toLowerCase()],a===void 0))throw new Ue(`Unknown adapter '${p}'`);if(a)break;h[p||"#"+d]=a}if(!a){const d=Object.entries(h).map(([v,x])=>`adapter ${v} `+(x===!1?"is not supported by the environment":"is not available in the build"));let p=n?d.length>1?`since :
`+d.map(BA).join(`
`):" "+BA(d[0]):"as no adapter specified";throw new Ue("There is no suitable adapter to dispatch the request "+p,"ERR_NOT_SUPPORT")}return a},adapters:Db};function G1(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ld(null,e)}function $A(e){return G1(e),e.headers=ls.from(e.headers),e.data=K1.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),qD.getAdapter(e.adapter||gg.adapter)(e).then(function(a){return G1(e),a.data=K1.call(e,e.transformResponse,a),a.headers=ls.from(a.headers),a},function(a){return KD(a)||(G1(e),a&&a.response&&(a.response.data=K1.call(e,e.transformResponse,a.response),a.response.headers=ls.from(a.response.headers))),Promise.reject(a)})}const ZD="1.7.4",ZP={};["object","boolean","number","function","string","symbol"].forEach((e,n)=>{ZP[e]=function(a){return typeof a===e||"a"+(n<1?"n ":" ")+e}});const zA={};ZP.transitional=function(n,s,a){function h(d,p){return"[Axios v"+ZD+"] Transitional option '"+d+"'"+p+(a?". "+a:"")}return(d,p,v)=>{if(n===!1)throw new Ue(h(p," has been removed"+(s?" in "+s:"")),Ue.ERR_DEPRECATED);return s&&!zA[p]&&(zA[p]=!0,console.warn(h(p," has been deprecated since v"+s+" and will be removed in the near future"))),n?n(d,p,v):!0}};function l8(e,n,s){if(typeof e!="object")throw new Ue("options must be an object",Ue.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let h=a.length;for(;h-- >0;){const d=a[h],p=n[d];if(p){const v=e[d],x=v===void 0||p(v,d,e);if(x!==!0)throw new Ue("option "+d+" must be "+x,Ue.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new Ue("Unknown option "+d,Ue.ERR_BAD_OPTION)}}const Rb={assertOptions:l8,validators:ZP},xl=Rb.validators;class $u{constructor(n){this.defaults=n,this.interceptors={request:new LA,response:new LA}}async request(n,s){try{return await this._request(n,s)}catch(a){if(a instanceof Error){let h;Error.captureStackTrace?Error.captureStackTrace(h={}):h=new Error;const d=h.stack?h.stack.replace(/^.+\n/,""):"";try{a.stack?d&&!String(a.stack).endsWith(d.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+d):a.stack=d}catch{}}throw a}}_request(n,s){typeof n=="string"?(s=s||{},s.url=n):s=n||{},s=Zu(this.defaults,s);const{transitional:a,paramsSerializer:h,headers:d}=s;a!==void 0&&Rb.assertOptions(a,{silentJSONParsing:xl.transitional(xl.boolean),forcedJSONParsing:xl.transitional(xl.boolean),clarifyTimeoutError:xl.transitional(xl.boolean)},!1),h!=null&&(Wt.isFunction(h)?s.paramsSerializer={serialize:h}:Rb.assertOptions(h,{encode:xl.function,serialize:xl.function},!0)),s.method=(s.method||this.defaults.method||"get").toLowerCase();let p=d&&Wt.merge(d.common,d[s.method]);d&&Wt.forEach(["delete","get","head","post","put","patch","common"],I=>{delete d[I]}),s.headers=ls.concat(p,d);const v=[];let x=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(s)===!1||(x=x&&j.synchronous,v.unshift(j.fulfilled,j.rejected))});const S=[];this.interceptors.response.forEach(function(j){S.push(j.fulfilled,j.rejected)});let M,A=0,O;if(!x){const I=[$A.bind(this),void 0];for(I.unshift.apply(I,v),I.push.apply(I,S),O=I.length,M=Promise.resolve(s);A<O;)M=M.then(I[A++],I[A++]);return M}O=v.length;let B=s;for(A=0;A<O;){const I=v[A++],j=v[A++];try{B=I(B)}catch(V){j.call(this,V);break}}try{M=$A.call(this,B)}catch(I){return Promise.reject(I)}for(A=0,O=S.length;A<O;)M=M.then(S[A++],S[A++]);return M}getUri(n){n=Zu(this.defaults,n);const s=WD(n.baseURL,n.url);return zD(s,n.params,n.paramsSerializer)}}Wt.forEach(["delete","get","head","options"],function(n){$u.prototype[n]=function(s,a){return this.request(Zu(a||{},{method:n,url:s,data:(a||{}).data}))}});Wt.forEach(["post","put","patch"],function(n){function s(a){return function(d,p,v){return this.request(Zu(v||{},{method:n,headers:a?{"Content-Type":"multipart/form-data"}:{},url:d,data:p}))}}$u.prototype[n]=s(),$u.prototype[n+"Form"]=s(!0)});class JP{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(d){s=d});const a=this;this.promise.then(h=>{if(!a._listeners)return;let d=a._listeners.length;for(;d-- >0;)a._listeners[d](h);a._listeners=null}),this.promise.then=h=>{let d;const p=new Promise(v=>{a.subscribe(v),d=v}).then(h);return p.cancel=function(){a.unsubscribe(d)},p},n(function(d,p,v){a.reason||(a.reason=new ld(d,p,v),s(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const s=this._listeners.indexOf(n);s!==-1&&this._listeners.splice(s,1)}static source(){let n;return{token:new JP(function(h){n=h}),cancel:n}}}function u8(e){return function(s){return e.apply(null,s)}}function h8(e){return Wt.isObject(e)&&e.isAxiosError===!0}const Ib={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ib).forEach(([e,n])=>{Ib[n]=e});function JD(e){const n=new $u(e),s=OD($u.prototype.request,n);return Wt.extend(s,$u.prototype,n,{allOwnKeys:!0}),Wt.extend(s,n,null,{allOwnKeys:!0}),s.create=function(h){return JD(Zu(e,h))},s}const Ci=JD(gg);Ci.Axios=$u;Ci.CanceledError=ld;Ci.CancelToken=JP;Ci.isCancel=KD;Ci.VERSION=ZD;Ci.toFormData=iv;Ci.AxiosError=Ue;Ci.Cancel=Ci.CanceledError;Ci.all=function(n){return Promise.all(n)};Ci.spread=u8;Ci.isAxiosError=h8;Ci.mergeConfig=Zu;Ci.AxiosHeaders=ls;Ci.formToJSON=e=>UD(Wt.isHTMLForm(e)?new FormData(e):e);Ci.getAdapter=qD.getAdapter;Ci.HttpStatusCode=Ib;Ci.default=Ci;var c8=function(n){return d8(n)&&!f8(n)};function d8(e){return!!e&&typeof e=="object"}function f8(e){var n=Object.prototype.toString.call(e);return n==="[object RegExp]"||n==="[object Date]"||m8(e)}var p8=typeof Symbol=="function"&&Symbol.for,g8=p8?Symbol.for("react.element"):60103;function m8(e){return e.$$typeof===g8}function y8(e){return Array.isArray(e)?[]:{}}function Qf(e,n){return n.clone!==!1&&n.isMergeableObject(e)?Sc(y8(e),e,n):e}function v8(e,n,s){return e.concat(n).map(function(a){return Qf(a,s)})}function x8(e,n){if(!n.customMerge)return Sc;var s=n.customMerge(e);return typeof s=="function"?s:Sc}function b8(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(n){return Object.propertyIsEnumerable.call(e,n)}):[]}function VA(e){return Object.keys(e).concat(b8(e))}function QD(e,n){try{return n in e}catch{return!1}}function w8(e,n){return QD(e,n)&&!(Object.hasOwnProperty.call(e,n)&&Object.propertyIsEnumerable.call(e,n))}function S8(e,n,s){var a={};return s.isMergeableObject(e)&&VA(e).forEach(function(h){a[h]=Qf(e[h],s)}),VA(n).forEach(function(h){w8(e,h)||(QD(e,h)&&s.isMergeableObject(n[h])?a[h]=x8(h,s)(e[h],n[h],s):a[h]=Qf(n[h],s))}),a}function Sc(e,n,s){s=s||{},s.arrayMerge=s.arrayMerge||v8,s.isMergeableObject=s.isMergeableObject||c8,s.cloneUnlessOtherwiseSpecified=Qf;var a=Array.isArray(n),h=Array.isArray(e),d=a===h;return d?a?s.arrayMerge(e,n,s):S8(e,n,s):Qf(n,s)}Sc.all=function(n,s){if(!Array.isArray(n))throw new Error("first argument should be an array");return n.reduce(function(a,h){return Sc(a,h,s)},{})};var P8=Sc,k8=P8;const T8=wn(k8);var M8=Error,A8=EvalError,C8=RangeError,O8=ReferenceError,tR=SyntaxError,mg=TypeError,N8=URIError,E8=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var n={},s=Symbol("test"),a=Object(s);if(typeof s=="string"||Object.prototype.toString.call(s)!=="[object Symbol]"||Object.prototype.toString.call(a)!=="[object Symbol]")return!1;var h=42;n[s]=h;for(s in n)return!1;if(typeof Object.keys=="function"&&Object.keys(n).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(n).length!==0)return!1;var d=Object.getOwnPropertySymbols(n);if(d.length!==1||d[0]!==s||!Object.prototype.propertyIsEnumerable.call(n,s))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var p=Object.getOwnPropertyDescriptor(n,s);if(p.value!==h||p.enumerable!==!0)return!1}return!0},UA=typeof Symbol<"u"&&Symbol,L8=E8,_8=function(){return typeof UA!="function"||typeof Symbol!="function"||typeof UA("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:L8()},W1={__proto__:null,foo:{}},D8=Object,R8=function(){return{__proto__:W1}.foo===W1.foo&&!(W1 instanceof D8)},I8="Function.prototype.bind called on incompatible ",F8=Object.prototype.toString,j8=Math.max,B8="[object Function]",KA=function(n,s){for(var a=[],h=0;h<n.length;h+=1)a[h]=n[h];for(var d=0;d<s.length;d+=1)a[d+n.length]=s[d];return a},$8=function(n,s){for(var a=[],h=s,d=0;h<n.length;h+=1,d+=1)a[d]=n[h];return a},z8=function(e,n){for(var s="",a=0;a<e.length;a+=1)s+=e[a],a+1<e.length&&(s+=n);return s},V8=function(n){var s=this;if(typeof s!="function"||F8.apply(s)!==B8)throw new TypeError(I8+s);for(var a=$8(arguments,1),h,d=function(){if(this instanceof h){var M=s.apply(this,KA(a,arguments));return Object(M)===M?M:this}return s.apply(n,KA(a,arguments))},p=j8(0,s.length-a.length),v=[],x=0;x<p;x++)v[x]="$"+x;if(h=Function("binder","return function ("+z8(v,",")+"){ return binder.apply(this,arguments); }")(d),s.prototype){var S=function(){};S.prototype=s.prototype,h.prototype=new S,S.prototype=null}return h},U8=V8,QP=Function.prototype.bind||U8,K8=Function.prototype.call,G8=Object.prototype.hasOwnProperty,W8=QP,H8=W8.call(K8,G8),rn,X8=M8,Y8=A8,q8=C8,Z8=O8,Pc=tR,lc=mg,J8=N8,eR=Function,H1=function(e){try{return eR('"use strict"; return ('+e+").constructor;")()}catch{}},zu=Object.getOwnPropertyDescriptor;if(zu)try{zu({},"")}catch{zu=null}var X1=function(){throw new lc},Q8=zu?function(){try{return arguments.callee,X1}catch{try{return zu(arguments,"callee").get}catch{return X1}}}():X1,Ch=_8(),t6=R8(),Ji=Object.getPrototypeOf||(t6?function(e){return e.__proto__}:null),Bh={},e6=typeof Uint8Array>"u"||!Ji?rn:Ji(Uint8Array),Vu={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?rn:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?rn:ArrayBuffer,"%ArrayIteratorPrototype%":Ch&&Ji?Ji([][Symbol.iterator]()):rn,"%AsyncFromSyncIteratorPrototype%":rn,"%AsyncFunction%":Bh,"%AsyncGenerator%":Bh,"%AsyncGeneratorFunction%":Bh,"%AsyncIteratorPrototype%":Bh,"%Atomics%":typeof Atomics>"u"?rn:Atomics,"%BigInt%":typeof BigInt>"u"?rn:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?rn:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?rn:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?rn:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":X8,"%eval%":eval,"%EvalError%":Y8,"%Float32Array%":typeof Float32Array>"u"?rn:Float32Array,"%Float64Array%":typeof Float64Array>"u"?rn:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?rn:FinalizationRegistry,"%Function%":eR,"%GeneratorFunction%":Bh,"%Int8Array%":typeof Int8Array>"u"?rn:Int8Array,"%Int16Array%":typeof Int16Array>"u"?rn:Int16Array,"%Int32Array%":typeof Int32Array>"u"?rn:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Ch&&Ji?Ji(Ji([][Symbol.iterator]())):rn,"%JSON%":typeof JSON=="object"?JSON:rn,"%Map%":typeof Map>"u"?rn:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Ch||!Ji?rn:Ji(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?rn:Promise,"%Proxy%":typeof Proxy>"u"?rn:Proxy,"%RangeError%":q8,"%ReferenceError%":Z8,"%Reflect%":typeof Reflect>"u"?rn:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?rn:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Ch||!Ji?rn:Ji(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?rn:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Ch&&Ji?Ji(""[Symbol.iterator]()):rn,"%Symbol%":Ch?Symbol:rn,"%SyntaxError%":Pc,"%ThrowTypeError%":Q8,"%TypedArray%":e6,"%TypeError%":lc,"%Uint8Array%":typeof Uint8Array>"u"?rn:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?rn:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?rn:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?rn:Uint32Array,"%URIError%":J8,"%WeakMap%":typeof WeakMap>"u"?rn:WeakMap,"%WeakRef%":typeof WeakRef>"u"?rn:WeakRef,"%WeakSet%":typeof WeakSet>"u"?rn:WeakSet};if(Ji)try{null.error}catch(e){var n6=Ji(Ji(e));Vu["%Error.prototype%"]=n6}var i6=function e(n){var s;if(n==="%AsyncFunction%")s=H1("async function () {}");else if(n==="%GeneratorFunction%")s=H1("function* () {}");else if(n==="%AsyncGeneratorFunction%")s=H1("async function* () {}");else if(n==="%AsyncGenerator%"){var a=e("%AsyncGeneratorFunction%");a&&(s=a.prototype)}else if(n==="%AsyncIteratorPrototype%"){var h=e("%AsyncGenerator%");h&&Ji&&(s=Ji(h.prototype))}return Vu[n]=s,s},GA={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},yg=QP,dy=H8,r6=yg.call(Function.call,Array.prototype.concat),s6=yg.call(Function.apply,Array.prototype.splice),WA=yg.call(Function.call,String.prototype.replace),fy=yg.call(Function.call,String.prototype.slice),o6=yg.call(Function.call,RegExp.prototype.exec),a6=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,l6=/\\(\\)?/g,u6=function(n){var s=fy(n,0,1),a=fy(n,-1);if(s==="%"&&a!=="%")throw new Pc("invalid intrinsic syntax, expected closing `%`");if(a==="%"&&s!=="%")throw new Pc("invalid intrinsic syntax, expected opening `%`");var h=[];return WA(n,a6,function(d,p,v,x){h[h.length]=v?WA(x,l6,"$1"):p||d}),h},h6=function(n,s){var a=n,h;if(dy(GA,a)&&(h=GA[a],a="%"+h[0]+"%"),dy(Vu,a)){var d=Vu[a];if(d===Bh&&(d=i6(a)),typeof d>"u"&&!s)throw new lc("intrinsic "+n+" exists, but is not available. Please file an issue!");return{alias:h,name:a,value:d}}throw new Pc("intrinsic "+n+" does not exist!")},ud=function(n,s){if(typeof n!="string"||n.length===0)throw new lc("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof s!="boolean")throw new lc('"allowMissing" argument must be a boolean');if(o6(/^%?[^%]*%?$/,n)===null)throw new Pc("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var a=u6(n),h=a.length>0?a[0]:"",d=h6("%"+h+"%",s),p=d.name,v=d.value,x=!1,S=d.alias;S&&(h=S[0],s6(a,r6([0,1],S)));for(var M=1,A=!0;M<a.length;M+=1){var O=a[M],B=fy(O,0,1),I=fy(O,-1);if((B==='"'||B==="'"||B==="`"||I==='"'||I==="'"||I==="`")&&B!==I)throw new Pc("property names with quotes must have matching quotes");if((O==="constructor"||!A)&&(x=!0),h+="."+O,p="%"+h+"%",dy(Vu,p))v=Vu[p];else if(v!=null){if(!(O in v)){if(!s)throw new lc("base intrinsic for "+n+" exists, but the property is not available.");return}if(zu&&M+1>=a.length){var j=zu(v,O);A=!!j,A&&"get"in j&&!("originalValue"in j.get)?v=j.get:v=v[O]}else A=dy(v,O),v=v[O];A&&!x&&(Vu[p]=v)}}return v},nR={exports:{}},Y1,HA;function tk(){if(HA)return Y1;HA=1;var e=ud,n=e("%Object.defineProperty%",!0)||!1;if(n)try{n({},"a",{value:1})}catch{n=!1}return Y1=n,Y1}var c6=ud,zm=c6("%Object.getOwnPropertyDescriptor%",!0);if(zm)try{zm([],"length")}catch{zm=null}var iR=zm,XA=tk(),d6=tR,Oh=mg,YA=iR,f6=function(n,s,a){if(!n||typeof n!="object"&&typeof n!="function")throw new Oh("`obj` must be an object or a function`");if(typeof s!="string"&&typeof s!="symbol")throw new Oh("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Oh("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Oh("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Oh("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Oh("`loose`, if provided, must be a boolean");var h=arguments.length>3?arguments[3]:null,d=arguments.length>4?arguments[4]:null,p=arguments.length>5?arguments[5]:null,v=arguments.length>6?arguments[6]:!1,x=!!YA&&YA(n,s);if(XA)XA(n,s,{configurable:p===null&&x?x.configurable:!p,enumerable:h===null&&x?x.enumerable:!h,value:a,writable:d===null&&x?x.writable:!d});else if(v||!h&&!d&&!p)n[s]=a;else throw new d6("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Fb=tk(),rR=function(){return!!Fb};rR.hasArrayLengthDefineBug=function(){if(!Fb)return null;try{return Fb([],"length",{value:1}).length!==1}catch{return!0}};var p6=rR,g6=ud,qA=f6,m6=p6(),ZA=iR,JA=mg,y6=g6("%Math.floor%"),v6=function(n,s){if(typeof n!="function")throw new JA("`fn` is not a function");if(typeof s!="number"||s<0||s>4294967295||y6(s)!==s)throw new JA("`length` must be a positive 32-bit integer");var a=arguments.length>2&&!!arguments[2],h=!0,d=!0;if("length"in n&&ZA){var p=ZA(n,"length");p&&!p.configurable&&(h=!1),p&&!p.writable&&(d=!1)}return(h||d||!a)&&(m6?qA(n,"length",s,!0,!0):qA(n,"length",s)),n};(function(e){var n=QP,s=ud,a=v6,h=mg,d=s("%Function.prototype.apply%"),p=s("%Function.prototype.call%"),v=s("%Reflect.apply%",!0)||n.call(p,d),x=tk(),S=s("%Math.max%");e.exports=function(O){if(typeof O!="function")throw new h("a function is required");var B=v(n,p,arguments);return a(B,1+S(0,O.length-(arguments.length-1)),!0)};var M=function(){return v(n,d,arguments)};x?x(e.exports,"apply",{value:M}):e.exports.apply=M})(nR);var x6=nR.exports,sR=ud,oR=x6,b6=oR(sR("String.prototype.indexOf")),w6=function(n,s){var a=sR(n,!!s);return typeof a=="function"&&b6(n,".prototype.")>-1?oR(a):a};const S6={},P6=Object.freeze(Object.defineProperty({__proto__:null,default:S6},Symbol.toStringTag,{value:"Module"})),k6=p5(P6);var ek=typeof Map=="function"&&Map.prototype,q1=Object.getOwnPropertyDescriptor&&ek?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,py=ek&&q1&&typeof q1.get=="function"?q1.get:null,QA=ek&&Map.prototype.forEach,nk=typeof Set=="function"&&Set.prototype,Z1=Object.getOwnPropertyDescriptor&&nk?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,gy=nk&&Z1&&typeof Z1.get=="function"?Z1.get:null,tC=nk&&Set.prototype.forEach,T6=typeof WeakMap=="function"&&WeakMap.prototype,Af=T6?WeakMap.prototype.has:null,M6=typeof WeakSet=="function"&&WeakSet.prototype,Cf=M6?WeakSet.prototype.has:null,A6=typeof WeakRef=="function"&&WeakRef.prototype,eC=A6?WeakRef.prototype.deref:null,C6=Boolean.prototype.valueOf,O6=Object.prototype.toString,N6=Function.prototype.toString,E6=String.prototype.match,ik=String.prototype.slice,Ll=String.prototype.replace,L6=String.prototype.toUpperCase,nC=String.prototype.toLowerCase,aR=RegExp.prototype.test,iC=Array.prototype.concat,qo=Array.prototype.join,_6=Array.prototype.slice,rC=Math.floor,jb=typeof BigInt=="function"?BigInt.prototype.valueOf:null,J1=Object.getOwnPropertySymbols,Bb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,kc=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Lr=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===kc||!0)?Symbol.toStringTag:null,lR=Object.prototype.propertyIsEnumerable,sC=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function oC(e,n){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||aR.call(/e/,n))return n;var s=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var a=e<0?-rC(-e):rC(e);if(a!==e){var h=String(a),d=ik.call(n,h.length+1);return Ll.call(h,s,"$&_")+"."+Ll.call(Ll.call(d,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Ll.call(n,s,"$&_")}var $b=k6,aC=$b.custom,lC=hR(aC)?aC:null,D6=function e(n,s,a,h){var d=s||{};if(Tl(d,"quoteStyle")&&d.quoteStyle!=="single"&&d.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Tl(d,"maxStringLength")&&(typeof d.maxStringLength=="number"?d.maxStringLength<0&&d.maxStringLength!==1/0:d.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var p=Tl(d,"customInspect")?d.customInspect:!0;if(typeof p!="boolean"&&p!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Tl(d,"indent")&&d.indent!==null&&d.indent!=="	"&&!(parseInt(d.indent,10)===d.indent&&d.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Tl(d,"numericSeparator")&&typeof d.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var v=d.numericSeparator;if(typeof n>"u")return"undefined";if(n===null)return"null";if(typeof n=="boolean")return n?"true":"false";if(typeof n=="string")return dR(n,d);if(typeof n=="number"){if(n===0)return 1/0/n>0?"0":"-0";var x=String(n);return v?oC(n,x):x}if(typeof n=="bigint"){var S=String(n)+"n";return v?oC(n,S):S}var M=typeof d.depth>"u"?5:d.depth;if(typeof a>"u"&&(a=0),a>=M&&M>0&&typeof n=="object")return zb(n)?"[Array]":"[Object]";var A=J6(d,a);if(typeof h>"u")h=[];else if(cR(h,n)>=0)return"[Circular]";function O(vt,Mt,Ct){if(Mt&&(h=_6.call(h),h.push(Mt)),Ct){var Ot={depth:d.depth};return Tl(d,"quoteStyle")&&(Ot.quoteStyle=d.quoteStyle),e(vt,Ot,a+1,h)}return e(vt,d,a+1,h)}if(typeof n=="function"&&!uC(n)){var B=U6(n),I=Hg(n,O);return"[Function"+(B?": "+B:" (anonymous)")+"]"+(I.length>0?" { "+qo.call(I,", ")+" }":"")}if(hR(n)){var j=kc?Ll.call(String(n),/^(Symbol\(.*\))_[^)]*$/,"$1"):Bb.call(n);return typeof n=="object"&&!kc?Xd(j):j}if(Y6(n)){for(var V="<"+nC.call(String(n.nodeName)),C=n.attributes||[],z=0;z<C.length;z++)V+=" "+C[z].name+"="+uR(R6(C[z].value),"double",d);return V+=">",n.childNodes&&n.childNodes.length&&(V+="..."),V+="</"+nC.call(String(n.nodeName))+">",V}if(zb(n)){if(n.length===0)return"[]";var F=Hg(n,O);return A&&!Z6(F)?"["+Vb(F,A)+"]":"[ "+qo.call(F,", ")+" ]"}if(F6(n)){var Y=Hg(n,O);return!("cause"in Error.prototype)&&"cause"in n&&!lR.call(n,"cause")?"{ ["+String(n)+"] "+qo.call(iC.call("[cause]: "+O(n.cause),Y),", ")+" }":Y.length===0?"["+String(n)+"]":"{ ["+String(n)+"] "+qo.call(Y,", ")+" }"}if(typeof n=="object"&&p){if(lC&&typeof n[lC]=="function"&&$b)return $b(n,{depth:M-a});if(p!=="symbol"&&typeof n.inspect=="function")return n.inspect()}if(K6(n)){var U=[];return QA&&QA.call(n,function(vt,Mt){U.push(O(Mt,n,!0)+" => "+O(vt,n))}),hC("Map",py.call(n),U,A)}if(H6(n)){var J=[];return tC&&tC.call(n,function(vt){J.push(O(vt,n))}),hC("Set",gy.call(n),J,A)}if(G6(n))return Q1("WeakMap");if(X6(n))return Q1("WeakSet");if(W6(n))return Q1("WeakRef");if(B6(n))return Xd(O(Number(n)));if(z6(n))return Xd(O(jb.call(n)));if($6(n))return Xd(C6.call(n));if(j6(n))return Xd(O(String(n)));if(typeof window<"u"&&n===window)return"{ [object Window] }";if(typeof globalThis<"u"&&n===globalThis||typeof Zs<"u"&&n===Zs)return"{ [object globalThis] }";if(!I6(n)&&!uC(n)){var K=Hg(n,O),rt=sC?sC(n)===Object.prototype:n instanceof Object||n.constructor===Object,gt=n instanceof Object?"":"null prototype",lt=!rt&&Lr&&Object(n)===n&&Lr in n?ik.call(nu(n),8,-1):gt?"Object":"",dt=rt||typeof n.constructor!="function"?"":n.constructor.name?n.constructor.name+" ":"",mt=dt+(lt||gt?"["+qo.call(iC.call([],lt||[],gt||[]),": ")+"] ":"");return K.length===0?mt+"{}":A?mt+"{"+Vb(K,A)+"}":mt+"{ "+qo.call(K,", ")+" }"}return String(n)};function uR(e,n,s){var a=(s.quoteStyle||n)==="double"?'"':"'";return a+e+a}function R6(e){return Ll.call(String(e),/"/g,"&quot;")}function zb(e){return nu(e)==="[object Array]"&&(!Lr||!(typeof e=="object"&&Lr in e))}function I6(e){return nu(e)==="[object Date]"&&(!Lr||!(typeof e=="object"&&Lr in e))}function uC(e){return nu(e)==="[object RegExp]"&&(!Lr||!(typeof e=="object"&&Lr in e))}function F6(e){return nu(e)==="[object Error]"&&(!Lr||!(typeof e=="object"&&Lr in e))}function j6(e){return nu(e)==="[object String]"&&(!Lr||!(typeof e=="object"&&Lr in e))}function B6(e){return nu(e)==="[object Number]"&&(!Lr||!(typeof e=="object"&&Lr in e))}function $6(e){return nu(e)==="[object Boolean]"&&(!Lr||!(typeof e=="object"&&Lr in e))}function hR(e){if(kc)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!Bb)return!1;try{return Bb.call(e),!0}catch{}return!1}function z6(e){if(!e||typeof e!="object"||!jb)return!1;try{return jb.call(e),!0}catch{}return!1}var V6=Object.prototype.hasOwnProperty||function(e){return e in this};function Tl(e,n){return V6.call(e,n)}function nu(e){return O6.call(e)}function U6(e){if(e.name)return e.name;var n=E6.call(N6.call(e),/^function\s*([\w$]+)/);return n?n[1]:null}function cR(e,n){if(e.indexOf)return e.indexOf(n);for(var s=0,a=e.length;s<a;s++)if(e[s]===n)return s;return-1}function K6(e){if(!py||!e||typeof e!="object")return!1;try{py.call(e);try{gy.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function G6(e){if(!Af||!e||typeof e!="object")return!1;try{Af.call(e,Af);try{Cf.call(e,Cf)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function W6(e){if(!eC||!e||typeof e!="object")return!1;try{return eC.call(e),!0}catch{}return!1}function H6(e){if(!gy||!e||typeof e!="object")return!1;try{gy.call(e);try{py.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function X6(e){if(!Cf||!e||typeof e!="object")return!1;try{Cf.call(e,Cf);try{Af.call(e,Af)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function Y6(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function dR(e,n){if(e.length>n.maxStringLength){var s=e.length-n.maxStringLength,a="... "+s+" more character"+(s>1?"s":"");return dR(ik.call(e,0,n.maxStringLength),n)+a}var h=Ll.call(Ll.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,q6);return uR(h,"single",n)}function q6(e){var n=e.charCodeAt(0),s={8:"b",9:"t",10:"n",12:"f",13:"r"}[n];return s?"\\"+s:"\\x"+(n<16?"0":"")+L6.call(n.toString(16))}function Xd(e){return"Object("+e+")"}function Q1(e){return e+" { ? }"}function hC(e,n,s,a){var h=a?Vb(s,a):qo.call(s,", ");return e+" ("+n+") {"+h+"}"}function Z6(e){for(var n=0;n<e.length;n++)if(cR(e[n],`
`)>=0)return!1;return!0}function J6(e,n){var s;if(e.indent==="	")s="	";else if(typeof e.indent=="number"&&e.indent>0)s=qo.call(Array(e.indent+1)," ");else return null;return{base:s,prev:qo.call(Array(n+1),s)}}function Vb(e,n){if(e.length===0)return"";var s=`
`+n.prev+n.base;return s+qo.call(e,","+s)+`
`+n.prev}function Hg(e,n){var s=zb(e),a=[];if(s){a.length=e.length;for(var h=0;h<e.length;h++)a[h]=Tl(e,h)?n(e[h],e):""}var d=typeof J1=="function"?J1(e):[],p;if(kc){p={};for(var v=0;v<d.length;v++)p["$"+d[v]]=d[v]}for(var x in e)Tl(e,x)&&(s&&String(Number(x))===x&&x<e.length||kc&&p["$"+x]instanceof Symbol||(aR.call(/[^\w$]/,x)?a.push(n(x,e)+": "+n(e[x],e)):a.push(x+": "+n(e[x],e))));if(typeof J1=="function")for(var S=0;S<d.length;S++)lR.call(e,d[S])&&a.push("["+n(d[S])+"]: "+n(e[d[S]],e));return a}var fR=ud,hd=w6,Q6=D6,tK=mg,Xg=fR("%WeakMap%",!0),Yg=fR("%Map%",!0),eK=hd("WeakMap.prototype.get",!0),nK=hd("WeakMap.prototype.set",!0),iK=hd("WeakMap.prototype.has",!0),rK=hd("Map.prototype.get",!0),sK=hd("Map.prototype.set",!0),oK=hd("Map.prototype.has",!0),rk=function(e,n){for(var s=e,a;(a=s.next)!==null;s=a)if(a.key===n)return s.next=a.next,a.next=e.next,e.next=a,a},aK=function(e,n){var s=rk(e,n);return s&&s.value},lK=function(e,n,s){var a=rk(e,n);a?a.value=s:e.next={key:n,next:e.next,value:s}},uK=function(e,n){return!!rk(e,n)},hK=function(){var n,s,a,h={assert:function(d){if(!h.has(d))throw new tK("Side channel does not contain "+Q6(d))},get:function(d){if(Xg&&d&&(typeof d=="object"||typeof d=="function")){if(n)return eK(n,d)}else if(Yg){if(s)return rK(s,d)}else if(a)return aK(a,d)},has:function(d){if(Xg&&d&&(typeof d=="object"||typeof d=="function")){if(n)return iK(n,d)}else if(Yg){if(s)return oK(s,d)}else if(a)return uK(a,d);return!1},set:function(d,p){Xg&&d&&(typeof d=="object"||typeof d=="function")?(n||(n=new Xg),nK(n,d,p)):Yg?(s||(s=new Yg),sK(s,d,p)):(a||(a={key:{},next:null}),lK(a,d,p))}};return h},cK=String.prototype.replace,dK=/%20/g,tx={RFC1738:"RFC1738",RFC3986:"RFC3986"},sk={default:tx.RFC3986,formatters:{RFC1738:function(e){return cK.call(e,dK,"+")},RFC3986:function(e){return String(e)}},RFC1738:tx.RFC1738,RFC3986:tx.RFC3986},fK=sk,ex=Object.prototype.hasOwnProperty,Nu=Array.isArray,Go=function(){for(var e=[],n=0;n<256;++n)e.push("%"+((n<16?"0":"")+n.toString(16)).toUpperCase());return e}(),pK=function(n){for(;n.length>1;){var s=n.pop(),a=s.obj[s.prop];if(Nu(a)){for(var h=[],d=0;d<a.length;++d)typeof a[d]<"u"&&h.push(a[d]);s.obj[s.prop]=h}}},pR=function(n,s){for(var a=s&&s.plainObjects?Object.create(null):{},h=0;h<n.length;++h)typeof n[h]<"u"&&(a[h]=n[h]);return a},gK=function e(n,s,a){if(!s)return n;if(typeof s!="object"){if(Nu(n))n.push(s);else if(n&&typeof n=="object")(a&&(a.plainObjects||a.allowPrototypes)||!ex.call(Object.prototype,s))&&(n[s]=!0);else return[n,s];return n}if(!n||typeof n!="object")return[n].concat(s);var h=n;return Nu(n)&&!Nu(s)&&(h=pR(n,a)),Nu(n)&&Nu(s)?(s.forEach(function(d,p){if(ex.call(n,p)){var v=n[p];v&&typeof v=="object"&&d&&typeof d=="object"?n[p]=e(v,d,a):n.push(d)}else n[p]=d}),n):Object.keys(s).reduce(function(d,p){var v=s[p];return ex.call(d,p)?d[p]=e(d[p],v,a):d[p]=v,d},h)},mK=function(n,s){return Object.keys(s).reduce(function(a,h){return a[h]=s[h],a},n)},yK=function(e,n,s){var a=e.replace(/\+/g," ");if(s==="iso-8859-1")return a.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(a)}catch{return a}},nx=1024,vK=function(n,s,a,h,d){if(n.length===0)return n;var p=n;if(typeof n=="symbol"?p=Symbol.prototype.toString.call(n):typeof n!="string"&&(p=String(n)),a==="iso-8859-1")return escape(p).replace(/%u[0-9a-f]{4}/gi,function(B){return"%26%23"+parseInt(B.slice(2),16)+"%3B"});for(var v="",x=0;x<p.length;x+=nx){for(var S=p.length>=nx?p.slice(x,x+nx):p,M=[],A=0;A<S.length;++A){var O=S.charCodeAt(A);if(O===45||O===46||O===95||O===126||O>=48&&O<=57||O>=65&&O<=90||O>=97&&O<=122||d===fK.RFC1738&&(O===40||O===41)){M[M.length]=S.charAt(A);continue}if(O<128){M[M.length]=Go[O];continue}if(O<2048){M[M.length]=Go[192|O>>6]+Go[128|O&63];continue}if(O<55296||O>=57344){M[M.length]=Go[224|O>>12]+Go[128|O>>6&63]+Go[128|O&63];continue}A+=1,O=65536+((O&1023)<<10|S.charCodeAt(A)&1023),M[M.length]=Go[240|O>>18]+Go[128|O>>12&63]+Go[128|O>>6&63]+Go[128|O&63]}v+=M.join("")}return v},xK=function(n){for(var s=[{obj:{o:n},prop:"o"}],a=[],h=0;h<s.length;++h)for(var d=s[h],p=d.obj[d.prop],v=Object.keys(p),x=0;x<v.length;++x){var S=v[x],M=p[S];typeof M=="object"&&M!==null&&a.indexOf(M)===-1&&(s.push({obj:p,prop:S}),a.push(M))}return pK(s),n},bK=function(n){return Object.prototype.toString.call(n)==="[object RegExp]"},wK=function(n){return!n||typeof n!="object"?!1:!!(n.constructor&&n.constructor.isBuffer&&n.constructor.isBuffer(n))},SK=function(n,s){return[].concat(n,s)},PK=function(n,s){if(Nu(n)){for(var a=[],h=0;h<n.length;h+=1)a.push(s(n[h]));return a}return s(n)},gR={arrayToObject:pR,assign:mK,combine:SK,compact:xK,decode:yK,encode:vK,isBuffer:wK,isRegExp:bK,maybeMap:PK,merge:gK},mR=hK,Vm=gR,Of=sk,kK=Object.prototype.hasOwnProperty,yR={brackets:function(n){return n+"[]"},comma:"comma",indices:function(n,s){return n+"["+s+"]"},repeat:function(n){return n}},Xo=Array.isArray,TK=Array.prototype.push,vR=function(e,n){TK.apply(e,Xo(n)?n:[n])},MK=Date.prototype.toISOString,cC=Of.default,Bi={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Vm.encode,encodeValuesOnly:!1,format:cC,formatter:Of.formatters[cC],indices:!1,serializeDate:function(n){return MK.call(n)},skipNulls:!1,strictNullHandling:!1},AK=function(n){return typeof n=="string"||typeof n=="number"||typeof n=="boolean"||typeof n=="symbol"||typeof n=="bigint"},ix={},CK=function e(n,s,a,h,d,p,v,x,S,M,A,O,B,I,j,V,C,z){for(var F=n,Y=z,U=0,J=!1;(Y=Y.get(ix))!==void 0&&!J;){var K=Y.get(n);if(U+=1,typeof K<"u"){if(K===U)throw new RangeError("Cyclic object value");J=!0}typeof Y.get(ix)>"u"&&(U=0)}if(typeof M=="function"?F=M(s,F):F instanceof Date?F=B(F):a==="comma"&&Xo(F)&&(F=Vm.maybeMap(F,function(kt){return kt instanceof Date?B(kt):kt})),F===null){if(p)return S&&!V?S(s,Bi.encoder,C,"key",I):s;F=""}if(AK(F)||Vm.isBuffer(F)){if(S){var rt=V?s:S(s,Bi.encoder,C,"key",I);return[j(rt)+"="+j(S(F,Bi.encoder,C,"value",I))]}return[j(s)+"="+j(String(F))]}var gt=[];if(typeof F>"u")return gt;var lt;if(a==="comma"&&Xo(F))V&&S&&(F=Vm.maybeMap(F,S)),lt=[{value:F.length>0?F.join(",")||null:void 0}];else if(Xo(M))lt=M;else{var dt=Object.keys(F);lt=A?dt.sort(A):dt}var mt=x?s.replace(/\./g,"%2E"):s,vt=h&&Xo(F)&&F.length===1?mt+"[]":mt;if(d&&Xo(F)&&F.length===0)return vt+"[]";for(var Mt=0;Mt<lt.length;++Mt){var Ct=lt[Mt],Ot=typeof Ct=="object"&&typeof Ct.value<"u"?Ct.value:F[Ct];if(!(v&&Ot===null)){var Rt=O&&x?Ct.replace(/\./g,"%2E"):Ct,yt=Xo(F)?typeof a=="function"?a(vt,Rt):vt:vt+(O?"."+Rt:"["+Rt+"]");z.set(n,U);var Nt=mR();Nt.set(ix,z),vR(gt,e(Ot,yt,a,h,d,p,v,x,a==="comma"&&V&&Xo(F)?null:S,M,A,O,B,I,j,V,C,Nt))}}return gt},OK=function(n){if(!n)return Bi;if(typeof n.allowEmptyArrays<"u"&&typeof n.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof n.encodeDotInKeys<"u"&&typeof n.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(n.encoder!==null&&typeof n.encoder<"u"&&typeof n.encoder!="function")throw new TypeError("Encoder has to be a function.");var s=n.charset||Bi.charset;if(typeof n.charset<"u"&&n.charset!=="utf-8"&&n.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var a=Of.default;if(typeof n.format<"u"){if(!kK.call(Of.formatters,n.format))throw new TypeError("Unknown format option provided.");a=n.format}var h=Of.formatters[a],d=Bi.filter;(typeof n.filter=="function"||Xo(n.filter))&&(d=n.filter);var p;if(n.arrayFormat in yR?p=n.arrayFormat:"indices"in n?p=n.indices?"indices":"repeat":p=Bi.arrayFormat,"commaRoundTrip"in n&&typeof n.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var v=typeof n.allowDots>"u"?n.encodeDotInKeys===!0?!0:Bi.allowDots:!!n.allowDots;return{addQueryPrefix:typeof n.addQueryPrefix=="boolean"?n.addQueryPrefix:Bi.addQueryPrefix,allowDots:v,allowEmptyArrays:typeof n.allowEmptyArrays=="boolean"?!!n.allowEmptyArrays:Bi.allowEmptyArrays,arrayFormat:p,charset:s,charsetSentinel:typeof n.charsetSentinel=="boolean"?n.charsetSentinel:Bi.charsetSentinel,commaRoundTrip:n.commaRoundTrip,delimiter:typeof n.delimiter>"u"?Bi.delimiter:n.delimiter,encode:typeof n.encode=="boolean"?n.encode:Bi.encode,encodeDotInKeys:typeof n.encodeDotInKeys=="boolean"?n.encodeDotInKeys:Bi.encodeDotInKeys,encoder:typeof n.encoder=="function"?n.encoder:Bi.encoder,encodeValuesOnly:typeof n.encodeValuesOnly=="boolean"?n.encodeValuesOnly:Bi.encodeValuesOnly,filter:d,format:a,formatter:h,serializeDate:typeof n.serializeDate=="function"?n.serializeDate:Bi.serializeDate,skipNulls:typeof n.skipNulls=="boolean"?n.skipNulls:Bi.skipNulls,sort:typeof n.sort=="function"?n.sort:null,strictNullHandling:typeof n.strictNullHandling=="boolean"?n.strictNullHandling:Bi.strictNullHandling}},NK=function(e,n){var s=e,a=OK(n),h,d;typeof a.filter=="function"?(d=a.filter,s=d("",s)):Xo(a.filter)&&(d=a.filter,h=d);var p=[];if(typeof s!="object"||s===null)return"";var v=yR[a.arrayFormat],x=v==="comma"&&a.commaRoundTrip;h||(h=Object.keys(s)),a.sort&&h.sort(a.sort);for(var S=mR(),M=0;M<h.length;++M){var A=h[M];a.skipNulls&&s[A]===null||vR(p,CK(s[A],A,v,x,a.allowEmptyArrays,a.strictNullHandling,a.skipNulls,a.encodeDotInKeys,a.encode?a.encoder:null,a.filter,a.sort,a.allowDots,a.serializeDate,a.format,a.formatter,a.encodeValuesOnly,a.charset,S))}var O=p.join(a.delimiter),B=a.addQueryPrefix===!0?"?":"";return a.charsetSentinel&&(a.charset==="iso-8859-1"?B+="utf8=%26%2310003%3B&":B+="utf8=%E2%9C%93&"),O.length>0?B+O:""},Tc=gR,Ub=Object.prototype.hasOwnProperty,EK=Array.isArray,xi={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:Tc.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},LK=function(e){return e.replace(/&#(\d+);/g,function(n,s){return String.fromCharCode(parseInt(s,10))})},xR=function(e,n){return e&&typeof e=="string"&&n.comma&&e.indexOf(",")>-1?e.split(","):e},_K="utf8=%26%2310003%3B",DK="utf8=%E2%9C%93",RK=function(n,s){var a={__proto__:null},h=s.ignoreQueryPrefix?n.replace(/^\?/,""):n;h=h.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var d=s.parameterLimit===1/0?void 0:s.parameterLimit,p=h.split(s.delimiter,d),v=-1,x,S=s.charset;if(s.charsetSentinel)for(x=0;x<p.length;++x)p[x].indexOf("utf8=")===0&&(p[x]===DK?S="utf-8":p[x]===_K&&(S="iso-8859-1"),v=x,x=p.length);for(x=0;x<p.length;++x)if(x!==v){var M=p[x],A=M.indexOf("]="),O=A===-1?M.indexOf("="):A+1,B,I;O===-1?(B=s.decoder(M,xi.decoder,S,"key"),I=s.strictNullHandling?null:""):(B=s.decoder(M.slice(0,O),xi.decoder,S,"key"),I=Tc.maybeMap(xR(M.slice(O+1),s),function(V){return s.decoder(V,xi.decoder,S,"value")})),I&&s.interpretNumericEntities&&S==="iso-8859-1"&&(I=LK(I)),M.indexOf("[]=")>-1&&(I=EK(I)?[I]:I);var j=Ub.call(a,B);j&&s.duplicates==="combine"?a[B]=Tc.combine(a[B],I):(!j||s.duplicates==="last")&&(a[B]=I)}return a},IK=function(e,n,s,a){for(var h=a?n:xR(n,s),d=e.length-1;d>=0;--d){var p,v=e[d];if(v==="[]"&&s.parseArrays)p=s.allowEmptyArrays&&(h===""||s.strictNullHandling&&h===null)?[]:[].concat(h);else{p=s.plainObjects?Object.create(null):{};var x=v.charAt(0)==="["&&v.charAt(v.length-1)==="]"?v.slice(1,-1):v,S=s.decodeDotInKeys?x.replace(/%2E/g,"."):x,M=parseInt(S,10);!s.parseArrays&&S===""?p={0:h}:!isNaN(M)&&v!==S&&String(M)===S&&M>=0&&s.parseArrays&&M<=s.arrayLimit?(p=[],p[M]=h):S!=="__proto__"&&(p[S]=h)}h=p}return h},FK=function(n,s,a,h){if(n){var d=a.allowDots?n.replace(/\.([^.[]+)/g,"[$1]"):n,p=/(\[[^[\]]*])/,v=/(\[[^[\]]*])/g,x=a.depth>0&&p.exec(d),S=x?d.slice(0,x.index):d,M=[];if(S){if(!a.plainObjects&&Ub.call(Object.prototype,S)&&!a.allowPrototypes)return;M.push(S)}for(var A=0;a.depth>0&&(x=v.exec(d))!==null&&A<a.depth;){if(A+=1,!a.plainObjects&&Ub.call(Object.prototype,x[1].slice(1,-1))&&!a.allowPrototypes)return;M.push(x[1])}if(x){if(a.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+a.depth+" and strictDepth is true");M.push("["+d.slice(x.index)+"]")}return IK(M,s,a,h)}},jK=function(n){if(!n)return xi;if(typeof n.allowEmptyArrays<"u"&&typeof n.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof n.decodeDotInKeys<"u"&&typeof n.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(n.decoder!==null&&typeof n.decoder<"u"&&typeof n.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof n.charset<"u"&&n.charset!=="utf-8"&&n.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var s=typeof n.charset>"u"?xi.charset:n.charset,a=typeof n.duplicates>"u"?xi.duplicates:n.duplicates;if(a!=="combine"&&a!=="first"&&a!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var h=typeof n.allowDots>"u"?n.decodeDotInKeys===!0?!0:xi.allowDots:!!n.allowDots;return{allowDots:h,allowEmptyArrays:typeof n.allowEmptyArrays=="boolean"?!!n.allowEmptyArrays:xi.allowEmptyArrays,allowPrototypes:typeof n.allowPrototypes=="boolean"?n.allowPrototypes:xi.allowPrototypes,allowSparse:typeof n.allowSparse=="boolean"?n.allowSparse:xi.allowSparse,arrayLimit:typeof n.arrayLimit=="number"?n.arrayLimit:xi.arrayLimit,charset:s,charsetSentinel:typeof n.charsetSentinel=="boolean"?n.charsetSentinel:xi.charsetSentinel,comma:typeof n.comma=="boolean"?n.comma:xi.comma,decodeDotInKeys:typeof n.decodeDotInKeys=="boolean"?n.decodeDotInKeys:xi.decodeDotInKeys,decoder:typeof n.decoder=="function"?n.decoder:xi.decoder,delimiter:typeof n.delimiter=="string"||Tc.isRegExp(n.delimiter)?n.delimiter:xi.delimiter,depth:typeof n.depth=="number"||n.depth===!1?+n.depth:xi.depth,duplicates:a,ignoreQueryPrefix:n.ignoreQueryPrefix===!0,interpretNumericEntities:typeof n.interpretNumericEntities=="boolean"?n.interpretNumericEntities:xi.interpretNumericEntities,parameterLimit:typeof n.parameterLimit=="number"?n.parameterLimit:xi.parameterLimit,parseArrays:n.parseArrays!==!1,plainObjects:typeof n.plainObjects=="boolean"?n.plainObjects:xi.plainObjects,strictDepth:typeof n.strictDepth=="boolean"?!!n.strictDepth:xi.strictDepth,strictNullHandling:typeof n.strictNullHandling=="boolean"?n.strictNullHandling:xi.strictNullHandling}},BK=function(e,n){var s=jK(n);if(e===""||e===null||typeof e>"u")return s.plainObjects?Object.create(null):{};for(var a=typeof e=="string"?RK(e,s):e,h=s.plainObjects?Object.create(null):{},d=Object.keys(a),p=0;p<d.length;++p){var v=d[p],x=FK(v,a[v],s,typeof e=="string");h=Tc.merge(h,x,s)}return s.allowSparse===!0?h:Tc.compact(h)},$K=NK,zK=BK,VK=sk,dC={formats:VK,parse:zK,stringify:$K},bR={exports:{}};/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */(function(e,n){(function(s,a){e.exports=a()})(Zs,function(){var s={};s.version="0.2.0";var a=s.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};s.configure=function(I){var j,V;for(j in I)V=I[j],V!==void 0&&I.hasOwnProperty(j)&&(a[j]=V);return this},s.status=null,s.set=function(I){var j=s.isStarted();I=h(I,a.minimum,1),s.status=I===1?null:I;var V=s.render(!j),C=V.querySelector(a.barSelector),z=a.speed,F=a.easing;return V.offsetWidth,v(function(Y){a.positionUsing===""&&(a.positionUsing=s.getPositioningCSS()),x(C,p(I,z,F)),I===1?(x(V,{transition:"none",opacity:1}),V.offsetWidth,setTimeout(function(){x(V,{transition:"all "+z+"ms linear",opacity:0}),setTimeout(function(){s.remove(),Y()},z)},z)):setTimeout(Y,z)}),this},s.isStarted=function(){return typeof s.status=="number"},s.start=function(){s.status||s.set(0);var I=function(){setTimeout(function(){s.status&&(s.trickle(),I())},a.trickleSpeed)};return a.trickle&&I(),this},s.done=function(I){return!I&&!s.status?this:s.inc(.3+.5*Math.random()).set(1)},s.inc=function(I){var j=s.status;return j?(typeof I!="number"&&(I=(1-j)*h(Math.random()*j,.1,.95)),j=h(j+I,0,.994),s.set(j)):s.start()},s.trickle=function(){return s.inc(Math.random()*a.trickleRate)},function(){var I=0,j=0;s.promise=function(V){return!V||V.state()==="resolved"?this:(j===0&&s.start(),I++,j++,V.always(function(){j--,j===0?(I=0,s.done()):s.set((I-j)/I)}),this)}}(),s.render=function(I){if(s.isRendered())return document.getElementById("nprogress");M(document.documentElement,"nprogress-busy");var j=document.createElement("div");j.id="nprogress",j.innerHTML=a.template;var V=j.querySelector(a.barSelector),C=I?"-100":d(s.status||0),z=document.querySelector(a.parent),F;return x(V,{transition:"all 0 linear",transform:"translate3d("+C+"%,0,0)"}),a.showSpinner||(F=j.querySelector(a.spinnerSelector),F&&B(F)),z!=document.body&&M(z,"nprogress-custom-parent"),z.appendChild(j),j},s.remove=function(){A(document.documentElement,"nprogress-busy"),A(document.querySelector(a.parent),"nprogress-custom-parent");var I=document.getElementById("nprogress");I&&B(I)},s.isRendered=function(){return!!document.getElementById("nprogress")},s.getPositioningCSS=function(){var I=document.body.style,j="WebkitTransform"in I?"Webkit":"MozTransform"in I?"Moz":"msTransform"in I?"ms":"OTransform"in I?"O":"";return j+"Perspective"in I?"translate3d":j+"Transform"in I?"translate":"margin"};function h(I,j,V){return I<j?j:I>V?V:I}function d(I){return(-1+I)*100}function p(I,j,V){var C;return a.positionUsing==="translate3d"?C={transform:"translate3d("+d(I)+"%,0,0)"}:a.positionUsing==="translate"?C={transform:"translate("+d(I)+"%,0)"}:C={"margin-left":d(I)+"%"},C.transition="all "+j+"ms "+V,C}var v=function(){var I=[];function j(){var V=I.shift();V&&V(j)}return function(V){I.push(V),I.length==1&&j()}}(),x=function(){var I=["Webkit","O","Moz","ms"],j={};function V(Y){return Y.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(U,J){return J.toUpperCase()})}function C(Y){var U=document.body.style;if(Y in U)return Y;for(var J=I.length,K=Y.charAt(0).toUpperCase()+Y.slice(1),rt;J--;)if(rt=I[J]+K,rt in U)return rt;return Y}function z(Y){return Y=V(Y),j[Y]||(j[Y]=C(Y))}function F(Y,U,J){U=z(U),Y.style[U]=J}return function(Y,U){var J=arguments,K,rt;if(J.length==2)for(K in U)rt=U[K],rt!==void 0&&U.hasOwnProperty(K)&&F(Y,K,rt);else F(Y,J[1],J[2])}}();function S(I,j){var V=typeof I=="string"?I:O(I);return V.indexOf(" "+j+" ")>=0}function M(I,j){var V=O(I),C=V+j;S(V,j)||(I.className=C.substring(1))}function A(I,j){var V=O(I),C;S(I,j)&&(C=V.replace(" "+j+" "," "),I.className=C.substring(1,C.length-1))}function O(I){return(" "+(I.className||"")+" ").replace(/\s+/gi," ")}function B(I){I&&I.parentNode&&I.parentNode.removeChild(I)}return s})})(bR);var UK=bR.exports;const Zo=wn(UK);function wR(e,n){let s;return function(...a){clearTimeout(s),s=setTimeout(()=>e.apply(this,a),n)}}function sl(e,n){return document.dispatchEvent(new CustomEvent(`inertia:${e}`,n))}var KK=e=>sl("before",{cancelable:!0,detail:{visit:e}}),GK=e=>sl("error",{detail:{errors:e}}),WK=e=>sl("exception",{cancelable:!0,detail:{exception:e}}),fC=e=>sl("finish",{detail:{visit:e}}),HK=e=>sl("invalid",{cancelable:!0,detail:{response:e}}),Yd=e=>sl("navigate",{detail:{page:e}}),XK=e=>sl("progress",{detail:{progress:e}}),YK=e=>sl("start",{detail:{visit:e}}),qK=e=>sl("success",{detail:{page:e}});function Kb(e){return e instanceof File||e instanceof Blob||e instanceof FileList&&e.length>0||e instanceof FormData&&Array.from(e.values()).some(n=>Kb(n))||typeof e=="object"&&e!==null&&Object.values(e).some(n=>Kb(n))}function SR(e,n=new FormData,s=null){e=e||{};for(let a in e)Object.prototype.hasOwnProperty.call(e,a)&&kR(n,PR(s,a),e[a]);return n}function PR(e,n){return e?e+"["+n+"]":n}function kR(e,n,s){if(Array.isArray(s))return Array.from(s.keys()).forEach(a=>kR(e,PR(n,a.toString()),s[a]));if(s instanceof Date)return e.append(n,s.toISOString());if(s instanceof File)return e.append(n,s,s.name);if(s instanceof Blob)return e.append(n,s);if(typeof s=="boolean")return e.append(n,s?"1":"0");if(typeof s=="string")return e.append(n,s);if(typeof s=="number")return e.append(n,`${s}`);if(s==null)return e.append(n,"");SR(s,e,n)}var ZK={modal:null,listener:null,show(e){typeof e=="object"&&(e=`All Inertia requests must receive a valid Inertia response, however a plain JSON response was received.<hr>${JSON.stringify(e)}`);let n=document.createElement("html");n.innerHTML=e,n.querySelectorAll("a").forEach(a=>a.setAttribute("target","_top")),this.modal=document.createElement("div"),this.modal.style.position="fixed",this.modal.style.width="100vw",this.modal.style.height="100vh",this.modal.style.padding="50px",this.modal.style.boxSizing="border-box",this.modal.style.backgroundColor="rgba(0, 0, 0, .6)",this.modal.style.zIndex=2e5,this.modal.addEventListener("click",()=>this.hide());let s=document.createElement("iframe");if(s.style.backgroundColor="white",s.style.borderRadius="5px",s.style.width="100%",s.style.height="100%",this.modal.appendChild(s),document.body.prepend(this.modal),document.body.style.overflow="hidden",!s.contentWindow)throw new Error("iframe not yet ready.");s.contentWindow.document.open(),s.contentWindow.document.write(n.outerHTML),s.contentWindow.document.close(),this.listener=this.hideOnEscape.bind(this),document.addEventListener("keydown",this.listener)},hide(){this.modal.outerHTML="",this.modal=null,document.body.style.overflow="visible",document.removeEventListener("keydown",this.listener)},hideOnEscape(e){e.keyCode===27&&this.hide()}};function Nh(e){return new URL(e.toString(),window.location.toString())}function TR(e,n,s,a="brackets"){let h=/^https?:\/\//.test(n.toString()),d=h||n.toString().startsWith("/"),p=!d&&!n.toString().startsWith("#")&&!n.toString().startsWith("?"),v=n.toString().includes("?")||e==="get"&&Object.keys(s).length,x=n.toString().includes("#"),S=new URL(n.toString(),"http://localhost");return e==="get"&&Object.keys(s).length&&(S.search=dC.stringify(T8(dC.parse(S.search,{ignoreQueryPrefix:!0}),s),{encodeValuesOnly:!0,arrayFormat:a}),s={}),[[h?`${S.protocol}//${S.host}`:"",d?S.pathname:"",p?S.pathname.substring(1):"",v?S.search:"",x?S.hash:""].join(""),s]}function qd(e){return e=new URL(e.href),e.hash="",e}var pC=typeof window>"u",JK=class{constructor(){this.visitId=null}init({initialPage:n,resolveComponent:s,swapComponent:a}){this.page=n,this.resolveComponent=s,this.swapComponent=a,this.setNavigationType(),this.clearRememberedStateOnReload(),this.isBackForwardVisit()?this.handleBackForwardVisit(this.page):this.isLocationVisit()?this.handleLocationVisit(this.page):this.handleInitialPageVisit(this.page),this.setupEventListeners()}setNavigationType(){this.navigationType=window.performance&&window.performance.getEntriesByType("navigation").length>0?window.performance.getEntriesByType("navigation")[0].type:"navigate"}clearRememberedStateOnReload(){var n;this.navigationType==="reload"&&((n=window.history.state)!=null&&n.rememberedState)&&delete window.history.state.rememberedState}handleInitialPageVisit(n){this.page.url+=window.location.hash,this.setPage(n,{preserveState:!0}).then(()=>Yd(n))}setupEventListeners(){window.addEventListener("popstate",this.handlePopstateEvent.bind(this)),document.addEventListener("scroll",wR(this.handleScrollEvent.bind(this),100),!0)}scrollRegions(){return document.querySelectorAll("[scroll-region]")}handleScrollEvent(n){typeof n.target.hasAttribute=="function"&&n.target.hasAttribute("scroll-region")&&this.saveScrollPositions()}saveScrollPositions(){this.replaceState({...this.page,scrollRegions:Array.from(this.scrollRegions()).map(n=>({top:n.scrollTop,left:n.scrollLeft}))})}resetScrollPositions(){window.scrollTo(0,0),this.scrollRegions().forEach(n=>{typeof n.scrollTo=="function"?n.scrollTo(0,0):(n.scrollTop=0,n.scrollLeft=0)}),this.saveScrollPositions(),window.location.hash&&setTimeout(()=>{var n;return(n=document.getElementById(window.location.hash.slice(1)))==null?void 0:n.scrollIntoView()})}restoreScrollPositions(){this.page.scrollRegions&&this.scrollRegions().forEach((n,s)=>{let a=this.page.scrollRegions[s];if(a)typeof n.scrollTo=="function"?n.scrollTo(a.left,a.top):(n.scrollTop=a.top,n.scrollLeft=a.left);else return})}isBackForwardVisit(){return window.history.state&&this.navigationType==="back_forward"}handleBackForwardVisit(n){window.history.state.version=n.version,this.setPage(window.history.state,{preserveScroll:!0,preserveState:!0}).then(()=>{this.restoreScrollPositions(),Yd(n)})}locationVisit(n,s){try{let a={preserveScroll:s};window.sessionStorage.setItem("inertiaLocationVisit",JSON.stringify(a)),window.location.href=n.href,qd(window.location).href===qd(n).href&&window.location.reload()}catch{return!1}}isLocationVisit(){try{return window.sessionStorage.getItem("inertiaLocationVisit")!==null}catch{return!1}}handleLocationVisit(n){var a,h;let s=JSON.parse(window.sessionStorage.getItem("inertiaLocationVisit")||"");window.sessionStorage.removeItem("inertiaLocationVisit"),n.url+=window.location.hash,n.rememberedState=((a=window.history.state)==null?void 0:a.rememberedState)??{},n.scrollRegions=((h=window.history.state)==null?void 0:h.scrollRegions)??[],this.setPage(n,{preserveScroll:s.preserveScroll,preserveState:!0}).then(()=>{s.preserveScroll&&this.restoreScrollPositions(),Yd(n)})}isLocationVisitResponse(n){return!!(n&&n.status===409&&n.headers["x-inertia-location"])}isInertiaResponse(n){return!!(n!=null&&n.headers["x-inertia"])}createVisitId(){return this.visitId={},this.visitId}cancelVisit(n,{cancelled:s=!1,interrupted:a=!1}){n&&!n.completed&&!n.cancelled&&!n.interrupted&&(n.cancelToken.abort(),n.onCancel(),n.completed=!1,n.cancelled=s,n.interrupted=a,fC(n),n.onFinish(n))}finishVisit(n){!n.cancelled&&!n.interrupted&&(n.completed=!0,n.cancelled=!1,n.interrupted=!1,fC(n),n.onFinish(n))}resolvePreserveOption(n,s){return typeof n=="function"?n(s):n==="errors"?Object.keys(s.props.errors||{}).length>0:n}cancel(){this.activeVisit&&this.cancelVisit(this.activeVisit,{cancelled:!0})}visit(n,{method:s="get",data:a={},replace:h=!1,preserveScroll:d=!1,preserveState:p=!1,only:v=[],except:x=[],headers:S={},errorBag:M="",forceFormData:A=!1,onCancelToken:O=()=>{},onBefore:B=()=>{},onStart:I=()=>{},onProgress:j=()=>{},onFinish:V=()=>{},onCancel:C=()=>{},onSuccess:z=()=>{},onError:F=()=>{},queryStringArrayFormat:Y="brackets"}={}){let U=typeof n=="string"?Nh(n):n;if((Kb(a)||A)&&!(a instanceof FormData)&&(a=SR(a)),!(a instanceof FormData)){let[gt,lt]=TR(s,U,a,Y);U=Nh(gt),a=lt}let J={url:U,method:s,data:a,replace:h,preserveScroll:d,preserveState:p,only:v,except:x,headers:S,errorBag:M,forceFormData:A,queryStringArrayFormat:Y,cancelled:!1,completed:!1,interrupted:!1};if(B(J)===!1||!KK(J))return;this.activeVisit&&this.cancelVisit(this.activeVisit,{interrupted:!0}),this.saveScrollPositions();let K=this.createVisitId();this.activeVisit={...J,onCancelToken:O,onBefore:B,onStart:I,onProgress:j,onFinish:V,onCancel:C,onSuccess:z,onError:F,queryStringArrayFormat:Y,cancelToken:new AbortController},O({cancel:()=>{this.activeVisit&&this.cancelVisit(this.activeVisit,{cancelled:!0})}}),YK(J),I(J);let rt=!!(v.length||x.length);Ci({method:s,url:qd(U).href,data:s==="get"?{}:a,params:s==="get"?a:{},signal:this.activeVisit.cancelToken.signal,headers:{...S,Accept:"text/html, application/xhtml+xml","X-Requested-With":"XMLHttpRequest","X-Inertia":!0,...rt?{"X-Inertia-Partial-Component":this.page.component}:{},...v.length?{"X-Inertia-Partial-Data":v.join(",")}:{},...x.length?{"X-Inertia-Partial-Except":x.join(",")}:{},...M&&M.length?{"X-Inertia-Error-Bag":M}:{},...this.page.version?{"X-Inertia-Version":this.page.version}:{}},onUploadProgress:gt=>{a instanceof FormData&&(gt.percentage=gt.progress?Math.round(gt.progress*100):0,XK(gt),j(gt))}}).then(gt=>{var vt;if(!this.isInertiaResponse(gt))return Promise.reject({response:gt});let lt=gt.data;rt&&lt.component===this.page.component&&(lt.props={...this.page.props,...lt.props}),d=this.resolvePreserveOption(d,lt),p=this.resolvePreserveOption(p,lt),p&&((vt=window.history.state)!=null&&vt.rememberedState)&&lt.component===this.page.component&&(lt.rememberedState=window.history.state.rememberedState);let dt=U,mt=Nh(lt.url);return dt.hash&&!mt.hash&&qd(dt).href===mt.href&&(mt.hash=dt.hash,lt.url=mt.href),this.setPage(lt,{visitId:K,replace:h,preserveScroll:d,preserveState:p})}).then(()=>{let gt=this.page.props.errors||{};if(Object.keys(gt).length>0){let lt=M?gt[M]?gt[M]:{}:gt;return GK(lt),F(lt)}return qK(this.page),z(this.page)}).catch(gt=>{if(this.isInertiaResponse(gt.response))return this.setPage(gt.response.data,{visitId:K});if(this.isLocationVisitResponse(gt.response)){let lt=Nh(gt.response.headers["x-inertia-location"]),dt=U;dt.hash&&!lt.hash&&qd(dt).href===lt.href&&(lt.hash=dt.hash),this.locationVisit(lt,d===!0)}else if(gt.response)HK(gt.response)&&ZK.show(gt.response.data);else return Promise.reject(gt)}).then(()=>{this.activeVisit&&this.finishVisit(this.activeVisit)}).catch(gt=>{if(!Ci.isCancel(gt)){let lt=WK(gt);if(this.activeVisit&&this.finishVisit(this.activeVisit),lt)return Promise.reject(gt)}})}setPage(n,{visitId:s=this.createVisitId(),replace:a=!1,preserveScroll:h=!1,preserveState:d=!1}={}){return Promise.resolve(this.resolveComponent(n.component)).then(p=>{s===this.visitId&&(n.scrollRegions=n.scrollRegions||[],n.rememberedState=n.rememberedState||{},a=a||Nh(n.url).href===window.location.href,a?this.replaceState(n):this.pushState(n),this.swapComponent({component:p,page:n,preserveState:d}).then(()=>{h||this.resetScrollPositions(),a||Yd(n)}))})}pushState(n){this.page=n,window.history.pushState(n,"",n.url)}replaceState(n){this.page=n,window.history.replaceState(n,"",n.url)}handlePopstateEvent(n){if(n.state!==null){let s=n.state,a=this.createVisitId();Promise.resolve(this.resolveComponent(s.component)).then(h=>{a===this.visitId&&(this.page=s,this.swapComponent({component:h,page:s,preserveState:!1}).then(()=>{this.restoreScrollPositions(),Yd(s)}))})}else{let s=Nh(this.page.url);s.hash=window.location.hash,this.replaceState({...this.page,url:s.href}),this.resetScrollPositions()}}get(n,s={},a={}){return this.visit(n,{...a,method:"get",data:s})}reload(n={}){return this.visit(window.location.href,{...n,preserveScroll:!0,preserveState:!0})}replace(n,s={}){return console.warn(`Inertia.replace() has been deprecated and will be removed in a future release. Please use Inertia.${s.method??"get"}() instead.`),this.visit(n,{preserveState:!0,...s,replace:!0})}post(n,s={},a={}){return this.visit(n,{preserveState:!0,...a,method:"post",data:s})}put(n,s={},a={}){return this.visit(n,{preserveState:!0,...a,method:"put",data:s})}patch(n,s={},a={}){return this.visit(n,{preserveState:!0,...a,method:"patch",data:s})}delete(n,s={}){return this.visit(n,{preserveState:!0,...s,method:"delete"})}remember(n,s="default"){var a;pC||this.replaceState({...this.page,rememberedState:{...(a=this.page)==null?void 0:a.rememberedState,[s]:n}})}restore(n="default"){var s,a;if(!pC)return(a=(s=window.history.state)==null?void 0:s.rememberedState)==null?void 0:a[n]}on(n,s){let a=h=>{let d=s(h);h.cancelable&&!h.defaultPrevented&&d===!1&&h.preventDefault()};return document.addEventListener(`inertia:${n}`,a),()=>document.removeEventListener(`inertia:${n}`,a)}},QK={buildDOMElement(e){let n=document.createElement("template");n.innerHTML=e;let s=n.content.firstChild;if(!e.startsWith("<script "))return s;let a=document.createElement("script");return a.innerHTML=s.innerHTML,s.getAttributeNames().forEach(h=>{a.setAttribute(h,s.getAttribute(h)||"")}),a},isInertiaManagedElement(e){return e.nodeType===Node.ELEMENT_NODE&&e.getAttribute("inertia")!==null},findMatchingElementIndex(e,n){let s=e.getAttribute("inertia");return s!==null?n.findIndex(a=>a.getAttribute("inertia")===s):-1},update:wR(function(e){let n=e.map(s=>this.buildDOMElement(s));Array.from(document.head.childNodes).filter(s=>this.isInertiaManagedElement(s)).forEach(s=>{var d,p;let a=this.findMatchingElementIndex(s,n);if(a===-1){(d=s==null?void 0:s.parentNode)==null||d.removeChild(s);return}let h=n.splice(a,1)[0];h&&!s.isEqualNode(h)&&((p=s==null?void 0:s.parentNode)==null||p.replaceChild(h,s))}),n.forEach(s=>document.head.appendChild(s))},1)};function tG(e,n,s){let a={},h=0;function d(){let M=h+=1;return a[M]=[],M.toString()}function p(M){M===null||Object.keys(a).indexOf(M)===-1||(delete a[M],S())}function v(M,A=[]){M!==null&&Object.keys(a).indexOf(M)>-1&&(a[M]=A),S()}function x(){let M=n(""),A={...M?{title:`<title inertia="">${M}</title>`}:{}},O=Object.values(a).reduce((B,I)=>B.concat(I),[]).reduce((B,I)=>{if(I.indexOf("<")===-1)return B;if(I.indexOf("<title ")===0){let V=I.match(/(<title [^>]+>)(.*?)(<\/title>)/);return B.title=V?`${V[1]}${n(V[2])}${V[3]}`:I,B}let j=I.match(/ inertia="[^"]+"/);return j?B[j[0]]=I:B[Object.keys(B).length]=I,B},A);return Object.values(O)}function S(){e?s(x()):QK.update(x())}return S(),{forceUpdate:S,createProvider:function(){let M=d();return{update:A=>v(M,A),disconnect:()=>p(M)}}}}var MR=null;function eG(e){document.addEventListener("inertia:start",nG.bind(null,e)),document.addEventListener("inertia:progress",iG),document.addEventListener("inertia:finish",rG)}function nG(e){MR=setTimeout(()=>Zo.start(),e)}function iG(e){var n;Zo.isStarted()&&((n=e.detail.progress)!=null&&n.percentage)&&Zo.set(Math.max(Zo.status,e.detail.progress.percentage/100*.9))}function rG(e){if(clearTimeout(MR),Zo.isStarted())e.detail.visit.completed?Zo.done():e.detail.visit.interrupted?Zo.set(0):e.detail.visit.cancelled&&(Zo.done(),Zo.remove());else return}function sG(e){let n=document.createElement("style");n.type="text/css",n.textContent=`
    #nprogress {
      pointer-events: none;
    }

    #nprogress .bar {
      background: ${e};

      position: fixed;
      z-index: 1031;
      top: 0;
      left: 0;

      width: 100%;
      height: 2px;
    }

    #nprogress .peg {
      display: block;
      position: absolute;
      right: 0px;
      width: 100px;
      height: 100%;
      box-shadow: 0 0 10px ${e}, 0 0 5px ${e};
      opacity: 1.0;

      -webkit-transform: rotate(3deg) translate(0px, -4px);
          -ms-transform: rotate(3deg) translate(0px, -4px);
              transform: rotate(3deg) translate(0px, -4px);
    }

    #nprogress .spinner {
      display: block;
      position: fixed;
      z-index: 1031;
      top: 15px;
      right: 15px;
    }

    #nprogress .spinner-icon {
      width: 18px;
      height: 18px;
      box-sizing: border-box;

      border: solid 2px transparent;
      border-top-color: ${e};
      border-left-color: ${e};
      border-radius: 50%;

      -webkit-animation: nprogress-spinner 400ms linear infinite;
              animation: nprogress-spinner 400ms linear infinite;
    }

    .nprogress-custom-parent {
      overflow: hidden;
      position: relative;
    }

    .nprogress-custom-parent #nprogress .spinner,
    .nprogress-custom-parent #nprogress .bar {
      position: absolute;
    }

    @-webkit-keyframes nprogress-spinner {
      0%   { -webkit-transform: rotate(0deg); }
      100% { -webkit-transform: rotate(360deg); }
    }
    @keyframes nprogress-spinner {
      0%   { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  `,document.head.appendChild(n)}function oG({delay:e=250,color:n="#29d",includeCSS:s=!0,showSpinner:a=!1}={}){eG(e),Zo.configure({showSpinner:a}),s&&sG(n)}function aG(e){let n=e.currentTarget.tagName.toLowerCase()==="a";return!(e.target&&(e==null?void 0:e.target).isContentEditable||e.defaultPrevented||n&&e.which>1||n&&e.altKey||n&&e.ctrlKey||n&&e.metaKey||n&&e.shiftKey)}var Gb=new JK,my={exports:{}};my.exports;(function(e,n){var s=200,a="__lodash_hash_undefined__",h=1,d=2,p=9007199254740991,v="[object Arguments]",x="[object Array]",S="[object AsyncFunction]",M="[object Boolean]",A="[object Date]",O="[object Error]",B="[object Function]",I="[object GeneratorFunction]",j="[object Map]",V="[object Number]",C="[object Null]",z="[object Object]",F="[object Promise]",Y="[object Proxy]",U="[object RegExp]",J="[object Set]",K="[object String]",rt="[object Symbol]",gt="[object Undefined]",lt="[object WeakMap]",dt="[object ArrayBuffer]",mt="[object DataView]",vt="[object Float32Array]",Mt="[object Float64Array]",Ct="[object Int8Array]",Ot="[object Int16Array]",Rt="[object Int32Array]",yt="[object Uint8Array]",Nt="[object Uint8ClampedArray]",kt="[object Uint16Array]",At="[object Uint32Array]",It=/[\\^$.*+?()[\]{}|]/g,$t=/^\[object .+?Constructor\]$/,ee=/^(?:0|[1-9]\d*)$/,ne={};ne[vt]=ne[Mt]=ne[Ct]=ne[Ot]=ne[Rt]=ne[yt]=ne[Nt]=ne[kt]=ne[At]=!0,ne[v]=ne[x]=ne[dt]=ne[M]=ne[mt]=ne[A]=ne[O]=ne[B]=ne[j]=ne[V]=ne[z]=ne[U]=ne[J]=ne[K]=ne[lt]=!1;var Ft=typeof Zs=="object"&&Zs&&Zs.Object===Object&&Zs,he=typeof self=="object"&&self&&self.Object===Object&&self,be=Ft||he||Function("return this")(),te=n&&!n.nodeType&&n,le=te&&!0&&e&&!e.nodeType&&e,me=le&&le.exports===te,_t=me&&Ft.process,Yt=function(){try{return _t&&_t.binding&&_t.binding("util")}catch{}}(),ue=Yt&&Yt.isTypedArray;function Ae(xt,Lt){for(var Zt=-1,ge=xt==null?0:xt.length,Qt=0,De=[];++Zt<ge;){var hn=xt[Zt];Lt(hn,Zt,xt)&&(De[Qt++]=hn)}return De}function _e(xt,Lt){for(var Zt=-1,ge=Lt.length,Qt=xt.length;++Zt<ge;)xt[Qt+Zt]=Lt[Zt];return xt}function en(xt,Lt){for(var Zt=-1,ge=xt==null?0:xt.length;++Zt<ge;)if(Lt(xt[Zt],Zt,xt))return!0;return!1}function qe(xt,Lt){for(var Zt=-1,ge=Array(xt);++Zt<xt;)ge[Zt]=Lt(Zt);return ge}function $e(xt){return function(Lt){return xt(Lt)}}function yn(xt,Lt){return xt.has(Lt)}function mi(xt,Lt){return xt==null?void 0:xt[Lt]}function rr(xt){var Lt=-1,Zt=Array(xt.size);return xt.forEach(function(ge,Qt){Zt[++Lt]=[Qt,ge]}),Zt}function Ki(xt,Lt){return function(Zt){return xt(Lt(Zt))}}function gr(xt){var Lt=-1,Zt=Array(xt.size);return xt.forEach(function(ge){Zt[++Lt]=ge}),Zt}var uo=Array.prototype,Ri=Function.prototype,si=Object.prototype,Dr=be["__core-js_shared__"],oi=Ri.toString,Bn=si.hasOwnProperty,_n=function(){var xt=/[^.]+$/.exec(Dr&&Dr.keys&&Dr.keys.IE_PROTO||"");return xt?"Symbol(src)_1."+xt:""}(),mr=si.toString,Yr=RegExp("^"+oi.call(Bn).replace(It,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),fs=me?be.Buffer:void 0,yr=be.Symbol,xe=be.Uint8Array,Rr=si.propertyIsEnumerable,Oe=uo.splice,He=yr?yr.toStringTag:void 0,Xe=Object.getOwnPropertySymbols,Oi=fs?fs.isBuffer:void 0,yi=Ki(Object.keys,Object),Ir=Jt(be,"DataView"),Hn=Jt(be,"Map"),fa=Jt(be,"Promise"),pa=Jt(be,"Set"),cl=Jt(be,"WeakMap"),dn=Jt(Object,"create"),ps=Is(Ir),dl=Is(Hn),ga=Is(fa),ma=Is(pa),Gi=Is(cl),vi=yr?yr.prototype:void 0,Se=vi?vi.valueOf:void 0;function Wi(xt){var Lt=-1,Zt=xt==null?0:xt.length;for(this.clear();++Lt<Zt;){var ge=xt[Lt];this.set(ge[0],ge[1])}}function mu(){this.__data__=dn?dn(null):{},this.size=0}function ho(xt){var Lt=this.has(xt)&&delete this.__data__[xt];return this.size-=Lt?1:0,Lt}function ze(xt){var Lt=this.__data__;if(dn){var Zt=Lt[xt];return Zt===a?void 0:Zt}return Bn.call(Lt,xt)?Lt[xt]:void 0}function Ee(xt){var Lt=this.__data__;return dn?Lt[xt]!==void 0:Bn.call(Lt,xt)}function yh(xt,Lt){var Zt=this.__data__;return this.size+=this.has(xt)?0:1,Zt[xt]=dn&&Lt===void 0?a:Lt,this}Wi.prototype.clear=mu,Wi.prototype.delete=ho,Wi.prototype.get=ze,Wi.prototype.has=Ee,Wi.prototype.set=yh;function Hi(xt){var Lt=-1,Zt=xt==null?0:xt.length;for(this.clear();++Lt<Zt;){var ge=xt[Lt];this.set(ge[0],ge[1])}}function vh(){this.__data__=[],this.size=0}function Ed(xt){var Lt=this.__data__,Zt=Zr(Lt,xt);if(Zt<0)return!1;var ge=Lt.length-1;return Zt==ge?Lt.pop():Oe.call(Lt,Zt,1),--this.size,!0}function Ld(xt){var Lt=this.__data__,Zt=Zr(Lt,xt);return Zt<0?void 0:Lt[Zt][1]}function _d(xt){return Zr(this.__data__,xt)>-1}function Dd(xt,Lt){var Zt=this.__data__,ge=Zr(Zt,xt);return ge<0?(++this.size,Zt.push([xt,Lt])):Zt[ge][1]=Lt,this}Hi.prototype.clear=vh,Hi.prototype.delete=Ed,Hi.prototype.get=Ld,Hi.prototype.has=_d,Hi.prototype.set=Dd;function Ds(xt){var Lt=-1,Zt=xt==null?0:xt.length;for(this.clear();++Lt<Zt;){var ge=xt[Lt];this.set(ge[0],ge[1])}}function Rd(){this.size=0,this.__data__={hash:new Wi,map:new(Hn||Hi),string:new Wi}}function fl(xt){var Lt=ms(this,xt).delete(xt);return this.size-=Lt?1:0,Lt}function Id(xt){return ms(this,xt).get(xt)}function Fd(xt){return ms(this,xt).has(xt)}function xh(xt,Lt){var Zt=ms(this,xt),ge=Zt.size;return Zt.set(xt,Lt),this.size+=Zt.size==ge?0:1,this}Ds.prototype.clear=Rd,Ds.prototype.delete=fl,Ds.prototype.get=Id,Ds.prototype.has=Fd,Ds.prototype.set=xh;function re(xt){var Lt=-1,Zt=xt==null?0:xt.length;for(this.__data__=new Ds;++Lt<Zt;)this.add(xt[Lt])}function qr(xt){return this.__data__.set(xt,a),this}function Rs(xt){return this.__data__.has(xt)}re.prototype.add=re.prototype.push=qr,re.prototype.has=Rs;function fn(xt){var Lt=this.__data__=new Hi(xt);this.size=Lt.size}function pl(){this.__data__=new Hi,this.size=0}function wi(xt){var Lt=this.__data__,Zt=Lt.delete(xt);return this.size=Lt.size,Zt}function fe(xt){return this.__data__.get(xt)}function Ze(xt){return this.__data__.has(xt)}function Sn(xt,Lt){var Zt=this.__data__;if(Zt instanceof Hi){var ge=Zt.__data__;if(!Hn||ge.length<s-1)return ge.push([xt,Lt]),this.size=++Zt.size,this;Zt=this.__data__=new Ds(ge)}return Zt.set(xt,Lt),this.size=Zt.size,this}fn.prototype.clear=pl,fn.prototype.delete=wi,fn.prototype.get=fe,fn.prototype.has=Ze,fn.prototype.set=Sn;function ya(xt,Lt){var Zt=Ut(xt),ge=!Zt&&Fs(xt),Qt=!Zt&&!ge&&Ie(xt),De=!Zt&&!ge&&!Qt&&Vo(xt),hn=Zt||ge||Qt||De,Me=hn?qe(xt.length,String):[],ai=Me.length;for(var Ye in xt)Bn.call(xt,Ye)&&!(hn&&(Ye=="length"||Qt&&(Ye=="offset"||Ye=="parent")||De&&(Ye=="buffer"||Ye=="byteLength"||Ye=="byteOffset")||xa(Ye,ai)))&&Me.push(Ye);return Me}function Zr(xt,Lt){for(var Zt=xt.length;Zt--;)if(fo(xt[Zt][0],Lt))return Zt;return-1}function on(xt,Lt,Zt){var ge=Lt(xt);return Ut(xt)?ge:_e(ge,Zt(xt))}function gs(xt){return xt==null?xt===void 0?gt:C:He&&He in Object(xt)?va(xt):$o(xt)}function Ne(xt){return sr(xt)&&gs(xt)==v}function Cn(xt,Lt,Zt,ge,Qt){return xt===Lt?!0:xt==null||Lt==null||!sr(xt)&&!sr(Lt)?xt!==xt&&Lt!==Lt:Ii(xt,Lt,Zt,ge,Cn,Qt)}function Ii(xt,Lt,Zt,ge,Qt,De){var hn=Ut(xt),Me=Ut(Lt),ai=hn?x:xr(xt),Ye=Me?x:xr(Lt);ai=ai==v?z:ai,Ye=Ye==v?z:Ye;var li=ai==z,pn=Ye==z,Si=ai==Ye;if(Si&&Ie(xt)){if(!Ie(Lt))return!1;hn=!0,li=!1}if(Si&&!li)return De||(De=new fn),hn||Vo(xt)?Bo(xt,Lt,Zt,ge,Qt,De):Le(xt,Lt,ai,Zt,ge,Qt,De);if(!(Zt&h)){var Fi=li&&Bn.call(xt,"__wrapped__"),or=pn&&Bn.call(Lt,"__wrapped__");if(Fi||or){var Jr=Fi?xt.value():xt,xs=or?Lt.value():Lt;return De||(De=new fn),Qt(Jr,xs,Zt,ge,De)}}return Si?(De||(De=new fn),$n(xt,Lt,Zt,ge,Qt,De)):!1}function gl(xt){if(!zo(xt)||yu(xt))return!1;var Lt=jr(xt)?Yr:$t;return Lt.test(Is(xt))}function vr(xt){return sr(xt)&&vs(xt.length)&&!!ne[gs(xt)]}function jo(xt){if(!Fr(xt))return yi(xt);var Lt=[];for(var Zt in Object(xt))Bn.call(xt,Zt)&&Zt!="constructor"&&Lt.push(Zt);return Lt}function Bo(xt,Lt,Zt,ge,Qt,De){var hn=Zt&h,Me=xt.length,ai=Lt.length;if(Me!=ai&&!(hn&&ai>Me))return!1;var Ye=De.get(xt);if(Ye&&De.get(Lt))return Ye==Lt;var li=-1,pn=!0,Si=Zt&d?new re:void 0;for(De.set(xt,Lt),De.set(Lt,xt);++li<Me;){var Fi=xt[li],or=Lt[li];if(ge)var Jr=hn?ge(or,Fi,li,Lt,xt,De):ge(Fi,or,li,xt,Lt,De);if(Jr!==void 0){if(Jr)continue;pn=!1;break}if(Si){if(!en(Lt,function(xs,Bs){if(!yn(Si,Bs)&&(Fi===xs||Qt(Fi,xs,Zt,ge,De)))return Si.push(Bs)})){pn=!1;break}}else if(!(Fi===or||Qt(Fi,or,Zt,ge,De))){pn=!1;break}}return De.delete(xt),De.delete(Lt),pn}function Le(xt,Lt,Zt,ge,Qt,De,hn){switch(Zt){case mt:if(xt.byteLength!=Lt.byteLength||xt.byteOffset!=Lt.byteOffset)return!1;xt=xt.buffer,Lt=Lt.buffer;case dt:return!(xt.byteLength!=Lt.byteLength||!De(new xe(xt),new xe(Lt)));case M:case A:case V:return fo(+xt,+Lt);case O:return xt.name==Lt.name&&xt.message==Lt.message;case U:case K:return xt==Lt+"";case j:var Me=rr;case J:var ai=ge&h;if(Me||(Me=gr),xt.size!=Lt.size&&!ai)return!1;var Ye=hn.get(xt);if(Ye)return Ye==Lt;ge|=d,hn.set(xt,Lt);var li=Bo(Me(xt),Me(Lt),ge,Qt,De,hn);return hn.delete(xt),li;case rt:if(Se)return Se.call(xt)==Se.call(Lt)}return!1}function $n(xt,Lt,Zt,ge,Qt,De){var hn=Zt&h,Me=ye(xt),ai=Me.length,Ye=ye(Lt),li=Ye.length;if(ai!=li&&!hn)return!1;for(var pn=ai;pn--;){var Si=Me[pn];if(!(hn?Si in Lt:Bn.call(Lt,Si)))return!1}var Fi=De.get(xt);if(Fi&&De.get(Lt))return Fi==Lt;var or=!0;De.set(xt,Lt),De.set(Lt,xt);for(var Jr=hn;++pn<ai;){Si=Me[pn];var xs=xt[Si],Bs=Lt[Si];if(ge)var ba=hn?ge(Bs,xs,Si,Lt,xt,De):ge(xs,Bs,Si,xt,Lt,De);if(!(ba===void 0?xs===Bs||Qt(xs,Bs,Zt,ge,De):ba)){or=!1;break}Jr||(Jr=Si=="constructor")}if(or&&!Jr){var wa=xt.constructor,Xi=Lt.constructor;wa!=Xi&&"constructor"in xt&&"constructor"in Lt&&!(typeof wa=="function"&&wa instanceof wa&&typeof Xi=="function"&&Xi instanceof Xi)&&(or=!1)}return De.delete(xt),De.delete(Lt),or}function ye(xt){return on(xt,js,co)}function ms(xt,Lt){var Zt=xt.__data__;return se(Lt)?Zt[typeof Lt=="string"?"string":"hash"]:Zt.map}function Jt(xt,Lt){var Zt=mi(xt,Lt);return gl(Zt)?Zt:void 0}function va(xt){var Lt=Bn.call(xt,He),Zt=xt[He];try{xt[He]=void 0;var ge=!0}catch{}var Qt=mr.call(xt);return ge&&(Lt?xt[He]=Zt:delete xt[He]),Qt}var co=Xe?function(xt){return xt==null?[]:(xt=Object(xt),Ae(Xe(xt),function(Lt){return Rr.call(xt,Lt)}))}:Dn,xr=gs;(Ir&&xr(new Ir(new ArrayBuffer(1)))!=mt||Hn&&xr(new Hn)!=j||fa&&xr(fa.resolve())!=F||pa&&xr(new pa)!=J||cl&&xr(new cl)!=lt)&&(xr=function(xt){var Lt=gs(xt),Zt=Lt==z?xt.constructor:void 0,ge=Zt?Is(Zt):"";if(ge)switch(ge){case ps:return mt;case dl:return j;case ga:return F;case ma:return J;case Gi:return lt}return Lt});function xa(xt,Lt){return Lt=Lt??p,!!Lt&&(typeof xt=="number"||ee.test(xt))&&xt>-1&&xt%1==0&&xt<Lt}function se(xt){var Lt=typeof xt;return Lt=="string"||Lt=="number"||Lt=="symbol"||Lt=="boolean"?xt!=="__proto__":xt===null}function yu(xt){return!!_n&&_n in xt}function Fr(xt){var Lt=xt&&xt.constructor,Zt=typeof Lt=="function"&&Lt.prototype||si;return xt===Zt}function $o(xt){return mr.call(xt)}function Is(xt){if(xt!=null){try{return oi.call(xt)}catch{}try{return xt+""}catch{}}return""}function fo(xt,Lt){return xt===Lt||xt!==xt&&Lt!==Lt}var Fs=Ne(function(){return arguments}())?Ne:function(xt){return sr(xt)&&Bn.call(xt,"callee")&&!Rr.call(xt,"callee")},Ut=Array.isArray;function zn(xt){return xt!=null&&vs(xt.length)&&!jr(xt)}var Ie=Oi||po;function ys(xt,Lt){return Cn(xt,Lt)}function jr(xt){if(!zo(xt))return!1;var Lt=gs(xt);return Lt==B||Lt==I||Lt==S||Lt==Y}function vs(xt){return typeof xt=="number"&&xt>-1&&xt%1==0&&xt<=p}function zo(xt){var Lt=typeof xt;return xt!=null&&(Lt=="object"||Lt=="function")}function sr(xt){return xt!=null&&typeof xt=="object"}var Vo=ue?$e(ue):vr;function js(xt){return zn(xt)?ya(xt):jo(xt)}function Dn(){return[]}function po(){return!1}e.exports=ys})(my,my.exports);my.exports;var AR=at.createContext(void 0);AR.displayName="InertiaHeadContext";var gC=AR,Ta=()=>{},CR=at.forwardRef(({children:e,as:n="a",data:s={},href:a,method:h="get",preserveScroll:d=!1,preserveState:p=null,replace:v=!1,only:x=[],except:S=[],headers:M={},queryStringArrayFormat:A="brackets",onClick:O=Ta,onCancelToken:B=Ta,onBefore:I=Ta,onStart:j=Ta,onProgress:V=Ta,onFinish:C=Ta,onCancel:z=Ta,onSuccess:F=Ta,onError:Y=Ta,...U},J)=>{let K=at.useCallback(lt=>{O(lt),aG(lt)&&(lt.preventDefault(),Gb.visit(a,{data:s,method:h,preserveScroll:d,preserveState:p??h!=="get",replace:v,only:x,except:S,headers:M,onCancelToken:B,onBefore:I,onStart:j,onProgress:V,onFinish:C,onCancel:z,onSuccess:F,onError:Y}))},[s,a,h,d,p,v,x,S,M,O,B,I,j,V,C,z,F,Y]);n=n.toLowerCase(),h=h.toLowerCase();let[rt,gt]=TR(h,a||"",s,A);return a=rt,s=gt,n==="a"&&h!=="get"&&console.warn(`Creating POST/PUT/PATCH/DELETE <a> links is discouraged as it causes "Open Link in New Tab/Window" accessibility issues.

Please specify a more appropriate element using the "as" attribute. For example:

<Link href="${a}" method="${h}" as="button">...</Link>`),at.createElement(n,{...U,...n==="a"?{href:a}:{},ref:J,onClick:K},e)});CR.displayName="InertiaLink";var Mi=CR,OR=at.createContext(void 0);OR.displayName="InertiaPageContext";var mC=OR;function NR({children:e,initialPage:n,initialComponent:s,resolveComponent:a,titleCallback:h,onHeadUpdate:d}){let[p,v]=at.useState({component:s||null,page:n,key:null}),x=at.useMemo(()=>tG(typeof window>"u",h||(M=>M),d||(()=>{})),[]);if(at.useEffect(()=>{Gb.init({initialPage:n,resolveComponent:a,swapComponent:async({component:M,page:A,preserveState:O})=>{v(B=>({component:M,page:A,key:O?B.key:Date.now()}))}}),Gb.on("navigate",()=>x.forceUpdate())},[]),!p.component)return at.createElement(gC.Provider,{value:x},at.createElement(mC.Provider,{value:p.page},null));let S=e||(({Component:M,props:A,key:O})=>{let B=at.createElement(M,{key:O,...A});return typeof M.layout=="function"?M.layout(B):Array.isArray(M.layout)?M.layout.concat(B).reverse().reduce((I,j)=>at.createElement(j,{children:I,...A})):B});return at.createElement(gC.Provider,{value:x},at.createElement(mC.Provider,{value:p.page},S({Component:p.component,key:p.key,props:p.page.props})))}NR.displayName="Inertia";async function lG({id:e="app",resolve:n,setup:s,title:a,progress:h={},page:d,render:p}){let v=typeof window>"u",x=v?null:document.getElementById(e),S=d||JSON.parse(x.dataset.page),M=B=>Promise.resolve(n(B)).then(I=>I.default||I),A=[],O=await M(S.component).then(B=>s({el:x,App:NR,props:{initialPage:S,initialComponent:B,resolveComponent:M,titleCallback:a,onHeadUpdate:v?I=>A=I:null}}));if(!v&&h&&oG(h),v){let B=await p(at.createElement("div",{id:e,"data-page":JSON.stringify(S)},O));return{head:A,body:B}}}function dr(e,n,{checkForDefaultPrevented:s=!0}={}){return function(h){if(e==null||e(h),s===!1||!h.defaultPrevented)return n==null?void 0:n(h)}}function uG(e,n){typeof e=="function"?e(n):e!=null&&(e.current=n)}function ER(...e){return n=>e.forEach(s=>uG(s,n))}function oa(...e){return at.useCallback(ER(...e),e)}function hG(e,n){const s=at.createContext(n);function a(d){const{children:p,...v}=d,x=at.useMemo(()=>v,Object.values(v));return ot.jsx(s.Provider,{value:x,children:p})}function h(d){const p=at.useContext(s);if(p)return p;if(n!==void 0)return n;throw new Error(`\`${d}\` must be used within \`${e}\``)}return a.displayName=e+"Provider",[a,h]}function sv(e,n=[]){let s=[];function a(d,p){const v=at.createContext(p),x=s.length;s=[...s,p];function S(A){const{scope:O,children:B,...I}=A,j=(O==null?void 0:O[e][x])||v,V=at.useMemo(()=>I,Object.values(I));return ot.jsx(j.Provider,{value:V,children:B})}function M(A,O){const B=(O==null?void 0:O[e][x])||v,I=at.useContext(B);if(I)return I;if(p!==void 0)return p;throw new Error(`\`${A}\` must be used within \`${d}\``)}return S.displayName=d+"Provider",[S,M]}const h=()=>{const d=s.map(p=>at.createContext(p));return function(v){const x=(v==null?void 0:v[e])||d;return at.useMemo(()=>({[`__scope${e}`]:{...v,[e]:x}}),[v,x])}};return h.scopeName=e,[a,cG(h,...n)]}function cG(...e){const n=e[0];if(e.length===1)return n;const s=()=>{const a=e.map(h=>({useScope:h(),scopeName:h.scopeName}));return function(d){const p=a.reduce((v,{useScope:x,scopeName:S})=>{const A=x(d)[`__scope${S}`];return{...v,...A}},{});return at.useMemo(()=>({[`__scope${n.scopeName}`]:p}),[p])}};return s.scopeName=n.scopeName,s}var yy=globalThis!=null&&globalThis.document?at.useLayoutEffect:()=>{},dG=N5.useId||(()=>{}),fG=0;function Nf(e){const[n,s]=at.useState(dG());return yy(()=>{e||s(a=>a??String(fG++))},[e]),e||(n?`radix-${n}`:"")}function Hl(e){const n=at.useRef(e);return at.useEffect(()=>{n.current=e}),at.useMemo(()=>(...s)=>{var a;return(a=n.current)==null?void 0:a.call(n,...s)},[])}function ok({prop:e,defaultProp:n,onChange:s=()=>{}}){const[a,h]=pG({defaultProp:n,onChange:s}),d=e!==void 0,p=d?e:a,v=Hl(s),x=at.useCallback(S=>{if(d){const A=typeof S=="function"?S(e):S;A!==e&&v(A)}else h(S)},[d,e,h,v]);return[p,x]}function pG({defaultProp:e,onChange:n}){const s=at.useState(e),[a]=s,h=at.useRef(a),d=Hl(n);return at.useEffect(()=>{h.current!==a&&(d(a),h.current=a)},[a,h,d]),s}var LR={exports:{}},Ls={},_R={exports:{}},DR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function n(yt,Nt){var kt=yt.length;yt.push(Nt);t:for(;0<kt;){var At=kt-1>>>1,It=yt[At];if(0<h(It,Nt))yt[At]=Nt,yt[kt]=It,kt=At;else break t}}function s(yt){return yt.length===0?null:yt[0]}function a(yt){if(yt.length===0)return null;var Nt=yt[0],kt=yt.pop();if(kt!==Nt){yt[0]=kt;t:for(var At=0,It=yt.length,$t=It>>>1;At<$t;){var ee=2*(At+1)-1,ne=yt[ee],Ft=ee+1,he=yt[Ft];if(0>h(ne,kt))Ft<It&&0>h(he,ne)?(yt[At]=he,yt[Ft]=kt,At=Ft):(yt[At]=ne,yt[ee]=kt,At=ee);else if(Ft<It&&0>h(he,kt))yt[At]=he,yt[Ft]=kt,At=Ft;else break t}}return Nt}function h(yt,Nt){var kt=yt.sortIndex-Nt.sortIndex;return kt!==0?kt:yt.id-Nt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;e.unstable_now=function(){return d.now()}}else{var p=Date,v=p.now();e.unstable_now=function(){return p.now()-v}}var x=[],S=[],M=1,A=null,O=3,B=!1,I=!1,j=!1,V=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(yt){for(var Nt=s(S);Nt!==null;){if(Nt.callback===null)a(S);else if(Nt.startTime<=yt)a(S),Nt.sortIndex=Nt.expirationTime,n(x,Nt);else break;Nt=s(S)}}function Y(yt){if(j=!1,F(yt),!I)if(s(x)!==null)I=!0,Ot(U);else{var Nt=s(S);Nt!==null&&Rt(Y,Nt.startTime-yt)}}function U(yt,Nt){I=!1,j&&(j=!1,C(rt),rt=-1),B=!0;var kt=O;try{for(F(Nt),A=s(x);A!==null&&(!(A.expirationTime>Nt)||yt&&!dt());){var At=A.callback;if(typeof At=="function"){A.callback=null,O=A.priorityLevel;var It=At(A.expirationTime<=Nt);Nt=e.unstable_now(),typeof It=="function"?A.callback=It:A===s(x)&&a(x),F(Nt)}else a(x);A=s(x)}if(A!==null)var $t=!0;else{var ee=s(S);ee!==null&&Rt(Y,ee.startTime-Nt),$t=!1}return $t}finally{A=null,O=kt,B=!1}}var J=!1,K=null,rt=-1,gt=5,lt=-1;function dt(){return!(e.unstable_now()-lt<gt)}function mt(){if(K!==null){var yt=e.unstable_now();lt=yt;var Nt=!0;try{Nt=K(!0,yt)}finally{Nt?vt():(J=!1,K=null)}}else J=!1}var vt;if(typeof z=="function")vt=function(){z(mt)};else if(typeof MessageChannel<"u"){var Mt=new MessageChannel,Ct=Mt.port2;Mt.port1.onmessage=mt,vt=function(){Ct.postMessage(null)}}else vt=function(){V(mt,0)};function Ot(yt){K=yt,J||(J=!0,vt())}function Rt(yt,Nt){rt=V(function(){yt(e.unstable_now())},Nt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(yt){yt.callback=null},e.unstable_continueExecution=function(){I||B||(I=!0,Ot(U))},e.unstable_forceFrameRate=function(yt){0>yt||125<yt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):gt=0<yt?Math.floor(1e3/yt):5},e.unstable_getCurrentPriorityLevel=function(){return O},e.unstable_getFirstCallbackNode=function(){return s(x)},e.unstable_next=function(yt){switch(O){case 1:case 2:case 3:var Nt=3;break;default:Nt=O}var kt=O;O=Nt;try{return yt()}finally{O=kt}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(yt,Nt){switch(yt){case 1:case 2:case 3:case 4:case 5:break;default:yt=3}var kt=O;O=yt;try{return Nt()}finally{O=kt}},e.unstable_scheduleCallback=function(yt,Nt,kt){var At=e.unstable_now();switch(typeof kt=="object"&&kt!==null?(kt=kt.delay,kt=typeof kt=="number"&&0<kt?At+kt:At):kt=At,yt){case 1:var It=-1;break;case 2:It=250;break;case 5:It=1073741823;break;case 4:It=1e4;break;default:It=5e3}return It=kt+It,yt={id:M++,callback:Nt,priorityLevel:yt,startTime:kt,expirationTime:It,sortIndex:-1},kt>At?(yt.sortIndex=kt,n(S,yt),s(x)===null&&yt===s(S)&&(j?(C(rt),rt=-1):j=!0,Rt(Y,kt-At))):(yt.sortIndex=It,n(x,yt),I||B||(I=!0,Ot(U))),yt},e.unstable_shouldYield=dt,e.unstable_wrapCallback=function(yt){var Nt=O;return function(){var kt=O;O=Nt;try{return yt.apply(this,arguments)}finally{O=kt}}}})(DR);_R.exports=DR;var gG=_R.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mG=at,Ns=gG;function ae(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var RR=new Set,tp={};function ch(e,n){Mc(e,n),Mc(e+"Capture",n)}function Mc(e,n){for(tp[e]=n,e=0;e<n.length;e++)RR.add(n[e])}var Ya=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wb=Object.prototype.hasOwnProperty,yG=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yC={},vC={};function vG(e){return Wb.call(vC,e)?!0:Wb.call(yC,e)?!1:yG.test(e)?vC[e]=!0:(yC[e]=!0,!1)}function xG(e,n,s,a){if(s!==null&&s.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return a?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function bG(e,n,s,a){if(n===null||typeof n>"u"||xG(e,n,s,a))return!0;if(a)return!1;if(s!==null)switch(s.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function Hr(e,n,s,a,h,d,p){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=a,this.attributeNamespace=h,this.mustUseProperty=s,this.propertyName=e,this.type=n,this.sanitizeURL=d,this.removeEmptyString=p}var pr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){pr[e]=new Hr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];pr[n]=new Hr(n,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){pr[e]=new Hr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){pr[e]=new Hr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){pr[e]=new Hr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){pr[e]=new Hr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){pr[e]=new Hr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){pr[e]=new Hr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){pr[e]=new Hr(e,5,!1,e.toLowerCase(),null,!1,!1)});var ak=/[\-:]([a-z])/g;function lk(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(ak,lk);pr[n]=new Hr(n,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(ak,lk);pr[n]=new Hr(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(ak,lk);pr[n]=new Hr(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){pr[e]=new Hr(e,1,!1,e.toLowerCase(),null,!1,!1)});pr.xlinkHref=new Hr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){pr[e]=new Hr(e,1,!1,e.toLowerCase(),null,!0,!0)});function uk(e,n,s,a){var h=pr.hasOwnProperty(n)?pr[n]:null;(h!==null?h.type!==0:a||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(bG(n,s,h,a)&&(s=null),a||h===null?vG(n)&&(s===null?e.removeAttribute(n):e.setAttribute(n,""+s)):h.mustUseProperty?e[h.propertyName]=s===null?h.type===3?!1:"":s:(n=h.attributeName,a=h.attributeNamespace,s===null?e.removeAttribute(n):(h=h.type,s=h===3||h===4&&s===!0?"":""+s,a?e.setAttributeNS(a,n,s):e.setAttribute(n,s))))}var ol=mG.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qg=Symbol.for("react.element"),Vh=Symbol.for("react.portal"),Uh=Symbol.for("react.fragment"),hk=Symbol.for("react.strict_mode"),Hb=Symbol.for("react.profiler"),IR=Symbol.for("react.provider"),FR=Symbol.for("react.context"),ck=Symbol.for("react.forward_ref"),Xb=Symbol.for("react.suspense"),Yb=Symbol.for("react.suspense_list"),dk=Symbol.for("react.memo"),Ml=Symbol.for("react.lazy"),jR=Symbol.for("react.offscreen"),xC=Symbol.iterator;function Zd(e){return e===null||typeof e!="object"?null:(e=xC&&e[xC]||e["@@iterator"],typeof e=="function"?e:null)}var pi=Object.assign,rx;function xf(e){if(rx===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);rx=n&&n[1]||""}return`
`+rx+e}var sx=!1;function ox(e,n){if(!e||sx)return"";sx=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(S){var a=S}Reflect.construct(e,[],n)}else{try{n.call()}catch(S){a=S}e.call(n.prototype)}else{try{throw Error()}catch(S){a=S}e()}}catch(S){if(S&&a&&typeof S.stack=="string"){for(var h=S.stack.split(`
`),d=a.stack.split(`
`),p=h.length-1,v=d.length-1;1<=p&&0<=v&&h[p]!==d[v];)v--;for(;1<=p&&0<=v;p--,v--)if(h[p]!==d[v]){if(p!==1||v!==1)do if(p--,v--,0>v||h[p]!==d[v]){var x=`
`+h[p].replace(" at new "," at ");return e.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",e.displayName)),x}while(1<=p&&0<=v);break}}}finally{sx=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?xf(e):""}function wG(e){switch(e.tag){case 5:return xf(e.type);case 16:return xf("Lazy");case 13:return xf("Suspense");case 19:return xf("SuspenseList");case 0:case 2:case 15:return e=ox(e.type,!1),e;case 11:return e=ox(e.type.render,!1),e;case 1:return e=ox(e.type,!0),e;default:return""}}function qb(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Uh:return"Fragment";case Vh:return"Portal";case Hb:return"Profiler";case hk:return"StrictMode";case Xb:return"Suspense";case Yb:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case FR:return(e.displayName||"Context")+".Consumer";case IR:return(e._context.displayName||"Context")+".Provider";case ck:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case dk:return n=e.displayName||null,n!==null?n:qb(e.type)||"Memo";case Ml:n=e._payload,e=e._init;try{return qb(e(n))}catch{}}return null}function SG(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qb(n);case 8:return n===hk?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Xl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function BR(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function PG(e){var n=BR(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),a=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,d=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){a=""+p,d.call(this,p)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Zg(e){e._valueTracker||(e._valueTracker=PG(e))}function $R(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),a="";return e&&(a=BR(e)?e.checked?"true":"false":e.value),e=a,e!==s?(n.setValue(e),!0):!1}function vy(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Zb(e,n){var s=n.checked;return pi({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function bC(e,n){var s=n.defaultValue==null?"":n.defaultValue,a=n.checked!=null?n.checked:n.defaultChecked;s=Xl(n.value!=null?n.value:s),e._wrapperState={initialChecked:a,initialValue:s,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function zR(e,n){n=n.checked,n!=null&&uk(e,"checked",n,!1)}function Jb(e,n){zR(e,n);var s=Xl(n.value),a=n.type;if(s!=null)a==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Qb(e,n.type,s):n.hasOwnProperty("defaultValue")&&Qb(e,n.type,Xl(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function wC(e,n,s){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var a=n.type;if(!(a!=="submit"&&a!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,s||n===e.value||(e.value=n),e.defaultValue=n}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Qb(e,n,s){(n!=="number"||vy(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var bf=Array.isArray;function uc(e,n,s,a){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&a&&(e[s].defaultSelected=!0)}else{for(s=""+Xl(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,a&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function tw(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(ae(91));return pi({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function SC(e,n){var s=n.value;if(s==null){if(s=n.children,n=n.defaultValue,s!=null){if(n!=null)throw Error(ae(92));if(bf(s)){if(1<s.length)throw Error(ae(93));s=s[0]}n=s}n==null&&(n=""),s=n}e._wrapperState={initialValue:Xl(s)}}function VR(e,n){var s=Xl(n.value),a=Xl(n.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),n.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),a!=null&&(e.defaultValue=""+a)}function PC(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function UR(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ew(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?UR(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Jg,KR=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,s,a,h){MSApp.execUnsafeLocalFunction(function(){return e(n,s,a,h)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Jg=Jg||document.createElement("div"),Jg.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Jg.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function ep(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Ef={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kG=["Webkit","ms","Moz","O"];Object.keys(Ef).forEach(function(e){kG.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Ef[n]=Ef[e]})});function GR(e,n,s){return n==null||typeof n=="boolean"||n===""?"":s||typeof n!="number"||n===0||Ef.hasOwnProperty(e)&&Ef[e]?(""+n).trim():n+"px"}function WR(e,n){e=e.style;for(var s in n)if(n.hasOwnProperty(s)){var a=s.indexOf("--")===0,h=GR(s,n[s],a);s==="float"&&(s="cssFloat"),a?e.setProperty(s,h):e[s]=h}}var TG=pi({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nw(e,n){if(n){if(TG[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(ae(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(ae(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(ae(61))}if(n.style!=null&&typeof n.style!="object")throw Error(ae(62))}}function iw(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rw=null;function fk(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var sw=null,hc=null,cc=null;function kC(e){if(e=bg(e)){if(typeof sw!="function")throw Error(ae(280));var n=e.stateNode;n&&(n=hv(n),sw(e.stateNode,e.type,n))}}function HR(e){hc?cc?cc.push(e):cc=[e]:hc=e}function XR(){if(hc){var e=hc,n=cc;if(cc=hc=null,kC(e),n)for(e=0;e<n.length;e++)kC(n[e])}}function YR(e,n){return e(n)}function qR(){}var ax=!1;function ZR(e,n,s){if(ax)return e(n,s);ax=!0;try{return YR(e,n,s)}finally{ax=!1,(hc!==null||cc!==null)&&(qR(),XR())}}function np(e,n){var s=e.stateNode;if(s===null)return null;var a=hv(s);if(a===null)return null;s=a[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(ae(231,n,typeof s));return s}var ow=!1;if(Ya)try{var Jd={};Object.defineProperty(Jd,"passive",{get:function(){ow=!0}}),window.addEventListener("test",Jd,Jd),window.removeEventListener("test",Jd,Jd)}catch{ow=!1}function MG(e,n,s,a,h,d,p,v,x){var S=Array.prototype.slice.call(arguments,3);try{n.apply(s,S)}catch(M){this.onError(M)}}var Lf=!1,xy=null,by=!1,aw=null,AG={onError:function(e){Lf=!0,xy=e}};function CG(e,n,s,a,h,d,p,v,x){Lf=!1,xy=null,MG.apply(AG,arguments)}function OG(e,n,s,a,h,d,p,v,x){if(CG.apply(this,arguments),Lf){if(Lf){var S=xy;Lf=!1,xy=null}else throw Error(ae(198));by||(by=!0,aw=S)}}function dh(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function JR(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function TC(e){if(dh(e)!==e)throw Error(ae(188))}function NG(e){var n=e.alternate;if(!n){if(n=dh(e),n===null)throw Error(ae(188));return n!==e?null:e}for(var s=e,a=n;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(a=h.return,a!==null){s=a;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return TC(h),e;if(d===a)return TC(h),n;d=d.sibling}throw Error(ae(188))}if(s.return!==a.return)s=h,a=d;else{for(var p=!1,v=h.child;v;){if(v===s){p=!0,s=h,a=d;break}if(v===a){p=!0,a=h,s=d;break}v=v.sibling}if(!p){for(v=d.child;v;){if(v===s){p=!0,s=d,a=h;break}if(v===a){p=!0,a=d,s=h;break}v=v.sibling}if(!p)throw Error(ae(189))}}if(s.alternate!==a)throw Error(ae(190))}if(s.tag!==3)throw Error(ae(188));return s.stateNode.current===s?e:n}function QR(e){return e=NG(e),e!==null?tI(e):null}function tI(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=tI(e);if(n!==null)return n;e=e.sibling}return null}var eI=Ns.unstable_scheduleCallback,MC=Ns.unstable_cancelCallback,EG=Ns.unstable_shouldYield,LG=Ns.unstable_requestPaint,Ai=Ns.unstable_now,_G=Ns.unstable_getCurrentPriorityLevel,pk=Ns.unstable_ImmediatePriority,nI=Ns.unstable_UserBlockingPriority,wy=Ns.unstable_NormalPriority,DG=Ns.unstable_LowPriority,iI=Ns.unstable_IdlePriority,ov=null,ea=null;function RG(e){if(ea&&typeof ea.onCommitFiberRoot=="function")try{ea.onCommitFiberRoot(ov,e,void 0,(e.current.flags&128)===128)}catch{}}var Oo=Math.clz32?Math.clz32:jG,IG=Math.log,FG=Math.LN2;function jG(e){return e>>>=0,e===0?32:31-(IG(e)/FG|0)|0}var Qg=64,tm=4194304;function wf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Sy(e,n){var s=e.pendingLanes;if(s===0)return 0;var a=0,h=e.suspendedLanes,d=e.pingedLanes,p=s&268435455;if(p!==0){var v=p&~h;v!==0?a=wf(v):(d&=p,d!==0&&(a=wf(d)))}else p=s&~h,p!==0?a=wf(p):d!==0&&(a=wf(d));if(a===0)return 0;if(n!==0&&n!==a&&!(n&h)&&(h=a&-a,d=n&-n,h>=d||h===16&&(d&4194240)!==0))return n;if(a&4&&(a|=s&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=a;0<n;)s=31-Oo(n),h=1<<s,a|=e[s],n&=~h;return a}function BG(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $G(e,n){for(var s=e.suspendedLanes,a=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes;0<d;){var p=31-Oo(d),v=1<<p,x=h[p];x===-1?(!(v&s)||v&a)&&(h[p]=BG(v,n)):x<=n&&(e.expiredLanes|=v),d&=~v}}function lw(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function rI(){var e=Qg;return Qg<<=1,!(Qg&4194240)&&(Qg=64),e}function lx(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function vg(e,n,s){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Oo(n),e[n]=s}function zG(e,n){var s=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<s;){var h=31-Oo(s),d=1<<h;n[h]=0,a[h]=-1,e[h]=-1,s&=~d}}function gk(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var a=31-Oo(s),h=1<<a;h&n|e[a]&n&&(e[a]|=n),s&=~h}}var Mn=0;function sI(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var oI,mk,aI,lI,uI,uw=!1,em=[],Fl=null,jl=null,Bl=null,ip=new Map,rp=new Map,Ol=[],VG="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function AC(e,n){switch(e){case"focusin":case"focusout":Fl=null;break;case"dragenter":case"dragleave":jl=null;break;case"mouseover":case"mouseout":Bl=null;break;case"pointerover":case"pointerout":ip.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":rp.delete(n.pointerId)}}function Qd(e,n,s,a,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:s,eventSystemFlags:a,nativeEvent:d,targetContainers:[h]},n!==null&&(n=bg(n),n!==null&&mk(n)),e):(e.eventSystemFlags|=a,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function UG(e,n,s,a,h){switch(n){case"focusin":return Fl=Qd(Fl,e,n,s,a,h),!0;case"dragenter":return jl=Qd(jl,e,n,s,a,h),!0;case"mouseover":return Bl=Qd(Bl,e,n,s,a,h),!0;case"pointerover":var d=h.pointerId;return ip.set(d,Qd(ip.get(d)||null,e,n,s,a,h)),!0;case"gotpointercapture":return d=h.pointerId,rp.set(d,Qd(rp.get(d)||null,e,n,s,a,h)),!0}return!1}function hI(e){var n=Lu(e.target);if(n!==null){var s=dh(n);if(s!==null){if(n=s.tag,n===13){if(n=JR(s),n!==null){e.blockedOn=n,uI(e.priority,function(){aI(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Um(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=hw(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var a=new s.constructor(s.type,s);rw=a,s.target.dispatchEvent(a),rw=null}else return n=bg(s),n!==null&&mk(n),e.blockedOn=s,!1;n.shift()}return!0}function CC(e,n,s){Um(e)&&s.delete(n)}function KG(){uw=!1,Fl!==null&&Um(Fl)&&(Fl=null),jl!==null&&Um(jl)&&(jl=null),Bl!==null&&Um(Bl)&&(Bl=null),ip.forEach(CC),rp.forEach(CC)}function tf(e,n){e.blockedOn===n&&(e.blockedOn=null,uw||(uw=!0,Ns.unstable_scheduleCallback(Ns.unstable_NormalPriority,KG)))}function sp(e){function n(h){return tf(h,e)}if(0<em.length){tf(em[0],e);for(var s=1;s<em.length;s++){var a=em[s];a.blockedOn===e&&(a.blockedOn=null)}}for(Fl!==null&&tf(Fl,e),jl!==null&&tf(jl,e),Bl!==null&&tf(Bl,e),ip.forEach(n),rp.forEach(n),s=0;s<Ol.length;s++)a=Ol[s],a.blockedOn===e&&(a.blockedOn=null);for(;0<Ol.length&&(s=Ol[0],s.blockedOn===null);)hI(s),s.blockedOn===null&&Ol.shift()}var dc=ol.ReactCurrentBatchConfig,Py=!0;function GG(e,n,s,a){var h=Mn,d=dc.transition;dc.transition=null;try{Mn=1,yk(e,n,s,a)}finally{Mn=h,dc.transition=d}}function WG(e,n,s,a){var h=Mn,d=dc.transition;dc.transition=null;try{Mn=4,yk(e,n,s,a)}finally{Mn=h,dc.transition=d}}function yk(e,n,s,a){if(Py){var h=hw(e,n,s,a);if(h===null)vx(e,n,a,ky,s),AC(e,a);else if(UG(h,e,n,s,a))a.stopPropagation();else if(AC(e,a),n&4&&-1<VG.indexOf(e)){for(;h!==null;){var d=bg(h);if(d!==null&&oI(d),d=hw(e,n,s,a),d===null&&vx(e,n,a,ky,s),d===h)break;h=d}h!==null&&a.stopPropagation()}else vx(e,n,a,null,s)}}var ky=null;function hw(e,n,s,a){if(ky=null,e=fk(a),e=Lu(e),e!==null)if(n=dh(e),n===null)e=null;else if(s=n.tag,s===13){if(e=JR(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return ky=e,null}function cI(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_G()){case pk:return 1;case nI:return 4;case wy:case DG:return 16;case iI:return 536870912;default:return 16}default:return 16}}var _l=null,vk=null,Km=null;function dI(){if(Km)return Km;var e,n=vk,s=n.length,a,h="value"in _l?_l.value:_l.textContent,d=h.length;for(e=0;e<s&&n[e]===h[e];e++);var p=s-e;for(a=1;a<=p&&n[s-a]===h[d-a];a++);return Km=h.slice(e,1<a?1-a:void 0)}function Gm(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function nm(){return!0}function OC(){return!1}function _s(e){function n(s,a,h,d,p){this._reactName=s,this._targetInst=h,this.type=a,this.nativeEvent=d,this.target=p,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(s=e[v],this[v]=s?s(d):d[v]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?nm:OC,this.isPropagationStopped=OC,this}return pi(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=nm)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=nm)},persist:function(){},isPersistent:nm}),n}var cd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xk=_s(cd),xg=pi({},cd,{view:0,detail:0}),HG=_s(xg),ux,hx,ef,av=pi({},xg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bk,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ef&&(ef&&e.type==="mousemove"?(ux=e.screenX-ef.screenX,hx=e.screenY-ef.screenY):hx=ux=0,ef=e),ux)},movementY:function(e){return"movementY"in e?e.movementY:hx}}),NC=_s(av),XG=pi({},av,{dataTransfer:0}),YG=_s(XG),qG=pi({},xg,{relatedTarget:0}),cx=_s(qG),ZG=pi({},cd,{animationName:0,elapsedTime:0,pseudoElement:0}),JG=_s(ZG),QG=pi({},cd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),tW=_s(QG),eW=pi({},cd,{data:0}),EC=_s(eW),nW={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iW={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rW={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sW(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=rW[e])?!!n[e]:!1}function bk(){return sW}var oW=pi({},xg,{key:function(e){if(e.key){var n=nW[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Gm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?iW[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bk,charCode:function(e){return e.type==="keypress"?Gm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Gm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),aW=_s(oW),lW=pi({},av,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),LC=_s(lW),uW=pi({},xg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bk}),hW=_s(uW),cW=pi({},cd,{propertyName:0,elapsedTime:0,pseudoElement:0}),dW=_s(cW),fW=pi({},av,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),pW=_s(fW),gW=[9,13,27,32],wk=Ya&&"CompositionEvent"in window,_f=null;Ya&&"documentMode"in document&&(_f=document.documentMode);var mW=Ya&&"TextEvent"in window&&!_f,fI=Ya&&(!wk||_f&&8<_f&&11>=_f),_C=" ",DC=!1;function pI(e,n){switch(e){case"keyup":return gW.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gI(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Kh=!1;function yW(e,n){switch(e){case"compositionend":return gI(n);case"keypress":return n.which!==32?null:(DC=!0,_C);case"textInput":return e=n.data,e===_C&&DC?null:e;default:return null}}function vW(e,n){if(Kh)return e==="compositionend"||!wk&&pI(e,n)?(e=dI(),Km=vk=_l=null,Kh=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return fI&&n.locale!=="ko"?null:n.data;default:return null}}var xW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function RC(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!xW[e.type]:n==="textarea"}function mI(e,n,s,a){HR(a),n=Ty(n,"onChange"),0<n.length&&(s=new xk("onChange","change",null,s,a),e.push({event:s,listeners:n}))}var Df=null,op=null;function bW(e){AI(e,0)}function lv(e){var n=Hh(e);if($R(n))return e}function wW(e,n){if(e==="change")return n}var yI=!1;if(Ya){var dx;if(Ya){var fx="oninput"in document;if(!fx){var IC=document.createElement("div");IC.setAttribute("oninput","return;"),fx=typeof IC.oninput=="function"}dx=fx}else dx=!1;yI=dx&&(!document.documentMode||9<document.documentMode)}function FC(){Df&&(Df.detachEvent("onpropertychange",vI),op=Df=null)}function vI(e){if(e.propertyName==="value"&&lv(op)){var n=[];mI(n,op,e,fk(e)),ZR(bW,n)}}function SW(e,n,s){e==="focusin"?(FC(),Df=n,op=s,Df.attachEvent("onpropertychange",vI)):e==="focusout"&&FC()}function PW(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return lv(op)}function kW(e,n){if(e==="click")return lv(n)}function TW(e,n){if(e==="input"||e==="change")return lv(n)}function MW(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var _o=typeof Object.is=="function"?Object.is:MW;function ap(e,n){if(_o(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),a=Object.keys(n);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var h=s[a];if(!Wb.call(n,h)||!_o(e[h],n[h]))return!1}return!0}function jC(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function BC(e,n){var s=jC(e);e=0;for(var a;s;){if(s.nodeType===3){if(a=e+s.textContent.length,e<=n&&a>=n)return{node:s,offset:n-e};e=a}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=jC(s)}}function xI(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?xI(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function bI(){for(var e=window,n=vy();n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=vy(e.document)}return n}function Sk(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function AW(e){var n=bI(),s=e.focusedElem,a=e.selectionRange;if(n!==s&&s&&s.ownerDocument&&xI(s.ownerDocument.documentElement,s)){if(a!==null&&Sk(s)){if(n=a.start,e=a.end,e===void 0&&(e=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(e,s.value.length);else if(e=(n=s.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var h=s.textContent.length,d=Math.min(a.start,h);a=a.end===void 0?d:Math.min(a.end,h),!e.extend&&d>a&&(h=a,a=d,d=h),h=BC(s,d);var p=BC(s,a);h&&p&&(e.rangeCount!==1||e.anchorNode!==h.node||e.anchorOffset!==h.offset||e.focusNode!==p.node||e.focusOffset!==p.offset)&&(n=n.createRange(),n.setStart(h.node,h.offset),e.removeAllRanges(),d>a?(e.addRange(n),e.extend(p.node,p.offset)):(n.setEnd(p.node,p.offset),e.addRange(n)))}}for(n=[],e=s;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)e=n[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var CW=Ya&&"documentMode"in document&&11>=document.documentMode,Gh=null,cw=null,Rf=null,dw=!1;function $C(e,n,s){var a=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;dw||Gh==null||Gh!==vy(a)||(a=Gh,"selectionStart"in a&&Sk(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Rf&&ap(Rf,a)||(Rf=a,a=Ty(cw,"onSelect"),0<a.length&&(n=new xk("onSelect","select",null,n,s),e.push({event:n,listeners:a}),n.target=Gh)))}function im(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var Wh={animationend:im("Animation","AnimationEnd"),animationiteration:im("Animation","AnimationIteration"),animationstart:im("Animation","AnimationStart"),transitionend:im("Transition","TransitionEnd")},px={},wI={};Ya&&(wI=document.createElement("div").style,"AnimationEvent"in window||(delete Wh.animationend.animation,delete Wh.animationiteration.animation,delete Wh.animationstart.animation),"TransitionEvent"in window||delete Wh.transitionend.transition);function uv(e){if(px[e])return px[e];if(!Wh[e])return e;var n=Wh[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in wI)return px[e]=n[s];return e}var SI=uv("animationend"),PI=uv("animationiteration"),kI=uv("animationstart"),TI=uv("transitionend"),MI=new Map,zC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function iu(e,n){MI.set(e,n),ch(n,[e])}for(var gx=0;gx<zC.length;gx++){var mx=zC[gx],OW=mx.toLowerCase(),NW=mx[0].toUpperCase()+mx.slice(1);iu(OW,"on"+NW)}iu(SI,"onAnimationEnd");iu(PI,"onAnimationIteration");iu(kI,"onAnimationStart");iu("dblclick","onDoubleClick");iu("focusin","onFocus");iu("focusout","onBlur");iu(TI,"onTransitionEnd");Mc("onMouseEnter",["mouseout","mouseover"]);Mc("onMouseLeave",["mouseout","mouseover"]);Mc("onPointerEnter",["pointerout","pointerover"]);Mc("onPointerLeave",["pointerout","pointerover"]);ch("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ch("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ch("onBeforeInput",["compositionend","keypress","textInput","paste"]);ch("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ch("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ch("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EW=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sf));function VC(e,n,s){var a=e.type||"unknown-event";e.currentTarget=s,OG(a,n,void 0,e),e.currentTarget=null}function AI(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var a=e[s],h=a.event;a=a.listeners;t:{var d=void 0;if(n)for(var p=a.length-1;0<=p;p--){var v=a[p],x=v.instance,S=v.currentTarget;if(v=v.listener,x!==d&&h.isPropagationStopped())break t;VC(h,v,S),d=x}else for(p=0;p<a.length;p++){if(v=a[p],x=v.instance,S=v.currentTarget,v=v.listener,x!==d&&h.isPropagationStopped())break t;VC(h,v,S),d=x}}}if(by)throw e=aw,by=!1,aw=null,e}function Jn(e,n){var s=n[yw];s===void 0&&(s=n[yw]=new Set);var a=e+"__bubble";s.has(a)||(CI(n,e,2,!1),s.add(a))}function yx(e,n,s){var a=0;n&&(a|=4),CI(s,e,a,n)}var rm="_reactListening"+Math.random().toString(36).slice(2);function lp(e){if(!e[rm]){e[rm]=!0,RR.forEach(function(s){s!=="selectionchange"&&(EW.has(s)||yx(s,!1,e),yx(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[rm]||(n[rm]=!0,yx("selectionchange",!1,n))}}function CI(e,n,s,a){switch(cI(n)){case 1:var h=GG;break;case 4:h=WG;break;default:h=yk}s=h.bind(null,n,s,e),h=void 0,!ow||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),a?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function vx(e,n,s,a,h){var d=a;if(!(n&1)&&!(n&2)&&a!==null)t:for(;;){if(a===null)return;var p=a.tag;if(p===3||p===4){var v=a.stateNode.containerInfo;if(v===h||v.nodeType===8&&v.parentNode===h)break;if(p===4)for(p=a.return;p!==null;){var x=p.tag;if((x===3||x===4)&&(x=p.stateNode.containerInfo,x===h||x.nodeType===8&&x.parentNode===h))return;p=p.return}for(;v!==null;){if(p=Lu(v),p===null)return;if(x=p.tag,x===5||x===6){a=d=p;continue t}v=v.parentNode}}a=a.return}ZR(function(){var S=d,M=fk(s),A=[];t:{var O=MI.get(e);if(O!==void 0){var B=xk,I=e;switch(e){case"keypress":if(Gm(s)===0)break t;case"keydown":case"keyup":B=aW;break;case"focusin":I="focus",B=cx;break;case"focusout":I="blur",B=cx;break;case"beforeblur":case"afterblur":B=cx;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=NC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=YG;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=hW;break;case SI:case PI:case kI:B=JG;break;case TI:B=dW;break;case"scroll":B=HG;break;case"wheel":B=pW;break;case"copy":case"cut":case"paste":B=tW;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=LC}var j=(n&4)!==0,V=!j&&e==="scroll",C=j?O!==null?O+"Capture":null:O;j=[];for(var z=S,F;z!==null;){F=z;var Y=F.stateNode;if(F.tag===5&&Y!==null&&(F=Y,C!==null&&(Y=np(z,C),Y!=null&&j.push(up(z,Y,F)))),V)break;z=z.return}0<j.length&&(O=new B(O,I,null,s,M),A.push({event:O,listeners:j}))}}if(!(n&7)){t:{if(O=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",O&&s!==rw&&(I=s.relatedTarget||s.fromElement)&&(Lu(I)||I[qa]))break t;if((B||O)&&(O=M.window===M?M:(O=M.ownerDocument)?O.defaultView||O.parentWindow:window,B?(I=s.relatedTarget||s.toElement,B=S,I=I?Lu(I):null,I!==null&&(V=dh(I),I!==V||I.tag!==5&&I.tag!==6)&&(I=null)):(B=null,I=S),B!==I)){if(j=NC,Y="onMouseLeave",C="onMouseEnter",z="mouse",(e==="pointerout"||e==="pointerover")&&(j=LC,Y="onPointerLeave",C="onPointerEnter",z="pointer"),V=B==null?O:Hh(B),F=I==null?O:Hh(I),O=new j(Y,z+"leave",B,s,M),O.target=V,O.relatedTarget=F,Y=null,Lu(M)===S&&(j=new j(C,z+"enter",I,s,M),j.target=F,j.relatedTarget=V,Y=j),V=Y,B&&I)e:{for(j=B,C=I,z=0,F=j;F;F=Eh(F))z++;for(F=0,Y=C;Y;Y=Eh(Y))F++;for(;0<z-F;)j=Eh(j),z--;for(;0<F-z;)C=Eh(C),F--;for(;z--;){if(j===C||C!==null&&j===C.alternate)break e;j=Eh(j),C=Eh(C)}j=null}else j=null;B!==null&&UC(A,O,B,j,!1),I!==null&&V!==null&&UC(A,V,I,j,!0)}}t:{if(O=S?Hh(S):window,B=O.nodeName&&O.nodeName.toLowerCase(),B==="select"||B==="input"&&O.type==="file")var U=wW;else if(RC(O))if(yI)U=TW;else{U=PW;var J=SW}else(B=O.nodeName)&&B.toLowerCase()==="input"&&(O.type==="checkbox"||O.type==="radio")&&(U=kW);if(U&&(U=U(e,S))){mI(A,U,s,M);break t}J&&J(e,O,S),e==="focusout"&&(J=O._wrapperState)&&J.controlled&&O.type==="number"&&Qb(O,"number",O.value)}switch(J=S?Hh(S):window,e){case"focusin":(RC(J)||J.contentEditable==="true")&&(Gh=J,cw=S,Rf=null);break;case"focusout":Rf=cw=Gh=null;break;case"mousedown":dw=!0;break;case"contextmenu":case"mouseup":case"dragend":dw=!1,$C(A,s,M);break;case"selectionchange":if(CW)break;case"keydown":case"keyup":$C(A,s,M)}var K;if(wk)t:{switch(e){case"compositionstart":var rt="onCompositionStart";break t;case"compositionend":rt="onCompositionEnd";break t;case"compositionupdate":rt="onCompositionUpdate";break t}rt=void 0}else Kh?pI(e,s)&&(rt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(rt="onCompositionStart");rt&&(fI&&s.locale!=="ko"&&(Kh||rt!=="onCompositionStart"?rt==="onCompositionEnd"&&Kh&&(K=dI()):(_l=M,vk="value"in _l?_l.value:_l.textContent,Kh=!0)),J=Ty(S,rt),0<J.length&&(rt=new EC(rt,e,null,s,M),A.push({event:rt,listeners:J}),K?rt.data=K:(K=gI(s),K!==null&&(rt.data=K)))),(K=mW?yW(e,s):vW(e,s))&&(S=Ty(S,"onBeforeInput"),0<S.length&&(M=new EC("onBeforeInput","beforeinput",null,s,M),A.push({event:M,listeners:S}),M.data=K))}AI(A,n)})}function up(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Ty(e,n){for(var s=n+"Capture",a=[];e!==null;){var h=e,d=h.stateNode;h.tag===5&&d!==null&&(h=d,d=np(e,s),d!=null&&a.unshift(up(e,d,h)),d=np(e,n),d!=null&&a.push(up(e,d,h))),e=e.return}return a}function Eh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function UC(e,n,s,a,h){for(var d=n._reactName,p=[];s!==null&&s!==a;){var v=s,x=v.alternate,S=v.stateNode;if(x!==null&&x===a)break;v.tag===5&&S!==null&&(v=S,h?(x=np(s,d),x!=null&&p.unshift(up(s,x,v))):h||(x=np(s,d),x!=null&&p.push(up(s,x,v)))),s=s.return}p.length!==0&&e.push({event:n,listeners:p})}var LW=/\r\n?/g,_W=/\u0000|\uFFFD/g;function KC(e){return(typeof e=="string"?e:""+e).replace(LW,`
`).replace(_W,"")}function sm(e,n,s){if(n=KC(n),KC(e)!==n&&s)throw Error(ae(425))}function My(){}var fw=null,pw=null;function gw(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var mw=typeof setTimeout=="function"?setTimeout:void 0,DW=typeof clearTimeout=="function"?clearTimeout:void 0,GC=typeof Promise=="function"?Promise:void 0,RW=typeof queueMicrotask=="function"?queueMicrotask:typeof GC<"u"?function(e){return GC.resolve(null).then(e).catch(IW)}:mw;function IW(e){setTimeout(function(){throw e})}function xx(e,n){var s=n,a=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"){if(a===0){e.removeChild(h),sp(n);return}a--}else s!=="$"&&s!=="$?"&&s!=="$!"||a++;s=h}while(s);sp(n)}function $l(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function WC(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}var dd=Math.random().toString(36).slice(2),Jo="__reactFiber$"+dd,hp="__reactProps$"+dd,qa="__reactContainer$"+dd,yw="__reactEvents$"+dd,FW="__reactListeners$"+dd,jW="__reactHandles$"+dd;function Lu(e){var n=e[Jo];if(n)return n;for(var s=e.parentNode;s;){if(n=s[qa]||s[Jo]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=WC(e);e!==null;){if(s=e[Jo])return s;e=WC(e)}return n}e=s,s=e.parentNode}return null}function bg(e){return e=e[Jo]||e[qa],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Hh(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ae(33))}function hv(e){return e[hp]||null}var vw=[],Xh=-1;function ru(e){return{current:e}}function ei(e){0>Xh||(e.current=vw[Xh],vw[Xh]=null,Xh--)}function Gn(e,n){Xh++,vw[Xh]=e.current,e.current=n}var Yl={},_r=ru(Yl),us=ru(!1),Ju=Yl;function Ac(e,n){var s=e.type.contextTypes;if(!s)return Yl;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===n)return a.__reactInternalMemoizedMaskedChildContext;var h={},d;for(d in s)h[d]=n[d];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=h),h}function hs(e){return e=e.childContextTypes,e!=null}function Ay(){ei(us),ei(_r)}function HC(e,n,s){if(_r.current!==Yl)throw Error(ae(168));Gn(_r,n),Gn(us,s)}function OI(e,n,s){var a=e.stateNode;if(n=n.childContextTypes,typeof a.getChildContext!="function")return s;a=a.getChildContext();for(var h in a)if(!(h in n))throw Error(ae(108,SG(e)||"Unknown",h));return pi({},s,a)}function Cy(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Yl,Ju=_r.current,Gn(_r,e),Gn(us,us.current),!0}function XC(e,n,s){var a=e.stateNode;if(!a)throw Error(ae(169));s?(e=OI(e,n,Ju),a.__reactInternalMemoizedMergedChildContext=e,ei(us),ei(_r),Gn(_r,e)):ei(us),Gn(us,s)}var Oa=null,cv=!1,bx=!1;function NI(e){Oa===null?Oa=[e]:Oa.push(e)}function BW(e){cv=!0,NI(e)}function su(){if(!bx&&Oa!==null){bx=!0;var e=0,n=Mn;try{var s=Oa;for(Mn=1;e<s.length;e++){var a=s[e];do a=a(!0);while(a!==null)}Oa=null,cv=!1}catch(h){throw Oa!==null&&(Oa=Oa.slice(e+1)),eI(pk,su),h}finally{Mn=n,bx=!1}}return null}var Yh=[],qh=0,Oy=null,Ny=0,Xs=[],Ys=0,Qu=null,Ea=1,La="";function Pu(e,n){Yh[qh++]=Ny,Yh[qh++]=Oy,Oy=e,Ny=n}function EI(e,n,s){Xs[Ys++]=Ea,Xs[Ys++]=La,Xs[Ys++]=Qu,Qu=e;var a=Ea;e=La;var h=32-Oo(a)-1;a&=~(1<<h),s+=1;var d=32-Oo(n)+h;if(30<d){var p=h-h%5;d=(a&(1<<p)-1).toString(32),a>>=p,h-=p,Ea=1<<32-Oo(n)+h|s<<h|a,La=d+e}else Ea=1<<d|s<<h|a,La=e}function Pk(e){e.return!==null&&(Pu(e,1),EI(e,1,0))}function kk(e){for(;e===Oy;)Oy=Yh[--qh],Yh[qh]=null,Ny=Yh[--qh],Yh[qh]=null;for(;e===Qu;)Qu=Xs[--Ys],Xs[Ys]=null,La=Xs[--Ys],Xs[Ys]=null,Ea=Xs[--Ys],Xs[Ys]=null}var Os=null,As=null,ii=!1,Po=null;function LI(e,n){var s=Js(5,null,null,0);s.elementType="DELETED",s.stateNode=n,s.return=e,n=e.deletions,n===null?(e.deletions=[s],e.flags|=16):n.push(s)}function YC(e,n){switch(e.tag){case 5:var s=e.type;return n=n.nodeType!==1||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,Os=e,As=$l(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,Os=e,As=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(s=Qu!==null?{id:Ea,overflow:La}:null,e.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},s=Js(18,null,null,0),s.stateNode=n,s.return=e,e.child=s,Os=e,As=null,!0):!1;default:return!1}}function xw(e){return(e.mode&1)!==0&&(e.flags&128)===0}function bw(e){if(ii){var n=As;if(n){var s=n;if(!YC(e,n)){if(xw(e))throw Error(ae(418));n=$l(s.nextSibling);var a=Os;n&&YC(e,n)?LI(a,s):(e.flags=e.flags&-4097|2,ii=!1,Os=e)}}else{if(xw(e))throw Error(ae(418));e.flags=e.flags&-4097|2,ii=!1,Os=e}}}function qC(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Os=e}function om(e){if(e!==Os)return!1;if(!ii)return qC(e),ii=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!gw(e.type,e.memoizedProps)),n&&(n=As)){if(xw(e))throw _I(),Error(ae(418));for(;n;)LI(e,n),n=$l(n.nextSibling)}if(qC(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ae(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(n===0){As=$l(e.nextSibling);break t}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++}e=e.nextSibling}As=null}}else As=Os?$l(e.stateNode.nextSibling):null;return!0}function _I(){for(var e=As;e;)e=$l(e.nextSibling)}function Cc(){As=Os=null,ii=!1}function Tk(e){Po===null?Po=[e]:Po.push(e)}var $W=ol.ReactCurrentBatchConfig;function nf(e,n,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(ae(309));var a=s.stateNode}if(!a)throw Error(ae(147,e));var h=a,d=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===d?n.ref:(n=function(p){var v=h.refs;p===null?delete v[d]:v[d]=p},n._stringRef=d,n)}if(typeof e!="string")throw Error(ae(284));if(!s._owner)throw Error(ae(290,e))}return e}function am(e,n){throw e=Object.prototype.toString.call(n),Error(ae(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function ZC(e){var n=e._init;return n(e._payload)}function DI(e){function n(C,z){if(e){var F=C.deletions;F===null?(C.deletions=[z],C.flags|=16):F.push(z)}}function s(C,z){if(!e)return null;for(;z!==null;)n(C,z),z=z.sibling;return null}function a(C,z){for(C=new Map;z!==null;)z.key!==null?C.set(z.key,z):C.set(z.index,z),z=z.sibling;return C}function h(C,z){return C=Kl(C,z),C.index=0,C.sibling=null,C}function d(C,z,F){return C.index=F,e?(F=C.alternate,F!==null?(F=F.index,F<z?(C.flags|=2,z):F):(C.flags|=2,z)):(C.flags|=1048576,z)}function p(C){return e&&C.alternate===null&&(C.flags|=2),C}function v(C,z,F,Y){return z===null||z.tag!==6?(z=Ax(F,C.mode,Y),z.return=C,z):(z=h(z,F),z.return=C,z)}function x(C,z,F,Y){var U=F.type;return U===Uh?M(C,z,F.props.children,Y,F.key):z!==null&&(z.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Ml&&ZC(U)===z.type)?(Y=h(z,F.props),Y.ref=nf(C,z,F),Y.return=C,Y):(Y=Jm(F.type,F.key,F.props,null,C.mode,Y),Y.ref=nf(C,z,F),Y.return=C,Y)}function S(C,z,F,Y){return z===null||z.tag!==4||z.stateNode.containerInfo!==F.containerInfo||z.stateNode.implementation!==F.implementation?(z=Cx(F,C.mode,Y),z.return=C,z):(z=h(z,F.children||[]),z.return=C,z)}function M(C,z,F,Y,U){return z===null||z.tag!==7?(z=Ku(F,C.mode,Y,U),z.return=C,z):(z=h(z,F),z.return=C,z)}function A(C,z,F){if(typeof z=="string"&&z!==""||typeof z=="number")return z=Ax(""+z,C.mode,F),z.return=C,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case qg:return F=Jm(z.type,z.key,z.props,null,C.mode,F),F.ref=nf(C,null,z),F.return=C,F;case Vh:return z=Cx(z,C.mode,F),z.return=C,z;case Ml:var Y=z._init;return A(C,Y(z._payload),F)}if(bf(z)||Zd(z))return z=Ku(z,C.mode,F,null),z.return=C,z;am(C,z)}return null}function O(C,z,F,Y){var U=z!==null?z.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return U!==null?null:v(C,z,""+F,Y);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case qg:return F.key===U?x(C,z,F,Y):null;case Vh:return F.key===U?S(C,z,F,Y):null;case Ml:return U=F._init,O(C,z,U(F._payload),Y)}if(bf(F)||Zd(F))return U!==null?null:M(C,z,F,Y,null);am(C,F)}return null}function B(C,z,F,Y,U){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return C=C.get(F)||null,v(z,C,""+Y,U);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case qg:return C=C.get(Y.key===null?F:Y.key)||null,x(z,C,Y,U);case Vh:return C=C.get(Y.key===null?F:Y.key)||null,S(z,C,Y,U);case Ml:var J=Y._init;return B(C,z,F,J(Y._payload),U)}if(bf(Y)||Zd(Y))return C=C.get(F)||null,M(z,C,Y,U,null);am(z,Y)}return null}function I(C,z,F,Y){for(var U=null,J=null,K=z,rt=z=0,gt=null;K!==null&&rt<F.length;rt++){K.index>rt?(gt=K,K=null):gt=K.sibling;var lt=O(C,K,F[rt],Y);if(lt===null){K===null&&(K=gt);break}e&&K&&lt.alternate===null&&n(C,K),z=d(lt,z,rt),J===null?U=lt:J.sibling=lt,J=lt,K=gt}if(rt===F.length)return s(C,K),ii&&Pu(C,rt),U;if(K===null){for(;rt<F.length;rt++)K=A(C,F[rt],Y),K!==null&&(z=d(K,z,rt),J===null?U=K:J.sibling=K,J=K);return ii&&Pu(C,rt),U}for(K=a(C,K);rt<F.length;rt++)gt=B(K,C,rt,F[rt],Y),gt!==null&&(e&&gt.alternate!==null&&K.delete(gt.key===null?rt:gt.key),z=d(gt,z,rt),J===null?U=gt:J.sibling=gt,J=gt);return e&&K.forEach(function(dt){return n(C,dt)}),ii&&Pu(C,rt),U}function j(C,z,F,Y){var U=Zd(F);if(typeof U!="function")throw Error(ae(150));if(F=U.call(F),F==null)throw Error(ae(151));for(var J=U=null,K=z,rt=z=0,gt=null,lt=F.next();K!==null&&!lt.done;rt++,lt=F.next()){K.index>rt?(gt=K,K=null):gt=K.sibling;var dt=O(C,K,lt.value,Y);if(dt===null){K===null&&(K=gt);break}e&&K&&dt.alternate===null&&n(C,K),z=d(dt,z,rt),J===null?U=dt:J.sibling=dt,J=dt,K=gt}if(lt.done)return s(C,K),ii&&Pu(C,rt),U;if(K===null){for(;!lt.done;rt++,lt=F.next())lt=A(C,lt.value,Y),lt!==null&&(z=d(lt,z,rt),J===null?U=lt:J.sibling=lt,J=lt);return ii&&Pu(C,rt),U}for(K=a(C,K);!lt.done;rt++,lt=F.next())lt=B(K,C,rt,lt.value,Y),lt!==null&&(e&&lt.alternate!==null&&K.delete(lt.key===null?rt:lt.key),z=d(lt,z,rt),J===null?U=lt:J.sibling=lt,J=lt);return e&&K.forEach(function(mt){return n(C,mt)}),ii&&Pu(C,rt),U}function V(C,z,F,Y){if(typeof F=="object"&&F!==null&&F.type===Uh&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case qg:t:{for(var U=F.key,J=z;J!==null;){if(J.key===U){if(U=F.type,U===Uh){if(J.tag===7){s(C,J.sibling),z=h(J,F.props.children),z.return=C,C=z;break t}}else if(J.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Ml&&ZC(U)===J.type){s(C,J.sibling),z=h(J,F.props),z.ref=nf(C,J,F),z.return=C,C=z;break t}s(C,J);break}else n(C,J);J=J.sibling}F.type===Uh?(z=Ku(F.props.children,C.mode,Y,F.key),z.return=C,C=z):(Y=Jm(F.type,F.key,F.props,null,C.mode,Y),Y.ref=nf(C,z,F),Y.return=C,C=Y)}return p(C);case Vh:t:{for(J=F.key;z!==null;){if(z.key===J)if(z.tag===4&&z.stateNode.containerInfo===F.containerInfo&&z.stateNode.implementation===F.implementation){s(C,z.sibling),z=h(z,F.children||[]),z.return=C,C=z;break t}else{s(C,z);break}else n(C,z);z=z.sibling}z=Cx(F,C.mode,Y),z.return=C,C=z}return p(C);case Ml:return J=F._init,V(C,z,J(F._payload),Y)}if(bf(F))return I(C,z,F,Y);if(Zd(F))return j(C,z,F,Y);am(C,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,z!==null&&z.tag===6?(s(C,z.sibling),z=h(z,F),z.return=C,C=z):(s(C,z),z=Ax(F,C.mode,Y),z.return=C,C=z),p(C)):s(C,z)}return V}var Oc=DI(!0),RI=DI(!1),Ey=ru(null),Ly=null,Zh=null,Mk=null;function Ak(){Mk=Zh=Ly=null}function Ck(e){var n=Ey.current;ei(Ey),e._currentValue=n}function ww(e,n,s){for(;e!==null;){var a=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,a!==null&&(a.childLanes|=n)):a!==null&&(a.childLanes&n)!==n&&(a.childLanes|=n),e===s)break;e=e.return}}function fc(e,n){Ly=e,Mk=Zh=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(ss=!0),e.firstContext=null)}function io(e){var n=e._currentValue;if(Mk!==e)if(e={context:e,memoizedValue:n,next:null},Zh===null){if(Ly===null)throw Error(ae(308));Zh=e,Ly.dependencies={lanes:0,firstContext:e}}else Zh=Zh.next=e;return n}var _u=null;function Ok(e){_u===null?_u=[e]:_u.push(e)}function II(e,n,s,a){var h=n.interleaved;return h===null?(s.next=s,Ok(n)):(s.next=h.next,h.next=s),n.interleaved=s,Za(e,a)}function Za(e,n){e.lanes|=n;var s=e.alternate;for(s!==null&&(s.lanes|=n),s=e,e=e.return;e!==null;)e.childLanes|=n,s=e.alternate,s!==null&&(s.childLanes|=n),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Al=!1;function Nk(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function FI(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ba(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function zl(e,n,s){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,un&2){var h=a.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),a.pending=n,Za(e,s)}return h=a.interleaved,h===null?(n.next=n,Ok(a)):(n.next=h.next,h.next=n),a.interleaved=n,Za(e,s)}function Wm(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194240)!==0)){var a=n.lanes;a&=e.pendingLanes,s|=a,n.lanes=s,gk(e,s)}}function JC(e,n){var s=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,s===a)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var p={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};d===null?h=d=p:d=d.next=p,s=s.next}while(s!==null);d===null?h=d=n:d=d.next=n}else h=d=n;s={baseState:a.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:a.shared,effects:a.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}function _y(e,n,s,a){var h=e.updateQueue;Al=!1;var d=h.firstBaseUpdate,p=h.lastBaseUpdate,v=h.shared.pending;if(v!==null){h.shared.pending=null;var x=v,S=x.next;x.next=null,p===null?d=S:p.next=S,p=x;var M=e.alternate;M!==null&&(M=M.updateQueue,v=M.lastBaseUpdate,v!==p&&(v===null?M.firstBaseUpdate=S:v.next=S,M.lastBaseUpdate=x))}if(d!==null){var A=h.baseState;p=0,M=S=x=null,v=d;do{var O=v.lane,B=v.eventTime;if((a&O)===O){M!==null&&(M=M.next={eventTime:B,lane:0,tag:v.tag,payload:v.payload,callback:v.callback,next:null});t:{var I=e,j=v;switch(O=n,B=s,j.tag){case 1:if(I=j.payload,typeof I=="function"){A=I.call(B,A,O);break t}A=I;break t;case 3:I.flags=I.flags&-65537|128;case 0:if(I=j.payload,O=typeof I=="function"?I.call(B,A,O):I,O==null)break t;A=pi({},A,O);break t;case 2:Al=!0}}v.callback!==null&&v.lane!==0&&(e.flags|=64,O=h.effects,O===null?h.effects=[v]:O.push(v))}else B={eventTime:B,lane:O,tag:v.tag,payload:v.payload,callback:v.callback,next:null},M===null?(S=M=B,x=A):M=M.next=B,p|=O;if(v=v.next,v===null){if(v=h.shared.pending,v===null)break;O=v,v=O.next,O.next=null,h.lastBaseUpdate=O,h.shared.pending=null}}while(!0);if(M===null&&(x=A),h.baseState=x,h.firstBaseUpdate=S,h.lastBaseUpdate=M,n=h.shared.interleaved,n!==null){h=n;do p|=h.lane,h=h.next;while(h!==n)}else d===null&&(h.shared.lanes=0);eh|=p,e.lanes=p,e.memoizedState=A}}function QC(e,n,s){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var a=e[n],h=a.callback;if(h!==null){if(a.callback=null,a=s,typeof h!="function")throw Error(ae(191,h));h.call(a)}}}var wg={},na=ru(wg),cp=ru(wg),dp=ru(wg);function Du(e){if(e===wg)throw Error(ae(174));return e}function Ek(e,n){switch(Gn(dp,n),Gn(cp,e),Gn(na,wg),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:ew(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=ew(n,e)}ei(na),Gn(na,n)}function Nc(){ei(na),ei(cp),ei(dp)}function jI(e){Du(dp.current);var n=Du(na.current),s=ew(n,e.type);n!==s&&(Gn(cp,e),Gn(na,s))}function Lk(e){cp.current===e&&(ei(na),ei(cp))}var hi=ru(0);function Dy(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var wx=[];function _k(){for(var e=0;e<wx.length;e++)wx[e]._workInProgressVersionPrimary=null;wx.length=0}var Hm=ol.ReactCurrentDispatcher,Sx=ol.ReactCurrentBatchConfig,th=0,fi=null,$i=null,tr=null,Ry=!1,If=!1,fp=0,zW=0;function Pr(){throw Error(ae(321))}function Dk(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!_o(e[s],n[s]))return!1;return!0}function Rk(e,n,s,a,h,d){if(th=d,fi=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Hm.current=e===null||e.memoizedState===null?GW:WW,e=s(a,h),If){d=0;do{if(If=!1,fp=0,25<=d)throw Error(ae(301));d+=1,tr=$i=null,n.updateQueue=null,Hm.current=HW,e=s(a,h)}while(If)}if(Hm.current=Iy,n=$i!==null&&$i.next!==null,th=0,tr=$i=fi=null,Ry=!1,n)throw Error(ae(300));return e}function Ik(){var e=fp!==0;return fp=0,e}function Ho(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tr===null?fi.memoizedState=tr=e:tr=tr.next=e,tr}function ro(){if($i===null){var e=fi.alternate;e=e!==null?e.memoizedState:null}else e=$i.next;var n=tr===null?fi.memoizedState:tr.next;if(n!==null)tr=n,$i=e;else{if(e===null)throw Error(ae(310));$i=e,e={memoizedState:$i.memoizedState,baseState:$i.baseState,baseQueue:$i.baseQueue,queue:$i.queue,next:null},tr===null?fi.memoizedState=tr=e:tr=tr.next=e}return tr}function pp(e,n){return typeof n=="function"?n(e):n}function Px(e){var n=ro(),s=n.queue;if(s===null)throw Error(ae(311));s.lastRenderedReducer=e;var a=$i,h=a.baseQueue,d=s.pending;if(d!==null){if(h!==null){var p=h.next;h.next=d.next,d.next=p}a.baseQueue=h=d,s.pending=null}if(h!==null){d=h.next,a=a.baseState;var v=p=null,x=null,S=d;do{var M=S.lane;if((th&M)===M)x!==null&&(x=x.next={lane:0,action:S.action,hasEagerState:S.hasEagerState,eagerState:S.eagerState,next:null}),a=S.hasEagerState?S.eagerState:e(a,S.action);else{var A={lane:M,action:S.action,hasEagerState:S.hasEagerState,eagerState:S.eagerState,next:null};x===null?(v=x=A,p=a):x=x.next=A,fi.lanes|=M,eh|=M}S=S.next}while(S!==null&&S!==d);x===null?p=a:x.next=v,_o(a,n.memoizedState)||(ss=!0),n.memoizedState=a,n.baseState=p,n.baseQueue=x,s.lastRenderedState=a}if(e=s.interleaved,e!==null){h=e;do d=h.lane,fi.lanes|=d,eh|=d,h=h.next;while(h!==e)}else h===null&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function kx(e){var n=ro(),s=n.queue;if(s===null)throw Error(ae(311));s.lastRenderedReducer=e;var a=s.dispatch,h=s.pending,d=n.memoizedState;if(h!==null){s.pending=null;var p=h=h.next;do d=e(d,p.action),p=p.next;while(p!==h);_o(d,n.memoizedState)||(ss=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),s.lastRenderedState=d}return[d,a]}function BI(){}function $I(e,n){var s=fi,a=ro(),h=n(),d=!_o(a.memoizedState,h);if(d&&(a.memoizedState=h,ss=!0),a=a.queue,Fk(UI.bind(null,s,a,e),[e]),a.getSnapshot!==n||d||tr!==null&&tr.memoizedState.tag&1){if(s.flags|=2048,gp(9,VI.bind(null,s,a,h,n),void 0,null),nr===null)throw Error(ae(349));th&30||zI(s,n,h)}return h}function zI(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=fi.updateQueue,n===null?(n={lastEffect:null,stores:null},fi.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function VI(e,n,s,a){n.value=s,n.getSnapshot=a,KI(n)&&GI(e)}function UI(e,n,s){return s(function(){KI(n)&&GI(e)})}function KI(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!_o(e,s)}catch{return!0}}function GI(e){var n=Za(e,1);n!==null&&No(n,e,1,-1)}function t2(e){var n=Ho();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pp,lastRenderedState:e},n.queue=e,e=e.dispatch=KW.bind(null,fi,e),[n.memoizedState,e]}function gp(e,n,s,a){return e={tag:e,create:n,destroy:s,deps:a,next:null},n=fi.updateQueue,n===null?(n={lastEffect:null,stores:null},fi.updateQueue=n,n.lastEffect=e.next=e):(s=n.lastEffect,s===null?n.lastEffect=e.next=e:(a=s.next,s.next=e,e.next=a,n.lastEffect=e)),e}function WI(){return ro().memoizedState}function Xm(e,n,s,a){var h=Ho();fi.flags|=e,h.memoizedState=gp(1|n,s,void 0,a===void 0?null:a)}function dv(e,n,s,a){var h=ro();a=a===void 0?null:a;var d=void 0;if($i!==null){var p=$i.memoizedState;if(d=p.destroy,a!==null&&Dk(a,p.deps)){h.memoizedState=gp(n,s,d,a);return}}fi.flags|=e,h.memoizedState=gp(1|n,s,d,a)}function e2(e,n){return Xm(8390656,8,e,n)}function Fk(e,n){return dv(2048,8,e,n)}function HI(e,n){return dv(4,2,e,n)}function XI(e,n){return dv(4,4,e,n)}function YI(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function qI(e,n,s){return s=s!=null?s.concat([e]):null,dv(4,4,YI.bind(null,n,e),s)}function jk(){}function ZI(e,n){var s=ro();n=n===void 0?null:n;var a=s.memoizedState;return a!==null&&n!==null&&Dk(n,a[1])?a[0]:(s.memoizedState=[e,n],e)}function JI(e,n){var s=ro();n=n===void 0?null:n;var a=s.memoizedState;return a!==null&&n!==null&&Dk(n,a[1])?a[0]:(e=e(),s.memoizedState=[e,n],e)}function QI(e,n,s){return th&21?(_o(s,n)||(s=rI(),fi.lanes|=s,eh|=s,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,ss=!0),e.memoizedState=s)}function VW(e,n){var s=Mn;Mn=s!==0&&4>s?s:4,e(!0);var a=Sx.transition;Sx.transition={};try{e(!1),n()}finally{Mn=s,Sx.transition=a}}function tF(){return ro().memoizedState}function UW(e,n,s){var a=Ul(e);if(s={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null},eF(e))nF(n,s);else if(s=II(e,n,s,a),s!==null){var h=Kr();No(s,e,a,h),iF(s,n,a)}}function KW(e,n,s){var a=Ul(e),h={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null};if(eF(e))nF(n,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var p=n.lastRenderedState,v=d(p,s);if(h.hasEagerState=!0,h.eagerState=v,_o(v,p)){var x=n.interleaved;x===null?(h.next=h,Ok(n)):(h.next=x.next,x.next=h),n.interleaved=h;return}}catch{}finally{}s=II(e,n,h,a),s!==null&&(h=Kr(),No(s,e,a,h),iF(s,n,a))}}function eF(e){var n=e.alternate;return e===fi||n!==null&&n===fi}function nF(e,n){If=Ry=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function iF(e,n,s){if(s&4194240){var a=n.lanes;a&=e.pendingLanes,s|=a,n.lanes=s,gk(e,s)}}var Iy={readContext:io,useCallback:Pr,useContext:Pr,useEffect:Pr,useImperativeHandle:Pr,useInsertionEffect:Pr,useLayoutEffect:Pr,useMemo:Pr,useReducer:Pr,useRef:Pr,useState:Pr,useDebugValue:Pr,useDeferredValue:Pr,useTransition:Pr,useMutableSource:Pr,useSyncExternalStore:Pr,useId:Pr,unstable_isNewReconciler:!1},GW={readContext:io,useCallback:function(e,n){return Ho().memoizedState=[e,n===void 0?null:n],e},useContext:io,useEffect:e2,useImperativeHandle:function(e,n,s){return s=s!=null?s.concat([e]):null,Xm(4194308,4,YI.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Xm(4194308,4,e,n)},useInsertionEffect:function(e,n){return Xm(4,2,e,n)},useMemo:function(e,n){var s=Ho();return n=n===void 0?null:n,e=e(),s.memoizedState=[e,n],e},useReducer:function(e,n,s){var a=Ho();return n=s!==void 0?s(n):n,a.memoizedState=a.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},a.queue=e,e=e.dispatch=UW.bind(null,fi,e),[a.memoizedState,e]},useRef:function(e){var n=Ho();return e={current:e},n.memoizedState=e},useState:t2,useDebugValue:jk,useDeferredValue:function(e){return Ho().memoizedState=e},useTransition:function(){var e=t2(!1),n=e[0];return e=VW.bind(null,e[1]),Ho().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,s){var a=fi,h=Ho();if(ii){if(s===void 0)throw Error(ae(407));s=s()}else{if(s=n(),nr===null)throw Error(ae(349));th&30||zI(a,n,s)}h.memoizedState=s;var d={value:s,getSnapshot:n};return h.queue=d,e2(UI.bind(null,a,d,e),[e]),a.flags|=2048,gp(9,VI.bind(null,a,d,s,n),void 0,null),s},useId:function(){var e=Ho(),n=nr.identifierPrefix;if(ii){var s=La,a=Ea;s=(a&~(1<<32-Oo(a)-1)).toString(32)+s,n=":"+n+"R"+s,s=fp++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=zW++,n=":"+n+"r"+s.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},WW={readContext:io,useCallback:ZI,useContext:io,useEffect:Fk,useImperativeHandle:qI,useInsertionEffect:HI,useLayoutEffect:XI,useMemo:JI,useReducer:Px,useRef:WI,useState:function(){return Px(pp)},useDebugValue:jk,useDeferredValue:function(e){var n=ro();return QI(n,$i.memoizedState,e)},useTransition:function(){var e=Px(pp)[0],n=ro().memoizedState;return[e,n]},useMutableSource:BI,useSyncExternalStore:$I,useId:tF,unstable_isNewReconciler:!1},HW={readContext:io,useCallback:ZI,useContext:io,useEffect:Fk,useImperativeHandle:qI,useInsertionEffect:HI,useLayoutEffect:XI,useMemo:JI,useReducer:kx,useRef:WI,useState:function(){return kx(pp)},useDebugValue:jk,useDeferredValue:function(e){var n=ro();return $i===null?n.memoizedState=e:QI(n,$i.memoizedState,e)},useTransition:function(){var e=kx(pp)[0],n=ro().memoizedState;return[e,n]},useMutableSource:BI,useSyncExternalStore:$I,useId:tF,unstable_isNewReconciler:!1};function bo(e,n){if(e&&e.defaultProps){n=pi({},n),e=e.defaultProps;for(var s in e)n[s]===void 0&&(n[s]=e[s]);return n}return n}function Sw(e,n,s,a){n=e.memoizedState,s=s(a,n),s=s==null?n:pi({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var fv={isMounted:function(e){return(e=e._reactInternals)?dh(e)===e:!1},enqueueSetState:function(e,n,s){e=e._reactInternals;var a=Kr(),h=Ul(e),d=Ba(a,h);d.payload=n,s!=null&&(d.callback=s),n=zl(e,d,h),n!==null&&(No(n,e,h,a),Wm(n,e,h))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var a=Kr(),h=Ul(e),d=Ba(a,h);d.tag=1,d.payload=n,s!=null&&(d.callback=s),n=zl(e,d,h),n!==null&&(No(n,e,h,a),Wm(n,e,h))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Kr(),a=Ul(e),h=Ba(s,a);h.tag=2,n!=null&&(h.callback=n),n=zl(e,h,a),n!==null&&(No(n,e,a,s),Wm(n,e,a))}};function n2(e,n,s,a,h,d,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,d,p):n.prototype&&n.prototype.isPureReactComponent?!ap(s,a)||!ap(h,d):!0}function rF(e,n,s){var a=!1,h=Yl,d=n.contextType;return typeof d=="object"&&d!==null?d=io(d):(h=hs(n)?Ju:_r.current,a=n.contextTypes,d=(a=a!=null)?Ac(e,h):Yl),n=new n(s,d),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=fv,e.stateNode=n,n._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=h,e.__reactInternalMemoizedMaskedChildContext=d),n}function i2(e,n,s,a){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,a),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,a),n.state!==e&&fv.enqueueReplaceState(n,n.state,null)}function Pw(e,n,s,a){var h=e.stateNode;h.props=s,h.state=e.memoizedState,h.refs={},Nk(e);var d=n.contextType;typeof d=="object"&&d!==null?h.context=io(d):(d=hs(n)?Ju:_r.current,h.context=Ac(e,d)),h.state=e.memoizedState,d=n.getDerivedStateFromProps,typeof d=="function"&&(Sw(e,n,d,s),h.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(n=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),n!==h.state&&fv.enqueueReplaceState(h,h.state,null),_y(e,s,h,a),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308)}function Ec(e,n){try{var s="",a=n;do s+=wG(a),a=a.return;while(a);var h=s}catch(d){h=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:n,stack:h,digest:null}}function Tx(e,n,s){return{value:e,source:null,stack:s??null,digest:n??null}}function kw(e,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var XW=typeof WeakMap=="function"?WeakMap:Map;function sF(e,n,s){s=Ba(-1,s),s.tag=3,s.payload={element:null};var a=n.value;return s.callback=function(){jy||(jy=!0,Dw=a),kw(e,n)},s}function oF(e,n,s){s=Ba(-1,s),s.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var h=n.value;s.payload=function(){return a(h)},s.callback=function(){kw(e,n)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(s.callback=function(){kw(e,n),typeof a!="function"&&(Vl===null?Vl=new Set([this]):Vl.add(this));var p=n.stack;this.componentDidCatch(n.value,{componentStack:p!==null?p:""})}),s}function r2(e,n,s){var a=e.pingCache;if(a===null){a=e.pingCache=new XW;var h=new Set;a.set(n,h)}else h=a.get(n),h===void 0&&(h=new Set,a.set(n,h));h.has(s)||(h.add(s),e=lH.bind(null,e,n,s),n.then(e,e))}function s2(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function o2(e,n,s,a,h){return e.mode&1?(e.flags|=65536,e.lanes=h,e):(e===n?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(n=Ba(-1,1),n.tag=2,zl(s,n,1))),s.lanes|=1),e)}var YW=ol.ReactCurrentOwner,ss=!1;function Vr(e,n,s,a){n.child=e===null?RI(n,null,s,a):Oc(n,e.child,s,a)}function a2(e,n,s,a,h){s=s.render;var d=n.ref;return fc(n,h),a=Rk(e,n,s,a,d,h),s=Ik(),e!==null&&!ss?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~h,Ja(e,n,h)):(ii&&s&&Pk(n),n.flags|=1,Vr(e,n,a,h),n.child)}function l2(e,n,s,a,h){if(e===null){var d=s.type;return typeof d=="function"&&!Wk(d)&&d.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(n.tag=15,n.type=d,aF(e,n,d,a,h)):(e=Jm(s.type,null,a,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!(e.lanes&h)){var p=d.memoizedProps;if(s=s.compare,s=s!==null?s:ap,s(p,a)&&e.ref===n.ref)return Ja(e,n,h)}return n.flags|=1,e=Kl(d,a),e.ref=n.ref,e.return=n,n.child=e}function aF(e,n,s,a,h){if(e!==null){var d=e.memoizedProps;if(ap(d,a)&&e.ref===n.ref)if(ss=!1,n.pendingProps=a=d,(e.lanes&h)!==0)e.flags&131072&&(ss=!0);else return n.lanes=e.lanes,Ja(e,n,h)}return Tw(e,n,s,a,h)}function lF(e,n,s){var a=n.pendingProps,h=a.children,d=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Gn(Qh,ks),ks|=s;else{if(!(s&1073741824))return e=d!==null?d.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Gn(Qh,ks),ks|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=d!==null?d.baseLanes:s,Gn(Qh,ks),ks|=a}else d!==null?(a=d.baseLanes|s,n.memoizedState=null):a=s,Gn(Qh,ks),ks|=a;return Vr(e,n,h,s),n.child}function uF(e,n){var s=n.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function Tw(e,n,s,a,h){var d=hs(s)?Ju:_r.current;return d=Ac(n,d),fc(n,h),s=Rk(e,n,s,a,d,h),a=Ik(),e!==null&&!ss?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~h,Ja(e,n,h)):(ii&&a&&Pk(n),n.flags|=1,Vr(e,n,s,h),n.child)}function u2(e,n,s,a,h){if(hs(s)){var d=!0;Cy(n)}else d=!1;if(fc(n,h),n.stateNode===null)Ym(e,n),rF(n,s,a),Pw(n,s,a,h),a=!0;else if(e===null){var p=n.stateNode,v=n.memoizedProps;p.props=v;var x=p.context,S=s.contextType;typeof S=="object"&&S!==null?S=io(S):(S=hs(s)?Ju:_r.current,S=Ac(n,S));var M=s.getDerivedStateFromProps,A=typeof M=="function"||typeof p.getSnapshotBeforeUpdate=="function";A||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==a||x!==S)&&i2(n,p,a,S),Al=!1;var O=n.memoizedState;p.state=O,_y(n,a,p,h),x=n.memoizedState,v!==a||O!==x||us.current||Al?(typeof M=="function"&&(Sw(n,s,M,a),x=n.memoizedState),(v=Al||n2(n,s,v,a,O,x,S))?(A||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(n.flags|=4194308)):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=a,n.memoizedState=x),p.props=a,p.state=x,p.context=S,a=v):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),a=!1)}else{p=n.stateNode,FI(e,n),v=n.memoizedProps,S=n.type===n.elementType?v:bo(n.type,v),p.props=S,A=n.pendingProps,O=p.context,x=s.contextType,typeof x=="object"&&x!==null?x=io(x):(x=hs(s)?Ju:_r.current,x=Ac(n,x));var B=s.getDerivedStateFromProps;(M=typeof B=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==A||O!==x)&&i2(n,p,a,x),Al=!1,O=n.memoizedState,p.state=O,_y(n,a,p,h);var I=n.memoizedState;v!==A||O!==I||us.current||Al?(typeof B=="function"&&(Sw(n,s,B,a),I=n.memoizedState),(S=Al||n2(n,s,S,a,O,I,x)||!1)?(M||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(a,I,x),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(a,I,x)),typeof p.componentDidUpdate=="function"&&(n.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof p.componentDidUpdate!="function"||v===e.memoizedProps&&O===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&O===e.memoizedState||(n.flags|=1024),n.memoizedProps=a,n.memoizedState=I),p.props=a,p.state=I,p.context=x,a=S):(typeof p.componentDidUpdate!="function"||v===e.memoizedProps&&O===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&O===e.memoizedState||(n.flags|=1024),a=!1)}return Mw(e,n,s,a,d,h)}function Mw(e,n,s,a,h,d){uF(e,n);var p=(n.flags&128)!==0;if(!a&&!p)return h&&XC(n,s,!1),Ja(e,n,d);a=n.stateNode,YW.current=n;var v=p&&typeof s.getDerivedStateFromError!="function"?null:a.render();return n.flags|=1,e!==null&&p?(n.child=Oc(n,e.child,null,d),n.child=Oc(n,null,v,d)):Vr(e,n,v,d),n.memoizedState=a.state,h&&XC(n,s,!0),n.child}function hF(e){var n=e.stateNode;n.pendingContext?HC(e,n.pendingContext,n.pendingContext!==n.context):n.context&&HC(e,n.context,!1),Ek(e,n.containerInfo)}function h2(e,n,s,a,h){return Cc(),Tk(h),n.flags|=256,Vr(e,n,s,a),n.child}var Aw={dehydrated:null,treeContext:null,retryLane:0};function Cw(e){return{baseLanes:e,cachePool:null,transitions:null}}function cF(e,n,s){var a=n.pendingProps,h=hi.current,d=!1,p=(n.flags&128)!==0,v;if((v=p)||(v=e!==null&&e.memoizedState===null?!1:(h&2)!==0),v?(d=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(h|=1),Gn(hi,h&1),e===null)return bw(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(p=a.children,e=a.fallback,d?(a=n.mode,d=n.child,p={mode:"hidden",children:p},!(a&1)&&d!==null?(d.childLanes=0,d.pendingProps=p):d=mv(p,a,0,null),e=Ku(e,a,s,null),d.return=n,e.return=n,d.sibling=e,n.child=d,n.child.memoizedState=Cw(s),n.memoizedState=Aw,e):Bk(n,p));if(h=e.memoizedState,h!==null&&(v=h.dehydrated,v!==null))return qW(e,n,p,a,v,h,s);if(d){d=a.fallback,p=n.mode,h=e.child,v=h.sibling;var x={mode:"hidden",children:a.children};return!(p&1)&&n.child!==h?(a=n.child,a.childLanes=0,a.pendingProps=x,n.deletions=null):(a=Kl(h,x),a.subtreeFlags=h.subtreeFlags&14680064),v!==null?d=Kl(v,d):(d=Ku(d,p,s,null),d.flags|=2),d.return=n,a.return=n,a.sibling=d,n.child=a,a=d,d=n.child,p=e.child.memoizedState,p=p===null?Cw(s):{baseLanes:p.baseLanes|s,cachePool:null,transitions:p.transitions},d.memoizedState=p,d.childLanes=e.childLanes&~s,n.memoizedState=Aw,a}return d=e.child,e=d.sibling,a=Kl(d,{mode:"visible",children:a.children}),!(n.mode&1)&&(a.lanes=s),a.return=n,a.sibling=null,e!==null&&(s=n.deletions,s===null?(n.deletions=[e],n.flags|=16):s.push(e)),n.child=a,n.memoizedState=null,a}function Bk(e,n){return n=mv({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function lm(e,n,s,a){return a!==null&&Tk(a),Oc(n,e.child,null,s),e=Bk(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function qW(e,n,s,a,h,d,p){if(s)return n.flags&256?(n.flags&=-257,a=Tx(Error(ae(422))),lm(e,n,p,a)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(d=a.fallback,h=n.mode,a=mv({mode:"visible",children:a.children},h,0,null),d=Ku(d,h,p,null),d.flags|=2,a.return=n,d.return=n,a.sibling=d,n.child=a,n.mode&1&&Oc(n,e.child,null,p),n.child.memoizedState=Cw(p),n.memoizedState=Aw,d);if(!(n.mode&1))return lm(e,n,p,null);if(h.data==="$!"){if(a=h.nextSibling&&h.nextSibling.dataset,a)var v=a.dgst;return a=v,d=Error(ae(419)),a=Tx(d,a,void 0),lm(e,n,p,a)}if(v=(p&e.childLanes)!==0,ss||v){if(a=nr,a!==null){switch(p&-p){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=h&(a.suspendedLanes|p)?0:h,h!==0&&h!==d.retryLane&&(d.retryLane=h,Za(e,h),No(a,e,h,-1))}return Gk(),a=Tx(Error(ae(421))),lm(e,n,p,a)}return h.data==="$?"?(n.flags|=128,n.child=e.child,n=uH.bind(null,e),h._reactRetry=n,null):(e=d.treeContext,As=$l(h.nextSibling),Os=n,ii=!0,Po=null,e!==null&&(Xs[Ys++]=Ea,Xs[Ys++]=La,Xs[Ys++]=Qu,Ea=e.id,La=e.overflow,Qu=n),n=Bk(n,a.children),n.flags|=4096,n)}function c2(e,n,s){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n),ww(e.return,n,s)}function Mx(e,n,s,a,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:h}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=a,d.tail=s,d.tailMode=h)}function dF(e,n,s){var a=n.pendingProps,h=a.revealOrder,d=a.tail;if(Vr(e,n,a.children,s),a=hi.current,a&2)a=a&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&c2(e,s,n);else if(e.tag===19)c2(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Gn(hi,a),!(n.mode&1))n.memoizedState=null;else switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Dy(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Mx(n,!1,h,s,d);break;case"backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Dy(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Mx(n,!0,s,null,d);break;case"together":Mx(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ym(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Ja(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),eh|=n.lanes,!(s&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(ae(153));if(n.child!==null){for(e=n.child,s=Kl(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Kl(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function ZW(e,n,s){switch(n.tag){case 3:hF(n),Cc();break;case 5:jI(n);break;case 1:hs(n.type)&&Cy(n);break;case 4:Ek(n,n.stateNode.containerInfo);break;case 10:var a=n.type._context,h=n.memoizedProps.value;Gn(Ey,a._currentValue),a._currentValue=h;break;case 13:if(a=n.memoizedState,a!==null)return a.dehydrated!==null?(Gn(hi,hi.current&1),n.flags|=128,null):s&n.child.childLanes?cF(e,n,s):(Gn(hi,hi.current&1),e=Ja(e,n,s),e!==null?e.sibling:null);Gn(hi,hi.current&1);break;case 19:if(a=(s&n.childLanes)!==0,e.flags&128){if(a)return dF(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Gn(hi,hi.current),a)break;return null;case 22:case 23:return n.lanes=0,lF(e,n,s)}return Ja(e,n,s)}var fF,Ow,pF,gF;fF=function(e,n){for(var s=n.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Ow=function(){};pF=function(e,n,s,a){var h=e.memoizedProps;if(h!==a){e=n.stateNode,Du(na.current);var d=null;switch(s){case"input":h=Zb(e,h),a=Zb(e,a),d=[];break;case"select":h=pi({},h,{value:void 0}),a=pi({},a,{value:void 0}),d=[];break;case"textarea":h=tw(e,h),a=tw(e,a),d=[];break;default:typeof h.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=My)}nw(s,a);var p;s=null;for(S in h)if(!a.hasOwnProperty(S)&&h.hasOwnProperty(S)&&h[S]!=null)if(S==="style"){var v=h[S];for(p in v)v.hasOwnProperty(p)&&(s||(s={}),s[p]="")}else S!=="dangerouslySetInnerHTML"&&S!=="children"&&S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(tp.hasOwnProperty(S)?d||(d=[]):(d=d||[]).push(S,null));for(S in a){var x=a[S];if(v=h!=null?h[S]:void 0,a.hasOwnProperty(S)&&x!==v&&(x!=null||v!=null))if(S==="style")if(v){for(p in v)!v.hasOwnProperty(p)||x&&x.hasOwnProperty(p)||(s||(s={}),s[p]="");for(p in x)x.hasOwnProperty(p)&&v[p]!==x[p]&&(s||(s={}),s[p]=x[p])}else s||(d||(d=[]),d.push(S,s)),s=x;else S==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,v=v?v.__html:void 0,x!=null&&v!==x&&(d=d||[]).push(S,x)):S==="children"?typeof x!="string"&&typeof x!="number"||(d=d||[]).push(S,""+x):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&(tp.hasOwnProperty(S)?(x!=null&&S==="onScroll"&&Jn("scroll",e),d||v===x||(d=[])):(d=d||[]).push(S,x))}s&&(d=d||[]).push("style",s);var S=d;(n.updateQueue=S)&&(n.flags|=4)}};gF=function(e,n,s,a){s!==a&&(n.flags|=4)};function rf(e,n){if(!ii)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function kr(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,a=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,a|=h.subtreeFlags&14680064,a|=h.flags&14680064,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,a|=h.subtreeFlags,a|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=a,e.childLanes=s,n}function JW(e,n,s){var a=n.pendingProps;switch(kk(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kr(n),null;case 1:return hs(n.type)&&Ay(),kr(n),null;case 3:return a=n.stateNode,Nc(),ei(us),ei(_r),_k(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(om(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Po!==null&&(Fw(Po),Po=null))),Ow(e,n),kr(n),null;case 5:Lk(n);var h=Du(dp.current);if(s=n.type,e!==null&&n.stateNode!=null)pF(e,n,s,a,h),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!a){if(n.stateNode===null)throw Error(ae(166));return kr(n),null}if(e=Du(na.current),om(n)){a=n.stateNode,s=n.type;var d=n.memoizedProps;switch(a[Jo]=n,a[hp]=d,e=(n.mode&1)!==0,s){case"dialog":Jn("cancel",a),Jn("close",a);break;case"iframe":case"object":case"embed":Jn("load",a);break;case"video":case"audio":for(h=0;h<Sf.length;h++)Jn(Sf[h],a);break;case"source":Jn("error",a);break;case"img":case"image":case"link":Jn("error",a),Jn("load",a);break;case"details":Jn("toggle",a);break;case"input":bC(a,d),Jn("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!d.multiple},Jn("invalid",a);break;case"textarea":SC(a,d),Jn("invalid",a)}nw(s,d),h=null;for(var p in d)if(d.hasOwnProperty(p)){var v=d[p];p==="children"?typeof v=="string"?a.textContent!==v&&(d.suppressHydrationWarning!==!0&&sm(a.textContent,v,e),h=["children",v]):typeof v=="number"&&a.textContent!==""+v&&(d.suppressHydrationWarning!==!0&&sm(a.textContent,v,e),h=["children",""+v]):tp.hasOwnProperty(p)&&v!=null&&p==="onScroll"&&Jn("scroll",a)}switch(s){case"input":Zg(a),wC(a,d,!0);break;case"textarea":Zg(a),PC(a);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(a.onclick=My)}a=h,n.updateQueue=a,a!==null&&(n.flags|=4)}else{p=h.nodeType===9?h:h.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=UR(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=p.createElement(s,{is:a.is}):(e=p.createElement(s),s==="select"&&(p=e,a.multiple?p.multiple=!0:a.size&&(p.size=a.size))):e=p.createElementNS(e,s),e[Jo]=n,e[hp]=a,fF(e,n,!1,!1),n.stateNode=e;t:{switch(p=iw(s,a),s){case"dialog":Jn("cancel",e),Jn("close",e),h=a;break;case"iframe":case"object":case"embed":Jn("load",e),h=a;break;case"video":case"audio":for(h=0;h<Sf.length;h++)Jn(Sf[h],e);h=a;break;case"source":Jn("error",e),h=a;break;case"img":case"image":case"link":Jn("error",e),Jn("load",e),h=a;break;case"details":Jn("toggle",e),h=a;break;case"input":bC(e,a),h=Zb(e,a),Jn("invalid",e);break;case"option":h=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},h=pi({},a,{value:void 0}),Jn("invalid",e);break;case"textarea":SC(e,a),h=tw(e,a),Jn("invalid",e);break;default:h=a}nw(s,h),v=h;for(d in v)if(v.hasOwnProperty(d)){var x=v[d];d==="style"?WR(e,x):d==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&KR(e,x)):d==="children"?typeof x=="string"?(s!=="textarea"||x!=="")&&ep(e,x):typeof x=="number"&&ep(e,""+x):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(tp.hasOwnProperty(d)?x!=null&&d==="onScroll"&&Jn("scroll",e):x!=null&&uk(e,d,x,p))}switch(s){case"input":Zg(e),wC(e,a,!1);break;case"textarea":Zg(e),PC(e);break;case"option":a.value!=null&&e.setAttribute("value",""+Xl(a.value));break;case"select":e.multiple=!!a.multiple,d=a.value,d!=null?uc(e,!!a.multiple,d,!1):a.defaultValue!=null&&uc(e,!!a.multiple,a.defaultValue,!0);break;default:typeof h.onClick=="function"&&(e.onclick=My)}switch(s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break t;case"img":a=!0;break t;default:a=!1}}a&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return kr(n),null;case 6:if(e&&n.stateNode!=null)gF(e,n,e.memoizedProps,a);else{if(typeof a!="string"&&n.stateNode===null)throw Error(ae(166));if(s=Du(dp.current),Du(na.current),om(n)){if(a=n.stateNode,s=n.memoizedProps,a[Jo]=n,(d=a.nodeValue!==s)&&(e=Os,e!==null))switch(e.tag){case 3:sm(a.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&sm(a.nodeValue,s,(e.mode&1)!==0)}d&&(n.flags|=4)}else a=(s.nodeType===9?s:s.ownerDocument).createTextNode(a),a[Jo]=n,n.stateNode=a}return kr(n),null;case 13:if(ei(hi),a=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ii&&As!==null&&n.mode&1&&!(n.flags&128))_I(),Cc(),n.flags|=98560,d=!1;else if(d=om(n),a!==null&&a.dehydrated!==null){if(e===null){if(!d)throw Error(ae(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(ae(317));d[Jo]=n}else Cc(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;kr(n),d=!1}else Po!==null&&(Fw(Po),Po=null),d=!0;if(!d)return n.flags&65536?n:null}return n.flags&128?(n.lanes=s,n):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(n.child.flags|=8192,n.mode&1&&(e===null||hi.current&1?zi===0&&(zi=3):Gk())),n.updateQueue!==null&&(n.flags|=4),kr(n),null);case 4:return Nc(),Ow(e,n),e===null&&lp(n.stateNode.containerInfo),kr(n),null;case 10:return Ck(n.type._context),kr(n),null;case 17:return hs(n.type)&&Ay(),kr(n),null;case 19:if(ei(hi),d=n.memoizedState,d===null)return kr(n),null;if(a=(n.flags&128)!==0,p=d.rendering,p===null)if(a)rf(d,!1);else{if(zi!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(p=Dy(e),p!==null){for(n.flags|=128,rf(d,!1),a=p.updateQueue,a!==null&&(n.updateQueue=a,n.flags|=4),n.subtreeFlags=0,a=s,s=n.child;s!==null;)d=s,e=a,d.flags&=14680066,p=d.alternate,p===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=p.childLanes,d.lanes=p.lanes,d.child=p.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=p.memoizedProps,d.memoizedState=p.memoizedState,d.updateQueue=p.updateQueue,d.type=p.type,e=p.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return Gn(hi,hi.current&1|2),n.child}e=e.sibling}d.tail!==null&&Ai()>Lc&&(n.flags|=128,a=!0,rf(d,!1),n.lanes=4194304)}else{if(!a)if(e=Dy(p),e!==null){if(n.flags|=128,a=!0,s=e.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),rf(d,!0),d.tail===null&&d.tailMode==="hidden"&&!p.alternate&&!ii)return kr(n),null}else 2*Ai()-d.renderingStartTime>Lc&&s!==1073741824&&(n.flags|=128,a=!0,rf(d,!1),n.lanes=4194304);d.isBackwards?(p.sibling=n.child,n.child=p):(s=d.last,s!==null?s.sibling=p:n.child=p,d.last=p)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=Ai(),n.sibling=null,s=hi.current,Gn(hi,a?s&1|2:s&1),n):(kr(n),null);case 22:case 23:return Kk(),a=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(n.flags|=8192),a&&n.mode&1?ks&1073741824&&(kr(n),n.subtreeFlags&6&&(n.flags|=8192)):kr(n),null;case 24:return null;case 25:return null}throw Error(ae(156,n.tag))}function QW(e,n){switch(kk(n),n.tag){case 1:return hs(n.type)&&Ay(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Nc(),ei(us),ei(_r),_k(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return Lk(n),null;case 13:if(ei(hi),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(ae(340));Cc()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return ei(hi),null;case 4:return Nc(),null;case 10:return Ck(n.type._context),null;case 22:case 23:return Kk(),null;case 24:return null;default:return null}}var um=!1,Ar=!1,tH=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function Jh(e,n){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(a){bi(e,n,a)}else s.current=null}function Nw(e,n,s){try{s()}catch(a){bi(e,n,a)}}var d2=!1;function eH(e,n){if(fw=Py,e=bI(),Sk(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var a=s.getSelection&&s.getSelection();if(a&&a.rangeCount!==0){s=a.anchorNode;var h=a.anchorOffset,d=a.focusNode;a=a.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break t}var p=0,v=-1,x=-1,S=0,M=0,A=e,O=null;e:for(;;){for(var B;A!==s||h!==0&&A.nodeType!==3||(v=p+h),A!==d||a!==0&&A.nodeType!==3||(x=p+a),A.nodeType===3&&(p+=A.nodeValue.length),(B=A.firstChild)!==null;)O=A,A=B;for(;;){if(A===e)break e;if(O===s&&++S===h&&(v=p),O===d&&++M===a&&(x=p),(B=A.nextSibling)!==null)break;A=O,O=A.parentNode}A=B}s=v===-1||x===-1?null:{start:v,end:x}}else s=null}s=s||{start:0,end:0}}else s=null;for(pw={focusedElem:e,selectionRange:s},Py=!1,Pe=n;Pe!==null;)if(n=Pe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Pe=e;else for(;Pe!==null;){n=Pe;try{var I=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(I!==null){var j=I.memoizedProps,V=I.memoizedState,C=n.stateNode,z=C.getSnapshotBeforeUpdate(n.elementType===n.type?j:bo(n.type,j),V);C.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var F=n.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ae(163))}}catch(Y){bi(n,n.return,Y)}if(e=n.sibling,e!==null){e.return=n.return,Pe=e;break}Pe=n.return}return I=d2,d2=!1,I}function Ff(e,n,s){var a=n.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var h=a=a.next;do{if((h.tag&e)===e){var d=h.destroy;h.destroy=void 0,d!==void 0&&Nw(n,s,d)}h=h.next}while(h!==a)}}function pv(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.create;s.destroy=a()}s=s.next}while(s!==n)}}function Ew(e){var n=e.ref;if(n!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof n=="function"?n(e):n.current=e}}function mF(e){var n=e.alternate;n!==null&&(e.alternate=null,mF(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Jo],delete n[hp],delete n[yw],delete n[FW],delete n[jW])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function yF(e){return e.tag===5||e.tag===3||e.tag===4}function f2(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||yF(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Lw(e,n,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(e,n):s.insertBefore(e,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(e,s)):(n=s,n.appendChild(e)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=My));else if(a!==4&&(e=e.child,e!==null))for(Lw(e,n,s),e=e.sibling;e!==null;)Lw(e,n,s),e=e.sibling}function _w(e,n,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(_w(e,n,s),e=e.sibling;e!==null;)_w(e,n,s),e=e.sibling}var ur=null,wo=!1;function bl(e,n,s){for(s=s.child;s!==null;)vF(e,n,s),s=s.sibling}function vF(e,n,s){if(ea&&typeof ea.onCommitFiberUnmount=="function")try{ea.onCommitFiberUnmount(ov,s)}catch{}switch(s.tag){case 5:Ar||Jh(s,n);case 6:var a=ur,h=wo;ur=null,bl(e,n,s),ur=a,wo=h,ur!==null&&(wo?(e=ur,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):ur.removeChild(s.stateNode));break;case 18:ur!==null&&(wo?(e=ur,s=s.stateNode,e.nodeType===8?xx(e.parentNode,s):e.nodeType===1&&xx(e,s),sp(e)):xx(ur,s.stateNode));break;case 4:a=ur,h=wo,ur=s.stateNode.containerInfo,wo=!0,bl(e,n,s),ur=a,wo=h;break;case 0:case 11:case 14:case 15:if(!Ar&&(a=s.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){h=a=a.next;do{var d=h,p=d.destroy;d=d.tag,p!==void 0&&(d&2||d&4)&&Nw(s,n,p),h=h.next}while(h!==a)}bl(e,n,s);break;case 1:if(!Ar&&(Jh(s,n),a=s.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=s.memoizedProps,a.state=s.memoizedState,a.componentWillUnmount()}catch(v){bi(s,n,v)}bl(e,n,s);break;case 21:bl(e,n,s);break;case 22:s.mode&1?(Ar=(a=Ar)||s.memoizedState!==null,bl(e,n,s),Ar=a):bl(e,n,s);break;default:bl(e,n,s)}}function p2(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new tH),n.forEach(function(a){var h=hH.bind(null,e,a);s.has(a)||(s.add(a),a.then(h,h))})}}function vo(e,n){var s=n.deletions;if(s!==null)for(var a=0;a<s.length;a++){var h=s[a];try{var d=e,p=n,v=p;t:for(;v!==null;){switch(v.tag){case 5:ur=v.stateNode,wo=!1;break t;case 3:ur=v.stateNode.containerInfo,wo=!0;break t;case 4:ur=v.stateNode.containerInfo,wo=!0;break t}v=v.return}if(ur===null)throw Error(ae(160));vF(d,p,h),ur=null,wo=!1;var x=h.alternate;x!==null&&(x.return=null),h.return=null}catch(S){bi(h,n,S)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)xF(n,e),n=n.sibling}function xF(e,n){var s=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vo(n,e),Wo(e),a&4){try{Ff(3,e,e.return),pv(3,e)}catch(j){bi(e,e.return,j)}try{Ff(5,e,e.return)}catch(j){bi(e,e.return,j)}}break;case 1:vo(n,e),Wo(e),a&512&&s!==null&&Jh(s,s.return);break;case 5:if(vo(n,e),Wo(e),a&512&&s!==null&&Jh(s,s.return),e.flags&32){var h=e.stateNode;try{ep(h,"")}catch(j){bi(e,e.return,j)}}if(a&4&&(h=e.stateNode,h!=null)){var d=e.memoizedProps,p=s!==null?s.memoizedProps:d,v=e.type,x=e.updateQueue;if(e.updateQueue=null,x!==null)try{v==="input"&&d.type==="radio"&&d.name!=null&&zR(h,d),iw(v,p);var S=iw(v,d);for(p=0;p<x.length;p+=2){var M=x[p],A=x[p+1];M==="style"?WR(h,A):M==="dangerouslySetInnerHTML"?KR(h,A):M==="children"?ep(h,A):uk(h,M,A,S)}switch(v){case"input":Jb(h,d);break;case"textarea":VR(h,d);break;case"select":var O=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!d.multiple;var B=d.value;B!=null?uc(h,!!d.multiple,B,!1):O!==!!d.multiple&&(d.defaultValue!=null?uc(h,!!d.multiple,d.defaultValue,!0):uc(h,!!d.multiple,d.multiple?[]:"",!1))}h[hp]=d}catch(j){bi(e,e.return,j)}}break;case 6:if(vo(n,e),Wo(e),a&4){if(e.stateNode===null)throw Error(ae(162));h=e.stateNode,d=e.memoizedProps;try{h.nodeValue=d}catch(j){bi(e,e.return,j)}}break;case 3:if(vo(n,e),Wo(e),a&4&&s!==null&&s.memoizedState.isDehydrated)try{sp(n.containerInfo)}catch(j){bi(e,e.return,j)}break;case 4:vo(n,e),Wo(e);break;case 13:vo(n,e),Wo(e),h=e.child,h.flags&8192&&(d=h.memoizedState!==null,h.stateNode.isHidden=d,!d||h.alternate!==null&&h.alternate.memoizedState!==null||(Vk=Ai())),a&4&&p2(e);break;case 22:if(M=s!==null&&s.memoizedState!==null,e.mode&1?(Ar=(S=Ar)||M,vo(n,e),Ar=S):vo(n,e),Wo(e),a&8192){if(S=e.memoizedState!==null,(e.stateNode.isHidden=S)&&!M&&e.mode&1)for(Pe=e,M=e.child;M!==null;){for(A=Pe=M;Pe!==null;){switch(O=Pe,B=O.child,O.tag){case 0:case 11:case 14:case 15:Ff(4,O,O.return);break;case 1:Jh(O,O.return);var I=O.stateNode;if(typeof I.componentWillUnmount=="function"){a=O,s=O.return;try{n=a,I.props=n.memoizedProps,I.state=n.memoizedState,I.componentWillUnmount()}catch(j){bi(a,s,j)}}break;case 5:Jh(O,O.return);break;case 22:if(O.memoizedState!==null){m2(A);continue}}B!==null?(B.return=O,Pe=B):m2(A)}M=M.sibling}t:for(M=null,A=e;;){if(A.tag===5){if(M===null){M=A;try{h=A.stateNode,S?(d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(v=A.stateNode,x=A.memoizedProps.style,p=x!=null&&x.hasOwnProperty("display")?x.display:null,v.style.display=GR("display",p))}catch(j){bi(e,e.return,j)}}}else if(A.tag===6){if(M===null)try{A.stateNode.nodeValue=S?"":A.memoizedProps}catch(j){bi(e,e.return,j)}}else if((A.tag!==22&&A.tag!==23||A.memoizedState===null||A===e)&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===e)break t;for(;A.sibling===null;){if(A.return===null||A.return===e)break t;M===A&&(M=null),A=A.return}M===A&&(M=null),A.sibling.return=A.return,A=A.sibling}}break;case 19:vo(n,e),Wo(e),a&4&&p2(e);break;case 21:break;default:vo(n,e),Wo(e)}}function Wo(e){var n=e.flags;if(n&2){try{t:{for(var s=e.return;s!==null;){if(yF(s)){var a=s;break t}s=s.return}throw Error(ae(160))}switch(a.tag){case 5:var h=a.stateNode;a.flags&32&&(ep(h,""),a.flags&=-33);var d=f2(e);_w(e,d,h);break;case 3:case 4:var p=a.stateNode.containerInfo,v=f2(e);Lw(e,v,p);break;default:throw Error(ae(161))}}catch(x){bi(e,e.return,x)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function nH(e,n,s){Pe=e,bF(e)}function bF(e,n,s){for(var a=(e.mode&1)!==0;Pe!==null;){var h=Pe,d=h.child;if(h.tag===22&&a){var p=h.memoizedState!==null||um;if(!p){var v=h.alternate,x=v!==null&&v.memoizedState!==null||Ar;v=um;var S=Ar;if(um=p,(Ar=x)&&!S)for(Pe=h;Pe!==null;)p=Pe,x=p.child,p.tag===22&&p.memoizedState!==null?y2(h):x!==null?(x.return=p,Pe=x):y2(h);for(;d!==null;)Pe=d,bF(d),d=d.sibling;Pe=h,um=v,Ar=S}g2(e)}else h.subtreeFlags&8772&&d!==null?(d.return=h,Pe=d):g2(e)}}function g2(e){for(;Pe!==null;){var n=Pe;if(n.flags&8772){var s=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:Ar||pv(5,n);break;case 1:var a=n.stateNode;if(n.flags&4&&!Ar)if(s===null)a.componentDidMount();else{var h=n.elementType===n.type?s.memoizedProps:bo(n.type,s.memoizedProps);a.componentDidUpdate(h,s.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var d=n.updateQueue;d!==null&&QC(n,d,a);break;case 3:var p=n.updateQueue;if(p!==null){if(s=null,n.child!==null)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}QC(n,p,s)}break;case 5:var v=n.stateNode;if(s===null&&n.flags&4){s=v;var x=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&s.focus();break;case"img":x.src&&(s.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var S=n.alternate;if(S!==null){var M=S.memoizedState;if(M!==null){var A=M.dehydrated;A!==null&&sp(A)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ae(163))}Ar||n.flags&512&&Ew(n)}catch(O){bi(n,n.return,O)}}if(n===e){Pe=null;break}if(s=n.sibling,s!==null){s.return=n.return,Pe=s;break}Pe=n.return}}function m2(e){for(;Pe!==null;){var n=Pe;if(n===e){Pe=null;break}var s=n.sibling;if(s!==null){s.return=n.return,Pe=s;break}Pe=n.return}}function y2(e){for(;Pe!==null;){var n=Pe;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{pv(4,n)}catch(x){bi(n,s,x)}break;case 1:var a=n.stateNode;if(typeof a.componentDidMount=="function"){var h=n.return;try{a.componentDidMount()}catch(x){bi(n,h,x)}}var d=n.return;try{Ew(n)}catch(x){bi(n,d,x)}break;case 5:var p=n.return;try{Ew(n)}catch(x){bi(n,p,x)}}}catch(x){bi(n,n.return,x)}if(n===e){Pe=null;break}var v=n.sibling;if(v!==null){v.return=n.return,Pe=v;break}Pe=n.return}}var iH=Math.ceil,Fy=ol.ReactCurrentDispatcher,$k=ol.ReactCurrentOwner,eo=ol.ReactCurrentBatchConfig,un=0,nr=null,Li=null,fr=0,ks=0,Qh=ru(0),zi=0,mp=null,eh=0,gv=0,zk=0,jf=null,is=null,Vk=0,Lc=1/0,Ca=null,jy=!1,Dw=null,Vl=null,hm=!1,Dl=null,By=0,Bf=0,Rw=null,qm=-1,Zm=0;function Kr(){return un&6?Ai():qm!==-1?qm:qm=Ai()}function Ul(e){return e.mode&1?un&2&&fr!==0?fr&-fr:$W.transition!==null?(Zm===0&&(Zm=rI()),Zm):(e=Mn,e!==0||(e=window.event,e=e===void 0?16:cI(e.type)),e):1}function No(e,n,s,a){if(50<Bf)throw Bf=0,Rw=null,Error(ae(185));vg(e,s,a),(!(un&2)||e!==nr)&&(e===nr&&(!(un&2)&&(gv|=s),zi===4&&Nl(e,fr)),cs(e,a),s===1&&un===0&&!(n.mode&1)&&(Lc=Ai()+500,cv&&su()))}function cs(e,n){var s=e.callbackNode;$G(e,n);var a=Sy(e,e===nr?fr:0);if(a===0)s!==null&&MC(s),e.callbackNode=null,e.callbackPriority=0;else if(n=a&-a,e.callbackPriority!==n){if(s!=null&&MC(s),n===1)e.tag===0?BW(v2.bind(null,e)):NI(v2.bind(null,e)),RW(function(){!(un&6)&&su()}),s=null;else{switch(sI(a)){case 1:s=pk;break;case 4:s=nI;break;case 16:s=wy;break;case 536870912:s=iI;break;default:s=wy}s=CF(s,wF.bind(null,e))}e.callbackPriority=n,e.callbackNode=s}}function wF(e,n){if(qm=-1,Zm=0,un&6)throw Error(ae(327));var s=e.callbackNode;if(pc()&&e.callbackNode!==s)return null;var a=Sy(e,e===nr?fr:0);if(a===0)return null;if(a&30||a&e.expiredLanes||n)n=$y(e,a);else{n=a;var h=un;un|=2;var d=PF();(nr!==e||fr!==n)&&(Ca=null,Lc=Ai()+500,Uu(e,n));do try{oH();break}catch(v){SF(e,v)}while(!0);Ak(),Fy.current=d,un=h,Li!==null?n=0:(nr=null,fr=0,n=zi)}if(n!==0){if(n===2&&(h=lw(e),h!==0&&(a=h,n=Iw(e,h))),n===1)throw s=mp,Uu(e,0),Nl(e,a),cs(e,Ai()),s;if(n===6)Nl(e,a);else{if(h=e.current.alternate,!(a&30)&&!rH(h)&&(n=$y(e,a),n===2&&(d=lw(e),d!==0&&(a=d,n=Iw(e,d))),n===1))throw s=mp,Uu(e,0),Nl(e,a),cs(e,Ai()),s;switch(e.finishedWork=h,e.finishedLanes=a,n){case 0:case 1:throw Error(ae(345));case 2:ku(e,is,Ca);break;case 3:if(Nl(e,a),(a&130023424)===a&&(n=Vk+500-Ai(),10<n)){if(Sy(e,0)!==0)break;if(h=e.suspendedLanes,(h&a)!==a){Kr(),e.pingedLanes|=e.suspendedLanes&h;break}e.timeoutHandle=mw(ku.bind(null,e,is,Ca),n);break}ku(e,is,Ca);break;case 4:if(Nl(e,a),(a&4194240)===a)break;for(n=e.eventTimes,h=-1;0<a;){var p=31-Oo(a);d=1<<p,p=n[p],p>h&&(h=p),a&=~d}if(a=h,a=Ai()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*iH(a/1960))-a,10<a){e.timeoutHandle=mw(ku.bind(null,e,is,Ca),a);break}ku(e,is,Ca);break;case 5:ku(e,is,Ca);break;default:throw Error(ae(329))}}}return cs(e,Ai()),e.callbackNode===s?wF.bind(null,e):null}function Iw(e,n){var s=jf;return e.current.memoizedState.isDehydrated&&(Uu(e,n).flags|=256),e=$y(e,n),e!==2&&(n=is,is=s,n!==null&&Fw(n)),e}function Fw(e){is===null?is=e:is.push.apply(is,e)}function rH(e){for(var n=e;;){if(n.flags&16384){var s=n.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var a=0;a<s.length;a++){var h=s[a],d=h.getSnapshot;h=h.value;try{if(!_o(d(),h))return!1}catch{return!1}}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Nl(e,n){for(n&=~zk,n&=~gv,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var s=31-Oo(n),a=1<<s;e[s]=-1,n&=~a}}function v2(e){if(un&6)throw Error(ae(327));pc();var n=Sy(e,0);if(!(n&1))return cs(e,Ai()),null;var s=$y(e,n);if(e.tag!==0&&s===2){var a=lw(e);a!==0&&(n=a,s=Iw(e,a))}if(s===1)throw s=mp,Uu(e,0),Nl(e,n),cs(e,Ai()),s;if(s===6)throw Error(ae(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,ku(e,is,Ca),cs(e,Ai()),null}function Uk(e,n){var s=un;un|=1;try{return e(n)}finally{un=s,un===0&&(Lc=Ai()+500,cv&&su())}}function nh(e){Dl!==null&&Dl.tag===0&&!(un&6)&&pc();var n=un;un|=1;var s=eo.transition,a=Mn;try{if(eo.transition=null,Mn=1,e)return e()}finally{Mn=a,eo.transition=s,un=n,!(un&6)&&su()}}function Kk(){ks=Qh.current,ei(Qh)}function Uu(e,n){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,DW(s)),Li!==null)for(s=Li.return;s!==null;){var a=s;switch(kk(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Ay();break;case 3:Nc(),ei(us),ei(_r),_k();break;case 5:Lk(a);break;case 4:Nc();break;case 13:ei(hi);break;case 19:ei(hi);break;case 10:Ck(a.type._context);break;case 22:case 23:Kk()}s=s.return}if(nr=e,Li=e=Kl(e.current,null),fr=ks=n,zi=0,mp=null,zk=gv=eh=0,is=jf=null,_u!==null){for(n=0;n<_u.length;n++)if(s=_u[n],a=s.interleaved,a!==null){s.interleaved=null;var h=a.next,d=s.pending;if(d!==null){var p=d.next;d.next=h,a.next=p}s.pending=a}_u=null}return e}function SF(e,n){do{var s=Li;try{if(Ak(),Hm.current=Iy,Ry){for(var a=fi.memoizedState;a!==null;){var h=a.queue;h!==null&&(h.pending=null),a=a.next}Ry=!1}if(th=0,tr=$i=fi=null,If=!1,fp=0,$k.current=null,s===null||s.return===null){zi=1,mp=n,Li=null;break}t:{var d=e,p=s.return,v=s,x=n;if(n=fr,v.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var S=x,M=v,A=M.tag;if(!(M.mode&1)&&(A===0||A===11||A===15)){var O=M.alternate;O?(M.updateQueue=O.updateQueue,M.memoizedState=O.memoizedState,M.lanes=O.lanes):(M.updateQueue=null,M.memoizedState=null)}var B=s2(p);if(B!==null){B.flags&=-257,o2(B,p,v,d,n),B.mode&1&&r2(d,S,n),n=B,x=S;var I=n.updateQueue;if(I===null){var j=new Set;j.add(x),n.updateQueue=j}else I.add(x);break t}else{if(!(n&1)){r2(d,S,n),Gk();break t}x=Error(ae(426))}}else if(ii&&v.mode&1){var V=s2(p);if(V!==null){!(V.flags&65536)&&(V.flags|=256),o2(V,p,v,d,n),Tk(Ec(x,v));break t}}d=x=Ec(x,v),zi!==4&&(zi=2),jf===null?jf=[d]:jf.push(d),d=p;do{switch(d.tag){case 3:d.flags|=65536,n&=-n,d.lanes|=n;var C=sF(d,x,n);JC(d,C);break t;case 1:v=x;var z=d.type,F=d.stateNode;if(!(d.flags&128)&&(typeof z.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(Vl===null||!Vl.has(F)))){d.flags|=65536,n&=-n,d.lanes|=n;var Y=oF(d,v,n);JC(d,Y);break t}}d=d.return}while(d!==null)}TF(s)}catch(U){n=U,Li===s&&s!==null&&(Li=s=s.return);continue}break}while(!0)}function PF(){var e=Fy.current;return Fy.current=Iy,e===null?Iy:e}function Gk(){(zi===0||zi===3||zi===2)&&(zi=4),nr===null||!(eh&268435455)&&!(gv&268435455)||Nl(nr,fr)}function $y(e,n){var s=un;un|=2;var a=PF();(nr!==e||fr!==n)&&(Ca=null,Uu(e,n));do try{sH();break}catch(h){SF(e,h)}while(!0);if(Ak(),un=s,Fy.current=a,Li!==null)throw Error(ae(261));return nr=null,fr=0,zi}function sH(){for(;Li!==null;)kF(Li)}function oH(){for(;Li!==null&&!EG();)kF(Li)}function kF(e){var n=AF(e.alternate,e,ks);e.memoizedProps=e.pendingProps,n===null?TF(e):Li=n,$k.current=null}function TF(e){var n=e;do{var s=n.alternate;if(e=n.return,n.flags&32768){if(s=QW(s,n),s!==null){s.flags&=32767,Li=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{zi=6,Li=null;return}}else if(s=JW(s,n,ks),s!==null){Li=s;return}if(n=n.sibling,n!==null){Li=n;return}Li=n=e}while(n!==null);zi===0&&(zi=5)}function ku(e,n,s){var a=Mn,h=eo.transition;try{eo.transition=null,Mn=1,aH(e,n,s,a)}finally{eo.transition=h,Mn=a}return null}function aH(e,n,s,a){do pc();while(Dl!==null);if(un&6)throw Error(ae(327));s=e.finishedWork;var h=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(ae(177));e.callbackNode=null,e.callbackPriority=0;var d=s.lanes|s.childLanes;if(zG(e,d),e===nr&&(Li=nr=null,fr=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||hm||(hm=!0,CF(wy,function(){return pc(),null})),d=(s.flags&15990)!==0,s.subtreeFlags&15990||d){d=eo.transition,eo.transition=null;var p=Mn;Mn=1;var v=un;un|=4,$k.current=null,eH(e,s),xF(s,e),AW(pw),Py=!!fw,pw=fw=null,e.current=s,nH(s),LG(),un=v,Mn=p,eo.transition=d}else e.current=s;if(hm&&(hm=!1,Dl=e,By=h),d=e.pendingLanes,d===0&&(Vl=null),RG(s.stateNode),cs(e,Ai()),n!==null)for(a=e.onRecoverableError,s=0;s<n.length;s++)h=n[s],a(h.value,{componentStack:h.stack,digest:h.digest});if(jy)throw jy=!1,e=Dw,Dw=null,e;return By&1&&e.tag!==0&&pc(),d=e.pendingLanes,d&1?e===Rw?Bf++:(Bf=0,Rw=e):Bf=0,su(),null}function pc(){if(Dl!==null){var e=sI(By),n=eo.transition,s=Mn;try{if(eo.transition=null,Mn=16>e?16:e,Dl===null)var a=!1;else{if(e=Dl,Dl=null,By=0,un&6)throw Error(ae(331));var h=un;for(un|=4,Pe=e.current;Pe!==null;){var d=Pe,p=d.child;if(Pe.flags&16){var v=d.deletions;if(v!==null){for(var x=0;x<v.length;x++){var S=v[x];for(Pe=S;Pe!==null;){var M=Pe;switch(M.tag){case 0:case 11:case 15:Ff(8,M,d)}var A=M.child;if(A!==null)A.return=M,Pe=A;else for(;Pe!==null;){M=Pe;var O=M.sibling,B=M.return;if(mF(M),M===S){Pe=null;break}if(O!==null){O.return=B,Pe=O;break}Pe=B}}}var I=d.alternate;if(I!==null){var j=I.child;if(j!==null){I.child=null;do{var V=j.sibling;j.sibling=null,j=V}while(j!==null)}}Pe=d}}if(d.subtreeFlags&2064&&p!==null)p.return=d,Pe=p;else t:for(;Pe!==null;){if(d=Pe,d.flags&2048)switch(d.tag){case 0:case 11:case 15:Ff(9,d,d.return)}var C=d.sibling;if(C!==null){C.return=d.return,Pe=C;break t}Pe=d.return}}var z=e.current;for(Pe=z;Pe!==null;){p=Pe;var F=p.child;if(p.subtreeFlags&2064&&F!==null)F.return=p,Pe=F;else t:for(p=z;Pe!==null;){if(v=Pe,v.flags&2048)try{switch(v.tag){case 0:case 11:case 15:pv(9,v)}}catch(U){bi(v,v.return,U)}if(v===p){Pe=null;break t}var Y=v.sibling;if(Y!==null){Y.return=v.return,Pe=Y;break t}Pe=v.return}}if(un=h,su(),ea&&typeof ea.onPostCommitFiberRoot=="function")try{ea.onPostCommitFiberRoot(ov,e)}catch{}a=!0}return a}finally{Mn=s,eo.transition=n}}return!1}function x2(e,n,s){n=Ec(s,n),n=sF(e,n,1),e=zl(e,n,1),n=Kr(),e!==null&&(vg(e,1,n),cs(e,n))}function bi(e,n,s){if(e.tag===3)x2(e,e,s);else for(;n!==null;){if(n.tag===3){x2(n,e,s);break}else if(n.tag===1){var a=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Vl===null||!Vl.has(a))){e=Ec(s,e),e=oF(n,e,1),n=zl(n,e,1),e=Kr(),n!==null&&(vg(n,1,e),cs(n,e));break}}n=n.return}}function lH(e,n,s){var a=e.pingCache;a!==null&&a.delete(n),n=Kr(),e.pingedLanes|=e.suspendedLanes&s,nr===e&&(fr&s)===s&&(zi===4||zi===3&&(fr&130023424)===fr&&500>Ai()-Vk?Uu(e,0):zk|=s),cs(e,n)}function MF(e,n){n===0&&(e.mode&1?(n=tm,tm<<=1,!(tm&130023424)&&(tm=4194304)):n=1);var s=Kr();e=Za(e,n),e!==null&&(vg(e,n,s),cs(e,s))}function uH(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),MF(e,s)}function hH(e,n){var s=0;switch(e.tag){case 13:var a=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(ae(314))}a!==null&&a.delete(n),MF(e,s)}var AF;AF=function(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps||us.current)ss=!0;else{if(!(e.lanes&s)&&!(n.flags&128))return ss=!1,ZW(e,n,s);ss=!!(e.flags&131072)}else ss=!1,ii&&n.flags&1048576&&EI(n,Ny,n.index);switch(n.lanes=0,n.tag){case 2:var a=n.type;Ym(e,n),e=n.pendingProps;var h=Ac(n,_r.current);fc(n,s),h=Rk(null,n,a,e,h,s);var d=Ik();return n.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,hs(a)?(d=!0,Cy(n)):d=!1,n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Nk(n),h.updater=fv,n.stateNode=h,h._reactInternals=n,Pw(n,a,e,s),n=Mw(null,n,a,!0,d,s)):(n.tag=0,ii&&d&&Pk(n),Vr(null,n,h,s),n=n.child),n;case 16:a=n.elementType;t:{switch(Ym(e,n),e=n.pendingProps,h=a._init,a=h(a._payload),n.type=a,h=n.tag=dH(a),e=bo(a,e),h){case 0:n=Tw(null,n,a,e,s);break t;case 1:n=u2(null,n,a,e,s);break t;case 11:n=a2(null,n,a,e,s);break t;case 14:n=l2(null,n,a,bo(a.type,e),s);break t}throw Error(ae(306,a,""))}return n;case 0:return a=n.type,h=n.pendingProps,h=n.elementType===a?h:bo(a,h),Tw(e,n,a,h,s);case 1:return a=n.type,h=n.pendingProps,h=n.elementType===a?h:bo(a,h),u2(e,n,a,h,s);case 3:t:{if(hF(n),e===null)throw Error(ae(387));a=n.pendingProps,d=n.memoizedState,h=d.element,FI(e,n),_y(n,a,null,s);var p=n.memoizedState;if(a=p.element,d.isDehydrated)if(d={element:a,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){h=Ec(Error(ae(423)),n),n=h2(e,n,a,s,h);break t}else if(a!==h){h=Ec(Error(ae(424)),n),n=h2(e,n,a,s,h);break t}else for(As=$l(n.stateNode.containerInfo.firstChild),Os=n,ii=!0,Po=null,s=RI(n,null,a,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Cc(),a===h){n=Ja(e,n,s);break t}Vr(e,n,a,s)}n=n.child}return n;case 5:return jI(n),e===null&&bw(n),a=n.type,h=n.pendingProps,d=e!==null?e.memoizedProps:null,p=h.children,gw(a,h)?p=null:d!==null&&gw(a,d)&&(n.flags|=32),uF(e,n),Vr(e,n,p,s),n.child;case 6:return e===null&&bw(n),null;case 13:return cF(e,n,s);case 4:return Ek(n,n.stateNode.containerInfo),a=n.pendingProps,e===null?n.child=Oc(n,null,a,s):Vr(e,n,a,s),n.child;case 11:return a=n.type,h=n.pendingProps,h=n.elementType===a?h:bo(a,h),a2(e,n,a,h,s);case 7:return Vr(e,n,n.pendingProps,s),n.child;case 8:return Vr(e,n,n.pendingProps.children,s),n.child;case 12:return Vr(e,n,n.pendingProps.children,s),n.child;case 10:t:{if(a=n.type._context,h=n.pendingProps,d=n.memoizedProps,p=h.value,Gn(Ey,a._currentValue),a._currentValue=p,d!==null)if(_o(d.value,p)){if(d.children===h.children&&!us.current){n=Ja(e,n,s);break t}}else for(d=n.child,d!==null&&(d.return=n);d!==null;){var v=d.dependencies;if(v!==null){p=d.child;for(var x=v.firstContext;x!==null;){if(x.context===a){if(d.tag===1){x=Ba(-1,s&-s),x.tag=2;var S=d.updateQueue;if(S!==null){S=S.shared;var M=S.pending;M===null?x.next=x:(x.next=M.next,M.next=x),S.pending=x}}d.lanes|=s,x=d.alternate,x!==null&&(x.lanes|=s),ww(d.return,s,n),v.lanes|=s;break}x=x.next}}else if(d.tag===10)p=d.type===n.type?null:d.child;else if(d.tag===18){if(p=d.return,p===null)throw Error(ae(341));p.lanes|=s,v=p.alternate,v!==null&&(v.lanes|=s),ww(p,s,n),p=d.sibling}else p=d.child;if(p!==null)p.return=d;else for(p=d;p!==null;){if(p===n){p=null;break}if(d=p.sibling,d!==null){d.return=p.return,p=d;break}p=p.return}d=p}Vr(e,n,h.children,s),n=n.child}return n;case 9:return h=n.type,a=n.pendingProps.children,fc(n,s),h=io(h),a=a(h),n.flags|=1,Vr(e,n,a,s),n.child;case 14:return a=n.type,h=bo(a,n.pendingProps),h=bo(a.type,h),l2(e,n,a,h,s);case 15:return aF(e,n,n.type,n.pendingProps,s);case 17:return a=n.type,h=n.pendingProps,h=n.elementType===a?h:bo(a,h),Ym(e,n),n.tag=1,hs(a)?(e=!0,Cy(n)):e=!1,fc(n,s),rF(n,a,h),Pw(n,a,h,s),Mw(null,n,a,!0,e,s);case 19:return dF(e,n,s);case 22:return lF(e,n,s)}throw Error(ae(156,n.tag))};function CF(e,n){return eI(e,n)}function cH(e,n,s,a){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Js(e,n,s,a){return new cH(e,n,s,a)}function Wk(e){return e=e.prototype,!(!e||!e.isReactComponent)}function dH(e){if(typeof e=="function")return Wk(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ck)return 11;if(e===dk)return 14}return 2}function Kl(e,n){var s=e.alternate;return s===null?(s=Js(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Jm(e,n,s,a,h,d){var p=2;if(a=e,typeof e=="function")Wk(e)&&(p=1);else if(typeof e=="string")p=5;else t:switch(e){case Uh:return Ku(s.children,h,d,n);case hk:p=8,h|=8;break;case Hb:return e=Js(12,s,n,h|2),e.elementType=Hb,e.lanes=d,e;case Xb:return e=Js(13,s,n,h),e.elementType=Xb,e.lanes=d,e;case Yb:return e=Js(19,s,n,h),e.elementType=Yb,e.lanes=d,e;case jR:return mv(s,h,d,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case IR:p=10;break t;case FR:p=9;break t;case ck:p=11;break t;case dk:p=14;break t;case Ml:p=16,a=null;break t}throw Error(ae(130,e==null?e:typeof e,""))}return n=Js(p,s,n,h),n.elementType=e,n.type=a,n.lanes=d,n}function Ku(e,n,s,a){return e=Js(7,e,a,n),e.lanes=s,e}function mv(e,n,s,a){return e=Js(22,e,a,n),e.elementType=jR,e.lanes=s,e.stateNode={isHidden:!1},e}function Ax(e,n,s){return e=Js(6,e,null,n),e.lanes=s,e}function Cx(e,n,s){return n=Js(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function fH(e,n,s,a,h){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lx(0),this.expirationTimes=lx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lx(0),this.identifierPrefix=a,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Hk(e,n,s,a,h,d,p,v,x){return e=new fH(e,n,s,v,x),n===1?(n=1,d===!0&&(n|=8)):n=0,d=Js(3,null,null,n),e.current=d,d.stateNode=e,d.memoizedState={element:a,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nk(d),e}function pH(e,n,s){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vh,key:a==null?null:""+a,children:e,containerInfo:n,implementation:s}}function OF(e){if(!e)return Yl;e=e._reactInternals;t:{if(dh(e)!==e||e.tag!==1)throw Error(ae(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break t;case 1:if(hs(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break t}}n=n.return}while(n!==null);throw Error(ae(171))}if(e.tag===1){var s=e.type;if(hs(s))return OI(e,s,n)}return n}function NF(e,n,s,a,h,d,p,v,x){return e=Hk(s,a,!0,e,h,d,p,v,x),e.context=OF(null),s=e.current,a=Kr(),h=Ul(s),d=Ba(a,h),d.callback=n??null,zl(s,d,h),e.current.lanes=h,vg(e,h,a),cs(e,a),e}function yv(e,n,s,a){var h=n.current,d=Kr(),p=Ul(h);return s=OF(s),n.context===null?n.context=s:n.pendingContext=s,n=Ba(d,p),n.payload={element:e},a=a===void 0?null:a,a!==null&&(n.callback=a),e=zl(h,n,p),e!==null&&(No(e,h,p,d),Wm(e,h,p)),p}function zy(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function b2(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Xk(e,n){b2(e,n),(e=e.alternate)&&b2(e,n)}function gH(){return null}var EF=typeof reportError=="function"?reportError:function(e){console.error(e)};function Yk(e){this._internalRoot=e}vv.prototype.render=Yk.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(ae(409));yv(e,n,null,null)};vv.prototype.unmount=Yk.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;nh(function(){yv(null,e,null,null)}),n[qa]=null}};function vv(e){this._internalRoot=e}vv.prototype.unstable_scheduleHydration=function(e){if(e){var n=lI();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Ol.length&&n!==0&&n<Ol[s].priority;s++);Ol.splice(s,0,e),s===0&&hI(e)}};function qk(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function xv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function w2(){}function mH(e,n,s,a,h){if(h){if(typeof a=="function"){var d=a;a=function(){var S=zy(p);d.call(S)}}var p=NF(n,a,e,0,null,!1,!1,"",w2);return e._reactRootContainer=p,e[qa]=p.current,lp(e.nodeType===8?e.parentNode:e),nh(),p}for(;h=e.lastChild;)e.removeChild(h);if(typeof a=="function"){var v=a;a=function(){var S=zy(x);v.call(S)}}var x=Hk(e,0,!1,null,null,!1,!1,"",w2);return e._reactRootContainer=x,e[qa]=x.current,lp(e.nodeType===8?e.parentNode:e),nh(function(){yv(n,x,s,a)}),x}function bv(e,n,s,a,h){var d=s._reactRootContainer;if(d){var p=d;if(typeof h=="function"){var v=h;h=function(){var x=zy(p);v.call(x)}}yv(n,p,e,h)}else p=mH(s,n,e,h,a);return zy(p)}oI=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var s=wf(n.pendingLanes);s!==0&&(gk(n,s|1),cs(n,Ai()),!(un&6)&&(Lc=Ai()+500,su()))}break;case 13:nh(function(){var a=Za(e,1);if(a!==null){var h=Kr();No(a,e,1,h)}}),Xk(e,1)}};mk=function(e){if(e.tag===13){var n=Za(e,134217728);if(n!==null){var s=Kr();No(n,e,134217728,s)}Xk(e,134217728)}};aI=function(e){if(e.tag===13){var n=Ul(e),s=Za(e,n);if(s!==null){var a=Kr();No(s,e,n,a)}Xk(e,n)}};lI=function(){return Mn};uI=function(e,n){var s=Mn;try{return Mn=e,n()}finally{Mn=s}};sw=function(e,n,s){switch(n){case"input":if(Jb(e,s),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<s.length;n++){var a=s[n];if(a!==e&&a.form===e.form){var h=hv(a);if(!h)throw Error(ae(90));$R(a),Jb(a,h)}}}break;case"textarea":VR(e,s);break;case"select":n=s.value,n!=null&&uc(e,!!s.multiple,n,!1)}};YR=Uk;qR=nh;var yH={usingClientEntryPoint:!1,Events:[bg,Hh,hv,HR,XR,Uk]},sf={findFiberByHostInstance:Lu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vH={bundleType:sf.bundleType,version:sf.version,rendererPackageName:sf.rendererPackageName,rendererConfig:sf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ol.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=QR(e),e===null?null:e.stateNode},findFiberByHostInstance:sf.findFiberByHostInstance||gH,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cm.isDisabled&&cm.supportsFiber)try{ov=cm.inject(vH),ea=cm}catch{}}Ls.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yH;Ls.createPortal=function(e,n){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qk(n))throw Error(ae(200));return pH(e,n,null,s)};Ls.createRoot=function(e,n){if(!qk(e))throw Error(ae(299));var s=!1,a="",h=EF;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(h=n.onRecoverableError)),n=Hk(e,1,!1,null,null,s,!1,a,h),e[qa]=n.current,lp(e.nodeType===8?e.parentNode:e),new Yk(n)};Ls.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(ae(188)):(e=Object.keys(e).join(","),Error(ae(268,e)));return e=QR(n),e=e===null?null:e.stateNode,e};Ls.flushSync=function(e){return nh(e)};Ls.hydrate=function(e,n,s){if(!xv(n))throw Error(ae(200));return bv(null,e,n,!0,s)};Ls.hydrateRoot=function(e,n,s){if(!qk(e))throw Error(ae(405));var a=s!=null&&s.hydratedSources||null,h=!1,d="",p=EF;if(s!=null&&(s.unstable_strictMode===!0&&(h=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),n=NF(n,null,e,1,s??null,h,!1,d,p),e[qa]=n.current,lp(e),a)for(e=0;e<a.length;e++)s=a[e],h=s._getVersion,h=h(s._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[s,h]:n.mutableSourceEagerHydrationData.push(s,h);return new vv(n)};Ls.render=function(e,n,s){if(!xv(n))throw Error(ae(200));return bv(null,e,n,!1,s)};Ls.unmountComponentAtNode=function(e){if(!xv(e))throw Error(ae(40));return e._reactRootContainer?(nh(function(){bv(null,null,e,!1,function(){e._reactRootContainer=null,e[qa]=null})}),!0):!1};Ls.unstable_batchedUpdates=Uk;Ls.unstable_renderSubtreeIntoContainer=function(e,n,s,a){if(!xv(s))throw Error(ae(200));if(e==null||e._reactInternals===void 0)throw Error(ae(38));return bv(e,n,s,!1,a)};Ls.version="18.3.1-next-f1338f8080-20240426";function LF(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(LF)}catch(e){console.error(e)}}LF(),LR.exports=Ls;var Sg=LR.exports;const _F=wn(Sg);var _c=at.forwardRef((e,n)=>{const{children:s,...a}=e,h=at.Children.toArray(s),d=h.find(bH);if(d){const p=d.props.children,v=h.map(x=>x===d?at.Children.count(p)>1?at.Children.only(null):at.isValidElement(p)?p.props.children:null:x);return ot.jsx(jw,{...a,ref:n,children:at.isValidElement(p)?at.cloneElement(p,void 0,v):null})}return ot.jsx(jw,{...a,ref:n,children:s})});_c.displayName="Slot";var jw=at.forwardRef((e,n)=>{const{children:s,...a}=e;if(at.isValidElement(s)){const h=SH(s);return at.cloneElement(s,{...wH(a,s.props),ref:n?ER(n,h):h})}return at.Children.count(s)>1?at.Children.only(null):null});jw.displayName="SlotClone";var xH=({children:e})=>ot.jsx(ot.Fragment,{children:e});function bH(e){return at.isValidElement(e)&&e.type===xH}function wH(e,n){const s={...n};for(const a in n){const h=e[a],d=n[a];/^on[A-Z]/.test(a)?h&&d?s[a]=(...v)=>{d(...v),h(...v)}:h&&(s[a]=h):a==="style"?s[a]={...h,...d}:a==="className"&&(s[a]=[h,d].filter(Boolean).join(" "))}return{...e,...s}}function SH(e){var a,h;let n=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,s=n&&"isReactWarning"in n&&n.isReactWarning;return s?e.ref:(n=(h=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:h.get,s=n&&"isReactWarning"in n&&n.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var PH=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Xr=PH.reduce((e,n)=>{const s=at.forwardRef((a,h)=>{const{asChild:d,...p}=a,v=d?_c:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),ot.jsx(v,{...p,ref:h})});return s.displayName=`Primitive.${n}`,{...e,[n]:s}},{});function kH(e,n){e&&Sg.flushSync(()=>e.dispatchEvent(n))}function TH(e,n=globalThis==null?void 0:globalThis.document){const s=Hl(e);at.useEffect(()=>{const a=h=>{h.key==="Escape"&&s(h)};return n.addEventListener("keydown",a,{capture:!0}),()=>n.removeEventListener("keydown",a,{capture:!0})},[s,n])}var MH="DismissableLayer",Bw="dismissableLayer.update",AH="dismissableLayer.pointerDownOutside",CH="dismissableLayer.focusOutside",S2,DF=at.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),RF=at.forwardRef((e,n)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:a,onPointerDownOutside:h,onFocusOutside:d,onInteractOutside:p,onDismiss:v,...x}=e,S=at.useContext(DF),[M,A]=at.useState(null),O=(M==null?void 0:M.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,B]=at.useState({}),I=oa(n,K=>A(K)),j=Array.from(S.layers),[V]=[...S.layersWithOutsidePointerEventsDisabled].slice(-1),C=j.indexOf(V),z=M?j.indexOf(M):-1,F=S.layersWithOutsidePointerEventsDisabled.size>0,Y=z>=C,U=EH(K=>{const rt=K.target,gt=[...S.branches].some(lt=>lt.contains(rt));!Y||gt||(h==null||h(K),p==null||p(K),K.defaultPrevented||v==null||v())},O),J=LH(K=>{const rt=K.target;[...S.branches].some(lt=>lt.contains(rt))||(d==null||d(K),p==null||p(K),K.defaultPrevented||v==null||v())},O);return TH(K=>{z===S.layers.size-1&&(a==null||a(K),!K.defaultPrevented&&v&&(K.preventDefault(),v()))},O),at.useEffect(()=>{if(M)return s&&(S.layersWithOutsidePointerEventsDisabled.size===0&&(S2=O.body.style.pointerEvents,O.body.style.pointerEvents="none"),S.layersWithOutsidePointerEventsDisabled.add(M)),S.layers.add(M),P2(),()=>{s&&S.layersWithOutsidePointerEventsDisabled.size===1&&(O.body.style.pointerEvents=S2)}},[M,O,s,S]),at.useEffect(()=>()=>{M&&(S.layers.delete(M),S.layersWithOutsidePointerEventsDisabled.delete(M),P2())},[M,S]),at.useEffect(()=>{const K=()=>B({});return document.addEventListener(Bw,K),()=>document.removeEventListener(Bw,K)},[]),ot.jsx(Xr.div,{...x,ref:I,style:{pointerEvents:F?Y?"auto":"none":void 0,...e.style},onFocusCapture:dr(e.onFocusCapture,J.onFocusCapture),onBlurCapture:dr(e.onBlurCapture,J.onBlurCapture),onPointerDownCapture:dr(e.onPointerDownCapture,U.onPointerDownCapture)})});RF.displayName=MH;var OH="DismissableLayerBranch",NH=at.forwardRef((e,n)=>{const s=at.useContext(DF),a=at.useRef(null),h=oa(n,a);return at.useEffect(()=>{const d=a.current;if(d)return s.branches.add(d),()=>{s.branches.delete(d)}},[s.branches]),ot.jsx(Xr.div,{...e,ref:h})});NH.displayName=OH;function EH(e,n=globalThis==null?void 0:globalThis.document){const s=Hl(e),a=at.useRef(!1),h=at.useRef(()=>{});return at.useEffect(()=>{const d=v=>{if(v.target&&!a.current){let x=function(){IF(AH,s,S,{discrete:!0})};const S={originalEvent:v};v.pointerType==="touch"?(n.removeEventListener("click",h.current),h.current=x,n.addEventListener("click",h.current,{once:!0})):x()}else n.removeEventListener("click",h.current);a.current=!1},p=window.setTimeout(()=>{n.addEventListener("pointerdown",d)},0);return()=>{window.clearTimeout(p),n.removeEventListener("pointerdown",d),n.removeEventListener("click",h.current)}},[n,s]),{onPointerDownCapture:()=>a.current=!0}}function LH(e,n=globalThis==null?void 0:globalThis.document){const s=Hl(e),a=at.useRef(!1);return at.useEffect(()=>{const h=d=>{d.target&&!a.current&&IF(CH,s,{originalEvent:d},{discrete:!1})};return n.addEventListener("focusin",h),()=>n.removeEventListener("focusin",h)},[n,s]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function P2(){const e=new CustomEvent(Bw);document.dispatchEvent(e)}function IF(e,n,s,{discrete:a}){const h=s.originalEvent.target,d=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});n&&h.addEventListener(e,n,{once:!0}),a?kH(h,d):h.dispatchEvent(d)}var Ox="focusScope.autoFocusOnMount",Nx="focusScope.autoFocusOnUnmount",k2={bubbles:!1,cancelable:!0},_H="FocusScope",FF=at.forwardRef((e,n)=>{const{loop:s=!1,trapped:a=!1,onMountAutoFocus:h,onUnmountAutoFocus:d,...p}=e,[v,x]=at.useState(null),S=Hl(h),M=Hl(d),A=at.useRef(null),O=oa(n,j=>x(j)),B=at.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;at.useEffect(()=>{if(a){let j=function(F){if(B.paused||!v)return;const Y=F.target;v.contains(Y)?A.current=Y:Pl(A.current,{select:!0})},V=function(F){if(B.paused||!v)return;const Y=F.relatedTarget;Y!==null&&(v.contains(Y)||Pl(A.current,{select:!0}))},C=function(F){if(document.activeElement===document.body)for(const U of F)U.removedNodes.length>0&&Pl(v)};document.addEventListener("focusin",j),document.addEventListener("focusout",V);const z=new MutationObserver(C);return v&&z.observe(v,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",j),document.removeEventListener("focusout",V),z.disconnect()}}},[a,v,B.paused]),at.useEffect(()=>{if(v){M2.add(B);const j=document.activeElement;if(!v.contains(j)){const C=new CustomEvent(Ox,k2);v.addEventListener(Ox,S),v.dispatchEvent(C),C.defaultPrevented||(DH(BH(jF(v)),{select:!0}),document.activeElement===j&&Pl(v))}return()=>{v.removeEventListener(Ox,S),setTimeout(()=>{const C=new CustomEvent(Nx,k2);v.addEventListener(Nx,M),v.dispatchEvent(C),C.defaultPrevented||Pl(j??document.body,{select:!0}),v.removeEventListener(Nx,M),M2.remove(B)},0)}}},[v,S,M,B]);const I=at.useCallback(j=>{if(!s&&!a||B.paused)return;const V=j.key==="Tab"&&!j.altKey&&!j.ctrlKey&&!j.metaKey,C=document.activeElement;if(V&&C){const z=j.currentTarget,[F,Y]=RH(z);F&&Y?!j.shiftKey&&C===Y?(j.preventDefault(),s&&Pl(F,{select:!0})):j.shiftKey&&C===F&&(j.preventDefault(),s&&Pl(Y,{select:!0})):C===z&&j.preventDefault()}},[s,a,B.paused]);return ot.jsx(Xr.div,{tabIndex:-1,...p,ref:O,onKeyDown:I})});FF.displayName=_H;function DH(e,{select:n=!1}={}){const s=document.activeElement;for(const a of e)if(Pl(a,{select:n}),document.activeElement!==s)return}function RH(e){const n=jF(e),s=T2(n,e),a=T2(n.reverse(),e);return[s,a]}function jF(e){const n=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const h=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||h?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)n.push(s.currentNode);return n}function T2(e,n){for(const s of e)if(!IH(s,{upTo:n}))return s}function IH(e,{upTo:n}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(n!==void 0&&e===n)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function FH(e){return e instanceof HTMLInputElement&&"select"in e}function Pl(e,{select:n=!1}={}){if(e&&e.focus){const s=document.activeElement;e.focus({preventScroll:!0}),e!==s&&FH(e)&&n&&e.select()}}var M2=jH();function jH(){let e=[];return{add(n){const s=e[0];n!==s&&(s==null||s.pause()),e=A2(e,n),e.unshift(n)},remove(n){var s;e=A2(e,n),(s=e[0])==null||s.resume()}}}function A2(e,n){const s=[...e],a=s.indexOf(n);return a!==-1&&s.splice(a,1),s}function BH(e){return e.filter(n=>n.tagName!=="A")}var $H="Portal",BF=at.forwardRef((e,n)=>{var v;const{container:s,...a}=e,[h,d]=at.useState(!1);yy(()=>d(!0),[]);const p=s||h&&((v=globalThis==null?void 0:globalThis.document)==null?void 0:v.body);return p?_F.createPortal(ot.jsx(Xr.div,{...a,ref:n}),p):null});BF.displayName=$H;function zH(e,n){return at.useReducer((s,a)=>n[s][a]??s,e)}var Pg=e=>{const{present:n,children:s}=e,a=VH(n),h=typeof s=="function"?s({present:a.isPresent}):at.Children.only(s),d=oa(a.ref,UH(h));return typeof s=="function"||a.isPresent?at.cloneElement(h,{ref:d}):null};Pg.displayName="Presence";function VH(e){const[n,s]=at.useState(),a=at.useRef({}),h=at.useRef(e),d=at.useRef("none"),p=e?"mounted":"unmounted",[v,x]=zH(p,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return at.useEffect(()=>{const S=dm(a.current);d.current=v==="mounted"?S:"none"},[v]),yy(()=>{const S=a.current,M=h.current;if(M!==e){const O=d.current,B=dm(S);e?x("MOUNT"):B==="none"||(S==null?void 0:S.display)==="none"?x("UNMOUNT"):x(M&&O!==B?"ANIMATION_OUT":"UNMOUNT"),h.current=e}},[e,x]),yy(()=>{if(n){const S=A=>{const B=dm(a.current).includes(A.animationName);A.target===n&&B&&Sg.flushSync(()=>x("ANIMATION_END"))},M=A=>{A.target===n&&(d.current=dm(a.current))};return n.addEventListener("animationstart",M),n.addEventListener("animationcancel",S),n.addEventListener("animationend",S),()=>{n.removeEventListener("animationstart",M),n.removeEventListener("animationcancel",S),n.removeEventListener("animationend",S)}}else x("ANIMATION_END")},[n,x]),{isPresent:["mounted","unmountSuspended"].includes(v),ref:at.useCallback(S=>{S&&(a.current=getComputedStyle(S)),s(S)},[])}}function dm(e){return(e==null?void 0:e.animationName)||"none"}function UH(e){var a,h;let n=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,s=n&&"isReactWarning"in n&&n.isReactWarning;return s?e.ref:(n=(h=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:h.get,s=n&&"isReactWarning"in n&&n.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var Ex=0;function KH(){at.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??C2()),document.body.insertAdjacentElement("beforeend",e[1]??C2()),Ex++,()=>{Ex===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),Ex--}},[])}function C2(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var Qo=function(){return Qo=Object.assign||function(n){for(var s,a=1,h=arguments.length;a<h;a++){s=arguments[a];for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(n[d]=s[d])}return n},Qo.apply(this,arguments)};function $F(e,n){var s={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(s[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var h=0,a=Object.getOwnPropertySymbols(e);h<a.length;h++)n.indexOf(a[h])<0&&Object.prototype.propertyIsEnumerable.call(e,a[h])&&(s[a[h]]=e[a[h]]);return s}function GH(e,n,s){if(s||arguments.length===2)for(var a=0,h=n.length,d;a<h;a++)(d||!(a in n))&&(d||(d=Array.prototype.slice.call(n,0,a)),d[a]=n[a]);return e.concat(d||Array.prototype.slice.call(n))}var Qm="right-scroll-bar-position",ty="width-before-scroll-bar",WH="with-scroll-bars-hidden",HH="--removed-body-scroll-bar-size";function Lx(e,n){return typeof e=="function"?e(n):e&&(e.current=n),e}function XH(e,n){var s=at.useState(function(){return{value:e,callback:n,facade:{get current(){return s.value},set current(a){var h=s.value;h!==a&&(s.value=a,s.callback(a,h))}}}})[0];return s.callback=n,s.facade}var YH=typeof window<"u"?at.useLayoutEffect:at.useEffect,O2=new WeakMap;function qH(e,n){var s=XH(null,function(a){return e.forEach(function(h){return Lx(h,a)})});return YH(function(){var a=O2.get(s);if(a){var h=new Set(a),d=new Set(e),p=s.current;h.forEach(function(v){d.has(v)||Lx(v,null)}),d.forEach(function(v){h.has(v)||Lx(v,p)})}O2.set(s,e)},[e]),s}function ZH(e){return e}function JH(e,n){n===void 0&&(n=ZH);var s=[],a=!1,h={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:e},useMedium:function(d){var p=n(d,a);return s.push(p),function(){s=s.filter(function(v){return v!==p})}},assignSyncMedium:function(d){for(a=!0;s.length;){var p=s;s=[],p.forEach(d)}s={push:function(v){return d(v)},filter:function(){return s}}},assignMedium:function(d){a=!0;var p=[];if(s.length){var v=s;s=[],v.forEach(d),p=s}var x=function(){var M=p;p=[],M.forEach(d)},S=function(){return Promise.resolve().then(x)};S(),s={push:function(M){p.push(M),S()},filter:function(M){return p=p.filter(M),s}}}};return h}function QH(e){e===void 0&&(e={});var n=JH(null);return n.options=Qo({async:!0,ssr:!1},e),n}var zF=function(e){var n=e.sideCar,s=$F(e,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=n.read();if(!a)throw new Error("Sidecar medium not found");return at.createElement(a,Qo({},s))};zF.isSideCarExport=!0;function tX(e,n){return e.useMedium(n),zF}var VF=QH(),_x=function(){},wv=at.forwardRef(function(e,n){var s=at.useRef(null),a=at.useState({onScrollCapture:_x,onWheelCapture:_x,onTouchMoveCapture:_x}),h=a[0],d=a[1],p=e.forwardProps,v=e.children,x=e.className,S=e.removeScrollBar,M=e.enabled,A=e.shards,O=e.sideCar,B=e.noIsolation,I=e.inert,j=e.allowPinchZoom,V=e.as,C=V===void 0?"div":V,z=e.gapMode,F=$F(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),Y=O,U=qH([s,n]),J=Qo(Qo({},F),h);return at.createElement(at.Fragment,null,M&&at.createElement(Y,{sideCar:VF,removeScrollBar:S,shards:A,noIsolation:B,inert:I,setCallbacks:d,allowPinchZoom:!!j,lockRef:s,gapMode:z}),p?at.cloneElement(at.Children.only(v),Qo(Qo({},J),{ref:U})):at.createElement(C,Qo({},J,{className:x,ref:U}),v))});wv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};wv.classNames={fullWidth:ty,zeroRight:Qm};var eX=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function nX(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var n=eX();return n&&e.setAttribute("nonce",n),e}function iX(e,n){e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}function rX(e){var n=document.head||document.getElementsByTagName("head")[0];n.appendChild(e)}var sX=function(){var e=0,n=null;return{add:function(s){e==0&&(n=nX())&&(iX(n,s),rX(n)),e++},remove:function(){e--,!e&&n&&(n.parentNode&&n.parentNode.removeChild(n),n=null)}}},oX=function(){var e=sX();return function(n,s){at.useEffect(function(){return e.add(n),function(){e.remove()}},[n&&s])}},UF=function(){var e=oX(),n=function(s){var a=s.styles,h=s.dynamic;return e(a,h),null};return n},aX={left:0,top:0,right:0,gap:0},Dx=function(e){return parseInt(e||"",10)||0},lX=function(e){var n=window.getComputedStyle(document.body),s=n[e==="padding"?"paddingLeft":"marginLeft"],a=n[e==="padding"?"paddingTop":"marginTop"],h=n[e==="padding"?"paddingRight":"marginRight"];return[Dx(s),Dx(a),Dx(h)]},uX=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return aX;var n=lX(e),s=document.documentElement.clientWidth,a=window.innerWidth;return{left:n[0],top:n[1],right:n[2],gap:Math.max(0,a-s+n[2]-n[0])}},hX=UF(),gc="data-scroll-locked",cX=function(e,n,s,a){var h=e.left,d=e.top,p=e.right,v=e.gap;return s===void 0&&(s="margin"),`
  .`.concat(WH,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(v,"px ").concat(a,`;
  }
  body[`).concat(gc,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([n&&"position: relative ".concat(a,";"),s==="margin"&&`
    padding-left: `.concat(h,`px;
    padding-top: `).concat(d,`px;
    padding-right: `).concat(p,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(v,"px ").concat(a,`;
    `),s==="padding"&&"padding-right: ".concat(v,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Qm,` {
    right: `).concat(v,"px ").concat(a,`;
  }
  
  .`).concat(ty,` {
    margin-right: `).concat(v,"px ").concat(a,`;
  }
  
  .`).concat(Qm," .").concat(Qm,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(ty," .").concat(ty,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(gc,`] {
    `).concat(HH,": ").concat(v,`px;
  }
`)},N2=function(){var e=parseInt(document.body.getAttribute(gc)||"0",10);return isFinite(e)?e:0},dX=function(){at.useEffect(function(){return document.body.setAttribute(gc,(N2()+1).toString()),function(){var e=N2()-1;e<=0?document.body.removeAttribute(gc):document.body.setAttribute(gc,e.toString())}},[])},fX=function(e){var n=e.noRelative,s=e.noImportant,a=e.gapMode,h=a===void 0?"margin":a;dX();var d=at.useMemo(function(){return uX(h)},[h]);return at.createElement(hX,{styles:cX(d,!n,h,s?"":"!important")})},$w=!1;if(typeof window<"u")try{var fm=Object.defineProperty({},"passive",{get:function(){return $w=!0,!0}});window.addEventListener("test",fm,fm),window.removeEventListener("test",fm,fm)}catch{$w=!1}var Lh=$w?{passive:!1}:!1,pX=function(e){return e.tagName==="TEXTAREA"},KF=function(e,n){var s=window.getComputedStyle(e);return s[n]!=="hidden"&&!(s.overflowY===s.overflowX&&!pX(e)&&s[n]==="visible")},gX=function(e){return KF(e,"overflowY")},mX=function(e){return KF(e,"overflowX")},E2=function(e,n){var s=n.ownerDocument,a=n;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var h=GF(e,a);if(h){var d=WF(e,a),p=d[1],v=d[2];if(p>v)return!0}a=a.parentNode}while(a&&a!==s.body);return!1},yX=function(e){var n=e.scrollTop,s=e.scrollHeight,a=e.clientHeight;return[n,s,a]},vX=function(e){var n=e.scrollLeft,s=e.scrollWidth,a=e.clientWidth;return[n,s,a]},GF=function(e,n){return e==="v"?gX(n):mX(n)},WF=function(e,n){return e==="v"?yX(n):vX(n)},xX=function(e,n){return e==="h"&&n==="rtl"?-1:1},bX=function(e,n,s,a,h){var d=xX(e,window.getComputedStyle(n).direction),p=d*a,v=s.target,x=n.contains(v),S=!1,M=p>0,A=0,O=0;do{var B=WF(e,v),I=B[0],j=B[1],V=B[2],C=j-V-d*I;(I||C)&&GF(e,v)&&(A+=C,O+=I),v instanceof ShadowRoot?v=v.host:v=v.parentNode}while(!x&&v!==document.body||x&&(n.contains(v)||n===v));return(M&&(Math.abs(A)<1||!h)||!M&&(Math.abs(O)<1||!h))&&(S=!0),S},pm=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},L2=function(e){return[e.deltaX,e.deltaY]},_2=function(e){return e&&"current"in e?e.current:e},wX=function(e,n){return e[0]===n[0]&&e[1]===n[1]},SX=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},PX=0,_h=[];function kX(e){var n=at.useRef([]),s=at.useRef([0,0]),a=at.useRef(),h=at.useState(PX++)[0],d=at.useState(UF)[0],p=at.useRef(e);at.useEffect(function(){p.current=e},[e]),at.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(h));var j=GH([e.lockRef.current],(e.shards||[]).map(_2),!0).filter(Boolean);return j.forEach(function(V){return V.classList.add("allow-interactivity-".concat(h))}),function(){document.body.classList.remove("block-interactivity-".concat(h)),j.forEach(function(V){return V.classList.remove("allow-interactivity-".concat(h))})}}},[e.inert,e.lockRef.current,e.shards]);var v=at.useCallback(function(j,V){if("touches"in j&&j.touches.length===2)return!p.current.allowPinchZoom;var C=pm(j),z=s.current,F="deltaX"in j?j.deltaX:z[0]-C[0],Y="deltaY"in j?j.deltaY:z[1]-C[1],U,J=j.target,K=Math.abs(F)>Math.abs(Y)?"h":"v";if("touches"in j&&K==="h"&&J.type==="range")return!1;var rt=E2(K,J);if(!rt)return!0;if(rt?U=K:(U=K==="v"?"h":"v",rt=E2(K,J)),!rt)return!1;if(!a.current&&"changedTouches"in j&&(F||Y)&&(a.current=U),!U)return!0;var gt=a.current||U;return bX(gt,V,j,gt==="h"?F:Y,!0)},[]),x=at.useCallback(function(j){var V=j;if(!(!_h.length||_h[_h.length-1]!==d)){var C="deltaY"in V?L2(V):pm(V),z=n.current.filter(function(U){return U.name===V.type&&(U.target===V.target||V.target===U.shadowParent)&&wX(U.delta,C)})[0];if(z&&z.should){V.cancelable&&V.preventDefault();return}if(!z){var F=(p.current.shards||[]).map(_2).filter(Boolean).filter(function(U){return U.contains(V.target)}),Y=F.length>0?v(V,F[0]):!p.current.noIsolation;Y&&V.cancelable&&V.preventDefault()}}},[]),S=at.useCallback(function(j,V,C,z){var F={name:j,delta:V,target:C,should:z,shadowParent:TX(C)};n.current.push(F),setTimeout(function(){n.current=n.current.filter(function(Y){return Y!==F})},1)},[]),M=at.useCallback(function(j){s.current=pm(j),a.current=void 0},[]),A=at.useCallback(function(j){S(j.type,L2(j),j.target,v(j,e.lockRef.current))},[]),O=at.useCallback(function(j){S(j.type,pm(j),j.target,v(j,e.lockRef.current))},[]);at.useEffect(function(){return _h.push(d),e.setCallbacks({onScrollCapture:A,onWheelCapture:A,onTouchMoveCapture:O}),document.addEventListener("wheel",x,Lh),document.addEventListener("touchmove",x,Lh),document.addEventListener("touchstart",M,Lh),function(){_h=_h.filter(function(j){return j!==d}),document.removeEventListener("wheel",x,Lh),document.removeEventListener("touchmove",x,Lh),document.removeEventListener("touchstart",M,Lh)}},[]);var B=e.removeScrollBar,I=e.inert;return at.createElement(at.Fragment,null,I?at.createElement(d,{styles:SX(h)}):null,B?at.createElement(fX,{gapMode:e.gapMode}):null)}function TX(e){for(var n=null;e!==null;)e instanceof ShadowRoot&&(n=e.host,e=e.host),e=e.parentNode;return n}const MX=tX(VF,kX);var HF=at.forwardRef(function(e,n){return at.createElement(wv,Qo({},e,{ref:n,sideCar:MX}))});HF.classNames=wv.classNames;var AX=function(e){if(typeof document>"u")return null;var n=Array.isArray(e)?e[0]:e;return n.ownerDocument.body},Dh=new WeakMap,gm=new WeakMap,mm={},Rx=0,XF=function(e){return e&&(e.host||XF(e.parentNode))},CX=function(e,n){return n.map(function(s){if(e.contains(s))return s;var a=XF(s);return a&&e.contains(a)?a:(console.error("aria-hidden",s,"in not contained inside",e,". Doing nothing"),null)}).filter(function(s){return!!s})},OX=function(e,n,s,a){var h=CX(n,Array.isArray(e)?e:[e]);mm[s]||(mm[s]=new WeakMap);var d=mm[s],p=[],v=new Set,x=new Set(h),S=function(A){!A||v.has(A)||(v.add(A),S(A.parentNode))};h.forEach(S);var M=function(A){!A||x.has(A)||Array.prototype.forEach.call(A.children,function(O){if(v.has(O))M(O);else try{var B=O.getAttribute(a),I=B!==null&&B!=="false",j=(Dh.get(O)||0)+1,V=(d.get(O)||0)+1;Dh.set(O,j),d.set(O,V),p.push(O),j===1&&I&&gm.set(O,!0),V===1&&O.setAttribute(s,"true"),I||O.setAttribute(a,"true")}catch(C){console.error("aria-hidden: cannot operate on ",O,C)}})};return M(n),v.clear(),Rx++,function(){p.forEach(function(A){var O=Dh.get(A)-1,B=d.get(A)-1;Dh.set(A,O),d.set(A,B),O||(gm.has(A)||A.removeAttribute(a),gm.delete(A)),B||A.removeAttribute(s)}),Rx--,Rx||(Dh=new WeakMap,Dh=new WeakMap,gm=new WeakMap,mm={})}},NX=function(e,n,s){s===void 0&&(s="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),h=AX(e);return h?(a.push.apply(a,Array.from(h.querySelectorAll("[aria-live]"))),OX(a,h,s,"aria-hidden")):function(){return null}},Zk="Dialog",[YF,NAt]=sv(Zk),[EX,Ro]=YF(Zk),qF=e=>{const{__scopeDialog:n,children:s,open:a,defaultOpen:h,onOpenChange:d,modal:p=!0}=e,v=at.useRef(null),x=at.useRef(null),[S=!1,M]=ok({prop:a,defaultProp:h,onChange:d});return ot.jsx(EX,{scope:n,triggerRef:v,contentRef:x,contentId:Nf(),titleId:Nf(),descriptionId:Nf(),open:S,onOpenChange:M,onOpenToggle:at.useCallback(()=>M(A=>!A),[M]),modal:p,children:s})};qF.displayName=Zk;var ZF="DialogTrigger",JF=at.forwardRef((e,n)=>{const{__scopeDialog:s,...a}=e,h=Ro(ZF,s),d=oa(n,h.triggerRef);return ot.jsx(Xr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":h.open,"aria-controls":h.contentId,"data-state":tT(h.open),...a,ref:d,onClick:dr(e.onClick,h.onOpenToggle)})});JF.displayName=ZF;var Jk="DialogPortal",[LX,QF]=YF(Jk,{forceMount:void 0}),tj=e=>{const{__scopeDialog:n,forceMount:s,children:a,container:h}=e,d=Ro(Jk,n);return ot.jsx(LX,{scope:n,forceMount:s,children:at.Children.map(a,p=>ot.jsx(Pg,{present:s||d.open,children:ot.jsx(BF,{asChild:!0,container:h,children:p})}))})};tj.displayName=Jk;var Vy="DialogOverlay",ej=at.forwardRef((e,n)=>{const s=QF(Vy,e.__scopeDialog),{forceMount:a=s.forceMount,...h}=e,d=Ro(Vy,e.__scopeDialog);return d.modal?ot.jsx(Pg,{present:a||d.open,children:ot.jsx(_X,{...h,ref:n})}):null});ej.displayName=Vy;var _X=at.forwardRef((e,n)=>{const{__scopeDialog:s,...a}=e,h=Ro(Vy,s);return ot.jsx(HF,{as:_c,allowPinchZoom:!0,shards:[h.contentRef],children:ot.jsx(Xr.div,{"data-state":tT(h.open),...a,ref:n,style:{pointerEvents:"auto",...a.style}})})}),ih="DialogContent",nj=at.forwardRef((e,n)=>{const s=QF(ih,e.__scopeDialog),{forceMount:a=s.forceMount,...h}=e,d=Ro(ih,e.__scopeDialog);return ot.jsx(Pg,{present:a||d.open,children:d.modal?ot.jsx(DX,{...h,ref:n}):ot.jsx(RX,{...h,ref:n})})});nj.displayName=ih;var DX=at.forwardRef((e,n)=>{const s=Ro(ih,e.__scopeDialog),a=at.useRef(null),h=oa(n,s.contentRef,a);return at.useEffect(()=>{const d=a.current;if(d)return NX(d)},[]),ot.jsx(ij,{...e,ref:h,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:dr(e.onCloseAutoFocus,d=>{var p;d.preventDefault(),(p=s.triggerRef.current)==null||p.focus()}),onPointerDownOutside:dr(e.onPointerDownOutside,d=>{const p=d.detail.originalEvent,v=p.button===0&&p.ctrlKey===!0;(p.button===2||v)&&d.preventDefault()}),onFocusOutside:dr(e.onFocusOutside,d=>d.preventDefault())})}),RX=at.forwardRef((e,n)=>{const s=Ro(ih,e.__scopeDialog),a=at.useRef(!1),h=at.useRef(!1);return ot.jsx(ij,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:d=>{var p,v;(p=e.onCloseAutoFocus)==null||p.call(e,d),d.defaultPrevented||(a.current||(v=s.triggerRef.current)==null||v.focus(),d.preventDefault()),a.current=!1,h.current=!1},onInteractOutside:d=>{var x,S;(x=e.onInteractOutside)==null||x.call(e,d),d.defaultPrevented||(a.current=!0,d.detail.originalEvent.type==="pointerdown"&&(h.current=!0));const p=d.target;((S=s.triggerRef.current)==null?void 0:S.contains(p))&&d.preventDefault(),d.detail.originalEvent.type==="focusin"&&h.current&&d.preventDefault()}})}),ij=at.forwardRef((e,n)=>{const{__scopeDialog:s,trapFocus:a,onOpenAutoFocus:h,onCloseAutoFocus:d,...p}=e,v=Ro(ih,s),x=at.useRef(null),S=oa(n,x);return KH(),ot.jsxs(ot.Fragment,{children:[ot.jsx(FF,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:h,onUnmountAutoFocus:d,children:ot.jsx(RF,{role:"dialog",id:v.contentId,"aria-describedby":v.descriptionId,"aria-labelledby":v.titleId,"data-state":tT(v.open),...p,ref:S,onDismiss:()=>v.onOpenChange(!1)})}),ot.jsxs(ot.Fragment,{children:[ot.jsx(IX,{titleId:v.titleId}),ot.jsx(jX,{contentRef:x,descriptionId:v.descriptionId})]})]})}),Qk="DialogTitle",rj=at.forwardRef((e,n)=>{const{__scopeDialog:s,...a}=e,h=Ro(Qk,s);return ot.jsx(Xr.h2,{id:h.titleId,...a,ref:n})});rj.displayName=Qk;var sj="DialogDescription",oj=at.forwardRef((e,n)=>{const{__scopeDialog:s,...a}=e,h=Ro(sj,s);return ot.jsx(Xr.p,{id:h.descriptionId,...a,ref:n})});oj.displayName=sj;var aj="DialogClose",lj=at.forwardRef((e,n)=>{const{__scopeDialog:s,...a}=e,h=Ro(aj,s);return ot.jsx(Xr.button,{type:"button",...a,ref:n,onClick:dr(e.onClick,()=>h.onOpenChange(!1))})});lj.displayName=aj;function tT(e){return e?"open":"closed"}var uj="DialogTitleWarning",[EAt,hj]=hG(uj,{contentName:ih,titleName:Qk,docsSlug:"dialog"}),IX=({titleId:e})=>{const n=hj(uj),s=`\`${n.contentName}\` requires a \`${n.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${n.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${n.docsSlug}`;return at.useEffect(()=>{e&&(document.getElementById(e)||console.error(s))},[s,e]),null},FX="DialogDescriptionWarning",jX=({contentRef:e,descriptionId:n})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${hj(FX).contentName}}.`;return at.useEffect(()=>{var d;const h=(d=e.current)==null?void 0:d.getAttribute("aria-describedby");n&&h&&(document.getElementById(n)||console.warn(a))},[a,e,n]),null},BX=qF,$X=JF,cj=tj,Sv=ej,Pv=nj,kv=rj,Tv=oj,dj=lj;function fj(e){var n,s,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e))for(n=0;n<e.length;n++)e[n]&&(s=fj(e[n]))&&(a&&(a+=" "),a+=s);else for(n in e)e[n]&&(a&&(a+=" "),a+=n);return a}function zX(){for(var e,n,s=0,a="";s<arguments.length;)(e=arguments[s++])&&(n=fj(e))&&(a&&(a+=" "),a+=n);return a}const D2=e=>typeof e=="boolean"?"".concat(e):e===0?"0":e,R2=zX,pj=(e,n)=>s=>{var a;if((n==null?void 0:n.variants)==null)return R2(e,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:h,defaultVariants:d}=n,p=Object.keys(h).map(S=>{const M=s==null?void 0:s[S],A=d==null?void 0:d[S];if(M===null)return null;const O=D2(M)||D2(A);return h[S][O]}),v=s&&Object.entries(s).reduce((S,M)=>{let[A,O]=M;return O===void 0||(S[A]=O),S},{}),x=n==null||(a=n.compoundVariants)===null||a===void 0?void 0:a.reduce((S,M)=>{let{class:A,className:O,...B}=M;return Object.entries(B).every(I=>{let[j,V]=I;return Array.isArray(V)?V.includes({...d,...v}[j]):{...d,...v}[j]===V})?[...S,A,O]:S},[]);return R2(e,p,x,s==null?void 0:s.class,s==null?void 0:s.className)};/**
 * @license lucide-react v0.438.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VX=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gj=(...e)=>e.filter((n,s,a)=>!!n&&a.indexOf(n)===s).join(" ");/**
 * @license lucide-react v0.438.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var UX={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.438.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KX=at.forwardRef(({color:e="currentColor",size:n=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:h="",children:d,iconNode:p,...v},x)=>at.createElement("svg",{ref:x,...UX,width:n,height:n,stroke:e,strokeWidth:a?Number(s)*24/Number(n):s,className:gj("lucide",h),...v},[...p.map(([S,M])=>at.createElement(S,M)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.438.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=(e,n)=>{const s=at.forwardRef(({className:a,...h},d)=>at.createElement(KX,{ref:d,iconNode:n,className:gj(`lucide-${VX(e)}`,a),...h}));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.438.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GX=Mv("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.438.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WX=Mv("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.438.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HX=Mv("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);/**
 * @license lucide-react v0.438.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mj=Mv("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function yj(e){var n,s,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var h=e.length;for(n=0;n<h;n++)e[n]&&(s=yj(e[n]))&&(a&&(a+=" "),a+=s)}else for(s in e)e[s]&&(a&&(a+=" "),a+=s);return a}function mn(){for(var e,n,s=0,a="",h=arguments.length;s<h;s++)(e=arguments[s])&&(n=yj(e))&&(a&&(a+=" "),a+=n);return a}const eT="-",XX=e=>{const n=qX(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:p=>{const v=p.split(eT);return v[0]===""&&v.length!==1&&v.shift(),vj(v,n)||YX(p)},getConflictingClassGroupIds:(p,v)=>{const x=s[p]||[];return v&&a[p]?[...x,...a[p]]:x}}},vj=(e,n)=>{var p;if(e.length===0)return n.classGroupId;const s=e[0],a=n.nextPart.get(s),h=a?vj(e.slice(1),a):void 0;if(h)return h;if(n.validators.length===0)return;const d=e.join(eT);return(p=n.validators.find(({validator:v})=>v(d)))==null?void 0:p.classGroupId},I2=/^\[(.+)\]$/,YX=e=>{if(I2.test(e)){const n=I2.exec(e)[1],s=n==null?void 0:n.substring(0,n.indexOf(":"));if(s)return"arbitrary.."+s}},qX=e=>{const{theme:n,prefix:s}=e,a={nextPart:new Map,validators:[]};return JX(Object.entries(e.classGroups),s).forEach(([d,p])=>{zw(p,a,d,n)}),a},zw=(e,n,s,a)=>{e.forEach(h=>{if(typeof h=="string"){const d=h===""?n:F2(n,h);d.classGroupId=s;return}if(typeof h=="function"){if(ZX(h)){zw(h(a),n,s,a);return}n.validators.push({validator:h,classGroupId:s});return}Object.entries(h).forEach(([d,p])=>{zw(p,F2(n,d),s,a)})})},F2=(e,n)=>{let s=e;return n.split(eT).forEach(a=>{s.nextPart.has(a)||s.nextPart.set(a,{nextPart:new Map,validators:[]}),s=s.nextPart.get(a)}),s},ZX=e=>e.isThemeGetter,JX=(e,n)=>n?e.map(([s,a])=>{const h=a.map(d=>typeof d=="string"?n+d:typeof d=="object"?Object.fromEntries(Object.entries(d).map(([p,v])=>[n+p,v])):d);return[s,h]}):e,QX=e=>{if(e<1)return{get:()=>{},set:()=>{}};let n=0,s=new Map,a=new Map;const h=(d,p)=>{s.set(d,p),n++,n>e&&(n=0,a=s,s=new Map)};return{get(d){let p=s.get(d);if(p!==void 0)return p;if((p=a.get(d))!==void 0)return h(d,p),p},set(d,p){s.has(d)?s.set(d,p):h(d,p)}}},xj="!",t9=e=>{const{separator:n,experimentalParseClassName:s}=e,a=n.length===1,h=n[0],d=n.length,p=v=>{const x=[];let S=0,M=0,A;for(let V=0;V<v.length;V++){let C=v[V];if(S===0){if(C===h&&(a||v.slice(V,V+d)===n)){x.push(v.slice(M,V)),M=V+d;continue}if(C==="/"){A=V;continue}}C==="["?S++:C==="]"&&S--}const O=x.length===0?v:v.substring(M),B=O.startsWith(xj),I=B?O.substring(1):O,j=A&&A>M?A-M:void 0;return{modifiers:x,hasImportantModifier:B,baseClassName:I,maybePostfixModifierPosition:j}};return s?v=>s({className:v,parseClassName:p}):p},e9=e=>{if(e.length<=1)return e;const n=[];let s=[];return e.forEach(a=>{a[0]==="["?(n.push(...s.sort(),a),s=[]):s.push(a)}),n.push(...s.sort()),n},n9=e=>({cache:QX(e.cacheSize),parseClassName:t9(e),...XX(e)}),i9=/\s+/,r9=(e,n)=>{const{parseClassName:s,getClassGroupId:a,getConflictingClassGroupIds:h}=n,d=[],p=e.trim().split(i9);let v="";for(let x=p.length-1;x>=0;x-=1){const S=p[x],{modifiers:M,hasImportantModifier:A,baseClassName:O,maybePostfixModifierPosition:B}=s(S);let I=!!B,j=a(I?O.substring(0,B):O);if(!j){if(!I){v=S+(v.length>0?" "+v:v);continue}if(j=a(O),!j){v=S+(v.length>0?" "+v:v);continue}I=!1}const V=e9(M).join(":"),C=A?V+xj:V,z=C+j;if(d.includes(z))continue;d.push(z);const F=h(j,I);for(let Y=0;Y<F.length;++Y){const U=F[Y];d.push(C+U)}v=S+(v.length>0?" "+v:v)}return v};function s9(){let e=0,n,s,a="";for(;e<arguments.length;)(n=arguments[e++])&&(s=bj(n))&&(a&&(a+=" "),a+=s);return a}const bj=e=>{if(typeof e=="string")return e;let n,s="";for(let a=0;a<e.length;a++)e[a]&&(n=bj(e[a]))&&(s&&(s+=" "),s+=n);return s};function o9(e,...n){let s,a,h,d=p;function p(x){const S=n.reduce((M,A)=>A(M),e());return s=n9(S),a=s.cache.get,h=s.cache.set,d=v,v(x)}function v(x){const S=a(x);if(S)return S;const M=r9(x,s);return h(x,M),M}return function(){return d(s9.apply(null,arguments))}}const Zn=e=>{const n=s=>s[e]||[];return n.isThemeGetter=!0,n},wj=/^\[(?:([a-z-]+):)?(.+)\]$/i,a9=/^\d+\/\d+$/,l9=new Set(["px","full","screen"]),u9=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,h9=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,c9=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,d9=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,f9=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ma=e=>mc(e)||l9.has(e)||a9.test(e),wl=e=>fd(e,"length",w9),mc=e=>!!e&&!Number.isNaN(Number(e)),Ix=e=>fd(e,"number",mc),of=e=>!!e&&Number.isInteger(Number(e)),p9=e=>e.endsWith("%")&&mc(e.slice(0,-1)),Ke=e=>wj.test(e),Sl=e=>u9.test(e),g9=new Set(["length","size","percentage"]),m9=e=>fd(e,g9,Sj),y9=e=>fd(e,"position",Sj),v9=new Set(["image","url"]),x9=e=>fd(e,v9,P9),b9=e=>fd(e,"",S9),af=()=>!0,fd=(e,n,s)=>{const a=wj.exec(e);return a?a[1]?typeof n=="string"?a[1]===n:n.has(a[1]):s(a[2]):!1},w9=e=>h9.test(e)&&!c9.test(e),Sj=()=>!1,S9=e=>d9.test(e),P9=e=>f9.test(e),k9=()=>{const e=Zn("colors"),n=Zn("spacing"),s=Zn("blur"),a=Zn("brightness"),h=Zn("borderColor"),d=Zn("borderRadius"),p=Zn("borderSpacing"),v=Zn("borderWidth"),x=Zn("contrast"),S=Zn("grayscale"),M=Zn("hueRotate"),A=Zn("invert"),O=Zn("gap"),B=Zn("gradientColorStops"),I=Zn("gradientColorStopPositions"),j=Zn("inset"),V=Zn("margin"),C=Zn("opacity"),z=Zn("padding"),F=Zn("saturate"),Y=Zn("scale"),U=Zn("sepia"),J=Zn("skew"),K=Zn("space"),rt=Zn("translate"),gt=()=>["auto","contain","none"],lt=()=>["auto","hidden","clip","visible","scroll"],dt=()=>["auto",Ke,n],mt=()=>[Ke,n],vt=()=>["",Ma,wl],Mt=()=>["auto",mc,Ke],Ct=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Ot=()=>["solid","dashed","dotted","double","none"],Rt=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],yt=()=>["start","end","center","between","around","evenly","stretch"],Nt=()=>["","0",Ke],kt=()=>["auto","avoid","all","avoid-page","page","left","right","column"],At=()=>[mc,Ke];return{cacheSize:500,separator:":",theme:{colors:[af],spacing:[Ma,wl],blur:["none","",Sl,Ke],brightness:At(),borderColor:[e],borderRadius:["none","","full",Sl,Ke],borderSpacing:mt(),borderWidth:vt(),contrast:At(),grayscale:Nt(),hueRotate:At(),invert:Nt(),gap:mt(),gradientColorStops:[e],gradientColorStopPositions:[p9,wl],inset:dt(),margin:dt(),opacity:At(),padding:mt(),saturate:At(),scale:At(),sepia:Nt(),skew:At(),space:mt(),translate:mt()},classGroups:{aspect:[{aspect:["auto","square","video",Ke]}],container:["container"],columns:[{columns:[Sl]}],"break-after":[{"break-after":kt()}],"break-before":[{"break-before":kt()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Ct(),Ke]}],overflow:[{overflow:lt()}],"overflow-x":[{"overflow-x":lt()}],"overflow-y":[{"overflow-y":lt()}],overscroll:[{overscroll:gt()}],"overscroll-x":[{"overscroll-x":gt()}],"overscroll-y":[{"overscroll-y":gt()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[j]}],"inset-x":[{"inset-x":[j]}],"inset-y":[{"inset-y":[j]}],start:[{start:[j]}],end:[{end:[j]}],top:[{top:[j]}],right:[{right:[j]}],bottom:[{bottom:[j]}],left:[{left:[j]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",of,Ke]}],basis:[{basis:dt()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ke]}],grow:[{grow:Nt()}],shrink:[{shrink:Nt()}],order:[{order:["first","last","none",of,Ke]}],"grid-cols":[{"grid-cols":[af]}],"col-start-end":[{col:["auto",{span:["full",of,Ke]},Ke]}],"col-start":[{"col-start":Mt()}],"col-end":[{"col-end":Mt()}],"grid-rows":[{"grid-rows":[af]}],"row-start-end":[{row:["auto",{span:[of,Ke]},Ke]}],"row-start":[{"row-start":Mt()}],"row-end":[{"row-end":Mt()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ke]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ke]}],gap:[{gap:[O]}],"gap-x":[{"gap-x":[O]}],"gap-y":[{"gap-y":[O]}],"justify-content":[{justify:["normal",...yt()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...yt(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...yt(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[z]}],px:[{px:[z]}],py:[{py:[z]}],ps:[{ps:[z]}],pe:[{pe:[z]}],pt:[{pt:[z]}],pr:[{pr:[z]}],pb:[{pb:[z]}],pl:[{pl:[z]}],m:[{m:[V]}],mx:[{mx:[V]}],my:[{my:[V]}],ms:[{ms:[V]}],me:[{me:[V]}],mt:[{mt:[V]}],mr:[{mr:[V]}],mb:[{mb:[V]}],ml:[{ml:[V]}],"space-x":[{"space-x":[K]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[K]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ke,n]}],"min-w":[{"min-w":[Ke,n,"min","max","fit"]}],"max-w":[{"max-w":[Ke,n,"none","full","min","max","fit","prose",{screen:[Sl]},Sl]}],h:[{h:[Ke,n,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ke,n,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ke,n,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ke,n,"auto","min","max","fit"]}],"font-size":[{text:["base",Sl,wl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ix]}],"font-family":[{font:[af]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ke]}],"line-clamp":[{"line-clamp":["none",mc,Ix]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ma,Ke]}],"list-image":[{"list-image":["none",Ke]}],"list-style-type":[{list:["none","disc","decimal",Ke]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[C]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[C]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ot(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ma,wl]}],"underline-offset":[{"underline-offset":["auto",Ma,Ke]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:mt()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[C]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Ct(),y9]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",m9]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},x9]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[I]}],"gradient-via-pos":[{via:[I]}],"gradient-to-pos":[{to:[I]}],"gradient-from":[{from:[B]}],"gradient-via":[{via:[B]}],"gradient-to":[{to:[B]}],rounded:[{rounded:[d]}],"rounded-s":[{"rounded-s":[d]}],"rounded-e":[{"rounded-e":[d]}],"rounded-t":[{"rounded-t":[d]}],"rounded-r":[{"rounded-r":[d]}],"rounded-b":[{"rounded-b":[d]}],"rounded-l":[{"rounded-l":[d]}],"rounded-ss":[{"rounded-ss":[d]}],"rounded-se":[{"rounded-se":[d]}],"rounded-ee":[{"rounded-ee":[d]}],"rounded-es":[{"rounded-es":[d]}],"rounded-tl":[{"rounded-tl":[d]}],"rounded-tr":[{"rounded-tr":[d]}],"rounded-br":[{"rounded-br":[d]}],"rounded-bl":[{"rounded-bl":[d]}],"border-w":[{border:[v]}],"border-w-x":[{"border-x":[v]}],"border-w-y":[{"border-y":[v]}],"border-w-s":[{"border-s":[v]}],"border-w-e":[{"border-e":[v]}],"border-w-t":[{"border-t":[v]}],"border-w-r":[{"border-r":[v]}],"border-w-b":[{"border-b":[v]}],"border-w-l":[{"border-l":[v]}],"border-opacity":[{"border-opacity":[C]}],"border-style":[{border:[...Ot(),"hidden"]}],"divide-x":[{"divide-x":[v]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[v]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[C]}],"divide-style":[{divide:Ot()}],"border-color":[{border:[h]}],"border-color-x":[{"border-x":[h]}],"border-color-y":[{"border-y":[h]}],"border-color-t":[{"border-t":[h]}],"border-color-r":[{"border-r":[h]}],"border-color-b":[{"border-b":[h]}],"border-color-l":[{"border-l":[h]}],"divide-color":[{divide:[h]}],"outline-style":[{outline:["",...Ot()]}],"outline-offset":[{"outline-offset":[Ma,Ke]}],"outline-w":[{outline:[Ma,wl]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:vt()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[C]}],"ring-offset-w":[{"ring-offset":[Ma,wl]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Sl,b9]}],"shadow-color":[{shadow:[af]}],opacity:[{opacity:[C]}],"mix-blend":[{"mix-blend":[...Rt(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Rt()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[a]}],contrast:[{contrast:[x]}],"drop-shadow":[{"drop-shadow":["","none",Sl,Ke]}],grayscale:[{grayscale:[S]}],"hue-rotate":[{"hue-rotate":[M]}],invert:[{invert:[A]}],saturate:[{saturate:[F]}],sepia:[{sepia:[U]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[x]}],"backdrop-grayscale":[{"backdrop-grayscale":[S]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[M]}],"backdrop-invert":[{"backdrop-invert":[A]}],"backdrop-opacity":[{"backdrop-opacity":[C]}],"backdrop-saturate":[{"backdrop-saturate":[F]}],"backdrop-sepia":[{"backdrop-sepia":[U]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[p]}],"border-spacing-x":[{"border-spacing-x":[p]}],"border-spacing-y":[{"border-spacing-y":[p]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ke]}],duration:[{duration:At()}],ease:[{ease:["linear","in","out","in-out",Ke]}],delay:[{delay:At()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ke]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[Y]}],"scale-x":[{"scale-x":[Y]}],"scale-y":[{"scale-y":[Y]}],rotate:[{rotate:[of,Ke]}],"translate-x":[{"translate-x":[rt]}],"translate-y":[{"translate-y":[rt]}],"skew-x":[{"skew-x":[J]}],"skew-y":[{"skew-y":[J]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ke]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ke]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":mt()}],"scroll-mx":[{"scroll-mx":mt()}],"scroll-my":[{"scroll-my":mt()}],"scroll-ms":[{"scroll-ms":mt()}],"scroll-me":[{"scroll-me":mt()}],"scroll-mt":[{"scroll-mt":mt()}],"scroll-mr":[{"scroll-mr":mt()}],"scroll-mb":[{"scroll-mb":mt()}],"scroll-ml":[{"scroll-ml":mt()}],"scroll-p":[{"scroll-p":mt()}],"scroll-px":[{"scroll-px":mt()}],"scroll-py":[{"scroll-py":mt()}],"scroll-ps":[{"scroll-ps":mt()}],"scroll-pe":[{"scroll-pe":mt()}],"scroll-pt":[{"scroll-pt":mt()}],"scroll-pr":[{"scroll-pr":mt()}],"scroll-pb":[{"scroll-pb":mt()}],"scroll-pl":[{"scroll-pl":mt()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ke]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ma,wl,Ix]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},T9=o9(k9);function Fn(...e){return T9(mn(e))}function nT(e){const n=new Date(e);return`${n.toLocaleString("id-ID",{month:"long"})} ${n.getDate()}, ${n.getFullYear()}`}const M9=BX,A9=$X,C9=cj,Pj=at.forwardRef(({className:e,...n},s)=>ot.jsx(Sv,{className:Fn("fixed inset-0 z-[999999999999] bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...n,ref:s}));Pj.displayName=Sv.displayName;const O9=pj("fixed z-[999999999999] gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),kj=at.forwardRef(({side:e="right",className:n,children:s,...a},h)=>ot.jsxs(C9,{children:[ot.jsx(Pj,{}),ot.jsxs(Pv,{ref:h,className:Fn(O9({side:e}),n),...a,children:[s,ot.jsxs(dj,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[ot.jsx(mj,{className:"h-4 w-4"}),ot.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));kj.displayName=Pv.displayName;const Tj=({className:e,...n})=>ot.jsx("div",{className:Fn("flex flex-col space-y-2 text-center sm:text-left",e),...n});Tj.displayName="SheetHeader";const Mj=at.forwardRef(({className:e,...n},s)=>ot.jsx(kv,{ref:s,className:Fn("text-lg font-semibold text-foreground",e),...n}));Mj.displayName=kv.displayName;const Vw=at.forwardRef(({className:e,...n},s)=>ot.jsx(Tv,{ref:s,className:Fn("text-sm text-muted-foreground",e),...n}));Vw.displayName=Tv.displayName;function N9(){const e=n=>new URL(window.location.href).pathname===n;return ot.jsx("div",{className:"flex flex-wrap md:justify-start md:flex-nowrap z-50 w-full py-4",children:ot.jsxs("nav",{className:"w-full lg:w-9/12 mx-auto flex justify-between items-end px-4 gap-x-2",children:[ot.jsx("div",{className:"w-full md:w-fit",children:ot.jsxs("div",{children:[ot.jsx(Mi,{href:"/",className:"text-3xl lg:text-5xl text-gray-700 font-extrabold",children:"Kowioha"}),ot.jsx("p",{className:"pl-0.5",children:"Kec. Wundulako, Kolaka"})]})}),ot.jsxs("div",{className:"flex-1",children:[ot.jsxs("div",{className:"hidden md:flex justify-end gap-4 ",children:[ot.jsx(Mi,{href:"/",className:` ${e("/")?"text-red-400":"text-gray-400 hover:text-gray-900"}`,children:"Beranda"}),ot.jsx(Mi,{href:"/profil-kelurahan",className:` ${e("/profil-kelurahan")?"text-red-400":"text-gray-400 hover:text-gray-900"}`,children:"Profil Kelurahan"}),ot.jsx(Mi,{href:"/struktur-organisasi",className:` ${e("/struktur-organisasi")?"text-red-400":"text-gray-400 hover:text-gray-900"}`,children:"Struktur Organisasi"}),ot.jsx(Mi,{href:"/berita",className:` ${e("/berita")?"text-red-400":"text-gray-400 hover:text-gray-900"}`,children:"Berita"}),ot.jsx(Mi,{href:"/aktivitas",className:` ${e("/aktivitas")?"text-red-400":"text-gray-400 hover:text-gray-900"}`,children:"Aktivitas"}),ot.jsx(Mi,{href:"/lokasi",className:` ${e("/lokasi")?"text-red-400":"text-gray-400 hover:text-gray-900"}`,children:"Lokasi"}),ot.jsx(Mi,{href:"/pelayanan",className:` ${e("/pelayanan")?"text-red-400":"text-gray-400 hover:text-gray-900"}`,children:"Pelayanan"})]}),ot.jsx("div",{className:"md:hidden",children:ot.jsxs(M9,{className:"z-[999999999999999]",side:"left",children:[ot.jsx(A9,{children:ot.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:ot.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 9h16.5m-16.5 6.75h16.5"})})}),ot.jsxs(kj,{className:"",children:[ot.jsxs(Tj,{children:[ot.jsx(Mj,{className:"text-2xl font-black text-left uppercase text-gray-800 leading-3",children:"Kowioha"}),ot.jsx(Vw,{className:"text-left",children:"Kec. Wundulako, Kabupaten Kolaka."})]}),ot.jsx(Vw,{className:"h-full",children:ot.jsxs("div",{className:"mt-8 flex flex-col gap-y-4",children:[ot.jsx(Mi,{href:"/",className:`text-3xl font-extrabold ${e("/")?"text-red-400":"text-gray-400 hover:text-gray-900"}`,children:"Beranda"}),ot.jsx(Mi,{href:"/profil-kelurahan",className:`text-3xl font-extrabold ${e("/profil-kelurahan")?"text-red-400":"text-gray-400 hover:text-gray-900"}`,children:"Profil Kelurahan"}),ot.jsx(Mi,{href:"/struktur-organisasi",className:`text-3xl font-extrabold ${e("/struktur-organisasi")?"text-red-400":"text-gray-400 hover:text-gray-900"}`,children:"Struktur Organisasi"}),ot.jsx(Mi,{href:"/berita",className:`text-3xl font-extrabold ${e("/berita")?"text-red-400":"text-gray-400 hover:text-gray-900"}`,children:"Berita"}),ot.jsx(Mi,{href:"/aktivitas",className:`text-3xl font-extrabold ${e("/aktivitas")?"text-red-400":"text-gray-400 hover:text-gray-900"}`,children:"Aktivitas"}),ot.jsx(Mi,{href:"/lokasi",className:`text-3xl font-extrabold ${e("/lokasi")?"text-red-400":"text-gray-400 hover:text-gray-900"}`,children:"Lokasi"}),ot.jsx(Mi,{href:"/pelayanan",className:`text-3xl font-extrabold ${e("/pelayanan")?"text-red-400":"text-gray-400 hover:text-gray-900"}`,children:"Pelayanan"})]})})]})]})})]})]})})}const iT=at.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Av=at.createContext({}),Cv=at.createContext(null),rT=typeof window<"u",Aj=rT?at.useLayoutEffect:at.useEffect,Cj=at.createContext({strict:!1}),Ov=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),E9="framerAppearId",Oj="data-"+Ov(E9),L9={skipAnimations:!1,useManualTiming:!1};function _9(e){let n=new Set,s=new Set,a=!1,h=!1;const d=new WeakSet;let p={delta:0,timestamp:0,isProcessing:!1};function v(S){d.has(S)&&(x.schedule(S),e()),S(p)}const x={schedule:(S,M=!1,A=!1)=>{const B=A&&a?n:s;return M&&d.add(S),B.has(S)||B.add(S),S},cancel:S=>{s.delete(S),d.delete(S)},process:S=>{if(p=S,a){h=!0;return}a=!0,[n,s]=[s,n],s.clear(),n.forEach(v),a=!1,h&&(h=!1,x.process(S))}};return x}const ym=["read","resolveKeyframes","update","preRender","render","postRender"],D9=40;function Nj(e,n){let s=!1,a=!0;const h={delta:0,timestamp:0,isProcessing:!1},d=()=>s=!0,p=ym.reduce((C,z)=>(C[z]=_9(d),C),{}),{read:v,resolveKeyframes:x,update:S,preRender:M,render:A,postRender:O}=p,B=()=>{const C=performance.now();s=!1,h.delta=a?1e3/60:Math.max(Math.min(C-h.timestamp,D9),1),h.timestamp=C,h.isProcessing=!0,v.process(h),x.process(h),S.process(h),M.process(h),A.process(h),O.process(h),h.isProcessing=!1,s&&n&&(a=!1,e(B))},I=()=>{s=!0,a=!0,h.isProcessing||e(B)};return{schedule:ym.reduce((C,z)=>{const F=p[z];return C[z]=(Y,U=!1,J=!1)=>(s||I(),F.schedule(Y,U,J)),C},{}),cancel:C=>{for(let z=0;z<ym.length;z++)p[ym[z]].cancel(C)},state:h,steps:p}}const{schedule:sT,cancel:LAt}=Nj(queueMicrotask,!1);function tc(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}const Ej=at.createContext({});let j2=!1;function R9(e,n,s,a,h){var d;const{visualElement:p}=at.useContext(Av),v=at.useContext(Cj),x=at.useContext(Cv),S=at.useContext(iT).reducedMotion,M=at.useRef();a=a||v.renderer,!M.current&&a&&(M.current=a(e,{visualState:n,parent:p,props:s,presenceContext:x,blockInitialAnimation:x?x.initial===!1:!1,reducedMotionConfig:S}));const A=M.current,O=at.useContext(Ej);A&&!A.projection&&h&&(A.type==="html"||A.type==="svg")&&F9(M.current,s,h,O),at.useInsertionEffect(()=>{A&&A.update(s,x)});const B=s[Oj],I=at.useRef(!!B&&!window.MotionHandoffIsComplete&&((d=window.MotionHasOptimisedAnimation)===null||d===void 0?void 0:d.call(window,B)));return Aj(()=>{A&&(A.updateFeatures(),sT.render(A.render),I.current&&A.animationState&&A.animationState.animateChanges())}),at.useEffect(()=>{A&&(!I.current&&A.animationState&&A.animationState.animateChanges(),I.current=!1,j2||(j2=!0,queueMicrotask(I9)))}),A}function I9(){window.MotionHandoffIsComplete=!0}function F9(e,n,s,a){const{layoutId:h,layout:d,drag:p,dragConstraints:v,layoutScroll:x,layoutRoot:S}=n;e.projection=new s(e.latestValues,n["data-framer-portal-id"]?void 0:Lj(e.parent)),e.projection.setOptions({layoutId:h,layout:d,alwaysMeasureLayout:!!p||v&&tc(v),visualElement:e,animationType:typeof d=="string"?d:"both",initialPromotionConfig:a,layoutScroll:x,layoutRoot:S})}function Lj(e){if(e)return e.options.allowProjection!==!1?e.projection:Lj(e.parent)}function j9(e,n,s){return at.useCallback(a=>{a&&e.mount&&e.mount(a),n&&(a?n.mount(a):n.unmount()),s&&(typeof s=="function"?s(a):tc(s)&&(s.current=a))},[n])}function yp(e){return typeof e=="string"||Array.isArray(e)}function vp(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const oT=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],aT=["initial",...oT];function Nv(e){return vp(e.animate)||aT.some(n=>yp(e[n]))}function _j(e){return!!(Nv(e)||e.variants)}function B9(e,n){if(Nv(e)){const{initial:s,animate:a}=e;return{initial:s===!1||yp(s)?s:void 0,animate:yp(a)?a:void 0}}return e.inherit!==!1?n:{}}function $9(e){const{initial:n,animate:s}=B9(e,at.useContext(Av));return at.useMemo(()=>({initial:n,animate:s}),[B2(n),B2(s)])}function B2(e){return Array.isArray(e)?e.join(" "):e}const $2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Dc={};for(const e in $2)Dc[e]={isEnabled:n=>$2[e].some(s=>!!n[s])};function z9(e){for(const n in e)Dc[n]={...Dc[n],...e[n]}}const lT=at.createContext({}),V9=Symbol.for("motionComponentSymbol"),Er=e=>e;let Uw=Er;function U9({preloadedFeatures:e,createVisualElement:n,useRender:s,useVisualState:a,Component:h}){e&&z9(e);function d(v,x){let S;const M={...at.useContext(iT),...v,layoutId:K9(v)},{isStatic:A}=M,O=$9(v),B=a(v,A);if(!A&&rT){G9();const I=W9(M);S=I.MeasureLayout,O.visualElement=R9(h,B,M,n,I.ProjectionNode)}return ot.jsxs(Av.Provider,{value:O,children:[S&&O.visualElement?ot.jsx(S,{visualElement:O.visualElement,...M}):null,s(h,v,j9(B,O.visualElement,x),B,A,O.visualElement)]})}const p=at.forwardRef(d);return p[V9]=h,p}function K9({layoutId:e}){const n=at.useContext(lT).id;return n&&e!==void 0?n+"-"+e:e}function G9(e,n){at.useContext(Cj).strict}function W9(e){const{drag:n,layout:s}=Dc;if(!n&&!s)return{};const a={...n,...s};return{MeasureLayout:n!=null&&n.isEnabled(e)||s!=null&&s.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function H9(e){function n(a,h={}){return U9(e(a,h))}if(typeof Proxy>"u")return n;const s=new Map;return new Proxy(n,{get:(a,h)=>(s.has(h)||s.set(h,n(h)),s.get(h))})}const X9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function uT(e){return typeof e!="string"||e.includes("-")?!1:!!(X9.indexOf(e)>-1||/[A-Z]/u.test(e))}const Uy={};function Y9(e){Object.assign(Uy,e)}const kg=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ou=new Set(kg);function Dj(e,{layout:n,layoutId:s}){return ou.has(e)||e.startsWith("origin")||(n||s!==void 0)&&(!!Uy[e]||e==="opacity")}const Nr=e=>!!(e&&e.getVelocity),Rj=(e,n)=>n&&typeof e=="number"?n.transform(e):e,ql=(e,n,s)=>s>n?n:s<e?e:s,pd={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},$f={...pd,transform:e=>ql(0,1,e)},vm={...pd,default:1},zf=e=>Math.round(e*1e5)/1e5,hT=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,q9=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,Z9=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function Tg(e){return typeof e=="string"}function J9(e){return e==null}const Mg=e=>({test:n=>Tg(n)&&n.endsWith(e)&&n.split(" ").length===1,parse:parseFloat,transform:n=>`${n}${e}`}),kl=Mg("deg"),ia=Mg("%"),Re=Mg("px"),Q9=Mg("vh"),tY=Mg("vw"),z2={...ia,parse:e=>ia.parse(e)/100,transform:e=>ia.transform(e*100)},V2={...pd,transform:Math.round},cT={borderWidth:Re,borderTopWidth:Re,borderRightWidth:Re,borderBottomWidth:Re,borderLeftWidth:Re,borderRadius:Re,radius:Re,borderTopLeftRadius:Re,borderTopRightRadius:Re,borderBottomRightRadius:Re,borderBottomLeftRadius:Re,width:Re,maxWidth:Re,height:Re,maxHeight:Re,size:Re,top:Re,right:Re,bottom:Re,left:Re,padding:Re,paddingTop:Re,paddingRight:Re,paddingBottom:Re,paddingLeft:Re,margin:Re,marginTop:Re,marginRight:Re,marginBottom:Re,marginLeft:Re,rotate:kl,rotateX:kl,rotateY:kl,rotateZ:kl,scale:vm,scaleX:vm,scaleY:vm,scaleZ:vm,skew:kl,skewX:kl,skewY:kl,distance:Re,translateX:Re,translateY:Re,translateZ:Re,x:Re,y:Re,z:Re,perspective:Re,transformPerspective:Re,opacity:$f,originX:z2,originY:z2,originZ:Re,zIndex:V2,backgroundPositionX:Re,backgroundPositionY:Re,fillOpacity:$f,strokeOpacity:$f,numOctaves:V2},eY={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},nY=kg.length;function iY(e,n,s){let a="",h=!0;for(let d=0;d<nY;d++){const p=kg[d],v=e[p];if(v===void 0)continue;let x=!0;if(typeof v=="number"?x=v===(p.startsWith("scale")?1:0):x=parseFloat(v)===0,!x||s){const S=Rj(v,cT[p]);if(!x){h=!1;const M=eY[p]||p;a+=`${M}(${S}) `}s&&(n[p]=S)}}return a=a.trim(),s?a=s(n,h?"":a):h&&(a="none"),a}const Ij=e=>n=>typeof n=="string"&&n.startsWith(e),Fj=Ij("--"),rY=Ij("var(--"),dT=e=>rY(e)?sY.test(e.split("/*")[0].trim()):!1,sY=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function fT(e,n,s){const{style:a,vars:h,transformOrigin:d}=e;let p=!1,v=!1;for(const x in n){const S=n[x];if(ou.has(x)){p=!0;continue}else if(Fj(x)){h[x]=S;continue}else{const M=Rj(S,cT[x]);x.startsWith("origin")?(v=!0,d[x]=M):a[x]=M}}if(n.transform||(p||s?a.transform=iY(n,e.transform,s):a.transform&&(a.transform="none")),v){const{originX:x="50%",originY:S="50%",originZ:M=0}=d;a.transformOrigin=`${x} ${S} ${M}`}}const pT=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function jj(e,n,s){for(const a in n)!Nr(n[a])&&!Dj(a,s)&&(e[a]=n[a])}function oY({transformTemplate:e},n){return at.useMemo(()=>{const s=pT();return fT(s,n,e),Object.assign({},s.vars,s.style)},[n])}function aY(e,n){const s=e.style||{},a={};return jj(a,s,e),Object.assign(a,oY(e,n)),a}function lY(e,n){const s={},a=aY(e,n);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=a,s}const uY=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ky(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||uY.has(e)}let Bj=e=>!Ky(e);function hY(e){e&&(Bj=n=>n.startsWith("on")?!Ky(n):e(n))}try{hY(require("@emotion/is-prop-valid").default)}catch{}function cY(e,n,s){const a={};for(const h in e)h==="values"&&typeof e.values=="object"||(Bj(h)||s===!0&&Ky(h)||!n&&!Ky(h)||e.draggable&&h.startsWith("onDrag"))&&(a[h]=e[h]);return a}function U2(e,n,s){return typeof e=="string"?e:Re.transform(n+s*e)}function dY(e,n,s){const a=U2(n,e.x,e.width),h=U2(s,e.y,e.height);return`${a} ${h}`}const fY={offset:"stroke-dashoffset",array:"stroke-dasharray"},pY={offset:"strokeDashoffset",array:"strokeDasharray"};function gY(e,n,s=1,a=0,h=!0){e.pathLength=1;const d=h?fY:pY;e[d.offset]=Re.transform(-a);const p=Re.transform(n),v=Re.transform(s);e[d.array]=`${p} ${v}`}function gT(e,{attrX:n,attrY:s,attrScale:a,originX:h,originY:d,pathLength:p,pathSpacing:v=1,pathOffset:x=0,...S},M,A){if(fT(e,S,A),M){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:O,style:B,dimensions:I}=e;O.transform&&(I&&(B.transform=O.transform),delete O.transform),I&&(h!==void 0||d!==void 0||B.transform)&&(B.transformOrigin=dY(I,h!==void 0?h:.5,d!==void 0?d:.5)),n!==void 0&&(O.x=n),s!==void 0&&(O.y=s),a!==void 0&&(O.scale=a),p!==void 0&&gY(O,p,v,x,!1)}const $j=()=>({...pT(),attrs:{}}),mT=e=>typeof e=="string"&&e.toLowerCase()==="svg";function mY(e,n,s,a){const h=at.useMemo(()=>{const d=$j();return gT(d,n,mT(a),e.transformTemplate),{...d.attrs,style:{...d.style}}},[n]);if(e.style){const d={};jj(d,e.style,e),h.style={...d,...h.style}}return h}function yY(e=!1){return(s,a,h,{latestValues:d},p)=>{const x=(uT(s)?mY:lY)(a,d,p,s),S=cY(a,typeof s=="string",e),M=s!==at.Fragment?{...S,...x,ref:h}:{},{children:A}=a,O=at.useMemo(()=>Nr(A)?A.get():A,[A]);return at.createElement(s,{...M,children:O})}}function zj(e,{style:n,vars:s},a,h){Object.assign(e.style,n,h&&h.getProjectionStyles(a));for(const d in s)e.style.setProperty(d,s[d])}const Vj=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Uj(e,n,s,a){zj(e,n,void 0,a);for(const h in n.attrs)e.setAttribute(Vj.has(h)?h:Ov(h),n.attrs[h])}function yT(e,n,s){var a;const{style:h}=e,d={};for(const p in h)(Nr(h[p])||n.style&&Nr(n.style[p])||Dj(p,e)||((a=s==null?void 0:s.getValue(p))===null||a===void 0?void 0:a.liveStyle)!==void 0)&&(d[p]=h[p]);return s&&h&&typeof h.willChange=="string"&&(s.applyWillChange=!1),d}function Kj(e,n,s){const a=yT(e,n,s);for(const h in e)if(Nr(e[h])||Nr(n[h])){const d=kg.indexOf(h)!==-1?"attr"+h.charAt(0).toUpperCase()+h.substring(1):h;a[d]=e[h]}return a}function K2(e){const n=[{},{}];return e==null||e.values.forEach((s,a)=>{n[0][a]=s.get(),n[1][a]=s.getVelocity()}),n}function vT(e,n,s,a){if(typeof n=="function"){const[h,d]=K2(a);n=n(s!==void 0?s:e.custom,h,d)}if(typeof n=="string"&&(n=e.variants&&e.variants[n]),typeof n=="function"){const[h,d]=K2(a);n=n(s!==void 0?s:e.custom,h,d)}return n}function xT(e){const n=at.useRef(null);return n.current===null&&(n.current=e()),n.current}const Kw=e=>Array.isArray(e),vY=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),xY=e=>Kw(e)?e[e.length-1]||0:e;function ey(e){const n=Nr(e)?e.get():e;return vY(n)?n.toValue():n}const Gj=new Set(["opacity","clipPath","filter","transform"]);function Wj(e){if(ou.has(e))return"transform";if(Gj.has(e))return Ov(e)}function Ev(e,n){e.indexOf(n)===-1&&e.push(n)}function Lv(e,n){const s=e.indexOf(n);s>-1&&e.splice(s,1)}function bY({applyWillChange:e=!1,scrapeMotionValuesFromProps:n,createRenderState:s,onMount:a},h,d,p,v){const x={latestValues:SY(h,d,p,v?!1:e,n),renderState:s()};return a&&(x.mount=S=>a(h,S,x)),x}const Hj=e=>(n,s)=>{const a=at.useContext(Av),h=at.useContext(Cv),d=()=>bY(e,n,a,h,s);return s?d():xT(d)};function wY(e,n){const s=Wj(n);s&&Ev(e,s)}function G2(e,n,s){const a=Array.isArray(n)?n:[n];for(let h=0;h<a.length;h++){const d=vT(e,a[h]);if(d){const{transitionEnd:p,transition:v,...x}=d;s(x,p)}}}function SY(e,n,s,a,h){var d;const p={},v=[],x=a&&((d=e.style)===null||d===void 0?void 0:d.willChange)===void 0,S=h(e,{});for(const V in S)p[V]=ey(S[V]);let{initial:M,animate:A}=e;const O=Nv(e),B=_j(e);n&&B&&!O&&e.inherit!==!1&&(M===void 0&&(M=n.initial),A===void 0&&(A=n.animate));let I=s?s.initial===!1:!1;I=I||M===!1;const j=I?A:M;return j&&typeof j!="boolean"&&!vp(j)&&G2(e,j,(V,C)=>{for(const z in V){let F=V[z];if(Array.isArray(F)){const Y=I?F.length-1:0;F=F[Y]}F!==null&&(p[z]=F)}for(const z in C)p[z]=C[z]}),x&&(A&&M!==!1&&!vp(A)&&G2(e,A,V=>{for(const C in V)wY(v,C)}),v.length&&(p.willChange=v.join(","))),p}const{schedule:Ln,cancel:Qa,state:hr,steps:Fx}=Nj(typeof requestAnimationFrame<"u"?requestAnimationFrame:Er,!0),PY={useVisualState:Hj({scrapeMotionValuesFromProps:Kj,createRenderState:$j,onMount:(e,n,{renderState:s,latestValues:a})=>{Ln.read(()=>{try{s.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{s.dimensions={x:0,y:0,width:0,height:0}}}),Ln.render(()=>{gT(s,a,mT(n.tagName),e.transformTemplate),Uj(n,s)})}})},kY={useVisualState:Hj({applyWillChange:!0,scrapeMotionValuesFromProps:yT,createRenderState:pT})};function TY(e,{forwardMotionProps:n=!1},s,a){return{...uT(e)?PY:kY,preloadedFeatures:s,useRender:yY(n),createVisualElement:a,Component:e}}function _a(e,n,s,a={passive:!0}){return e.addEventListener(n,s,a),()=>e.removeEventListener(n,s)}const Xj=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function _v(e,n="page"){return{point:{x:e[`${n}X`],y:e[`${n}Y`]}}}const MY=e=>n=>Xj(n)&&e(n,_v(n));function $a(e,n,s,a){return _a(e,n,MY(s),a)}const AY=(e,n)=>s=>n(e(s)),za=(...e)=>e.reduce(AY);function Yj(e){let n=null;return()=>{const s=()=>{n=null};return n===null?(n=e,s):!1}}const W2=Yj("dragHorizontal"),H2=Yj("dragVertical");function qj(e){let n=!1;if(e==="y")n=H2();else if(e==="x")n=W2();else{const s=W2(),a=H2();s&&a?n=()=>{s(),a()}:(s&&s(),a&&a())}return n}function Zj(){const e=qj(!0);return e?(e(),!1):!0}class au{constructor(n){this.isMounted=!1,this.node=n}update(){}}function X2(e,n){const s=n?"pointerenter":"pointerleave",a=n?"onHoverStart":"onHoverEnd",h=(d,p)=>{if(d.pointerType==="touch"||Zj())return;const v=e.getProps();e.animationState&&v.whileHover&&e.animationState.setActive("whileHover",n);const x=v[a];x&&Ln.postRender(()=>x(d,p))};return $a(e.current,s,h,{passive:!e.getProps()[a]})}class CY extends au{mount(){this.unmount=za(X2(this.node,!0),X2(this.node,!1))}unmount(){}}class OY extends au{constructor(){super(...arguments),this.isActive=!1}onFocus(){let n=!1;try{n=this.node.current.matches(":focus-visible")}catch{n=!0}!n||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=za(_a(this.node.current,"focus",()=>this.onFocus()),_a(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Jj=(e,n)=>n?e===n?!0:Jj(e,n.parentElement):!1;function jx(e,n){if(!n)return;const s=new PointerEvent("pointer"+e);n(s,_v(s))}class NY extends au{constructor(){super(...arguments),this.removeStartListeners=Er,this.removeEndListeners=Er,this.removeAccessibleListeners=Er,this.startPointerPress=(n,s)=>{if(this.isPressing)return;this.removeEndListeners();const a=this.node.getProps(),d=$a(window,"pointerup",(v,x)=>{if(!this.checkPressEnd())return;const{onTap:S,onTapCancel:M,globalTapTarget:A}=this.node.getProps(),O=!A&&!Jj(this.node.current,v.target)?M:S;O&&Ln.update(()=>O(v,x))},{passive:!(a.onTap||a.onPointerUp)}),p=$a(window,"pointercancel",(v,x)=>this.cancelPress(v,x),{passive:!(a.onTapCancel||a.onPointerCancel)});this.removeEndListeners=za(d,p),this.startPress(n,s)},this.startAccessiblePress=()=>{const n=d=>{if(d.key!=="Enter"||this.isPressing)return;const p=v=>{v.key!=="Enter"||!this.checkPressEnd()||jx("up",(x,S)=>{const{onTap:M}=this.node.getProps();M&&Ln.postRender(()=>M(x,S))})};this.removeEndListeners(),this.removeEndListeners=_a(this.node.current,"keyup",p),jx("down",(v,x)=>{this.startPress(v,x)})},s=_a(this.node.current,"keydown",n),a=()=>{this.isPressing&&jx("cancel",(d,p)=>this.cancelPress(d,p))},h=_a(this.node.current,"blur",a);this.removeAccessibleListeners=za(s,h)}}startPress(n,s){this.isPressing=!0;const{onTapStart:a,whileTap:h}=this.node.getProps();h&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),a&&Ln.postRender(()=>a(n,s))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Zj()}cancelPress(n,s){if(!this.checkPressEnd())return;const{onTapCancel:a}=this.node.getProps();a&&Ln.postRender(()=>a(n,s))}mount(){const n=this.node.getProps(),s=$a(n.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(n.onTapStart||n.onPointerStart)}),a=_a(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=za(s,a)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Gw=new WeakMap,Bx=new WeakMap,EY=e=>{const n=Gw.get(e.target);n&&n(e)},LY=e=>{e.forEach(EY)};function _Y({root:e,...n}){const s=e||document;Bx.has(s)||Bx.set(s,{});const a=Bx.get(s),h=JSON.stringify(n);return a[h]||(a[h]=new IntersectionObserver(LY,{root:e,...n})),a[h]}function DY(e,n,s){const a=_Y(n);return Gw.set(e,s),a.observe(e),()=>{Gw.delete(e),a.unobserve(e)}}const RY={some:0,all:1};class IY extends au{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:n={}}=this.node.getProps(),{root:s,margin:a,amount:h="some",once:d}=n,p={root:s?s.current:void 0,rootMargin:a,threshold:typeof h=="number"?h:RY[h]},v=x=>{const{isIntersecting:S}=x;if(this.isInView===S||(this.isInView=S,d&&!S&&this.hasEnteredView))return;S&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",S);const{onViewportEnter:M,onViewportLeave:A}=this.node.getProps(),O=S?M:A;O&&O(x)};return DY(this.node.current,p,v)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:n,prevProps:s}=this.node;["amount","margin","root"].some(FY(n,s))&&this.startObserver()}unmount(){}}function FY({viewport:e={}},{viewport:n={}}={}){return s=>e[s]!==n[s]}const jY={inView:{Feature:IY},tap:{Feature:NY},focus:{Feature:OY},hover:{Feature:CY}};function Qj(e,n){if(!Array.isArray(n))return!1;const s=n.length;if(s!==e.length)return!1;for(let a=0;a<s;a++)if(n[a]!==e[a])return!1;return!0}function Dv(e,n,s){const a=e.getProps();return vT(a,n,s!==void 0?s:a.custom,e)}const Va=e=>e*1e3,Ua=e=>e/1e3,BY={type:"spring",stiffness:500,damping:25,restSpeed:10},$Y=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),zY={type:"keyframes",duration:.8},VY={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},UY=(e,{keyframes:n})=>n.length>2?zY:ou.has(e)?e.startsWith("scale")?$Y(n[1]):BY:VY;function KY({when:e,delay:n,delayChildren:s,staggerChildren:a,staggerDirection:h,repeat:d,repeatType:p,repeatDelay:v,from:x,elapsed:S,...M}){return!!Object.keys(M).length}function bT(e,n){return e[n]||e.default||e}const GY=e=>e!==null;function Rv(e,{repeat:n,repeatType:s="loop"},a){const h=e.filter(GY),d=n&&s!=="loop"&&n%2===1?0:h.length-1;return!d||a===void 0?h[d]:a}const tB=e=>/^0[^.\s]+$/u.test(e);function WY(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||tB(e):!0}const eB=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),HY=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function XY(e){const n=HY.exec(e);if(!n)return[,];const[,s,a,h]=n;return[`--${s??a}`,h]}function nB(e,n,s=1){const[a,h]=XY(e);if(!a)return;const d=window.getComputedStyle(n).getPropertyValue(a);if(d){const p=d.trim();return eB(p)?parseFloat(p):p}return dT(h)?nB(h,n,s+1):h}const YY=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Y2=e=>e===pd||e===Re,q2=(e,n)=>parseFloat(e.split(", ")[n]),Z2=(e,n)=>(s,{transform:a})=>{if(a==="none"||!a)return 0;const h=a.match(/^matrix3d\((.+)\)$/u);if(h)return q2(h[1],n);{const d=a.match(/^matrix\((.+)\)$/u);return d?q2(d[1],e):0}},qY=new Set(["x","y","z"]),ZY=kg.filter(e=>!qY.has(e));function JY(e){const n=[];return ZY.forEach(s=>{const a=e.getValue(s);a!==void 0&&(n.push([s,a.get()]),a.set(s.startsWith("scale")?1:0))}),n}const Rc={width:({x:e},{paddingLeft:n="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(n)-parseFloat(s),height:({y:e},{paddingTop:n="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(n)-parseFloat(s),top:(e,{top:n})=>parseFloat(n),left:(e,{left:n})=>parseFloat(n),bottom:({y:e},{top:n})=>parseFloat(n)+(e.max-e.min),right:({x:e},{left:n})=>parseFloat(n)+(e.max-e.min),x:Z2(4,13),y:Z2(5,14)};Rc.translateX=Rc.x;Rc.translateY=Rc.y;const iB=e=>n=>n.test(e),QY={test:e=>e==="auto",parse:e=>e},rB=[pd,Re,ia,kl,tY,Q9,QY],J2=e=>rB.find(iB(e)),Gu=new Set;let Ww=!1,Hw=!1;function sB(){if(Hw){const e=Array.from(Gu).filter(a=>a.needsMeasurement),n=new Set(e.map(a=>a.element)),s=new Map;n.forEach(a=>{const h=JY(a);h.length&&(s.set(a,h),a.render())}),e.forEach(a=>a.measureInitialState()),n.forEach(a=>{a.render();const h=s.get(a);h&&h.forEach(([d,p])=>{var v;(v=a.getValue(d))===null||v===void 0||v.set(p)})}),e.forEach(a=>a.measureEndState()),e.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}Hw=!1,Ww=!1,Gu.forEach(e=>e.complete()),Gu.clear()}function oB(){Gu.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Hw=!0)})}function tq(){oB(),sB()}class wT{constructor(n,s,a,h,d,p=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...n],this.onComplete=s,this.name=a,this.motionValue=h,this.element=d,this.isAsync=p}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Gu.add(this),Ww||(Ww=!0,Ln.read(oB),Ln.resolveKeyframes(sB))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:n,name:s,element:a,motionValue:h}=this;for(let d=0;d<n.length;d++)if(n[d]===null)if(d===0){const p=h==null?void 0:h.get(),v=n[n.length-1];if(p!==void 0)n[0]=p;else if(a&&s){const x=a.readValue(s,v);x!=null&&(n[0]=x)}n[0]===void 0&&(n[0]=v),h&&p===void 0&&h.set(n[0])}else n[d]=n[d-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Gu.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Gu.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const ST=(e,n)=>s=>!!(Tg(s)&&Z9.test(s)&&s.startsWith(e)||n&&!J9(s)&&Object.prototype.hasOwnProperty.call(s,n)),aB=(e,n,s)=>a=>{if(!Tg(a))return a;const[h,d,p,v]=a.match(hT);return{[e]:parseFloat(h),[n]:parseFloat(d),[s]:parseFloat(p),alpha:v!==void 0?parseFloat(v):1}},eq=e=>ql(0,255,e),$x={...pd,transform:e=>Math.round(eq(e))},Ru={test:ST("rgb","red"),parse:aB("red","green","blue"),transform:({red:e,green:n,blue:s,alpha:a=1})=>"rgba("+$x.transform(e)+", "+$x.transform(n)+", "+$x.transform(s)+", "+zf($f.transform(a))+")"};function nq(e){let n="",s="",a="",h="";return e.length>5?(n=e.substring(1,3),s=e.substring(3,5),a=e.substring(5,7),h=e.substring(7,9)):(n=e.substring(1,2),s=e.substring(2,3),a=e.substring(3,4),h=e.substring(4,5),n+=n,s+=s,a+=a,h+=h),{red:parseInt(n,16),green:parseInt(s,16),blue:parseInt(a,16),alpha:h?parseInt(h,16)/255:1}}const Xw={test:ST("#"),parse:nq,transform:Ru.transform},ec={test:ST("hsl","hue"),parse:aB("hue","saturation","lightness"),transform:({hue:e,saturation:n,lightness:s,alpha:a=1})=>"hsla("+Math.round(e)+", "+ia.transform(zf(n))+", "+ia.transform(zf(s))+", "+zf($f.transform(a))+")"},Tr={test:e=>Ru.test(e)||Xw.test(e)||ec.test(e),parse:e=>Ru.test(e)?Ru.parse(e):ec.test(e)?ec.parse(e):Xw.parse(e),transform:e=>Tg(e)?e:e.hasOwnProperty("red")?Ru.transform(e):ec.transform(e)};function iq(e){var n,s;return isNaN(e)&&Tg(e)&&(((n=e.match(hT))===null||n===void 0?void 0:n.length)||0)+(((s=e.match(q9))===null||s===void 0?void 0:s.length)||0)>0}const lB="number",uB="color",rq="var",sq="var(",Q2="${}",oq=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function xp(e){const n=e.toString(),s=[],a={color:[],number:[],var:[]},h=[];let d=0;const v=n.replace(oq,x=>(Tr.test(x)?(a.color.push(d),h.push(uB),s.push(Tr.parse(x))):x.startsWith(sq)?(a.var.push(d),h.push(rq),s.push(x)):(a.number.push(d),h.push(lB),s.push(parseFloat(x))),++d,Q2)).split(Q2);return{values:s,split:v,indexes:a,types:h}}function hB(e){return xp(e).values}function cB(e){const{split:n,types:s}=xp(e),a=n.length;return h=>{let d="";for(let p=0;p<a;p++)if(d+=n[p],h[p]!==void 0){const v=s[p];v===lB?d+=zf(h[p]):v===uB?d+=Tr.transform(h[p]):d+=h[p]}return d}}const aq=e=>typeof e=="number"?0:e;function lq(e){const n=hB(e);return cB(e)(n.map(aq))}const Zl={test:iq,parse:hB,createTransformer:cB,getAnimatableNone:lq},uq=new Set(["brightness","contrast","saturate","opacity"]);function hq(e){const[n,s]=e.slice(0,-1).split("(");if(n==="drop-shadow")return e;const[a]=s.match(hT)||[];if(!a)return e;const h=s.replace(a,"");let d=uq.has(n)?1:0;return a!==s&&(d*=100),n+"("+d+h+")"}const cq=/\b([a-z-]*)\(.*?\)/gu,Yw={...Zl,getAnimatableNone:e=>{const n=e.match(cq);return n?n.map(hq).join(" "):e}},dq={...cT,color:Tr,backgroundColor:Tr,outlineColor:Tr,fill:Tr,stroke:Tr,borderColor:Tr,borderTopColor:Tr,borderRightColor:Tr,borderBottomColor:Tr,borderLeftColor:Tr,filter:Yw,WebkitFilter:Yw},PT=e=>dq[e];function dB(e,n){let s=PT(e);return s!==Yw&&(s=Zl),s.getAnimatableNone?s.getAnimatableNone(n):void 0}const fq=new Set(["auto","none","0"]);function pq(e,n,s){let a=0,h;for(;a<e.length&&!h;){const d=e[a];typeof d=="string"&&!fq.has(d)&&xp(d).values.length&&(h=e[a]),a++}if(h&&s)for(const d of n)e[d]=dB(s,h)}class fB extends wT{constructor(n,s,a,h,d){super(n,s,a,h,d,!0)}readKeyframes(){const{unresolvedKeyframes:n,element:s,name:a}=this;if(!s||!s.current)return;super.readKeyframes();for(let x=0;x<n.length;x++){let S=n[x];if(typeof S=="string"&&(S=S.trim(),dT(S))){const M=nB(S,s.current);M!==void 0&&(n[x]=M),x===n.length-1&&(this.finalKeyframe=S)}}if(this.resolveNoneKeyframes(),!YY.has(a)||n.length!==2)return;const[h,d]=n,p=J2(h),v=J2(d);if(p!==v)if(Y2(p)&&Y2(v))for(let x=0;x<n.length;x++){const S=n[x];typeof S=="string"&&(n[x]=parseFloat(S))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:n,name:s}=this,a=[];for(let h=0;h<n.length;h++)WY(n[h])&&a.push(h);a.length&&pq(n,a,s)}measureInitialState(){const{element:n,unresolvedKeyframes:s,name:a}=this;if(!n||!n.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Rc[a](n.measureViewportBox(),window.getComputedStyle(n.current)),s[0]=this.measuredOrigin;const h=s[s.length-1];h!==void 0&&n.getValue(a,h).jump(h,!1)}measureEndState(){var n;const{element:s,name:a,unresolvedKeyframes:h}=this;if(!s||!s.current)return;const d=s.getValue(a);d&&d.jump(this.measuredOrigin,!1);const p=h.length-1,v=h[p];h[p]=Rc[a](s.measureViewportBox(),window.getComputedStyle(s.current)),v!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=v),!((n=this.removedTransforms)===null||n===void 0)&&n.length&&this.removedTransforms.forEach(([x,S])=>{s.getValue(x).set(S)}),this.resolveNoneKeyframes()}}function pB(e){let n;return()=>(n===void 0&&(n=e()),n)}let ny;function gq(){ny=void 0}const Ka={now:()=>(ny===void 0&&Ka.set(hr.isProcessing||L9.useManualTiming?hr.timestamp:performance.now()),ny),set:e=>{ny=e,queueMicrotask(gq)}},tO=(e,n)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Zl.test(e)||e==="0")&&!e.startsWith("url("));function mq(e){const n=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==n)return!0}function yq(e,n,s,a){const h=e[0];if(h===null)return!1;if(n==="display"||n==="visibility")return!0;const d=e[e.length-1],p=tO(h,n),v=tO(d,n);return!p||!v?!1:mq(e)||s==="spring"&&a}const vq=40;class gB{constructor({autoplay:n=!0,delay:s=0,type:a="keyframes",repeat:h=0,repeatDelay:d=0,repeatType:p="loop",...v}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ka.now(),this.options={autoplay:n,delay:s,type:a,repeat:h,repeatDelay:d,repeatType:p,...v},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>vq?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&tq(),this._resolved}onKeyframesResolved(n,s){this.resolvedAt=Ka.now(),this.hasAttemptedResolve=!0;const{name:a,type:h,velocity:d,delay:p,onComplete:v,onUpdate:x,isGenerator:S}=this.options;if(!S&&!yq(n,a,h,d))if(p)this.options.duration=0;else{x==null||x(Rv(n,this.options,s)),v==null||v(),this.resolveFinishedPromise();return}const M=this.initPlayback(n,s);M!==!1&&(this._resolved={keyframes:n,finalKeyframe:s,...M},this.onPostResolved())}onPostResolved(){}then(n,s){return this.currentFinishedPromise.then(n,s)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(n=>{this.resolveFinishedPromise=n})}}function mB(e,n){return n?e*(1e3/n):0}const xq=5;function yB(e,n,s){const a=Math.max(n-xq,0);return mB(s-e(a),n-a)}const zx=.001,bq=.01,wq=10,Sq=.05,Pq=1;function kq({duration:e=800,bounce:n=.25,velocity:s=0,mass:a=1}){let h,d,p=1-n;p=ql(Sq,Pq,p),e=ql(bq,wq,Ua(e)),p<1?(h=S=>{const M=S*p,A=M*e,O=M-s,B=qw(S,p),I=Math.exp(-A);return zx-O/B*I},d=S=>{const A=S*p*e,O=A*s+s,B=Math.pow(p,2)*Math.pow(S,2)*e,I=Math.exp(-A),j=qw(Math.pow(S,2),p);return(-h(S)+zx>0?-1:1)*((O-B)*I)/j}):(h=S=>{const M=Math.exp(-S*e),A=(S-s)*e+1;return-zx+M*A},d=S=>{const M=Math.exp(-S*e),A=(s-S)*(e*e);return M*A});const v=5/e,x=Mq(h,d,v);if(e=Va(e),isNaN(x))return{stiffness:100,damping:10,duration:e};{const S=Math.pow(x,2)*a;return{stiffness:S,damping:p*2*Math.sqrt(a*S),duration:e}}}const Tq=12;function Mq(e,n,s){let a=s;for(let h=1;h<Tq;h++)a=a-e(a)/n(a);return a}function qw(e,n){return e*Math.sqrt(1-n*n)}const Aq=["duration","bounce"],Cq=["stiffness","damping","mass"];function eO(e,n){return n.some(s=>e[s]!==void 0)}function Oq(e){let n={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!eO(e,Cq)&&eO(e,Aq)){const s=kq(e);n={...n,...s,mass:1},n.isResolvedFromDuration=!0}return n}function vB({keyframes:e,restDelta:n,restSpeed:s,...a}){const h=e[0],d=e[e.length-1],p={done:!1,value:h},{stiffness:v,damping:x,mass:S,duration:M,velocity:A,isResolvedFromDuration:O}=Oq({...a,velocity:-Ua(a.velocity||0)}),B=A||0,I=x/(2*Math.sqrt(v*S)),j=d-h,V=Ua(Math.sqrt(v/S)),C=Math.abs(j)<5;s||(s=C?.01:2),n||(n=C?.005:.5);let z;if(I<1){const F=qw(V,I);z=Y=>{const U=Math.exp(-I*V*Y);return d-U*((B+I*V*j)/F*Math.sin(F*Y)+j*Math.cos(F*Y))}}else if(I===1)z=F=>d-Math.exp(-V*F)*(j+(B+V*j)*F);else{const F=V*Math.sqrt(I*I-1);z=Y=>{const U=Math.exp(-I*V*Y),J=Math.min(F*Y,300);return d-U*((B+I*V*j)*Math.sinh(J)+F*j*Math.cosh(J))/F}}return{calculatedDuration:O&&M||null,next:F=>{const Y=z(F);if(O)p.done=F>=M;else{let U=0;I<1&&(U=F===0?Va(B):yB(z,F,Y));const J=Math.abs(U)<=s,K=Math.abs(d-Y)<=n;p.done=J&&K}return p.value=p.done?d:Y,p}}}function nO({keyframes:e,velocity:n=0,power:s=.8,timeConstant:a=325,bounceDamping:h=10,bounceStiffness:d=500,modifyTarget:p,min:v,max:x,restDelta:S=.5,restSpeed:M}){const A=e[0],O={done:!1,value:A},B=rt=>v!==void 0&&rt<v||x!==void 0&&rt>x,I=rt=>v===void 0?x:x===void 0||Math.abs(v-rt)<Math.abs(x-rt)?v:x;let j=s*n;const V=A+j,C=p===void 0?V:p(V);C!==V&&(j=C-A);const z=rt=>-j*Math.exp(-rt/a),F=rt=>C+z(rt),Y=rt=>{const gt=z(rt),lt=F(rt);O.done=Math.abs(gt)<=S,O.value=O.done?C:lt};let U,J;const K=rt=>{B(O.value)&&(U=rt,J=vB({keyframes:[O.value,I(O.value)],velocity:yB(F,rt,O.value),damping:h,stiffness:d,restDelta:S,restSpeed:M}))};return K(0),{calculatedDuration:null,next:rt=>{let gt=!1;return!J&&U===void 0&&(gt=!0,Y(rt),K(rt)),U!==void 0&&rt>=U?J.next(rt-U):(!gt&&Y(rt),O)}}}const xB=(e,n,s)=>(((1-3*s+3*n)*e+(3*s-6*n))*e+3*n)*e,Nq=1e-7,Eq=12;function Lq(e,n,s,a,h){let d,p,v=0;do p=n+(s-n)/2,d=xB(p,a,h)-e,d>0?s=p:n=p;while(Math.abs(d)>Nq&&++v<Eq);return p}function Ag(e,n,s,a){if(e===n&&s===a)return Er;const h=d=>Lq(d,0,1,e,s);return d=>d===0||d===1?d:xB(h(d),n,a)}const _q=Ag(.42,0,1,1),Dq=Ag(0,0,.58,1),bB=Ag(.42,0,.58,1),Rq=e=>Array.isArray(e)&&typeof e[0]!="number",wB=e=>n=>n<=.5?e(2*n)/2:(2-e(2*(1-n)))/2,SB=e=>n=>1-e(1-n),kT=e=>1-Math.sin(Math.acos(e)),PB=SB(kT),Iq=wB(kT),kB=Ag(.33,1.53,.69,.99),TT=SB(kB),Fq=wB(TT),jq=e=>(e*=2)<1?.5*TT(e):.5*(2-Math.pow(2,-10*(e-1))),iO={linear:Er,easeIn:_q,easeInOut:bB,easeOut:Dq,circIn:kT,circInOut:Iq,circOut:PB,backIn:TT,backInOut:Fq,backOut:kB,anticipate:jq},rO=e=>{if(Array.isArray(e)){Uw(e.length===4);const[n,s,a,h]=e;return Ag(n,s,a,h)}else if(typeof e=="string")return Uw(iO[e]!==void 0),iO[e];return e},bp=(e,n,s)=>{const a=n-e;return a===0?1:(s-e)/a},ci=(e,n,s)=>e+(n-e)*s;function Vx(e,n,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(n-e)*6*s:s<1/2?n:s<2/3?e+(n-e)*(2/3-s)*6:e}function Bq({hue:e,saturation:n,lightness:s,alpha:a}){e/=360,n/=100,s/=100;let h=0,d=0,p=0;if(!n)h=d=p=s;else{const v=s<.5?s*(1+n):s+n-s*n,x=2*s-v;h=Vx(x,v,e+1/3),d=Vx(x,v,e),p=Vx(x,v,e-1/3)}return{red:Math.round(h*255),green:Math.round(d*255),blue:Math.round(p*255),alpha:a}}function Gy(e,n){return s=>s>0?n:e}const Ux=(e,n,s)=>{const a=e*e,h=s*(n*n-a)+a;return h<0?0:Math.sqrt(h)},$q=[Xw,Ru,ec],zq=e=>$q.find(n=>n.test(e));function sO(e){const n=zq(e);if(!n)return!1;let s=n.parse(e);return n===ec&&(s=Bq(s)),s}const oO=(e,n)=>{const s=sO(e),a=sO(n);if(!s||!a)return Gy(e,n);const h={...s};return d=>(h.red=Ux(s.red,a.red,d),h.green=Ux(s.green,a.green,d),h.blue=Ux(s.blue,a.blue,d),h.alpha=ci(s.alpha,a.alpha,d),Ru.transform(h))},Zw=new Set(["none","hidden"]);function Vq(e,n){return Zw.has(e)?s=>s<=0?e:n:s=>s>=1?n:e}function Uq(e,n){return s=>ci(e,n,s)}function MT(e){return typeof e=="number"?Uq:typeof e=="string"?dT(e)?Gy:Tr.test(e)?oO:Wq:Array.isArray(e)?TB:typeof e=="object"?Tr.test(e)?oO:Kq:Gy}function TB(e,n){const s=[...e],a=s.length,h=e.map((d,p)=>MT(d)(d,n[p]));return d=>{for(let p=0;p<a;p++)s[p]=h[p](d);return s}}function Kq(e,n){const s={...e,...n},a={};for(const h in s)e[h]!==void 0&&n[h]!==void 0&&(a[h]=MT(e[h])(e[h],n[h]));return h=>{for(const d in a)s[d]=a[d](h);return s}}function Gq(e,n){var s;const a=[],h={color:0,var:0,number:0};for(let d=0;d<n.values.length;d++){const p=n.types[d],v=e.indexes[p][h[p]],x=(s=e.values[v])!==null&&s!==void 0?s:0;a[d]=x,h[p]++}return a}const Wq=(e,n)=>{const s=Zl.createTransformer(n),a=xp(e),h=xp(n);return a.indexes.var.length===h.indexes.var.length&&a.indexes.color.length===h.indexes.color.length&&a.indexes.number.length>=h.indexes.number.length?Zw.has(e)&&!h.values.length||Zw.has(n)&&!a.values.length?Vq(e,n):za(TB(Gq(a,h),h.values),s):Gy(e,n)};function MB(e,n,s){return typeof e=="number"&&typeof n=="number"&&typeof s=="number"?ci(e,n,s):MT(e)(e,n)}function Hq(e,n,s){const a=[],h=s||MB,d=e.length-1;for(let p=0;p<d;p++){let v=h(e[p],e[p+1]);if(n){const x=Array.isArray(n)?n[p]||Er:n;v=za(x,v)}a.push(v)}return a}function Xq(e,n,{clamp:s=!0,ease:a,mixer:h}={}){const d=e.length;if(Uw(d===n.length),d===1)return()=>n[0];if(d===2&&e[0]===e[1])return()=>n[1];e[0]>e[d-1]&&(e=[...e].reverse(),n=[...n].reverse());const p=Hq(n,a,h),v=p.length,x=S=>{let M=0;if(v>1)for(;M<e.length-2&&!(S<e[M+1]);M++);const A=bp(e[M],e[M+1],S);return p[M](A)};return s?S=>x(ql(e[0],e[d-1],S)):x}function Yq(e,n){const s=e[e.length-1];for(let a=1;a<=n;a++){const h=bp(0,n,a);e.push(ci(s,1,h))}}function qq(e){const n=[0];return Yq(n,e.length-1),n}function Zq(e,n){return e.map(s=>s*n)}function Jq(e,n){return e.map(()=>n||bB).splice(0,e.length-1)}function Wy({duration:e=300,keyframes:n,times:s,ease:a="easeInOut"}){const h=Rq(a)?a.map(rO):rO(a),d={done:!1,value:n[0]},p=Zq(s&&s.length===n.length?s:qq(n),e),v=Xq(p,n,{ease:Array.isArray(h)?h:Jq(n,h)});return{calculatedDuration:e,next:x=>(d.value=v(x),d.done=x>=e,d)}}const aO=2e4;function Qq(e){let n=0;const s=50;let a=e.next(n);for(;!a.done&&n<aO;)n+=s,a=e.next(n);return n>=aO?1/0:n}const t7=e=>{const n=({timestamp:s})=>e(s);return{start:()=>Ln.update(n,!0),stop:()=>Qa(n),now:()=>hr.isProcessing?hr.timestamp:Ka.now()}},e7={decay:nO,inertia:nO,tween:Wy,keyframes:Wy,spring:vB},n7=e=>e/100;class AT extends gB{constructor(n){super(n),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:x}=this.options;x&&x()};const{name:s,motionValue:a,element:h,keyframes:d}=this.options,p=(h==null?void 0:h.KeyframeResolver)||wT,v=(x,S)=>this.onKeyframesResolved(x,S);this.resolver=new p(d,v,s,a,h),this.resolver.scheduleResolve()}initPlayback(n){const{type:s="keyframes",repeat:a=0,repeatDelay:h=0,repeatType:d,velocity:p=0}=this.options,v=e7[s]||Wy;let x,S;v!==Wy&&typeof n[0]!="number"&&(x=za(n7,MB(n[0],n[1])),n=[0,100]);const M=v({...this.options,keyframes:n});d==="mirror"&&(S=v({...this.options,keyframes:[...n].reverse(),velocity:-p})),M.calculatedDuration===null&&(M.calculatedDuration=Qq(M));const{calculatedDuration:A}=M,O=A+h,B=O*(a+1)-h;return{generator:M,mirroredGenerator:S,mapPercentToKeyframes:x,calculatedDuration:A,resolvedDuration:O,totalDuration:B}}onPostResolved(){const{autoplay:n=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!n?this.pause():this.state=this.pendingPlayState}tick(n,s=!1){const{resolved:a}=this;if(!a){const{keyframes:rt}=this.options;return{done:!0,value:rt[rt.length-1]}}const{finalKeyframe:h,generator:d,mirroredGenerator:p,mapPercentToKeyframes:v,keyframes:x,calculatedDuration:S,totalDuration:M,resolvedDuration:A}=a;if(this.startTime===null)return d.next(0);const{delay:O,repeat:B,repeatType:I,repeatDelay:j,onUpdate:V}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,n):this.speed<0&&(this.startTime=Math.min(n-M/this.speed,this.startTime)),s?this.currentTime=n:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(n-this.startTime)*this.speed;const C=this.currentTime-O*(this.speed>=0?1:-1),z=this.speed>=0?C<0:C>M;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=M);let F=this.currentTime,Y=d;if(B){const rt=Math.min(this.currentTime,M)/A;let gt=Math.floor(rt),lt=rt%1;!lt&&rt>=1&&(lt=1),lt===1&&gt--,gt=Math.min(gt,B+1),!!(gt%2)&&(I==="reverse"?(lt=1-lt,j&&(lt-=j/A)):I==="mirror"&&(Y=p)),F=ql(0,1,lt)*A}const U=z?{done:!1,value:x[0]}:Y.next(F);v&&(U.value=v(U.value));let{done:J}=U;!z&&S!==null&&(J=this.speed>=0?this.currentTime>=M:this.currentTime<=0);const K=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&J);return K&&h!==void 0&&(U.value=Rv(x,this.options,h)),V&&V(U.value),K&&this.finish(),U}get duration(){const{resolved:n}=this;return n?Ua(n.calculatedDuration):0}get time(){return Ua(this.currentTime)}set time(n){n=Va(n),this.currentTime=n,this.holdTime!==null||this.speed===0?this.holdTime=n:this.driver&&(this.startTime=this.driver.now()-n/this.speed)}get speed(){return this.playbackSpeed}set speed(n){const s=this.playbackSpeed!==n;this.playbackSpeed=n,s&&(this.time=Ua(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:n=t7,onPlay:s,startTime:a}=this.options;this.driver||(this.driver=n(d=>this.tick(d))),s&&s();const h=this.driver.now();this.holdTime!==null?this.startTime=h-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=h):this.startTime=a??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var n;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(n=this.currentTime)!==null&&n!==void 0?n:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:n}=this.options;n&&n()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(n){return this.startTime=0,this.tick(n,!0)}}const AB=e=>Array.isArray(e)&&typeof e[0]=="number";function CB(e){return!!(!e||typeof e=="string"&&e in CT||AB(e)||Array.isArray(e)&&e.every(CB))}const Pf=([e,n,s,a])=>`cubic-bezier(${e}, ${n}, ${s}, ${a})`,CT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Pf([0,.65,.55,1]),circOut:Pf([.55,0,1,.45]),backIn:Pf([.31,.01,.66,-.59]),backOut:Pf([.33,1.53,.69,.99])};function i7(e){return OB(e)||CT.easeOut}function OB(e){if(e)return AB(e)?Pf(e):Array.isArray(e)?e.map(i7):CT[e]}function r7(e,n,s,{delay:a=0,duration:h=300,repeat:d=0,repeatType:p="loop",ease:v,times:x}={}){const S={[n]:s};x&&(S.offset=x);const M=OB(v);return Array.isArray(M)&&(S.easing=M),e.animate(S,{delay:a,duration:h,easing:Array.isArray(M)?"linear":M,fill:"both",iterations:d+1,direction:p==="reverse"?"alternate":"normal"})}const s7=pB(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Hy=10,o7=2e4;function a7(e){return e.type==="spring"||!CB(e.ease)}function l7(e,n){const s=new AT({...n,keyframes:e,repeat:0,delay:0,isGenerator:!0});let a={done:!1,value:e[0]};const h=[];let d=0;for(;!a.done&&d<o7;)a=s.sample(d),h.push(a.value),d+=Hy;return{times:void 0,keyframes:h,duration:d-Hy,ease:"linear"}}class lO extends gB{constructor(n){super(n);const{name:s,motionValue:a,element:h,keyframes:d}=this.options;this.resolver=new fB(d,(p,v)=>this.onKeyframesResolved(p,v),s,a,h),this.resolver.scheduleResolve()}initPlayback(n,s){var a;let{duration:h=300,times:d,ease:p,type:v,motionValue:x,name:S,startTime:M}=this.options;if(!(!((a=x.owner)===null||a===void 0)&&a.current))return!1;if(a7(this.options)){const{onComplete:O,onUpdate:B,motionValue:I,element:j,...V}=this.options,C=l7(n,V);n=C.keyframes,n.length===1&&(n[1]=n[0]),h=C.duration,d=C.times,p=C.ease,v="keyframes"}const A=r7(x.owner.current,S,n,{...this.options,duration:h,times:d,ease:p});return A.startTime=M??this.calcStartTime(),this.pendingTimeline?(A.timeline=this.pendingTimeline,this.pendingTimeline=void 0):A.onfinish=()=>{const{onComplete:O}=this.options;x.set(Rv(n,this.options,s)),O&&O(),this.cancel(),this.resolveFinishedPromise()},{animation:A,duration:h,times:d,type:v,ease:p,keyframes:n}}get duration(){const{resolved:n}=this;if(!n)return 0;const{duration:s}=n;return Ua(s)}get time(){const{resolved:n}=this;if(!n)return 0;const{animation:s}=n;return Ua(s.currentTime||0)}set time(n){const{resolved:s}=this;if(!s)return;const{animation:a}=s;a.currentTime=Va(n)}get speed(){const{resolved:n}=this;if(!n)return 1;const{animation:s}=n;return s.playbackRate}set speed(n){const{resolved:s}=this;if(!s)return;const{animation:a}=s;a.playbackRate=n}get state(){const{resolved:n}=this;if(!n)return"idle";const{animation:s}=n;return s.playState}get startTime(){const{resolved:n}=this;if(!n)return null;const{animation:s}=n;return s.startTime}attachTimeline(n){if(!this._resolved)this.pendingTimeline=n;else{const{resolved:s}=this;if(!s)return Er;const{animation:a}=s;a.timeline=n,a.onfinish=null}return Er}play(){if(this.isStopped)return;const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.playState==="finished"&&this.updateFinishedPromise(),s.play()}pause(){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:n}=this;if(!n)return;const{animation:s,keyframes:a,duration:h,type:d,ease:p,times:v}=n;if(s.playState==="idle"||s.playState==="finished")return;if(this.time){const{motionValue:S,onUpdate:M,onComplete:A,element:O,...B}=this.options,I=new AT({...B,keyframes:a,duration:h,type:d,ease:p,times:v,isGenerator:!0}),j=Va(this.time);S.setWithVelocity(I.sample(j-Hy).value,I.sample(j).value,Hy)}const{onStop:x}=this.options;x&&x(),this.cancel()}complete(){const{resolved:n}=this;n&&n.animation.finish()}cancel(){const{resolved:n}=this;n&&n.animation.cancel()}static supports(n){const{motionValue:s,name:a,repeatDelay:h,repeatType:d,damping:p,type:v}=n;return s7()&&a&&Gj.has(a)&&s&&s.owner&&s.owner.current instanceof HTMLElement&&!s.owner.getProps().onUpdate&&!h&&d!=="mirror"&&p!==0&&v!=="inertia"}}function u7(e,n){let s;const a=()=>{const{currentTime:h}=n,p=(h===null?0:h.value)/100;s!==p&&e(p),s=p};return Ln.update(a,!0),()=>Qa(a)}const h7=pB(()=>window.ScrollTimeline!==void 0);class c7{constructor(n){this.stop=()=>this.runAll("stop"),this.animations=n.filter(Boolean)}then(n,s){return Promise.all(this.animations).then(n).catch(s)}getAll(n){return this.animations[0][n]}setAll(n,s){for(let a=0;a<this.animations.length;a++)this.animations[a][n]=s}attachTimeline(n){const s=this.animations.map(a=>{if(h7()&&a.attachTimeline)a.attachTimeline(n);else return a.pause(),u7(h=>{a.time=a.duration*h},n)});return()=>{s.forEach((a,h)=>{a&&a(),this.animations[h].stop()})}}get time(){return this.getAll("time")}set time(n){this.setAll("time",n)}get speed(){return this.getAll("speed")}set speed(n){this.setAll("speed",n)}get startTime(){return this.getAll("startTime")}get duration(){let n=0;for(let s=0;s<this.animations.length;s++)n=Math.max(n,this.animations[s].duration);return n}runAll(n){this.animations.forEach(s=>s[n]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const OT=(e,n,s,a={},h,d,p)=>v=>{const x=bT(a,e)||{},S=x.delay||a.delay||0;let{elapsed:M=0}=a;M=M-Va(S);let A={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:n.getVelocity(),...x,delay:-M,onUpdate:B=>{n.set(B),x.onUpdate&&x.onUpdate(B)},onComplete:()=>{v(),x.onComplete&&x.onComplete(),p&&p()},onStop:p,name:e,motionValue:n,element:d?void 0:h};KY(x)||(A={...A,...UY(e,A)}),A.duration&&(A.duration=Va(A.duration)),A.repeatDelay&&(A.repeatDelay=Va(A.repeatDelay)),A.from!==void 0&&(A.keyframes[0]=A.from);let O=!1;if((A.type===!1||A.duration===0&&!A.repeatDelay)&&(A.duration=0,A.delay===0&&(O=!0)),O&&!d&&n.get()!==void 0){const B=Rv(A.keyframes,x);if(B!==void 0)return Ln.update(()=>{A.onUpdate(B),A.onComplete()}),new c7([])}return!d&&lO.supports(A)?new lO(A):new AT(A)};class NT{constructor(){this.subscriptions=[]}add(n){return Ev(this.subscriptions,n),()=>Lv(this.subscriptions,n)}notify(n,s,a){const h=this.subscriptions.length;if(h)if(h===1)this.subscriptions[0](n,s,a);else for(let d=0;d<h;d++){const p=this.subscriptions[d];p&&p(n,s,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const uO=30,d7=e=>!isNaN(parseFloat(e));class NB{constructor(n,s={}){this.version="11.3.28",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(a,h=!0)=>{const d=Ka.now();this.updatedAt!==d&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),h&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(n),this.owner=s.owner}setCurrent(n){this.current=n,this.updatedAt=Ka.now(),this.canTrackVelocity===null&&n!==void 0&&(this.canTrackVelocity=d7(this.current))}setPrevFrameValue(n=this.current){this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt}onChange(n){return this.on("change",n)}on(n,s){this.events[n]||(this.events[n]=new NT);const a=this.events[n].add(s);return n==="change"?()=>{a(),Ln.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const n in this.events)this.events[n].clear()}attach(n,s){this.passiveEffect=n,this.stopPassiveEffect=s}set(n,s=!0){!s||!this.passiveEffect?this.updateAndNotify(n,s):this.passiveEffect(n,this.updateAndNotify)}setWithVelocity(n,s,a){this.set(s),this.prev=void 0,this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt-a}jump(n,s=!0){this.updateAndNotify(n),this.prev=n,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const n=Ka.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||n-this.updatedAt>uO)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,uO);return mB(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(n){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=n(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function wp(e,n){return new NB(e,n)}function f7(e,n,s){e.hasValue(n)?e.getValue(n).set(s):e.addValue(n,wp(s))}function p7(e,n){const s=Dv(e,n);let{transitionEnd:a={},transition:h={},...d}=s||{};d={...d,...a};for(const p in d){const v=xY(d[p]);f7(e,p,v)}}function EB(e){return e.getProps()[Oj]}class g7 extends NB{constructor(){super(...arguments),this.output=[],this.counts=new Map}add(n){const s=Wj(n);if(!s)return;const a=this.counts.get(s)||0;this.counts.set(s,a+1),a===0&&(this.output.push(s),this.update());let h=!1;return()=>{if(h)return;h=!0;const d=this.counts.get(s)-1;this.counts.set(s,d),d===0&&(Lv(this.output,s),this.update())}}update(){this.set(this.output.length?this.output.join(", "):"auto")}}function m7(e){return!!(Nr(e)&&e.add)}function Jw(e,n){var s;if(!e.applyWillChange)return;let a=e.getValue("willChange");if(!a&&!(!((s=e.props.style)===null||s===void 0)&&s.willChange)&&(a=new g7("auto"),e.addValue("willChange",a)),m7(a))return a.add(n)}function y7({protectedKeys:e,needsAnimating:n},s){const a=e.hasOwnProperty(s)&&n[s]!==!0;return n[s]=!1,a}function LB(e,n,{delay:s=0,transitionOverride:a,type:h}={}){var d;let{transition:p=e.getDefaultTransition(),transitionEnd:v,...x}=n;a&&(p=a);const S=[],M=h&&e.animationState&&e.animationState.getState()[h];for(const A in x){const O=e.getValue(A,(d=e.latestValues[A])!==null&&d!==void 0?d:null),B=x[A];if(B===void 0||M&&y7(M,A))continue;const I={delay:s,...bT(p||{},A)};let j=!1;if(window.MotionHandoffAnimation){const C=EB(e);if(C){const z=window.MotionHandoffAnimation(C,A,Ln);z!==null&&(I.startTime=z,j=!0)}}O.start(OT(A,O,B,e.shouldReduceMotion&&ou.has(A)?{type:!1}:I,e,j,Jw(e,A)));const V=O.animation;V&&S.push(V)}return v&&Promise.all(S).then(()=>{Ln.update(()=>{v&&p7(e,v)})}),S}function Qw(e,n,s={}){var a;const h=Dv(e,n,s.type==="exit"?(a=e.presenceContext)===null||a===void 0?void 0:a.custom:void 0);let{transition:d=e.getDefaultTransition()||{}}=h||{};s.transitionOverride&&(d=s.transitionOverride);const p=h?()=>Promise.all(LB(e,h,s)):()=>Promise.resolve(),v=e.variantChildren&&e.variantChildren.size?(S=0)=>{const{delayChildren:M=0,staggerChildren:A,staggerDirection:O}=d;return v7(e,n,M+S,A,O,s)}:()=>Promise.resolve(),{when:x}=d;if(x){const[S,M]=x==="beforeChildren"?[p,v]:[v,p];return S().then(()=>M())}else return Promise.all([p(),v(s.delay)])}function v7(e,n,s=0,a=0,h=1,d){const p=[],v=(e.variantChildren.size-1)*a,x=h===1?(S=0)=>S*a:(S=0)=>v-S*a;return Array.from(e.variantChildren).sort(x7).forEach((S,M)=>{S.notify("AnimationStart",n),p.push(Qw(S,n,{...d,delay:s+x(M)}).then(()=>S.notify("AnimationComplete",n)))}),Promise.all(p)}function x7(e,n){return e.sortNodePosition(n)}function b7(e,n,s={}){e.notify("AnimationStart",n);let a;if(Array.isArray(n)){const h=n.map(d=>Qw(e,d,s));a=Promise.all(h)}else if(typeof n=="string")a=Qw(e,n,s);else{const h=typeof n=="function"?Dv(e,n,s.custom):n;a=Promise.all(LB(e,h,s))}return a.then(()=>{e.notify("AnimationComplete",n)})}const w7=[...oT].reverse(),S7=oT.length;function P7(e){return n=>Promise.all(n.map(({animation:s,options:a})=>b7(e,s,a)))}function k7(e){let n=P7(e),s=hO(),a=!0;const h=x=>(S,M)=>{var A;const O=Dv(e,M,x==="exit"?(A=e.presenceContext)===null||A===void 0?void 0:A.custom:void 0);if(O){const{transition:B,transitionEnd:I,...j}=O;S={...S,...j,...I}}return S};function d(x){n=x(e)}function p(x){const S=e.getProps(),M=e.getVariantContext(!0)||{},A=[],O=new Set;let B={},I=1/0;for(let V=0;V<S7;V++){const C=w7[V],z=s[C],F=S[C]!==void 0?S[C]:M[C],Y=yp(F),U=C===x?z.isActive:null;U===!1&&(I=V);let J=F===M[C]&&F!==S[C]&&Y;if(J&&a&&e.manuallyAnimateOnMount&&(J=!1),z.protectedKeys={...B},!z.isActive&&U===null||!F&&!z.prevProp||vp(F)||typeof F=="boolean")continue;let rt=T7(z.prevProp,F)||C===x&&z.isActive&&!J&&Y||V>I&&Y,gt=!1;const lt=Array.isArray(F)?F:[F];let dt=lt.reduce(h(C),{});U===!1&&(dt={});const{prevResolvedValues:mt={}}=z,vt={...mt,...dt},Mt=Ct=>{rt=!0,O.has(Ct)&&(gt=!0,O.delete(Ct)),z.needsAnimating[Ct]=!0;const Ot=e.getValue(Ct);Ot&&(Ot.liveStyle=!1)};for(const Ct in vt){const Ot=dt[Ct],Rt=mt[Ct];if(B.hasOwnProperty(Ct))continue;let yt=!1;Kw(Ot)&&Kw(Rt)?yt=!Qj(Ot,Rt):yt=Ot!==Rt,yt?Ot!=null?Mt(Ct):O.add(Ct):Ot!==void 0&&O.has(Ct)?Mt(Ct):z.protectedKeys[Ct]=!0}z.prevProp=F,z.prevResolvedValues=dt,z.isActive&&(B={...B,...dt}),a&&e.blockInitialAnimation&&(rt=!1),rt&&(!J||gt)&&A.push(...lt.map(Ct=>({animation:Ct,options:{type:C}})))}if(O.size){const V={};O.forEach(C=>{const z=e.getBaseTarget(C),F=e.getValue(C);F&&(F.liveStyle=!0),V[C]=z??null}),A.push({animation:V})}let j=!!A.length;return a&&(S.initial===!1||S.initial===S.animate)&&!e.manuallyAnimateOnMount&&(j=!1),a=!1,j?n(A):Promise.resolve()}function v(x,S){var M;if(s[x].isActive===S)return Promise.resolve();(M=e.variantChildren)===null||M===void 0||M.forEach(O=>{var B;return(B=O.animationState)===null||B===void 0?void 0:B.setActive(x,S)}),s[x].isActive=S;const A=p(x);for(const O in s)s[O].protectedKeys={};return A}return{animateChanges:p,setActive:v,setAnimateFunction:d,getState:()=>s,reset:()=>{s=hO(),a=!0}}}function T7(e,n){return typeof n=="string"?n!==e:Array.isArray(n)?!Qj(n,e):!1}function bu(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function hO(){return{animate:bu(!0),whileInView:bu(),whileHover:bu(),whileTap:bu(),whileDrag:bu(),whileFocus:bu(),exit:bu()}}class M7 extends au{constructor(n){super(n),n.animationState||(n.animationState=k7(n))}updateAnimationControlsSubscription(){const{animate:n}=this.node.getProps();vp(n)&&(this.unmountControls=n.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:n}=this.node.getProps(),{animate:s}=this.node.prevProps||{};n!==s&&this.updateAnimationControlsSubscription()}unmount(){var n;this.node.animationState.reset(),(n=this.unmountControls)===null||n===void 0||n.call(this)}}let A7=0;class C7 extends au{constructor(){super(...arguments),this.id=A7++}update(){if(!this.node.presenceContext)return;const{isPresent:n,onExitComplete:s}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||n===a)return;const h=this.node.animationState.setActive("exit",!n);s&&!n&&h.then(()=>s(this.id))}mount(){const{register:n}=this.node.presenceContext||{};n&&(this.unmount=n(this.id))}unmount(){}}const O7={animation:{Feature:M7},exit:{Feature:C7}},cO=(e,n)=>Math.abs(e-n);function N7(e,n){const s=cO(e.x,n.x),a=cO(e.y,n.y);return Math.sqrt(s**2+a**2)}class _B{constructor(n,s,{transformPagePoint:a,contextWindow:h,dragSnapToOrigin:d=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Gx(this.lastMoveEventInfo,this.history),O=this.startEvent!==null,B=N7(A.offset,{x:0,y:0})>=3;if(!O&&!B)return;const{point:I}=A,{timestamp:j}=hr;this.history.push({...I,timestamp:j});const{onStart:V,onMove:C}=this.handlers;O||(V&&V(this.lastMoveEvent,A),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,A)},this.handlePointerMove=(A,O)=>{this.lastMoveEvent=A,this.lastMoveEventInfo=Kx(O,this.transformPagePoint),Ln.update(this.updatePoint,!0)},this.handlePointerUp=(A,O)=>{this.end();const{onEnd:B,onSessionEnd:I,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const V=Gx(A.type==="pointercancel"?this.lastMoveEventInfo:Kx(O,this.transformPagePoint),this.history);this.startEvent&&B&&B(A,V),I&&I(A,V)},!Xj(n))return;this.dragSnapToOrigin=d,this.handlers=s,this.transformPagePoint=a,this.contextWindow=h||window;const p=_v(n),v=Kx(p,this.transformPagePoint),{point:x}=v,{timestamp:S}=hr;this.history=[{...x,timestamp:S}];const{onSessionStart:M}=s;M&&M(n,Gx(v,this.history)),this.removeListeners=za($a(this.contextWindow,"pointermove",this.handlePointerMove),$a(this.contextWindow,"pointerup",this.handlePointerUp),$a(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(n){this.handlers=n}end(){this.removeListeners&&this.removeListeners(),Qa(this.updatePoint)}}function Kx(e,n){return n?{point:n(e.point)}:e}function dO(e,n){return{x:e.x-n.x,y:e.y-n.y}}function Gx({point:e},n){return{point:e,delta:dO(e,DB(n)),offset:dO(e,E7(n)),velocity:L7(n,.1)}}function E7(e){return e[0]}function DB(e){return e[e.length-1]}function L7(e,n){if(e.length<2)return{x:0,y:0};let s=e.length-1,a=null;const h=DB(e);for(;s>=0&&(a=e[s],!(h.timestamp-a.timestamp>Va(n)));)s--;if(!a)return{x:0,y:0};const d=Ua(h.timestamp-a.timestamp);if(d===0)return{x:0,y:0};const p={x:(h.x-a.x)/d,y:(h.y-a.y)/d};return p.x===1/0&&(p.x=0),p.y===1/0&&(p.y=0),p}const RB=1e-4,_7=1-RB,D7=1+RB,IB=.01,R7=0-IB,I7=0+IB;function Es(e){return e.max-e.min}function F7(e,n,s){return Math.abs(e-n)<=s}function fO(e,n,s,a=.5){e.origin=a,e.originPoint=ci(n.min,n.max,e.origin),e.scale=Es(s)/Es(n),e.translate=ci(s.min,s.max,e.origin)-e.originPoint,(e.scale>=_7&&e.scale<=D7||isNaN(e.scale))&&(e.scale=1),(e.translate>=R7&&e.translate<=I7||isNaN(e.translate))&&(e.translate=0)}function Vf(e,n,s,a){fO(e.x,n.x,s.x,a?a.originX:void 0),fO(e.y,n.y,s.y,a?a.originY:void 0)}function pO(e,n,s){e.min=s.min+n.min,e.max=e.min+Es(n)}function j7(e,n,s){pO(e.x,n.x,s.x),pO(e.y,n.y,s.y)}function gO(e,n,s){e.min=n.min-s.min,e.max=e.min+Es(n)}function Uf(e,n,s){gO(e.x,n.x,s.x),gO(e.y,n.y,s.y)}function B7(e,{min:n,max:s},a){return n!==void 0&&e<n?e=a?ci(n,e,a.min):Math.max(e,n):s!==void 0&&e>s&&(e=a?ci(s,e,a.max):Math.min(e,s)),e}function mO(e,n,s){return{min:n!==void 0?e.min+n:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function $7(e,{top:n,left:s,bottom:a,right:h}){return{x:mO(e.x,s,h),y:mO(e.y,n,a)}}function yO(e,n){let s=n.min-e.min,a=n.max-e.max;return n.max-n.min<e.max-e.min&&([s,a]=[a,s]),{min:s,max:a}}function z7(e,n){return{x:yO(e.x,n.x),y:yO(e.y,n.y)}}function V7(e,n){let s=.5;const a=Es(e),h=Es(n);return h>a?s=bp(n.min,n.max-a,e.min):a>h&&(s=bp(e.min,e.max-h,n.min)),ql(0,1,s)}function U7(e,n){const s={};return n.min!==void 0&&(s.min=n.min-e.min),n.max!==void 0&&(s.max=n.max-e.min),s}const tS=.35;function K7(e=tS){return e===!1?e=0:e===!0&&(e=tS),{x:vO(e,"left","right"),y:vO(e,"top","bottom")}}function vO(e,n,s){return{min:xO(e,n),max:xO(e,s)}}function xO(e,n){return typeof e=="number"?e:e[n]||0}const bO=()=>({translate:0,scale:1,origin:0,originPoint:0}),nc=()=>({x:bO(),y:bO()}),wO=()=>({min:0,max:0}),Ti=()=>({x:wO(),y:wO()});function Hs(e){return[e("x"),e("y")]}function FB({top:e,left:n,right:s,bottom:a}){return{x:{min:n,max:s},y:{min:e,max:a}}}function G7({x:e,y:n}){return{top:n.min,right:e.max,bottom:n.max,left:e.min}}function W7(e,n){if(!n)return e;const s=n({x:e.left,y:e.top}),a=n({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:a.y,right:a.x}}function Wx(e){return e===void 0||e===1}function eS({scale:e,scaleX:n,scaleY:s}){return!Wx(e)||!Wx(n)||!Wx(s)}function Tu(e){return eS(e)||jB(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function jB(e){return SO(e.x)||SO(e.y)}function SO(e){return e&&e!=="0%"}function Xy(e,n,s){const a=e-s,h=n*a;return s+h}function PO(e,n,s,a,h){return h!==void 0&&(e=Xy(e,h,a)),Xy(e,s,a)+n}function nS(e,n=0,s=1,a,h){e.min=PO(e.min,n,s,a,h),e.max=PO(e.max,n,s,a,h)}function BB(e,{x:n,y:s}){nS(e.x,n.translate,n.scale,n.originPoint),nS(e.y,s.translate,s.scale,s.originPoint)}const kO=.999999999999,TO=1.0000000000001;function H7(e,n,s,a=!1){const h=s.length;if(!h)return;n.x=n.y=1;let d,p;for(let v=0;v<h;v++){d=s[v],p=d.projectionDelta;const{visualElement:x}=d.options;x&&x.props.style&&x.props.style.display==="contents"||(a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&rc(e,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),p&&(n.x*=p.x.scale,n.y*=p.y.scale,BB(e,p)),a&&Tu(d.latestValues)&&rc(e,d.latestValues))}n.x<TO&&n.x>kO&&(n.x=1),n.y<TO&&n.y>kO&&(n.y=1)}function ic(e,n){e.min=e.min+n,e.max=e.max+n}function MO(e,n,s,a,h=.5){const d=ci(e.min,e.max,h);nS(e,n,s,d,a)}function rc(e,n){MO(e.x,n.x,n.scaleX,n.scale,n.originX),MO(e.y,n.y,n.scaleY,n.scale,n.originY)}function $B(e,n){return FB(W7(e.getBoundingClientRect(),n))}function X7(e,n,s){const a=$B(e,s),{scroll:h}=n;return h&&(ic(a.x,h.offset.x),ic(a.y,h.offset.y)),a}const zB=({current:e})=>e?e.ownerDocument.defaultView:null,Y7=new WeakMap;class q7{constructor(n){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ti(),this.visualElement=n}start(n,{snapToCursor:s=!1}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const h=M=>{const{dragSnapToOrigin:A}=this.getProps();A?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(_v(M,"page").point)},d=(M,A)=>{var O;const{drag:B,dragPropagation:I,onDragStart:j}=this.getProps();if(B&&!I&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=qj(B),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Hs(C=>{let z=this.getAxisMotionValue(C).get()||0;if(ia.test(z)){const{projection:F}=this.visualElement;if(F&&F.layout){const Y=F.layout.layoutBox[C];Y&&(z=Es(Y)*(parseFloat(z)/100))}}this.originPoint[C]=z}),j&&Ln.postRender(()=>j(M,A)),(O=this.removeWillChange)===null||O===void 0||O.call(this),this.removeWillChange=Jw(this.visualElement,"transform");const{animationState:V}=this.visualElement;V&&V.setActive("whileDrag",!0)},p=(M,A)=>{const{dragPropagation:O,dragDirectionLock:B,onDirectionLock:I,onDrag:j}=this.getProps();if(!O&&!this.openGlobalLock)return;const{offset:V}=A;if(B&&this.currentDirection===null){this.currentDirection=Z7(V),this.currentDirection!==null&&I&&I(this.currentDirection);return}this.updateAxis("x",A.point,V),this.updateAxis("y",A.point,V),this.visualElement.render(),j&&j(M,A)},v=(M,A)=>this.stop(M,A),x=()=>Hs(M=>{var A;return this.getAnimationState(M)==="paused"&&((A=this.getAxisMotionValue(M).animation)===null||A===void 0?void 0:A.play())}),{dragSnapToOrigin:S}=this.getProps();this.panSession=new _B(n,{onSessionStart:h,onStart:d,onMove:p,onSessionEnd:v,resumeAnimation:x},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:S,contextWindow:zB(this.visualElement)})}stop(n,s){var a;(a=this.removeWillChange)===null||a===void 0||a.call(this);const h=this.isDragging;if(this.cancel(),!h)return;const{velocity:d}=s;this.startAnimation(d);const{onDragEnd:p}=this.getProps();p&&Ln.postRender(()=>p(n,s))}cancel(){this.isDragging=!1;const{projection:n,animationState:s}=this.visualElement;n&&(n.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(n,s,a){const{drag:h}=this.getProps();if(!a||!xm(n,h,this.currentDirection))return;const d=this.getAxisMotionValue(n);let p=this.originPoint[n]+a[n];this.constraints&&this.constraints[n]&&(p=B7(p,this.constraints[n],this.elastic[n])),d.set(p)}resolveConstraints(){var n;const{dragConstraints:s,dragElastic:a}=this.getProps(),h=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(n=this.visualElement.projection)===null||n===void 0?void 0:n.layout,d=this.constraints;s&&tc(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&h?this.constraints=$7(h.layoutBox,s):this.constraints=!1,this.elastic=K7(a),d!==this.constraints&&h&&this.constraints&&!this.hasMutatedConstraints&&Hs(p=>{this.constraints!==!1&&this.getAxisMotionValue(p)&&(this.constraints[p]=U7(h.layoutBox[p],this.constraints[p]))})}resolveRefConstraints(){const{dragConstraints:n,onMeasureDragConstraints:s}=this.getProps();if(!n||!tc(n))return!1;const a=n.current,{projection:h}=this.visualElement;if(!h||!h.layout)return!1;const d=X7(a,h.root,this.visualElement.getTransformPagePoint());let p=z7(h.layout.layoutBox,d);if(s){const v=s(G7(p));this.hasMutatedConstraints=!!v,v&&(p=FB(v))}return p}startAnimation(n){const{drag:s,dragMomentum:a,dragElastic:h,dragTransition:d,dragSnapToOrigin:p,onDragTransitionEnd:v}=this.getProps(),x=this.constraints||{},S=Hs(M=>{if(!xm(M,s,this.currentDirection))return;let A=x&&x[M]||{};p&&(A={min:0,max:0});const O=h?200:1e6,B=h?40:1e7,I={type:"inertia",velocity:a?n[M]:0,bounceStiffness:O,bounceDamping:B,timeConstant:750,restDelta:1,restSpeed:10,...d,...A};return this.startAxisValueAnimation(M,I)});return Promise.all(S).then(v)}startAxisValueAnimation(n,s){const a=this.getAxisMotionValue(n);return a.start(OT(n,a,0,s,this.visualElement,!1,Jw(this.visualElement,n)))}stopAnimation(){Hs(n=>this.getAxisMotionValue(n).stop())}pauseAnimation(){Hs(n=>{var s;return(s=this.getAxisMotionValue(n).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(n){var s;return(s=this.getAxisMotionValue(n).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(n){const s=`_drag${n.toUpperCase()}`,a=this.visualElement.getProps(),h=a[s];return h||this.visualElement.getValue(n,(a.initial?a.initial[n]:void 0)||0)}snapToCursor(n){Hs(s=>{const{drag:a}=this.getProps();if(!xm(s,a,this.currentDirection))return;const{projection:h}=this.visualElement,d=this.getAxisMotionValue(s);if(h&&h.layout){const{min:p,max:v}=h.layout.layoutBox[s];d.set(n[s]-ci(p,v,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:n,dragConstraints:s}=this.getProps(),{projection:a}=this.visualElement;if(!tc(s)||!a||!this.constraints)return;this.stopAnimation();const h={x:0,y:0};Hs(p=>{const v=this.getAxisMotionValue(p);if(v&&this.constraints!==!1){const x=v.get();h[p]=V7({min:x,max:x},this.constraints[p])}});const{transformTemplate:d}=this.visualElement.getProps();this.visualElement.current.style.transform=d?d({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),Hs(p=>{if(!xm(p,n,null))return;const v=this.getAxisMotionValue(p),{min:x,max:S}=this.constraints[p];v.set(ci(x,S,h[p]))})}addListeners(){if(!this.visualElement.current)return;Y7.set(this.visualElement,this);const n=this.visualElement.current,s=$a(n,"pointerdown",x=>{const{drag:S,dragListener:M=!0}=this.getProps();S&&M&&this.start(x)}),a=()=>{const{dragConstraints:x}=this.getProps();tc(x)&&x.current&&(this.constraints=this.resolveRefConstraints())},{projection:h}=this.visualElement,d=h.addEventListener("measure",a);h&&!h.layout&&(h.root&&h.root.updateScroll(),h.updateLayout()),Ln.read(a);const p=_a(window,"resize",()=>this.scalePositionWithinConstraints()),v=h.addEventListener("didUpdate",({delta:x,hasLayoutChanged:S})=>{this.isDragging&&S&&(Hs(M=>{const A=this.getAxisMotionValue(M);A&&(this.originPoint[M]+=x[M].translate,A.set(A.get()+x[M].translate))}),this.visualElement.render())});return()=>{p(),s(),d(),v&&v()}}getProps(){const n=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:a=!1,dragPropagation:h=!1,dragConstraints:d=!1,dragElastic:p=tS,dragMomentum:v=!0}=n;return{...n,drag:s,dragDirectionLock:a,dragPropagation:h,dragConstraints:d,dragElastic:p,dragMomentum:v}}}function xm(e,n,s){return(n===!0||n===e)&&(s===null||s===e)}function Z7(e,n=10){let s=null;return Math.abs(e.y)>n?s="y":Math.abs(e.x)>n&&(s="x"),s}class J7 extends au{constructor(n){super(n),this.removeGroupControls=Er,this.removeListeners=Er,this.controls=new q7(n)}mount(){const{dragControls:n}=this.node.getProps();n&&(this.removeGroupControls=n.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Er}unmount(){this.removeGroupControls(),this.removeListeners()}}const AO=e=>(n,s)=>{e&&Ln.postRender(()=>e(n,s))};class Q7 extends au{constructor(){super(...arguments),this.removePointerDownListener=Er}onPointerDown(n){this.session=new _B(n,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:zB(this.node)})}createPanHandlers(){const{onPanSessionStart:n,onPanStart:s,onPan:a,onPanEnd:h}=this.node.getProps();return{onSessionStart:AO(n),onStart:AO(s),onMove:a,onEnd:(d,p)=>{delete this.session,h&&Ln.postRender(()=>h(d,p))}}}mount(){this.removePointerDownListener=$a(this.node.current,"pointerdown",n=>this.onPointerDown(n))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function tZ(){const e=at.useContext(Cv);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,h=at.useId();at.useEffect(()=>a(h),[]);const d=at.useCallback(()=>s&&s(h),[h,s]);return!n&&s?[!1,d]:[!0]}const iy={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function CO(e,n){return n.max===n.min?0:e/(n.max-n.min)*100}const lf={correct:(e,n)=>{if(!n.target)return e;if(typeof e=="string")if(Re.test(e))e=parseFloat(e);else return e;const s=CO(e,n.target.x),a=CO(e,n.target.y);return`${s}% ${a}%`}},eZ={correct:(e,{treeScale:n,projectionDelta:s})=>{const a=e,h=Zl.parse(e);if(h.length>5)return a;const d=Zl.createTransformer(e),p=typeof h[0]!="number"?1:0,v=s.x.scale*n.x,x=s.y.scale*n.y;h[0+p]/=v,h[1+p]/=x;const S=ci(v,x,.5);return typeof h[2+p]=="number"&&(h[2+p]/=S),typeof h[3+p]=="number"&&(h[3+p]/=S),d(h)}};class nZ extends at.Component{componentDidMount(){const{visualElement:n,layoutGroup:s,switchLayoutGroup:a,layoutId:h}=this.props,{projection:d}=n;Y9(iZ),d&&(s.group&&s.group.add(d),a&&a.register&&h&&a.register(d),d.root.didUpdate(),d.addEventListener("animationComplete",()=>{this.safeToRemove()}),d.setOptions({...d.options,onExitComplete:()=>this.safeToRemove()})),iy.hasEverUpdated=!0}getSnapshotBeforeUpdate(n){const{layoutDependency:s,visualElement:a,drag:h,isPresent:d}=this.props,p=a.projection;return p&&(p.isPresent=d,h||n.layoutDependency!==s||s===void 0?p.willUpdate():this.safeToRemove(),n.isPresent!==d&&(d?p.promote():p.relegate()||Ln.postRender(()=>{const v=p.getStack();(!v||!v.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:n}=this.props.visualElement;n&&(n.root.didUpdate(),sT.postRender(()=>{!n.currentAnimation&&n.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:n,layoutGroup:s,switchLayoutGroup:a}=this.props,{projection:h}=n;h&&(h.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(h),a&&a.deregister&&a.deregister(h))}safeToRemove(){const{safeToRemove:n}=this.props;n&&n()}render(){return null}}function VB(e){const[n,s]=tZ(),a=at.useContext(lT);return ot.jsx(nZ,{...e,layoutGroup:a,switchLayoutGroup:at.useContext(Ej),isPresent:n,safeToRemove:s})}const iZ={borderRadius:{...lf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:lf,borderTopRightRadius:lf,borderBottomLeftRadius:lf,borderBottomRightRadius:lf,boxShadow:eZ},UB=["TopLeft","TopRight","BottomLeft","BottomRight"],rZ=UB.length,OO=e=>typeof e=="string"?parseFloat(e):e,NO=e=>typeof e=="number"||Re.test(e);function sZ(e,n,s,a,h,d){h?(e.opacity=ci(0,s.opacity!==void 0?s.opacity:1,oZ(a)),e.opacityExit=ci(n.opacity!==void 0?n.opacity:1,0,aZ(a))):d&&(e.opacity=ci(n.opacity!==void 0?n.opacity:1,s.opacity!==void 0?s.opacity:1,a));for(let p=0;p<rZ;p++){const v=`border${UB[p]}Radius`;let x=EO(n,v),S=EO(s,v);if(x===void 0&&S===void 0)continue;x||(x=0),S||(S=0),x===0||S===0||NO(x)===NO(S)?(e[v]=Math.max(ci(OO(x),OO(S),a),0),(ia.test(S)||ia.test(x))&&(e[v]+="%")):e[v]=S}(n.rotate||s.rotate)&&(e.rotate=ci(n.rotate||0,s.rotate||0,a))}function EO(e,n){return e[n]!==void 0?e[n]:e.borderRadius}const oZ=KB(0,.5,PB),aZ=KB(.5,.95,Er);function KB(e,n,s){return a=>a<e?0:a>n?1:s(bp(e,n,a))}function LO(e,n){e.min=n.min,e.max=n.max}function Us(e,n){LO(e.x,n.x),LO(e.y,n.y)}function _O(e,n){e.translate=n.translate,e.scale=n.scale,e.originPoint=n.originPoint,e.origin=n.origin}function DO(e,n,s,a,h){return e-=n,e=Xy(e,1/s,a),h!==void 0&&(e=Xy(e,1/h,a)),e}function lZ(e,n=0,s=1,a=.5,h,d=e,p=e){if(ia.test(n)&&(n=parseFloat(n),n=ci(p.min,p.max,n/100)-p.min),typeof n!="number")return;let v=ci(d.min,d.max,a);e===d&&(v-=n),e.min=DO(e.min,n,s,v,h),e.max=DO(e.max,n,s,v,h)}function RO(e,n,[s,a,h],d,p){lZ(e,n[s],n[a],n[h],n.scale,d,p)}const uZ=["x","scaleX","originX"],hZ=["y","scaleY","originY"];function IO(e,n,s,a){RO(e.x,n,uZ,s?s.x:void 0,a?a.x:void 0),RO(e.y,n,hZ,s?s.y:void 0,a?a.y:void 0)}function FO(e){return e.translate===0&&e.scale===1}function GB(e){return FO(e.x)&&FO(e.y)}function jO(e,n){return e.min===n.min&&e.max===n.max}function cZ(e,n){return jO(e.x,n.x)&&jO(e.y,n.y)}function BO(e,n){return Math.round(e.min)===Math.round(n.min)&&Math.round(e.max)===Math.round(n.max)}function WB(e,n){return BO(e.x,n.x)&&BO(e.y,n.y)}function $O(e){return Es(e.x)/Es(e.y)}function zO(e,n){return e.translate===n.translate&&e.scale===n.scale&&e.originPoint===n.originPoint}class dZ{constructor(){this.members=[]}add(n){Ev(this.members,n),n.scheduleRender()}remove(n){if(Lv(this.members,n),n===this.prevLead&&(this.prevLead=void 0),n===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(n){const s=this.members.findIndex(h=>n===h);if(s===0)return!1;let a;for(let h=s;h>=0;h--){const d=this.members[h];if(d.isPresent!==!1){a=d;break}}return a?(this.promote(a),!0):!1}promote(n,s){const a=this.lead;if(n!==a&&(this.prevLead=a,this.lead=n,n.show(),a)){a.instance&&a.scheduleRender(),n.scheduleRender(),n.resumeFrom=a,s&&(n.resumeFrom.preserveOpacity=!0),a.snapshot&&(n.snapshot=a.snapshot,n.snapshot.latestValues=a.animationValues||a.latestValues),n.root&&n.root.isUpdating&&(n.isLayoutDirty=!0);const{crossfade:h}=n.options;h===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(n=>{const{options:s,resumingFrom:a}=n;s.onExitComplete&&s.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(n=>{n.instance&&n.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function fZ(e,n,s){let a="";const h=e.x.translate/n.x,d=e.y.translate/n.y,p=(s==null?void 0:s.z)||0;if((h||d||p)&&(a=`translate3d(${h}px, ${d}px, ${p}px) `),(n.x!==1||n.y!==1)&&(a+=`scale(${1/n.x}, ${1/n.y}) `),s){const{transformPerspective:S,rotate:M,rotateX:A,rotateY:O,skewX:B,skewY:I}=s;S&&(a=`perspective(${S}px) ${a}`),M&&(a+=`rotate(${M}deg) `),A&&(a+=`rotateX(${A}deg) `),O&&(a+=`rotateY(${O}deg) `),B&&(a+=`skewX(${B}deg) `),I&&(a+=`skewY(${I}deg) `)}const v=e.x.scale*n.x,x=e.y.scale*n.y;return(v!==1||x!==1)&&(a+=`scale(${v}, ${x})`),a||"none"}const pZ=(e,n)=>e.depth-n.depth;class gZ{constructor(){this.children=[],this.isDirty=!1}add(n){Ev(this.children,n),this.isDirty=!0}remove(n){Lv(this.children,n),this.isDirty=!0}forEach(n){this.isDirty&&this.children.sort(pZ),this.isDirty=!1,this.children.forEach(n)}}function mZ(e,n){const s=Ka.now(),a=({timestamp:h})=>{const d=h-s;d>=n&&(Qa(a),e(d-n))};return Ln.read(a,!0),()=>Qa(a)}function yZ(e){return e instanceof SVGElement&&e.tagName!=="svg"}function vZ(e,n,s){const a=Nr(e)?e:wp(e);return a.start(OT("",a,n,s)),a.animation}const Mu={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},kf=typeof window<"u"&&window.MotionDebug!==void 0,Hx=["","X","Y","Z"],xZ={visibility:"hidden"},VO=1e3;let bZ=0;function Xx(e,n,s,a){const{latestValues:h}=n;h[e]&&(s[e]=h[e],n.setStaticValue(e,0),a&&(a[e]=0))}function HB(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return!1;const{visualElement:n}=e.options;return n?window.MotionHasOptimisedTransformAnimation(EB(n))?!0:e.parent&&!e.parent.hasCheckedOptimisedAppear?HB(e.parent):!1:!1}function XB({attachResizeListener:e,defaultParent:n,measureScroll:s,checkIsScrollRoot:a,resetTransform:h}){return class{constructor(p={},v=n==null?void 0:n()){this.id=bZ++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,kf&&(Mu.totalNodes=Mu.resolvedTargetDeltas=Mu.recalculatedProjection=0),this.nodes.forEach(PZ),this.nodes.forEach(CZ),this.nodes.forEach(OZ),this.nodes.forEach(kZ),kf&&window.MotionDebug.record(Mu)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=p,this.root=v?v.root||v:this,this.path=v?[...v.path,v]:[],this.parent=v,this.depth=v?v.depth+1:0;for(let x=0;x<this.path.length;x++)this.path[x].shouldResetTransform=!0;this.root===this&&(this.nodes=new gZ)}addEventListener(p,v){return this.eventHandlers.has(p)||this.eventHandlers.set(p,new NT),this.eventHandlers.get(p).add(v)}notifyListeners(p,...v){const x=this.eventHandlers.get(p);x&&x.notify(...v)}hasListeners(p){return this.eventHandlers.has(p)}mount(p,v=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=yZ(p),this.instance=p;const{layoutId:x,layout:S,visualElement:M}=this.options;if(M&&!M.current&&M.mount(p),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),v&&(S||x)&&(this.isLayoutDirty=!0),e){let A;const O=()=>this.root.updateBlockedByResize=!1;e(p,()=>{this.root.updateBlockedByResize=!0,A&&A(),A=mZ(O,250),iy.hasAnimatedSinceResize&&(iy.hasAnimatedSinceResize=!1,this.nodes.forEach(KO))})}x&&this.root.registerSharedNode(x,this),this.options.animate!==!1&&M&&(x||S)&&this.addEventListener("didUpdate",({delta:A,hasLayoutChanged:O,hasRelativeTargetChanged:B,layout:I})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||M.getDefaultTransition()||DZ,{onLayoutAnimationStart:V,onLayoutAnimationComplete:C}=M.getProps(),z=!this.targetLayout||!WB(this.targetLayout,I)||B,F=!O&&B;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||F||O&&(z||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(A,F);const Y={...bT(j,"layout"),onPlay:V,onComplete:C};(M.shouldReduceMotion||this.options.layoutRoot)&&(Y.delay=0,Y.type=!1),this.startAnimation(Y)}else O||KO(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=I})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const p=this.getStack();p&&p.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Qa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(NZ),this.animationId++)}getTransformTemplate(){const{visualElement:p}=this.options;return p&&p.getProps().transformTemplate}willUpdate(p=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionHandoffCancelAll&&HB(this)&&window.MotionHandoffCancelAll(),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let M=0;M<this.path.length;M++){const A=this.path[M];A.shouldResetTransform=!0,A.updateScroll("snapshot"),A.options.layoutRoot&&A.willUpdate(!1)}const{layoutId:v,layout:x}=this.options;if(v===void 0&&!x)return;const S=this.getTransformTemplate();this.prevTransformTemplateValue=S?S(this.latestValues,""):void 0,this.updateSnapshot(),p&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(UO);return}this.isUpdating||this.nodes.forEach(MZ),this.isUpdating=!1,this.nodes.forEach(AZ),this.nodes.forEach(wZ),this.nodes.forEach(SZ),this.clearAllSnapshots();const v=Ka.now();hr.delta=ql(0,1e3/60,v-hr.timestamp),hr.timestamp=v,hr.isProcessing=!0,Fx.update.process(hr),Fx.preRender.process(hr),Fx.render.process(hr),hr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,sT.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(TZ),this.sharedNodes.forEach(EZ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ln.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ln.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let x=0;x<this.path.length;x++)this.path[x].updateScroll();const p=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ti(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:v}=this.options;v&&v.notify("LayoutMeasure",this.layout.layoutBox,p?p.layoutBox:void 0)}updateScroll(p="measure"){let v=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===p&&(v=!1),v){const x=a(this.instance);this.scroll={animationId:this.root.animationId,phase:p,isRoot:x,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:x}}}resetTransform(){if(!h)return;const p=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,v=this.projectionDelta&&!GB(this.projectionDelta),x=this.getTransformTemplate(),S=x?x(this.latestValues,""):void 0,M=S!==this.prevTransformTemplateValue;p&&(v||Tu(this.latestValues)||M)&&(h(this.instance,S),this.shouldResetTransform=!1,this.scheduleRender())}measure(p=!0){const v=this.measurePageBox();let x=this.removeElementScroll(v);return p&&(x=this.removeTransform(x)),RZ(x),{animationId:this.root.animationId,measuredBox:v,layoutBox:x,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:v}=this.options;if(!v)return Ti();const x=v.measureViewportBox();if(!(((p=this.scroll)===null||p===void 0?void 0:p.wasRoot)||this.path.some(IZ))){const{scroll:M}=this.root;M&&(ic(x.x,M.offset.x),ic(x.y,M.offset.y))}return x}removeElementScroll(p){var v;const x=Ti();if(Us(x,p),!((v=this.scroll)===null||v===void 0)&&v.wasRoot)return x;for(let S=0;S<this.path.length;S++){const M=this.path[S],{scroll:A,options:O}=M;M!==this.root&&A&&O.layoutScroll&&(A.wasRoot&&Us(x,p),ic(x.x,A.offset.x),ic(x.y,A.offset.y))}return x}applyTransform(p,v=!1){const x=Ti();Us(x,p);for(let S=0;S<this.path.length;S++){const M=this.path[S];!v&&M.options.layoutScroll&&M.scroll&&M!==M.root&&rc(x,{x:-M.scroll.offset.x,y:-M.scroll.offset.y}),Tu(M.latestValues)&&rc(x,M.latestValues)}return Tu(this.latestValues)&&rc(x,this.latestValues),x}removeTransform(p){const v=Ti();Us(v,p);for(let x=0;x<this.path.length;x++){const S=this.path[x];if(!S.instance||!Tu(S.latestValues))continue;eS(S.latestValues)&&S.updateSnapshot();const M=Ti(),A=S.measurePageBox();Us(M,A),IO(v,S.latestValues,S.snapshot?S.snapshot.layoutBox:void 0,M)}return Tu(this.latestValues)&&IO(v,this.latestValues),v}setTargetDelta(p){this.targetDelta=p,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(p){this.options={...this.options,...p,crossfade:p.crossfade!==void 0?p.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==hr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(p=!1){var v;const x=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=x.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=x.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=x.isSharedProjectionDirty);const S=!!this.resumingFrom||this!==x;if(!(p||S&&this.isSharedProjectionDirty||this.isProjectionDirty||!((v=this.parent)===null||v===void 0)&&v.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:A,layoutId:O}=this.options;if(!(!this.layout||!(A||O))){if(this.resolvedRelativeTargetAt=hr.timestamp,!this.targetDelta&&!this.relativeTarget){const B=this.getClosestProjectingParent();B&&B.layout&&this.animationProgress!==1?(this.relativeParent=B,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ti(),this.relativeTargetOrigin=Ti(),Uf(this.relativeTargetOrigin,this.layout.layoutBox,B.layout.layoutBox),Us(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ti(),this.targetWithTransforms=Ti()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),j7(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Us(this.target,this.layout.layoutBox),BB(this.target,this.targetDelta)):Us(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const B=this.getClosestProjectingParent();B&&!!B.resumingFrom==!!this.resumingFrom&&!B.options.layoutScroll&&B.target&&this.animationProgress!==1?(this.relativeParent=B,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ti(),this.relativeTargetOrigin=Ti(),Uf(this.relativeTargetOrigin,this.target,B.target),Us(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}kf&&Mu.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||eS(this.parent.latestValues)||jB(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var p;const v=this.getLead(),x=!!this.resumingFrom||this!==v;let S=!0;if((this.isProjectionDirty||!((p=this.parent)===null||p===void 0)&&p.isProjectionDirty)&&(S=!1),x&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(S=!1),this.resolvedRelativeTargetAt===hr.timestamp&&(S=!1),S)return;const{layout:M,layoutId:A}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(M||A))return;Us(this.layoutCorrected,this.layout.layoutBox);const O=this.treeScale.x,B=this.treeScale.y;H7(this.layoutCorrected,this.treeScale,this.path,x),v.layout&&!v.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(v.target=v.layout.layoutBox,v.targetWithTransforms=Ti());const{target:I}=v;if(!I){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(_O(this.prevProjectionDelta.x,this.projectionDelta.x),_O(this.prevProjectionDelta.y,this.projectionDelta.y)),Vf(this.projectionDelta,this.layoutCorrected,I,this.latestValues),(this.treeScale.x!==O||this.treeScale.y!==B||!zO(this.projectionDelta.x,this.prevProjectionDelta.x)||!zO(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",I)),kf&&Mu.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(p=!0){var v;if((v=this.options.visualElement)===null||v===void 0||v.scheduleRender(),p){const x=this.getStack();x&&x.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=nc(),this.projectionDelta=nc(),this.projectionDeltaWithTransform=nc()}setAnimationOrigin(p,v=!1){const x=this.snapshot,S=x?x.latestValues:{},M={...this.latestValues},A=nc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!v;const O=Ti(),B=x?x.source:void 0,I=this.layout?this.layout.source:void 0,j=B!==I,V=this.getStack(),C=!V||V.members.length<=1,z=!!(j&&!C&&this.options.crossfade===!0&&!this.path.some(_Z));this.animationProgress=0;let F;this.mixTargetDelta=Y=>{const U=Y/1e3;GO(A.x,p.x,U),GO(A.y,p.y,U),this.setTargetDelta(A),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Uf(O,this.layout.layoutBox,this.relativeParent.layout.layoutBox),LZ(this.relativeTarget,this.relativeTargetOrigin,O,U),F&&cZ(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=Ti()),Us(F,this.relativeTarget)),j&&(this.animationValues=M,sZ(M,S,this.latestValues,U,z,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=U},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(p){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Qa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ln.update(()=>{iy.hasAnimatedSinceResize=!0,this.currentAnimation=vZ(0,VO,{...p,onUpdate:v=>{this.mixTargetDelta(v),p.onUpdate&&p.onUpdate(v)},onComplete:()=>{p.onComplete&&p.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const p=this.getStack();p&&p.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(VO),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const p=this.getLead();let{targetWithTransforms:v,target:x,layout:S,latestValues:M}=p;if(!(!v||!x||!S)){if(this!==p&&this.layout&&S&&YB(this.options.animationType,this.layout.layoutBox,S.layoutBox)){x=this.target||Ti();const A=Es(this.layout.layoutBox.x);x.x.min=p.target.x.min,x.x.max=x.x.min+A;const O=Es(this.layout.layoutBox.y);x.y.min=p.target.y.min,x.y.max=x.y.min+O}Us(v,x),rc(v,M),Vf(this.projectionDeltaWithTransform,this.layoutCorrected,v,M)}}registerSharedNode(p,v){this.sharedNodes.has(p)||this.sharedNodes.set(p,new dZ),this.sharedNodes.get(p).add(v);const S=v.options.initialPromotionConfig;v.promote({transition:S?S.transition:void 0,preserveFollowOpacity:S&&S.shouldPreserveFollowOpacity?S.shouldPreserveFollowOpacity(v):void 0})}isLead(){const p=this.getStack();return p?p.lead===this:!0}getLead(){var p;const{layoutId:v}=this.options;return v?((p=this.getStack())===null||p===void 0?void 0:p.lead)||this:this}getPrevLead(){var p;const{layoutId:v}=this.options;return v?(p=this.getStack())===null||p===void 0?void 0:p.prevLead:void 0}getStack(){const{layoutId:p}=this.options;if(p)return this.root.sharedNodes.get(p)}promote({needsReset:p,transition:v,preserveFollowOpacity:x}={}){const S=this.getStack();S&&S.promote(this,x),p&&(this.projectionDelta=void 0,this.needsReset=!0),v&&this.setOptions({transition:v})}relegate(){const p=this.getStack();return p?p.relegate(this):!1}resetSkewAndRotation(){const{visualElement:p}=this.options;if(!p)return;let v=!1;const{latestValues:x}=p;if((x.z||x.rotate||x.rotateX||x.rotateY||x.rotateZ||x.skewX||x.skewY)&&(v=!0),!v)return;const S={};x.z&&Xx("z",p,S,this.animationValues);for(let M=0;M<Hx.length;M++)Xx(`rotate${Hx[M]}`,p,S,this.animationValues),Xx(`skew${Hx[M]}`,p,S,this.animationValues);p.render();for(const M in S)p.setStaticValue(M,S[M]),this.animationValues&&(this.animationValues[M]=S[M]);p.scheduleRender()}getProjectionStyles(p){var v,x;if(!this.instance||this.isSVG)return;if(!this.isVisible)return xZ;const S={visibility:""},M=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,S.opacity="",S.pointerEvents=ey(p==null?void 0:p.pointerEvents)||"",S.transform=M?M(this.latestValues,""):"none",S;const A=this.getLead();if(!this.projectionDelta||!this.layout||!A.target){const j={};return this.options.layoutId&&(j.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,j.pointerEvents=ey(p==null?void 0:p.pointerEvents)||""),this.hasProjected&&!Tu(this.latestValues)&&(j.transform=M?M({},""):"none",this.hasProjected=!1),j}const O=A.animationValues||A.latestValues;this.applyTransformsToTarget(),S.transform=fZ(this.projectionDeltaWithTransform,this.treeScale,O),M&&(S.transform=M(O,S.transform));const{x:B,y:I}=this.projectionDelta;S.transformOrigin=`${B.origin*100}% ${I.origin*100}% 0`,A.animationValues?S.opacity=A===this?(x=(v=O.opacity)!==null&&v!==void 0?v:this.latestValues.opacity)!==null&&x!==void 0?x:1:this.preserveOpacity?this.latestValues.opacity:O.opacityExit:S.opacity=A===this?O.opacity!==void 0?O.opacity:"":O.opacityExit!==void 0?O.opacityExit:0;for(const j in Uy){if(O[j]===void 0)continue;const{correct:V,applyTo:C}=Uy[j],z=S.transform==="none"?O[j]:V(O[j],A);if(C){const F=C.length;for(let Y=0;Y<F;Y++)S[C[Y]]=z}else S[j]=z}return this.options.layoutId&&(S.pointerEvents=A===this?ey(p==null?void 0:p.pointerEvents)||"":"none"),S}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(p=>{var v;return(v=p.currentAnimation)===null||v===void 0?void 0:v.stop()}),this.root.nodes.forEach(UO),this.root.sharedNodes.clear()}}}function wZ(e){e.updateLayout()}function SZ(e){var n;const s=((n=e.resumeFrom)===null||n===void 0?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&s&&e.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:h}=e.layout,{animationType:d}=e.options,p=s.source!==e.layout.source;d==="size"?Hs(A=>{const O=p?s.measuredBox[A]:s.layoutBox[A],B=Es(O);O.min=a[A].min,O.max=O.min+B}):YB(d,s.layoutBox,a)&&Hs(A=>{const O=p?s.measuredBox[A]:s.layoutBox[A],B=Es(a[A]);O.max=O.min+B,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[A].max=e.relativeTarget[A].min+B)});const v=nc();Vf(v,a,s.layoutBox);const x=nc();p?Vf(x,e.applyTransform(h,!0),s.measuredBox):Vf(x,a,s.layoutBox);const S=!GB(v);let M=!1;if(!e.resumeFrom){const A=e.getClosestProjectingParent();if(A&&!A.resumeFrom){const{snapshot:O,layout:B}=A;if(O&&B){const I=Ti();Uf(I,s.layoutBox,O.layoutBox);const j=Ti();Uf(j,a,B.layoutBox),WB(I,j)||(M=!0),A.options.layoutRoot&&(e.relativeTarget=j,e.relativeTargetOrigin=I,e.relativeParent=A)}}}e.notifyListeners("didUpdate",{layout:a,snapshot:s,delta:x,layoutDelta:v,hasLayoutChanged:S,hasRelativeTargetChanged:M})}else if(e.isLead()){const{onExitComplete:a}=e.options;a&&a()}e.options.transition=void 0}function PZ(e){kf&&Mu.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function kZ(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function TZ(e){e.clearSnapshot()}function UO(e){e.clearMeasurements()}function MZ(e){e.isLayoutDirty=!1}function AZ(e){const{visualElement:n}=e.options;n&&n.getProps().onBeforeLayoutMeasure&&n.notify("BeforeLayoutMeasure"),e.resetTransform()}function KO(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function CZ(e){e.resolveTargetDelta()}function OZ(e){e.calcProjection()}function NZ(e){e.resetSkewAndRotation()}function EZ(e){e.removeLeadSnapshot()}function GO(e,n,s){e.translate=ci(n.translate,0,s),e.scale=ci(n.scale,1,s),e.origin=n.origin,e.originPoint=n.originPoint}function WO(e,n,s,a){e.min=ci(n.min,s.min,a),e.max=ci(n.max,s.max,a)}function LZ(e,n,s,a){WO(e.x,n.x,s.x,a),WO(e.y,n.y,s.y,a)}function _Z(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const DZ={duration:.45,ease:[.4,0,.1,1]},HO=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),XO=HO("applewebkit/")&&!HO("chrome/")?Math.round:Er;function YO(e){e.min=XO(e.min),e.max=XO(e.max)}function RZ(e){YO(e.x),YO(e.y)}function YB(e,n,s){return e==="position"||e==="preserve-aspect"&&!F7($O(n),$O(s),.2)}function IZ(e){var n;return e!==e.root&&((n=e.scroll)===null||n===void 0?void 0:n.wasRoot)}const FZ=XB({attachResizeListener:(e,n)=>_a(e,"resize",n),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Yx={current:void 0},qB=XB({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Yx.current){const e=new FZ({});e.mount(window),e.setOptions({layoutScroll:!0}),Yx.current=e}return Yx.current},resetTransform:(e,n)=>{e.style.transform=n!==void 0?n:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),jZ={pan:{Feature:Q7},drag:{Feature:J7,ProjectionNode:qB,MeasureLayout:VB}},iS={current:null},ZB={current:!1};function BZ(){if(ZB.current=!0,!!rT)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),n=()=>iS.current=e.matches;e.addListener(n),n()}else iS.current=!1}function $Z(e,n,s){for(const a in n){const h=n[a],d=s[a];if(Nr(h))e.addValue(a,h);else if(Nr(d))e.addValue(a,wp(h,{owner:e}));else if(d!==h)if(e.hasValue(a)){const p=e.getValue(a);p.liveStyle===!0?p.jump(h):p.hasAnimated||p.set(h)}else{const p=e.getStaticValue(a);e.addValue(a,wp(p!==void 0?p:h,{owner:e}))}}for(const a in s)n[a]===void 0&&e.removeValue(a);return n}const qO=new WeakMap,zZ=[...rB,Tr,Zl],VZ=e=>zZ.find(iB(e)),ZO=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],UZ=aT.length;class KZ{scrapeMotionValuesFromProps(n,s,a){return{}}constructor({parent:n,props:s,presenceContext:a,reducedMotionConfig:h,blockInitialAnimation:d,visualState:p},v={}){this.applyWillChange=!1,this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=wT,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.isRenderScheduled=!1,this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.isRenderScheduled=!1,this.scheduleRender=()=>{this.isRenderScheduled||(this.isRenderScheduled=!0,Ln.render(this.render,!1,!0))};const{latestValues:x,renderState:S}=p;this.latestValues=x,this.baseTarget={...x},this.initialValues=s.initial?{...x}:{},this.renderState=S,this.parent=n,this.props=s,this.presenceContext=a,this.depth=n?n.depth+1:0,this.reducedMotionConfig=h,this.options=v,this.blockInitialAnimation=!!d,this.isControllingVariants=Nv(s),this.isVariantNode=_j(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(n&&n.current);const{willChange:M,...A}=this.scrapeMotionValuesFromProps(s,{},this);for(const O in A){const B=A[O];x[O]!==void 0&&Nr(B)&&B.set(x[O],!1)}}mount(n){this.current=n,qO.set(n,this),this.projection&&!this.projection.instance&&this.projection.mount(n),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,a)=>this.bindToMotionValue(a,s)),ZB.current||BZ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:iS.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){qO.delete(this.current),this.projection&&this.projection.unmount(),Qa(this.notifyUpdate),Qa(this.render),this.valueSubscriptions.forEach(n=>n()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(n,s){const a=ou.has(n),h=s.on("change",p=>{this.latestValues[n]=p,this.props.onUpdate&&Ln.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0)}),d=s.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(n,()=>{h(),d(),s.owner&&s.stop()})}sortNodePosition(n){return!this.current||!this.sortInstanceNodePosition||this.type!==n.type?0:this.sortInstanceNodePosition(this.current,n.current)}updateFeatures(){let n="animation";for(n in Dc){const s=Dc[n];if(!s)continue;const{isEnabled:a,Feature:h}=s;if(!this.features[n]&&h&&a(this.props)&&(this.features[n]=new h(this)),this.features[n]){const d=this.features[n];d.isMounted?d.update():(d.mount(),d.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ti()}getStaticValue(n){return this.latestValues[n]}setStaticValue(n,s){this.latestValues[n]=s}update(n,s){(n.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=n,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let a=0;a<ZO.length;a++){const h=ZO[a];this.propEventSubscriptions[h]&&(this.propEventSubscriptions[h](),delete this.propEventSubscriptions[h]);const d="on"+h,p=n[d];p&&(this.propEventSubscriptions[h]=this.on(h,p))}this.prevMotionValues=$Z(this,this.scrapeMotionValuesFromProps(n,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(n){return this.props.variants?this.props.variants[n]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(n=!1){if(n)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const a=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(a.initial=this.props.initial),a}const s={};for(let a=0;a<UZ;a++){const h=aT[a],d=this.props[h];(yp(d)||d===!1)&&(s[h]=d)}return s}addVariantChild(n){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(n),()=>s.variantChildren.delete(n)}addValue(n,s){const a=this.values.get(n);s!==a&&(a&&this.removeValue(n),this.bindToMotionValue(n,s),this.values.set(n,s),this.latestValues[n]=s.get())}removeValue(n){this.values.delete(n);const s=this.valueSubscriptions.get(n);s&&(s(),this.valueSubscriptions.delete(n)),delete this.latestValues[n],this.removeValueFromRenderState(n,this.renderState)}hasValue(n){return this.values.has(n)}getValue(n,s){if(this.props.values&&this.props.values[n])return this.props.values[n];let a=this.values.get(n);return a===void 0&&s!==void 0&&(a=wp(s===null?void 0:s,{owner:this}),this.addValue(n,a)),a}readValue(n,s){var a;let h=this.latestValues[n]!==void 0||!this.current?this.latestValues[n]:(a=this.getBaseTargetFromProps(this.props,n))!==null&&a!==void 0?a:this.readValueFromInstance(this.current,n,this.options);return h!=null&&(typeof h=="string"&&(eB(h)||tB(h))?h=parseFloat(h):!VZ(h)&&Zl.test(s)&&(h=dB(n,s)),this.setBaseTarget(n,Nr(h)?h.get():h)),Nr(h)?h.get():h}setBaseTarget(n,s){this.baseTarget[n]=s}getBaseTarget(n){var s;const{initial:a}=this.props;let h;if(typeof a=="string"||typeof a=="object"){const p=vT(this.props,a,(s=this.presenceContext)===null||s===void 0?void 0:s.custom);p&&(h=p[n])}if(a&&h!==void 0)return h;const d=this.getBaseTargetFromProps(this.props,n);return d!==void 0&&!Nr(d)?d:this.initialValues[n]!==void 0&&h===void 0?void 0:this.baseTarget[n]}on(n,s){return this.events[n]||(this.events[n]=new NT),this.events[n].add(s)}notify(n,...s){this.events[n]&&this.events[n].notify(...s)}}class JB extends KZ{constructor(){super(...arguments),this.KeyframeResolver=fB}sortInstanceNodePosition(n,s){return n.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(n,s){return n.style?n.style[s]:void 0}removeValueFromRenderState(n,{vars:s,style:a}){delete s[n],delete a[n]}}function GZ(e){return window.getComputedStyle(e)}class WZ extends JB{constructor(){super(...arguments),this.type="html",this.applyWillChange=!0,this.renderInstance=zj}readValueFromInstance(n,s){if(ou.has(s)){const a=PT(s);return a&&a.default||0}else{const a=GZ(n),h=(Fj(s)?a.getPropertyValue(s):a[s])||0;return typeof h=="string"?h.trim():h}}measureInstanceViewportBox(n,{transformPagePoint:s}){return $B(n,s)}build(n,s,a){fT(n,s,a.transformTemplate)}scrapeMotionValuesFromProps(n,s,a){return yT(n,s,a)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:n}=this.props;Nr(n)&&(this.childSubscription=n.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}class HZ extends JB{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ti}getBaseTargetFromProps(n,s){return n[s]}readValueFromInstance(n,s){if(ou.has(s)){const a=PT(s);return a&&a.default||0}return s=Vj.has(s)?s:Ov(s),n.getAttribute(s)}scrapeMotionValuesFromProps(n,s,a){return Kj(n,s,a)}build(n,s,a){gT(n,s,this.isSVGTag,a.transformTemplate)}renderInstance(n,s,a,h){Uj(n,s,a,h)}mount(n){this.isSVGTag=mT(n.tagName),super.mount(n)}}const XZ=(e,n)=>uT(e)?new HZ(n):new WZ(n,{allowProjection:e!==at.Fragment}),YZ={layout:{ProjectionNode:qB,MeasureLayout:VB}},qZ={...O7,...jY,...jZ,...YZ},ZZ=H9((e,n)=>TY(e,n,qZ,XZ));class JZ extends at.Component{getSnapshotBeforeUpdate(n){const s=this.props.childRef.current;if(s&&n.isPresent&&!this.props.isPresent){const a=this.props.sizeRef.current;a.height=s.offsetHeight||0,a.width=s.offsetWidth||0,a.top=s.offsetTop,a.left=s.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function QZ({children:e,isPresent:n}){const s=at.useId(),a=at.useRef(null),h=at.useRef({width:0,height:0,top:0,left:0}),{nonce:d}=at.useContext(iT);return at.useInsertionEffect(()=>{const{width:p,height:v,top:x,left:S}=h.current;if(n||!a.current||!p||!v)return;a.current.dataset.motionPopId=s;const M=document.createElement("style");return d&&(M.nonce=d),document.head.appendChild(M),M.sheet&&M.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${v}px !important;
            top: ${x}px !important;
            left: ${S}px !important;
          }
        `),()=>{document.head.removeChild(M)}},[n]),ot.jsx(JZ,{isPresent:n,childRef:a,sizeRef:h,children:at.cloneElement(e,{ref:a})})}const tJ=({children:e,initial:n,isPresent:s,onExitComplete:a,custom:h,presenceAffectsLayout:d,mode:p})=>{const v=xT(eJ),x=at.useId(),S=at.useMemo(()=>({id:x,initial:n,isPresent:s,custom:h,onExitComplete:M=>{v.set(M,!0);for(const A of v.values())if(!A)return;a&&a()},register:M=>(v.set(M,!1),()=>v.delete(M))}),d?[Math.random()]:[s]);return at.useMemo(()=>{v.forEach((M,A)=>v.set(A,!1))},[s]),at.useEffect(()=>{!s&&!v.size&&a&&a()},[s]),p==="popLayout"&&(e=ot.jsx(QZ,{isPresent:s,children:e})),ot.jsx(Cv.Provider,{value:S,children:e})};function eJ(){return new Map}const bm=e=>e.key||"";function JO(e){const n=[];return at.Children.forEach(e,s=>{at.isValidElement(s)&&n.push(s)}),n}const nJ=({children:e,exitBeforeEnter:n,custom:s,initial:a=!0,onExitComplete:h,presenceAffectsLayout:d=!0,mode:p="sync"})=>{const v=at.useMemo(()=>JO(e),[e]),x=v.map(bm),S=at.useRef(!0),M=at.useRef(v),A=xT(()=>new Map),[O,B]=at.useState(v),[I,j]=at.useState(v);Aj(()=>{S.current=!1,M.current=v;for(let z=0;z<I.length;z++){const F=bm(I[z]);x.includes(F)?A.delete(F):A.get(F)!==!0&&A.set(F,!1)}},[I,x.length,x.join("-")]);const V=[];if(v!==O){let z=[...v];for(let F=0;F<I.length;F++){const Y=I[F],U=bm(Y);x.includes(U)||(z.splice(F,0,Y),V.push(Y))}p==="wait"&&V.length&&(z=V),j(JO(z)),B(v);return}const{forceRender:C}=at.useContext(lT);return ot.jsx(ot.Fragment,{children:I.map(z=>{const F=bm(z),Y=v===I||x.includes(F),U=()=>{if(A.has(F))A.set(F,!0);else return;let J=!0;A.forEach(K=>{K||(J=!1)}),J&&(C==null||C(),j(M.current),h&&h())};return ot.jsx(tJ,{isPresent:Y,initial:!S.current||a?void 0:!1,custom:Y?void 0:s,presenceAffectsLayout:d,mode:p,onExitComplete:Y?void 0:U,children:z},F)})})};var iJ=e=>{switch(e){case"success":return oJ;case"info":return lJ;case"warning":return aJ;case"error":return uJ;default:return null}},rJ=Array(12).fill(0),sJ=({visible:e})=>wt.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},wt.createElement("div",{className:"sonner-spinner"},rJ.map((n,s)=>wt.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),oJ=wt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},wt.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),aJ=wt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},wt.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),lJ=wt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},wt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),uJ=wt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},wt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),hJ=()=>{let[e,n]=wt.useState(document.hidden);return wt.useEffect(()=>{let s=()=>{n(document.hidden)};return document.addEventListener("visibilitychange",s),()=>window.removeEventListener("visibilitychange",s)},[]),e},rS=1,cJ=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:s,...a}=e,h=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:rS++,d=this.toasts.find(v=>v.id===h),p=e.dismissible===void 0?!0:e.dismissible;return d?this.toasts=this.toasts.map(v=>v.id===h?(this.publish({...v,...e,id:h,title:s}),{...v,...e,id:h,dismissible:p,title:s}):v):this.addToast({title:s,...a,dismissible:p,id:h}),h},this.dismiss=e=>(e||this.toasts.forEach(n=>{this.subscribers.forEach(s=>s({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let s;n.loading!==void 0&&(s=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let a=e instanceof Promise?e:e(),h=s!==void 0;return a.then(async d=>{if(fJ(d)&&!d.ok){h=!1;let p=typeof n.error=="function"?await n.error(`HTTP error! status: ${d.status}`):n.error,v=typeof n.description=="function"?await n.description(`HTTP error! status: ${d.status}`):n.description;this.create({id:s,type:"error",message:p,description:v})}else if(n.success!==void 0){h=!1;let p=typeof n.success=="function"?await n.success(d):n.success,v=typeof n.description=="function"?await n.description(d):n.description;this.create({id:s,type:"success",message:p,description:v})}}).catch(async d=>{if(n.error!==void 0){h=!1;let p=typeof n.error=="function"?await n.error(d):n.error,v=typeof n.description=="function"?await n.description(d):n.description;this.create({id:s,type:"error",message:p,description:v})}}).finally(()=>{var d;h&&(this.dismiss(s),s=void 0),(d=n.finally)==null||d.call(n)}),s},this.custom=(e,n)=>{let s=(n==null?void 0:n.id)||rS++;return this.create({jsx:e(s),id:s,...n}),s},this.subscribers=[],this.toasts=[]}},Ps=new cJ,dJ=(e,n)=>{let s=(n==null?void 0:n.id)||rS++;return Ps.addToast({title:e,...n,id:s}),s},fJ=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",pJ=dJ,gJ=()=>Ps.toasts;Object.assign(pJ,{success:Ps.success,info:Ps.info,warning:Ps.warning,error:Ps.error,custom:Ps.custom,message:Ps.message,promise:Ps.promise,dismiss:Ps.dismiss,loading:Ps.loading},{getHistory:gJ});function mJ(e,{insertAt:n}={}){if(typeof document>"u")return;let s=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",n==="top"&&s.firstChild?s.insertBefore(a,s.firstChild):s.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}mJ(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function wm(e){return e.label!==void 0}var yJ=3,vJ="32px",xJ=4e3,bJ=356,wJ=14,SJ=20,PJ=200;function kJ(...e){return e.filter(Boolean).join(" ")}var TJ=e=>{var n,s,a,h,d,p,v,x,S,M;let{invert:A,toast:O,unstyled:B,interacting:I,setHeights:j,visibleToasts:V,heights:C,index:z,toasts:F,expanded:Y,removeToast:U,defaultRichColors:J,closeButton:K,style:rt,cancelButtonStyle:gt,actionButtonStyle:lt,className:dt="",descriptionClassName:mt="",duration:vt,position:Mt,gap:Ct,loadingIcon:Ot,expandByDefault:Rt,classNames:yt,icons:Nt,closeButtonAriaLabel:kt="Close toast",pauseWhenPageIsHidden:At,cn:It}=e,[$t,ee]=wt.useState(!1),[ne,Ft]=wt.useState(!1),[he,be]=wt.useState(!1),[te,le]=wt.useState(!1),[me,_t]=wt.useState(0),[Yt,ue]=wt.useState(0),Ae=wt.useRef(null),_e=wt.useRef(null),en=z===0,qe=z+1<=V,$e=O.type,yn=O.dismissible!==!1,mi=O.className||"",rr=O.descriptionClassName||"",Ki=wt.useMemo(()=>C.findIndex(Oe=>Oe.toastId===O.id)||0,[C,O.id]),gr=wt.useMemo(()=>{var Oe;return(Oe=O.closeButton)!=null?Oe:K},[O.closeButton,K]),uo=wt.useMemo(()=>O.duration||vt||xJ,[O.duration,vt]),Ri=wt.useRef(0),si=wt.useRef(0),Dr=wt.useRef(0),oi=wt.useRef(null),[Bn,_n]=Mt.split("-"),mr=wt.useMemo(()=>C.reduce((Oe,He,Xe)=>Xe>=Ki?Oe:Oe+He.height,0),[C,Ki]),Yr=hJ(),fs=O.invert||A,yr=$e==="loading";si.current=wt.useMemo(()=>Ki*Ct+mr,[Ki,mr]),wt.useEffect(()=>{ee(!0)},[]),wt.useLayoutEffect(()=>{if(!$t)return;let Oe=_e.current,He=Oe.style.height;Oe.style.height="auto";let Xe=Oe.getBoundingClientRect().height;Oe.style.height=He,ue(Xe),j(Oi=>Oi.find(yi=>yi.toastId===O.id)?Oi.map(yi=>yi.toastId===O.id?{...yi,height:Xe}:yi):[{toastId:O.id,height:Xe,position:O.position},...Oi])},[$t,O.title,O.description,j,O.id]);let xe=wt.useCallback(()=>{Ft(!0),_t(si.current),j(Oe=>Oe.filter(He=>He.toastId!==O.id)),setTimeout(()=>{U(O)},PJ)},[O,U,j,si]);wt.useEffect(()=>{if(O.promise&&$e==="loading"||O.duration===1/0||O.type==="loading")return;let Oe,He=uo;return Y||I||At&&Yr?(()=>{if(Dr.current<Ri.current){let Xe=new Date().getTime()-Ri.current;He=He-Xe}Dr.current=new Date().getTime()})():He!==1/0&&(Ri.current=new Date().getTime(),Oe=setTimeout(()=>{var Xe;(Xe=O.onAutoClose)==null||Xe.call(O,O),xe()},He)),()=>clearTimeout(Oe)},[Y,I,Rt,O,uo,xe,O.promise,$e,At,Yr]),wt.useEffect(()=>{let Oe=_e.current;if(Oe){let He=Oe.getBoundingClientRect().height;return ue(He),j(Xe=>[{toastId:O.id,height:He,position:O.position},...Xe]),()=>j(Xe=>Xe.filter(Oi=>Oi.toastId!==O.id))}},[j,O.id]),wt.useEffect(()=>{O.delete&&xe()},[xe,O.delete]);function Rr(){return Nt!=null&&Nt.loading?wt.createElement("div",{className:"sonner-loader","data-visible":$e==="loading"},Nt.loading):Ot?wt.createElement("div",{className:"sonner-loader","data-visible":$e==="loading"},Ot):wt.createElement(sJ,{visible:$e==="loading"})}return wt.createElement("li",{"aria-live":O.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:_e,className:It(dt,mi,yt==null?void 0:yt.toast,(n=O==null?void 0:O.classNames)==null?void 0:n.toast,yt==null?void 0:yt.default,yt==null?void 0:yt[$e],(s=O==null?void 0:O.classNames)==null?void 0:s[$e]),"data-sonner-toast":"","data-rich-colors":(a=O.richColors)!=null?a:J,"data-styled":!(O.jsx||O.unstyled||B),"data-mounted":$t,"data-promise":!!O.promise,"data-removed":ne,"data-visible":qe,"data-y-position":Bn,"data-x-position":_n,"data-index":z,"data-front":en,"data-swiping":he,"data-dismissible":yn,"data-type":$e,"data-invert":fs,"data-swipe-out":te,"data-expanded":!!(Y||Rt&&$t),style:{"--index":z,"--toasts-before":z,"--z-index":F.length-z,"--offset":`${ne?me:si.current}px`,"--initial-height":Rt?"auto":`${Yt}px`,...rt,...O.style},onPointerDown:Oe=>{yr||!yn||(Ae.current=new Date,_t(si.current),Oe.target.setPointerCapture(Oe.pointerId),Oe.target.tagName!=="BUTTON"&&(be(!0),oi.current={x:Oe.clientX,y:Oe.clientY}))},onPointerUp:()=>{var Oe,He,Xe,Oi;if(te||!yn)return;oi.current=null;let yi=Number(((Oe=_e.current)==null?void 0:Oe.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Ir=new Date().getTime()-((He=Ae.current)==null?void 0:He.getTime()),Hn=Math.abs(yi)/Ir;if(Math.abs(yi)>=SJ||Hn>.11){_t(si.current),(Xe=O.onDismiss)==null||Xe.call(O,O),xe(),le(!0);return}(Oi=_e.current)==null||Oi.style.setProperty("--swipe-amount","0px"),be(!1)},onPointerMove:Oe=>{var He;if(!oi.current||!yn)return;let Xe=Oe.clientY-oi.current.y,Oi=Oe.clientX-oi.current.x,yi=(Bn==="top"?Math.min:Math.max)(0,Xe),Ir=Oe.pointerType==="touch"?10:2;Math.abs(yi)>Ir?(He=_e.current)==null||He.style.setProperty("--swipe-amount",`${Xe}px`):Math.abs(Oi)>Ir&&(oi.current=null)}},gr&&!O.jsx?wt.createElement("button",{"aria-label":kt,"data-disabled":yr,"data-close-button":!0,onClick:yr||!yn?()=>{}:()=>{var Oe;xe(),(Oe=O.onDismiss)==null||Oe.call(O,O)},className:It(yt==null?void 0:yt.closeButton,(h=O==null?void 0:O.classNames)==null?void 0:h.closeButton)},wt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},wt.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),wt.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,O.jsx||wt.isValidElement(O.title)?O.jsx||O.title:wt.createElement(wt.Fragment,null,$e||O.icon||O.promise?wt.createElement("div",{"data-icon":"",className:It(yt==null?void 0:yt.icon,(d=O==null?void 0:O.classNames)==null?void 0:d.icon)},O.promise||O.type==="loading"&&!O.icon?O.icon||Rr():null,O.type!=="loading"?O.icon||(Nt==null?void 0:Nt[$e])||iJ($e):null):null,wt.createElement("div",{"data-content":"",className:It(yt==null?void 0:yt.content,(p=O==null?void 0:O.classNames)==null?void 0:p.content)},wt.createElement("div",{"data-title":"",className:It(yt==null?void 0:yt.title,(v=O==null?void 0:O.classNames)==null?void 0:v.title)},O.title),O.description?wt.createElement("div",{"data-description":"",className:It(mt,rr,yt==null?void 0:yt.description,(x=O==null?void 0:O.classNames)==null?void 0:x.description)},O.description):null),wt.isValidElement(O.cancel)?O.cancel:O.cancel&&wm(O.cancel)?wt.createElement("button",{"data-button":!0,"data-cancel":!0,style:O.cancelButtonStyle||gt,onClick:Oe=>{var He,Xe;wm(O.cancel)&&yn&&((Xe=(He=O.cancel).onClick)==null||Xe.call(He,Oe),xe())},className:It(yt==null?void 0:yt.cancelButton,(S=O==null?void 0:O.classNames)==null?void 0:S.cancelButton)},O.cancel.label):null,wt.isValidElement(O.action)?O.action:O.action&&wm(O.action)?wt.createElement("button",{"data-button":!0,"data-action":!0,style:O.actionButtonStyle||lt,onClick:Oe=>{var He,Xe;wm(O.action)&&(Oe.defaultPrevented||((Xe=(He=O.action).onClick)==null||Xe.call(He,Oe),xe()))},className:It(yt==null?void 0:yt.actionButton,(M=O==null?void 0:O.classNames)==null?void 0:M.actionButton)},O.action.label):null))};function QO(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var MJ=e=>{let{invert:n,position:s="bottom-right",hotkey:a=["altKey","KeyT"],expand:h,closeButton:d,className:p,offset:v,theme:x="light",richColors:S,duration:M,style:A,visibleToasts:O=yJ,toastOptions:B,dir:I=QO(),gap:j=wJ,loadingIcon:V,icons:C,containerAriaLabel:z="Notifications",pauseWhenPageIsHidden:F,cn:Y=kJ}=e,[U,J]=wt.useState([]),K=wt.useMemo(()=>Array.from(new Set([s].concat(U.filter(At=>At.position).map(At=>At.position)))),[U,s]),[rt,gt]=wt.useState([]),[lt,dt]=wt.useState(!1),[mt,vt]=wt.useState(!1),[Mt,Ct]=wt.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Ot=wt.useRef(null),Rt=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),yt=wt.useRef(null),Nt=wt.useRef(!1),kt=wt.useCallback(At=>{var It;(It=U.find($t=>$t.id===At.id))!=null&&It.delete||Ps.dismiss(At.id),J($t=>$t.filter(({id:ee})=>ee!==At.id))},[U]);return wt.useEffect(()=>Ps.subscribe(At=>{if(At.dismiss){J(It=>It.map($t=>$t.id===At.id?{...$t,delete:!0}:$t));return}setTimeout(()=>{_F.flushSync(()=>{J(It=>{let $t=It.findIndex(ee=>ee.id===At.id);return $t!==-1?[...It.slice(0,$t),{...It[$t],...At},...It.slice($t+1)]:[At,...It]})})})}),[]),wt.useEffect(()=>{if(x!=="system"){Ct(x);return}x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Ct("dark"):Ct("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:At})=>{Ct(At?"dark":"light")})},[x]),wt.useEffect(()=>{U.length<=1&&dt(!1)},[U]),wt.useEffect(()=>{let At=It=>{var $t,ee;a.every(ne=>It[ne]||It.code===ne)&&(dt(!0),($t=Ot.current)==null||$t.focus()),It.code==="Escape"&&(document.activeElement===Ot.current||(ee=Ot.current)!=null&&ee.contains(document.activeElement))&&dt(!1)};return document.addEventListener("keydown",At),()=>document.removeEventListener("keydown",At)},[a]),wt.useEffect(()=>{if(Ot.current)return()=>{yt.current&&(yt.current.focus({preventScroll:!0}),yt.current=null,Nt.current=!1)}},[Ot.current]),U.length?wt.createElement("section",{"aria-label":`${z} ${Rt}`,tabIndex:-1},K.map((At,It)=>{var $t;let[ee,ne]=At.split("-");return wt.createElement("ol",{key:At,dir:I==="auto"?QO():I,tabIndex:-1,ref:Ot,className:p,"data-sonner-toaster":!0,"data-theme":Mt,"data-y-position":ee,"data-x-position":ne,style:{"--front-toast-height":`${(($t=rt[0])==null?void 0:$t.height)||0}px`,"--offset":typeof v=="number"?`${v}px`:v||vJ,"--width":`${bJ}px`,"--gap":`${j}px`,...A},onBlur:Ft=>{Nt.current&&!Ft.currentTarget.contains(Ft.relatedTarget)&&(Nt.current=!1,yt.current&&(yt.current.focus({preventScroll:!0}),yt.current=null))},onFocus:Ft=>{Ft.target instanceof HTMLElement&&Ft.target.dataset.dismissible==="false"||Nt.current||(Nt.current=!0,yt.current=Ft.relatedTarget)},onMouseEnter:()=>dt(!0),onMouseMove:()=>dt(!0),onMouseLeave:()=>{mt||dt(!1)},onPointerDown:Ft=>{Ft.target instanceof HTMLElement&&Ft.target.dataset.dismissible==="false"||vt(!0)},onPointerUp:()=>vt(!1)},U.filter(Ft=>!Ft.position&&It===0||Ft.position===At).map((Ft,he)=>{var be,te;return wt.createElement(TJ,{key:Ft.id,icons:C,index:he,toast:Ft,defaultRichColors:S,duration:(be=B==null?void 0:B.duration)!=null?be:M,className:B==null?void 0:B.className,descriptionClassName:B==null?void 0:B.descriptionClassName,invert:n,visibleToasts:O,closeButton:(te=B==null?void 0:B.closeButton)!=null?te:d,interacting:mt,position:At,style:B==null?void 0:B.style,unstyled:B==null?void 0:B.unstyled,classNames:B==null?void 0:B.classNames,cancelButtonStyle:B==null?void 0:B.cancelButtonStyle,actionButtonStyle:B==null?void 0:B.actionButtonStyle,removeToast:kt,toasts:U.filter(le=>le.position==Ft.position),heights:rt.filter(le=>le.position==Ft.position),setHeights:gt,expandByDefault:h,gap:j,loadingIcon:V,expanded:lt,pauseWhenPageIsHidden:F,cn:Y})}))})):null};function al({children:e}){return ot.jsxs(ot.Fragment,{children:[ot.jsx(MJ,{}),ot.jsxs("section",{className:"flex min-h-screen flex-col",children:[ot.jsx("header",{className:"h-fit w-full sticky top-0 border-b bg-white/70 backdrop-blur-xl z-[999999]",children:ot.jsx(N9,{})}),ot.jsx("main",{className:"flex-1",children:ot.jsx(nJ,{mode:"wait",children:ot.jsx(ZZ.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.5},children:e})})}),ot.jsx("footer",{className:"h-fit border-t-[1px]",children:ot.jsx(F5,{})})]})]})}function AJ({activity:e}){return ot.jsx(al,{children:ot.jsx("div",{className:"w-full md:w-8/12 lg:w-1/2 mx-auto px-4 md:px-0",children:ot.jsx("div",{className:"my-8 columns-1 sm:columns-2 md:columns-3 lg:columns-4 gap-",children:e.map(n=>ot.jsx("div",{className:"mb-4",children:ot.jsx("img",{src:`/storage/${n.image}`,alt:n.title})},n.id))})})})}const CJ=Object.freeze(Object.defineProperty({__proto__:null,default:AJ},Symbol.toStringTag,{value:"Module"})),OJ=({item:e})=>(console.log(e),ot.jsxs("div",{className:"w-full h-full",children:[ot.jsx("h1",{className:"text-lg md:text-xl font-bold text-gray-700",children:e.name}),ot.jsx("ul",{className:"mt-2 list-outside list-decimal ml-4",children:e.terms.map(n=>ot.jsx("li",{className:"text-sm text-gray-600 capitalize",children:n.file},n.id))})]}));function NJ({data:e}){return ot.jsx(al,{children:ot.jsxs("section",{className:"w-full md:w-10/12 lg:w-8/12 mx-auto px-4 md:px-0",children:[ot.jsx("h1",{className:"mt-12 text-xl md:text-2xl font-bold uppercase",children:"Pelayanan Administrasi di Kelurahan Kowioha"}),ot.jsx("div",{className:"w-full h-full  min-h-[70vh] flex items-center",children:ot.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4",children:e.map(n=>ot.jsx(OJ,{item:n},n.id))})})]})})}const EJ=Object.freeze(Object.defineProperty({__proto__:null,default:NJ},Symbol.toStringTag,{value:"Module"}));var LJ=Array.isArray,ds=LJ,_J=typeof Zs=="object"&&Zs&&Zs.Object===Object&&Zs,QB=_J,DJ=QB,RJ=typeof self=="object"&&self&&self.Object===Object&&self,IJ=DJ||RJ||Function("return this")(),ca=IJ,FJ=ca,jJ=FJ.Symbol,Cg=jJ,tN=Cg,t$=Object.prototype,BJ=t$.hasOwnProperty,$J=t$.toString,uf=tN?tN.toStringTag:void 0;function zJ(e){var n=BJ.call(e,uf),s=e[uf];try{e[uf]=void 0;var a=!0}catch{}var h=$J.call(e);return a&&(n?e[uf]=s:delete e[uf]),h}var VJ=zJ,UJ=Object.prototype,KJ=UJ.toString;function GJ(e){return KJ.call(e)}var WJ=GJ,eN=Cg,HJ=VJ,XJ=WJ,YJ="[object Null]",qJ="[object Undefined]",nN=eN?eN.toStringTag:void 0;function ZJ(e){return e==null?e===void 0?qJ:YJ:nN&&nN in Object(e)?HJ(e):XJ(e)}var ll=ZJ;function JJ(e){return e!=null&&typeof e=="object"}var ul=JJ,QJ=ll,tQ=ul,eQ="[object Symbol]";function nQ(e){return typeof e=="symbol"||tQ(e)&&QJ(e)==eQ}var gd=nQ,iQ=ds,rQ=gd,sQ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,oQ=/^\w*$/;function aQ(e,n){if(iQ(e))return!1;var s=typeof e;return s=="number"||s=="symbol"||s=="boolean"||e==null||rQ(e)?!0:oQ.test(e)||!sQ.test(e)||n!=null&&e in Object(n)}var ET=aQ;function lQ(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}var lu=lQ;const md=wn(lu);var uQ=ll,hQ=lu,cQ="[object AsyncFunction]",dQ="[object Function]",fQ="[object GeneratorFunction]",pQ="[object Proxy]";function gQ(e){if(!hQ(e))return!1;var n=uQ(e);return n==dQ||n==fQ||n==cQ||n==pQ}var LT=gQ;const sn=wn(LT);var mQ=ca,yQ=mQ["__core-js_shared__"],vQ=yQ,qx=vQ,iN=function(){var e=/[^.]+$/.exec(qx&&qx.keys&&qx.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function xQ(e){return!!iN&&iN in e}var bQ=xQ,wQ=Function.prototype,SQ=wQ.toString;function PQ(e){if(e!=null){try{return SQ.call(e)}catch{}try{return e+""}catch{}}return""}var e$=PQ,kQ=LT,TQ=bQ,MQ=lu,AQ=e$,CQ=/[\\^$.*+?()[\]{}|]/g,OQ=/^\[object .+?Constructor\]$/,NQ=Function.prototype,EQ=Object.prototype,LQ=NQ.toString,_Q=EQ.hasOwnProperty,DQ=RegExp("^"+LQ.call(_Q).replace(CQ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function RQ(e){if(!MQ(e)||TQ(e))return!1;var n=kQ(e)?DQ:OQ;return n.test(AQ(e))}var IQ=RQ;function FQ(e,n){return e==null?void 0:e[n]}var jQ=FQ,BQ=IQ,$Q=jQ;function zQ(e,n){var s=$Q(e,n);return BQ(s)?s:void 0}var fh=zQ,VQ=fh,UQ=VQ(Object,"create"),Iv=UQ,rN=Iv;function KQ(){this.__data__=rN?rN(null):{},this.size=0}var GQ=KQ;function WQ(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}var HQ=WQ,XQ=Iv,YQ="__lodash_hash_undefined__",qQ=Object.prototype,ZQ=qQ.hasOwnProperty;function JQ(e){var n=this.__data__;if(XQ){var s=n[e];return s===YQ?void 0:s}return ZQ.call(n,e)?n[e]:void 0}var QQ=JQ,ttt=Iv,ett=Object.prototype,ntt=ett.hasOwnProperty;function itt(e){var n=this.__data__;return ttt?n[e]!==void 0:ntt.call(n,e)}var rtt=itt,stt=Iv,ott="__lodash_hash_undefined__";function att(e,n){var s=this.__data__;return this.size+=this.has(e)?0:1,s[e]=stt&&n===void 0?ott:n,this}var ltt=att,utt=GQ,htt=HQ,ctt=QQ,dtt=rtt,ftt=ltt;function yd(e){var n=-1,s=e==null?0:e.length;for(this.clear();++n<s;){var a=e[n];this.set(a[0],a[1])}}yd.prototype.clear=utt;yd.prototype.delete=htt;yd.prototype.get=ctt;yd.prototype.has=dtt;yd.prototype.set=ftt;var ptt=yd;function gtt(){this.__data__=[],this.size=0}var mtt=gtt;function ytt(e,n){return e===n||e!==e&&n!==n}var _T=ytt,vtt=_T;function xtt(e,n){for(var s=e.length;s--;)if(vtt(e[s][0],n))return s;return-1}var Fv=xtt,btt=Fv,wtt=Array.prototype,Stt=wtt.splice;function Ptt(e){var n=this.__data__,s=btt(n,e);if(s<0)return!1;var a=n.length-1;return s==a?n.pop():Stt.call(n,s,1),--this.size,!0}var ktt=Ptt,Ttt=Fv;function Mtt(e){var n=this.__data__,s=Ttt(n,e);return s<0?void 0:n[s][1]}var Att=Mtt,Ctt=Fv;function Ott(e){return Ctt(this.__data__,e)>-1}var Ntt=Ott,Ett=Fv;function Ltt(e,n){var s=this.__data__,a=Ett(s,e);return a<0?(++this.size,s.push([e,n])):s[a][1]=n,this}var _tt=Ltt,Dtt=mtt,Rtt=ktt,Itt=Att,Ftt=Ntt,jtt=_tt;function vd(e){var n=-1,s=e==null?0:e.length;for(this.clear();++n<s;){var a=e[n];this.set(a[0],a[1])}}vd.prototype.clear=Dtt;vd.prototype.delete=Rtt;vd.prototype.get=Itt;vd.prototype.has=Ftt;vd.prototype.set=jtt;var jv=vd,Btt=fh,$tt=ca,ztt=Btt($tt,"Map"),DT=ztt,sN=ptt,Vtt=jv,Utt=DT;function Ktt(){this.size=0,this.__data__={hash:new sN,map:new(Utt||Vtt),string:new sN}}var Gtt=Ktt;function Wtt(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}var Htt=Wtt,Xtt=Htt;function Ytt(e,n){var s=e.__data__;return Xtt(n)?s[typeof n=="string"?"string":"hash"]:s.map}var Bv=Ytt,qtt=Bv;function Ztt(e){var n=qtt(this,e).delete(e);return this.size-=n?1:0,n}var Jtt=Ztt,Qtt=Bv;function tet(e){return Qtt(this,e).get(e)}var eet=tet,net=Bv;function iet(e){return net(this,e).has(e)}var ret=iet,set=Bv;function oet(e,n){var s=set(this,e),a=s.size;return s.set(e,n),this.size+=s.size==a?0:1,this}var aet=oet,uet=Gtt,het=Jtt,cet=eet,det=ret,fet=aet;function xd(e){var n=-1,s=e==null?0:e.length;for(this.clear();++n<s;){var a=e[n];this.set(a[0],a[1])}}xd.prototype.clear=uet;xd.prototype.delete=het;xd.prototype.get=cet;xd.prototype.has=det;xd.prototype.set=fet;var RT=xd,n$=RT,pet="Expected a function";function IT(e,n){if(typeof e!="function"||n!=null&&typeof n!="function")throw new TypeError(pet);var s=function(){var a=arguments,h=n?n.apply(this,a):a[0],d=s.cache;if(d.has(h))return d.get(h);var p=e.apply(this,a);return s.cache=d.set(h,p)||d,p};return s.cache=new(IT.Cache||n$),s}IT.Cache=n$;var i$=IT;const get=wn(i$);var met=i$,yet=500;function vet(e){var n=met(e,function(a){return s.size===yet&&s.clear(),a}),s=n.cache;return n}var xet=vet,bet=xet,wet=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Pet=/\\(\\)?/g,ket=bet(function(e){var n=[];return e.charCodeAt(0)===46&&n.push(""),e.replace(wet,function(s,a,h,d){n.push(h?d.replace(Pet,"$1"):a||s)}),n}),Tet=ket;function Met(e,n){for(var s=-1,a=e==null?0:e.length,h=Array(a);++s<a;)h[s]=n(e[s],s,e);return h}var FT=Met,oN=Cg,Aet=FT,Cet=ds,Oet=gd,Net=1/0,aN=oN?oN.prototype:void 0,lN=aN?aN.toString:void 0;function r$(e){if(typeof e=="string")return e;if(Cet(e))return Aet(e,r$)+"";if(Oet(e))return lN?lN.call(e):"";var n=e+"";return n=="0"&&1/e==-Net?"-0":n}var Eet=r$,Let=Eet;function _et(e){return e==null?"":Let(e)}var s$=_et,Det=ds,Ret=ET,Iet=Tet,Fet=s$;function jet(e,n){return Det(e)?e:Ret(e,n)?[e]:Iet(Fet(e))}var o$=jet,Bet=gd,$et=1/0;function zet(e){if(typeof e=="string"||Bet(e))return e;var n=e+"";return n=="0"&&1/e==-$et?"-0":n}var $v=zet,Vet=o$,Uet=$v;function Ket(e,n){n=Vet(n,e);for(var s=0,a=n.length;e!=null&&s<a;)e=e[Uet(n[s++])];return s&&s==a?e:void 0}var jT=Ket,Get=jT;function Wet(e,n,s){var a=e==null?void 0:Get(e,n);return a===void 0?s:a}var a$=Wet;const no=wn(a$);function Het(e){return e==null}var Xet=Het;const bn=wn(Xet);var Yet=ll,qet=ds,Zet=ul,Jet="[object String]";function Qet(e){return typeof e=="string"||!qet(e)&&Zet(e)&&Yet(e)==Jet}var tnt=Qet;const Og=wn(tnt);var l$={exports:{}},An={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BT=Symbol.for("react.element"),$T=Symbol.for("react.portal"),zv=Symbol.for("react.fragment"),Vv=Symbol.for("react.strict_mode"),Uv=Symbol.for("react.profiler"),Kv=Symbol.for("react.provider"),Gv=Symbol.for("react.context"),ent=Symbol.for("react.server_context"),Wv=Symbol.for("react.forward_ref"),Hv=Symbol.for("react.suspense"),Xv=Symbol.for("react.suspense_list"),Yv=Symbol.for("react.memo"),qv=Symbol.for("react.lazy"),nnt=Symbol.for("react.offscreen"),u$;u$=Symbol.for("react.module.reference");function ao(e){if(typeof e=="object"&&e!==null){var n=e.$$typeof;switch(n){case BT:switch(e=e.type,e){case zv:case Uv:case Vv:case Hv:case Xv:return e;default:switch(e=e&&e.$$typeof,e){case ent:case Gv:case Wv:case qv:case Yv:case Kv:return e;default:return n}}case $T:return n}}}An.ContextConsumer=Gv;An.ContextProvider=Kv;An.Element=BT;An.ForwardRef=Wv;An.Fragment=zv;An.Lazy=qv;An.Memo=Yv;An.Portal=$T;An.Profiler=Uv;An.StrictMode=Vv;An.Suspense=Hv;An.SuspenseList=Xv;An.isAsyncMode=function(){return!1};An.isConcurrentMode=function(){return!1};An.isContextConsumer=function(e){return ao(e)===Gv};An.isContextProvider=function(e){return ao(e)===Kv};An.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===BT};An.isForwardRef=function(e){return ao(e)===Wv};An.isFragment=function(e){return ao(e)===zv};An.isLazy=function(e){return ao(e)===qv};An.isMemo=function(e){return ao(e)===Yv};An.isPortal=function(e){return ao(e)===$T};An.isProfiler=function(e){return ao(e)===Uv};An.isStrictMode=function(e){return ao(e)===Vv};An.isSuspense=function(e){return ao(e)===Hv};An.isSuspenseList=function(e){return ao(e)===Xv};An.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===zv||e===Uv||e===Vv||e===Hv||e===Xv||e===nnt||typeof e=="object"&&e!==null&&(e.$$typeof===qv||e.$$typeof===Yv||e.$$typeof===Kv||e.$$typeof===Gv||e.$$typeof===Wv||e.$$typeof===u$||e.getModuleId!==void 0)};An.typeOf=ao;l$.exports=An;var h$=l$.exports,int=ll,rnt=ul,snt="[object Number]";function ont(e){return typeof e=="number"||rnt(e)&&int(e)==snt}var c$=ont;const ant=wn(c$);var lnt=c$;function unt(e){return lnt(e)&&e!=+e}var hnt=unt;const Ng=wn(hnt);var Mo=function(n){return n===0?0:n>0?1:-1},Iu=function(n){return Og(n)&&n.indexOf("%")===n.length-1},pe=function(n){return ant(n)&&!Ng(n)},Vi=function(n){return pe(n)||Og(n)},cnt=0,Zv=function(n){var s=++cnt;return"".concat(n||"").concat(s)},rh=function(n,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!pe(n)&&!Og(n))return a;var d;if(Iu(n)){var p=n.indexOf("%");d=s*parseFloat(n.slice(0,p))/100}else d=+n;return Ng(d)&&(d=a),h&&d>s&&(d=s),d},El=function(n){if(!n)return null;var s=Object.keys(n);return s&&s.length?n[s[0]]:null},dnt=function(n){if(!Array.isArray(n))return!1;for(var s=n.length,a={},h=0;h<s;h++)if(!a[n[h]])a[n[h]]=!0;else return!0;return!1},Rh=function(n,s){return pe(n)&&pe(s)?function(a){return n+a*(s-n)}:function(){return s}};function sS(e,n,s){return!e||!e.length?null:e.find(function(a){return a&&(typeof n=="function"?n(a):no(a,n))===s})}function yc(e,n){for(var s in e)if({}.hasOwnProperty.call(e,s)&&(!{}.hasOwnProperty.call(n,s)||e[s]!==n[s]))return!1;for(var a in n)if({}.hasOwnProperty.call(n,a)&&!{}.hasOwnProperty.call(e,a))return!1;return!0}function oS(e){"@babel/helpers - typeof";return oS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},oS(e)}var fnt=["viewBox","children"],pnt=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],uN=["points","pathLength"],Zx={svg:fnt,polygon:uN,polyline:uN},zT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Yy=function(n,s){if(!n||typeof n=="function"||typeof n=="boolean")return null;var a=n;if(at.isValidElement(n)&&(a=n.props),!md(a))return null;var h={};return Object.keys(a).forEach(function(d){zT.includes(d)&&(h[d]=s||function(p){return a[d](a,p)})}),h},gnt=function(n,s,a){return function(h){return n(s,a,h),null}},qy=function(n,s,a){if(!md(n)||oS(n)!=="object")return null;var h=null;return Object.keys(n).forEach(function(d){var p=n[d];zT.includes(d)&&typeof p=="function"&&(h||(h={}),h[d]=gnt(p,s,a))}),h},mnt=["children"],ynt=["children"];function hN(e,n){if(e==null)return{};var s=vnt(e,n),a,h;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(h=0;h<d.length;h++)a=d[h],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function vnt(e,n){if(e==null)return{};var s={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(n.indexOf(a)>=0)continue;s[a]=e[a]}return s}var cN={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Ga=function(n){return typeof n=="string"?n:n?n.displayName||n.name||"Component":""},dN=null,Jx=null,VT=function e(n){if(n===dN&&Array.isArray(Jx))return Jx;var s=[];return at.Children.forEach(n,function(a){bn(a)||(h$.isFragment(a)?s=s.concat(e(a.props.children)):s.push(a))}),Jx=s,dN=n,s};function Eo(e,n){var s=[],a=[];return Array.isArray(n)?a=n.map(function(h){return Ga(h)}):a=[Ga(n)],VT(e).forEach(function(h){var d=no(h,"type.displayName")||no(h,"type.name");a.indexOf(d)!==-1&&s.push(h)}),s}function Ts(e,n){var s=Eo(e,n);return s&&s[0]}var fN=function(n){if(!n||!n.props)return!1;var s=n.props,a=s.width,h=s.height;return!(!pe(a)||a<=0||!pe(h)||h<=0)},xnt=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],bnt=function(n){return n&&n.type&&Og(n.type)&&xnt.indexOf(n.type)>=0},wnt=function(n,s,a,h){var d,p=(d=Zx==null?void 0:Zx[h])!==null&&d!==void 0?d:[];return!sn(n)&&(h&&p.includes(s)||pnt.includes(s))||a&&zT.includes(s)},gn=function(n,s,a){if(!n||typeof n=="function"||typeof n=="boolean")return null;var h=n;if(at.isValidElement(n)&&(h=n.props),!md(h))return null;var d={};return Object.keys(h).forEach(function(p){var v;wnt((v=h)===null||v===void 0?void 0:v[p],p,s,a)&&(d[p]=h[p])}),d},aS=function e(n,s){if(n===s)return!0;var a=at.Children.count(n);if(a!==at.Children.count(s))return!1;if(a===0)return!0;if(a===1)return pN(Array.isArray(n)?n[0]:n,Array.isArray(s)?s[0]:s);for(var h=0;h<a;h++){var d=n[h],p=s[h];if(Array.isArray(d)||Array.isArray(p)){if(!e(d,p))return!1}else if(!pN(d,p))return!1}return!0},pN=function(n,s){if(bn(n)&&bn(s))return!0;if(!bn(n)&&!bn(s)){var a=n.props||{},h=a.children,d=hN(a,mnt),p=s.props||{},v=p.children,x=hN(p,ynt);return h&&v?yc(d,x)&&aS(h,v):!h&&!v?yc(d,x):!1}return!1},gN=function(n,s){var a=[],h={};return VT(n).forEach(function(d,p){if(bnt(d))a.push(d);else if(d){var v=Ga(d.type),x=s[v]||{},S=x.handler,M=x.once;if(S&&(!M||!h[v])){var A=S(d,v,p);a.push(A),h[v]=!0}}}),a},Snt=function(n){var s=n&&n.type;return s&&cN[s]?cN[s]:null},Pnt=function(n,s){return VT(s).indexOf(n)},knt=["children","width","height","viewBox","className","style","title","desc"];function lS(){return lS=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},lS.apply(this,arguments)}function Tnt(e,n){if(e==null)return{};var s=Mnt(e,n),a,h;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(h=0;h<d.length;h++)a=d[h],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Mnt(e,n){if(e==null)return{};var s={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(n.indexOf(a)>=0)continue;s[a]=e[a]}return s}function uS(e){var n=e.children,s=e.width,a=e.height,h=e.viewBox,d=e.className,p=e.style,v=e.title,x=e.desc,S=Tnt(e,knt),M=h||{width:s,height:a,x:0,y:0},A=mn("recharts-surface",d);return wt.createElement("svg",lS({},gn(S,!0,"svg"),{className:A,width:s,height:a,style:p,viewBox:"".concat(M.x," ").concat(M.y," ").concat(M.width," ").concat(M.height)}),wt.createElement("title",null,v),wt.createElement("desc",null,x),n)}var Ant=["children","className"];function hS(){return hS=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},hS.apply(this,arguments)}function Cnt(e,n){if(e==null)return{};var s=Ont(e,n),a,h;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(h=0;h<d.length;h++)a=d[h],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Ont(e,n){if(e==null)return{};var s={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(n.indexOf(a)>=0)continue;s[a]=e[a]}return s}var er=wt.forwardRef(function(e,n){var s=e.children,a=e.className,h=Cnt(e,Ant),d=mn("recharts-layer",a);return wt.createElement("g",hS({className:d},gn(h,!0),{ref:n}),s)}),Wa=function(n,s){for(var a=arguments.length,h=new Array(a>2?a-2:0),d=2;d<a;d++)h[d-2]=arguments[d]};function Nnt(e,n,s){var a=-1,h=e.length;n<0&&(n=-n>h?0:h+n),s=s>h?h:s,s<0&&(s+=h),h=n>s?0:s-n>>>0,n>>>=0;for(var d=Array(h);++a<h;)d[a]=e[a+n];return d}var Ent=Nnt,Lnt=Ent;function _nt(e,n,s){var a=e.length;return s=s===void 0?a:s,!n&&s>=a?e:Lnt(e,n,s)}var Dnt=_nt,Rnt="\\ud800-\\udfff",Int="\\u0300-\\u036f",Fnt="\\ufe20-\\ufe2f",jnt="\\u20d0-\\u20ff",Bnt=Int+Fnt+jnt,$nt="\\ufe0e\\ufe0f",znt="\\u200d",Vnt=RegExp("["+znt+Rnt+Bnt+$nt+"]");function Unt(e){return Vnt.test(e)}var d$=Unt;function Knt(e){return e.split("")}var Gnt=Knt,f$="\\ud800-\\udfff",Wnt="\\u0300-\\u036f",Hnt="\\ufe20-\\ufe2f",Xnt="\\u20d0-\\u20ff",Ynt=Wnt+Hnt+Xnt,qnt="\\ufe0e\\ufe0f",Znt="["+f$+"]",cS="["+Ynt+"]",dS="\\ud83c[\\udffb-\\udfff]",Jnt="(?:"+cS+"|"+dS+")",p$="[^"+f$+"]",g$="(?:\\ud83c[\\udde6-\\uddff]){2}",m$="[\\ud800-\\udbff][\\udc00-\\udfff]",Qnt="\\u200d",y$=Jnt+"?",v$="["+qnt+"]?",tit="(?:"+Qnt+"(?:"+[p$,g$,m$].join("|")+")"+v$+y$+")*",eit=v$+y$+tit,nit="(?:"+[p$+cS+"?",cS,g$,m$,Znt].join("|")+")",iit=RegExp(dS+"(?="+dS+")|"+nit+eit,"g");function rit(e){return e.match(iit)||[]}var sit=rit,oit=Gnt,ait=d$,lit=sit;function uit(e){return ait(e)?lit(e):oit(e)}var hit=uit,cit=Dnt,dit=d$,fit=hit,pit=s$;function git(e){return function(n){n=pit(n);var s=dit(n)?fit(n):void 0,a=s?s[0]:n.charAt(0),h=s?cit(s,1).join(""):n.slice(1);return a[e]()+h}}var mit=git,yit=mit,vit=yit("toUpperCase"),xit=vit;const Jv=wn(xit);function Kn(e){return function(){return e}}const x$=Math.cos,Zy=Math.sin,Io=Math.sqrt,Jy=Math.PI,Qv=2*Jy,fS=Math.PI,pS=2*fS,Au=1e-6,bit=pS-Au;function b$(e){this._+=e[0];for(let n=1,s=e.length;n<s;++n)this._+=arguments[n]+e[n]}function wit(e){let n=Math.floor(e);if(!(n>=0))throw new Error(`invalid digits: ${e}`);if(n>15)return b$;const s=10**n;return function(a){this._+=a[0];for(let h=1,d=a.length;h<d;++h)this._+=Math.round(arguments[h]*s)/s+a[h]}}class Sit{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=n==null?b$:wit(n)}moveTo(n,s){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+s}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,s){this._append`L${this._x1=+n},${this._y1=+s}`}quadraticCurveTo(n,s,a,h){this._append`Q${+n},${+s},${this._x1=+a},${this._y1=+h}`}bezierCurveTo(n,s,a,h,d,p){this._append`C${+n},${+s},${+a},${+h},${this._x1=+d},${this._y1=+p}`}arcTo(n,s,a,h,d){if(n=+n,s=+s,a=+a,h=+h,d=+d,d<0)throw new Error(`negative radius: ${d}`);let p=this._x1,v=this._y1,x=a-n,S=h-s,M=p-n,A=v-s,O=M*M+A*A;if(this._x1===null)this._append`M${this._x1=n},${this._y1=s}`;else if(O>Au)if(!(Math.abs(A*x-S*M)>Au)||!d)this._append`L${this._x1=n},${this._y1=s}`;else{let B=a-p,I=h-v,j=x*x+S*S,V=B*B+I*I,C=Math.sqrt(j),z=Math.sqrt(O),F=d*Math.tan((fS-Math.acos((j+O-V)/(2*C*z)))/2),Y=F/z,U=F/C;Math.abs(Y-1)>Au&&this._append`L${n+Y*M},${s+Y*A}`,this._append`A${d},${d},0,0,${+(A*B>M*I)},${this._x1=n+U*x},${this._y1=s+U*S}`}}arc(n,s,a,h,d,p){if(n=+n,s=+s,a=+a,p=!!p,a<0)throw new Error(`negative radius: ${a}`);let v=a*Math.cos(h),x=a*Math.sin(h),S=n+v,M=s+x,A=1^p,O=p?h-d:d-h;this._x1===null?this._append`M${S},${M}`:(Math.abs(this._x1-S)>Au||Math.abs(this._y1-M)>Au)&&this._append`L${S},${M}`,a&&(O<0&&(O=O%pS+pS),O>bit?this._append`A${a},${a},0,1,${A},${n-v},${s-x}A${a},${a},0,1,${A},${this._x1=S},${this._y1=M}`:O>Au&&this._append`A${a},${a},0,${+(O>=fS)},${A},${this._x1=n+a*Math.cos(d)},${this._y1=s+a*Math.sin(d)}`)}rect(n,s,a,h){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+s}h${a=+a}v${+h}h${-a}Z`}toString(){return this._}}function UT(e){let n=3;return e.digits=function(s){if(!arguments.length)return n;if(s==null)n=null;else{const a=Math.floor(s);if(!(a>=0))throw new RangeError(`invalid digits: ${s}`);n=a}return e},()=>new Sit(n)}function KT(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function w$(e){this._context=e}w$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,n){switch(e=+e,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break;case 1:this._point=2;default:this._context.lineTo(e,n);break}}};function t1(e){return new w$(e)}function S$(e){return e[0]}function P$(e){return e[1]}function k$(e,n){var s=Kn(!0),a=null,h=t1,d=null,p=UT(v);e=typeof e=="function"?e:e===void 0?S$:Kn(e),n=typeof n=="function"?n:n===void 0?P$:Kn(n);function v(x){var S,M=(x=KT(x)).length,A,O=!1,B;for(a==null&&(d=h(B=p())),S=0;S<=M;++S)!(S<M&&s(A=x[S],S,x))===O&&((O=!O)?d.lineStart():d.lineEnd()),O&&d.point(+e(A,S,x),+n(A,S,x));if(B)return d=null,B+""||null}return v.x=function(x){return arguments.length?(e=typeof x=="function"?x:Kn(+x),v):e},v.y=function(x){return arguments.length?(n=typeof x=="function"?x:Kn(+x),v):n},v.defined=function(x){return arguments.length?(s=typeof x=="function"?x:Kn(!!x),v):s},v.curve=function(x){return arguments.length?(h=x,a!=null&&(d=h(a)),v):h},v.context=function(x){return arguments.length?(x==null?a=d=null:d=h(a=x),v):a},v}function Sm(e,n,s){var a=null,h=Kn(!0),d=null,p=t1,v=null,x=UT(S);e=typeof e=="function"?e:e===void 0?S$:Kn(+e),n=typeof n=="function"?n:Kn(n===void 0?0:+n),s=typeof s=="function"?s:s===void 0?P$:Kn(+s);function S(A){var O,B,I,j=(A=KT(A)).length,V,C=!1,z,F=new Array(j),Y=new Array(j);for(d==null&&(v=p(z=x())),O=0;O<=j;++O){if(!(O<j&&h(V=A[O],O,A))===C)if(C=!C)B=O,v.areaStart(),v.lineStart();else{for(v.lineEnd(),v.lineStart(),I=O-1;I>=B;--I)v.point(F[I],Y[I]);v.lineEnd(),v.areaEnd()}C&&(F[O]=+e(V,O,A),Y[O]=+n(V,O,A),v.point(a?+a(V,O,A):F[O],s?+s(V,O,A):Y[O]))}if(z)return v=null,z+""||null}function M(){return k$().defined(h).curve(p).context(d)}return S.x=function(A){return arguments.length?(e=typeof A=="function"?A:Kn(+A),a=null,S):e},S.x0=function(A){return arguments.length?(e=typeof A=="function"?A:Kn(+A),S):e},S.x1=function(A){return arguments.length?(a=A==null?null:typeof A=="function"?A:Kn(+A),S):a},S.y=function(A){return arguments.length?(n=typeof A=="function"?A:Kn(+A),s=null,S):n},S.y0=function(A){return arguments.length?(n=typeof A=="function"?A:Kn(+A),S):n},S.y1=function(A){return arguments.length?(s=A==null?null:typeof A=="function"?A:Kn(+A),S):s},S.lineX0=S.lineY0=function(){return M().x(e).y(n)},S.lineY1=function(){return M().x(e).y(s)},S.lineX1=function(){return M().x(a).y(n)},S.defined=function(A){return arguments.length?(h=typeof A=="function"?A:Kn(!!A),S):h},S.curve=function(A){return arguments.length?(p=A,d!=null&&(v=p(d)),S):p},S.context=function(A){return arguments.length?(A==null?d=v=null:v=p(d=A),S):d},S}class T${constructor(n,s){this._context=n,this._x=s}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(n,s){switch(n=+n,s=+s,this._point){case 0:{this._point=1,this._line?this._context.lineTo(n,s):this._context.moveTo(n,s);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+n)/2,this._y0,this._x0,s,n,s):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+s)/2,n,this._y0,n,s);break}}this._x0=n,this._y0=s}}function Pit(e){return new T$(e,!0)}function kit(e){return new T$(e,!1)}const GT={draw(e,n){const s=Io(n/Jy);e.moveTo(s,0),e.arc(0,0,s,0,Qv)}},Tit={draw(e,n){const s=Io(n/5)/2;e.moveTo(-3*s,-s),e.lineTo(-s,-s),e.lineTo(-s,-3*s),e.lineTo(s,-3*s),e.lineTo(s,-s),e.lineTo(3*s,-s),e.lineTo(3*s,s),e.lineTo(s,s),e.lineTo(s,3*s),e.lineTo(-s,3*s),e.lineTo(-s,s),e.lineTo(-3*s,s),e.closePath()}},M$=Io(1/3),Mit=M$*2,Ait={draw(e,n){const s=Io(n/Mit),a=s*M$;e.moveTo(0,-s),e.lineTo(a,0),e.lineTo(0,s),e.lineTo(-a,0),e.closePath()}},Cit={draw(e,n){const s=Io(n),a=-s/2;e.rect(a,a,s,s)}},Oit=.8908130915292852,A$=Zy(Jy/10)/Zy(7*Jy/10),Nit=Zy(Qv/10)*A$,Eit=-x$(Qv/10)*A$,Lit={draw(e,n){const s=Io(n*Oit),a=Nit*s,h=Eit*s;e.moveTo(0,-s),e.lineTo(a,h);for(let d=1;d<5;++d){const p=Qv*d/5,v=x$(p),x=Zy(p);e.lineTo(x*s,-v*s),e.lineTo(v*a-x*h,x*a+v*h)}e.closePath()}},Qx=Io(3),_it={draw(e,n){const s=-Io(n/(Qx*3));e.moveTo(0,s*2),e.lineTo(-Qx*s,-s),e.lineTo(Qx*s,-s),e.closePath()}},Ks=-.5,Gs=Io(3)/2,gS=1/Io(12),Dit=(gS/2+1)*3,Rit={draw(e,n){const s=Io(n/Dit),a=s/2,h=s*gS,d=a,p=s*gS+s,v=-d,x=p;e.moveTo(a,h),e.lineTo(d,p),e.lineTo(v,x),e.lineTo(Ks*a-Gs*h,Gs*a+Ks*h),e.lineTo(Ks*d-Gs*p,Gs*d+Ks*p),e.lineTo(Ks*v-Gs*x,Gs*v+Ks*x),e.lineTo(Ks*a+Gs*h,Ks*h-Gs*a),e.lineTo(Ks*d+Gs*p,Ks*p-Gs*d),e.lineTo(Ks*v+Gs*x,Ks*x-Gs*v),e.closePath()}};function Iit(e,n){let s=null,a=UT(h);e=typeof e=="function"?e:Kn(e||GT),n=typeof n=="function"?n:Kn(n===void 0?64:+n);function h(){let d;if(s||(s=d=a()),e.apply(this,arguments).draw(s,+n.apply(this,arguments)),d)return s=null,d+""||null}return h.type=function(d){return arguments.length?(e=typeof d=="function"?d:Kn(d),h):e},h.size=function(d){return arguments.length?(n=typeof d=="function"?d:Kn(+d),h):n},h.context=function(d){return arguments.length?(s=d??null,h):s},h}function Qy(){}function t0(e,n,s){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+n)/6,(e._y0+4*e._y1+s)/6)}function C$(e){this._context=e}C$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:t0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,n){switch(e=+e,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:t0(this,e,n);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=n}};function Fit(e){return new C$(e)}function O$(e){this._context=e}O$.prototype={areaStart:Qy,areaEnd:Qy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,n){switch(e=+e,n=+n,this._point){case 0:this._point=1,this._x2=e,this._y2=n;break;case 1:this._point=2,this._x3=e,this._y3=n;break;case 2:this._point=3,this._x4=e,this._y4=n,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+n)/6);break;default:t0(this,e,n);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=n}};function jit(e){return new O$(e)}function N$(e){this._context=e}N$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,n){switch(e=+e,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var s=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(s,a):this._context.moveTo(s,a);break;case 3:this._point=4;default:t0(this,e,n);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=n}};function Bit(e){return new N$(e)}function E$(e){this._context=e}E$.prototype={areaStart:Qy,areaEnd:Qy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,n){e=+e,n=+n,this._point?this._context.lineTo(e,n):(this._point=1,this._context.moveTo(e,n))}};function $it(e){return new E$(e)}function mN(e){return e<0?-1:1}function yN(e,n,s){var a=e._x1-e._x0,h=n-e._x1,d=(e._y1-e._y0)/(a||h<0&&-0),p=(s-e._y1)/(h||a<0&&-0),v=(d*h+p*a)/(a+h);return(mN(d)+mN(p))*Math.min(Math.abs(d),Math.abs(p),.5*Math.abs(v))||0}function vN(e,n){var s=e._x1-e._x0;return s?(3*(e._y1-e._y0)/s-n)/2:n}function tb(e,n,s){var a=e._x0,h=e._y0,d=e._x1,p=e._y1,v=(d-a)/3;e._context.bezierCurveTo(a+v,h+v*n,d-v,p-v*s,d,p)}function e0(e){this._context=e}e0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:tb(this,this._t0,vN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,n){var s=NaN;if(e=+e,n=+n,!(e===this._x1&&n===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break;case 1:this._point=2;break;case 2:this._point=3,tb(this,vN(this,s=yN(this,e,n)),s);break;default:tb(this,this._t0,s=yN(this,e,n));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=n,this._t0=s}}};function L$(e){this._context=new _$(e)}(L$.prototype=Object.create(e0.prototype)).point=function(e,n){e0.prototype.point.call(this,n,e)};function _$(e){this._context=e}_$.prototype={moveTo:function(e,n){this._context.moveTo(n,e)},closePath:function(){this._context.closePath()},lineTo:function(e,n){this._context.lineTo(n,e)},bezierCurveTo:function(e,n,s,a,h,d){this._context.bezierCurveTo(n,e,a,s,d,h)}};function zit(e){return new e0(e)}function Vit(e){return new L$(e)}function D$(e){this._context=e}D$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,n=this._y,s=e.length;if(s)if(this._line?this._context.lineTo(e[0],n[0]):this._context.moveTo(e[0],n[0]),s===2)this._context.lineTo(e[1],n[1]);else for(var a=xN(e),h=xN(n),d=0,p=1;p<s;++d,++p)this._context.bezierCurveTo(a[0][d],h[0][d],a[1][d],h[1][d],e[p],n[p]);(this._line||this._line!==0&&s===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,n){this._x.push(+e),this._y.push(+n)}};function xN(e){var n,s=e.length-1,a,h=new Array(s),d=new Array(s),p=new Array(s);for(h[0]=0,d[0]=2,p[0]=e[0]+2*e[1],n=1;n<s-1;++n)h[n]=1,d[n]=4,p[n]=4*e[n]+2*e[n+1];for(h[s-1]=2,d[s-1]=7,p[s-1]=8*e[s-1]+e[s],n=1;n<s;++n)a=h[n]/d[n-1],d[n]-=a,p[n]-=a*p[n-1];for(h[s-1]=p[s-1]/d[s-1],n=s-2;n>=0;--n)h[n]=(p[n]-h[n+1])/d[n];for(d[s-1]=(e[s]+h[s-1])/2,n=0;n<s-1;++n)d[n]=2*e[n+1]-h[n+1];return[h,d]}function Uit(e){return new D$(e)}function e1(e,n){this._context=e,this._t=n}e1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,n){switch(e=+e,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(e,n);else{var s=this._x*(1-this._t)+e*this._t;this._context.lineTo(s,this._y),this._context.lineTo(s,n)}break}}this._x=e,this._y=n}};function Kit(e){return new e1(e,.5)}function Git(e){return new e1(e,0)}function Wit(e){return new e1(e,1)}function Ic(e,n){if((p=e.length)>1)for(var s=1,a,h,d=e[n[0]],p,v=d.length;s<p;++s)for(h=d,d=e[n[s]],a=0;a<v;++a)d[a][1]+=d[a][0]=isNaN(h[a][1])?h[a][0]:h[a][1]}function mS(e){for(var n=e.length,s=new Array(n);--n>=0;)s[n]=n;return s}function Hit(e,n){return e[n]}function Xit(e){const n=[];return n.key=e,n}function Yit(){var e=Kn([]),n=mS,s=Ic,a=Hit;function h(d){var p=Array.from(e.apply(this,arguments),Xit),v,x=p.length,S=-1,M;for(const A of d)for(v=0,++S;v<x;++v)(p[v][S]=[0,+a(A,p[v].key,S,d)]).data=A;for(v=0,M=KT(n(p));v<x;++v)p[M[v]].index=v;return s(p,M),p}return h.keys=function(d){return arguments.length?(e=typeof d=="function"?d:Kn(Array.from(d)),h):e},h.value=function(d){return arguments.length?(a=typeof d=="function"?d:Kn(+d),h):a},h.order=function(d){return arguments.length?(n=d==null?mS:typeof d=="function"?d:Kn(Array.from(d)),h):n},h.offset=function(d){return arguments.length?(s=d??Ic,h):s},h}function qit(e,n){if((a=e.length)>0){for(var s,a,h=0,d=e[0].length,p;h<d;++h){for(p=s=0;s<a;++s)p+=e[s][h][1]||0;if(p)for(s=0;s<a;++s)e[s][h][1]/=p}Ic(e,n)}}function Zit(e,n){if((h=e.length)>0){for(var s=0,a=e[n[0]],h,d=a.length;s<d;++s){for(var p=0,v=0;p<h;++p)v+=e[p][s][1]||0;a[s][1]+=a[s][0]=-v/2}Ic(e,n)}}function Jit(e,n){if(!(!((p=e.length)>0)||!((d=(h=e[n[0]]).length)>0))){for(var s=0,a=1,h,d,p;a<d;++a){for(var v=0,x=0,S=0;v<p;++v){for(var M=e[n[v]],A=M[a][1]||0,O=M[a-1][1]||0,B=(A-O)/2,I=0;I<v;++I){var j=e[n[I]],V=j[a][1]||0,C=j[a-1][1]||0;B+=V-C}x+=A,S+=B*A}h[a-1][1]+=h[a-1][0]=s,x&&(s-=S/x)}h[a-1][1]+=h[a-1][0]=s,Ic(e,n)}}function Sp(e){"@babel/helpers - typeof";return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Sp(e)}var Qit=["type","size","sizeType"];function yS(){return yS=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},yS.apply(this,arguments)}function bN(e,n){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(h){return Object.getOwnPropertyDescriptor(e,h).enumerable})),s.push.apply(s,a)}return s}function wN(e){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?bN(Object(s),!0).forEach(function(a){trt(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):bN(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function trt(e,n,s){return n=ert(n),n in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}function ert(e){var n=nrt(e,"string");return Sp(n)=="symbol"?n:n+""}function nrt(e,n){if(Sp(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,n||"default");if(Sp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function irt(e,n){if(e==null)return{};var s=rrt(e,n),a,h;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(h=0;h<d.length;h++)a=d[h],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function rrt(e,n){if(e==null)return{};var s={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(n.indexOf(a)>=0)continue;s[a]=e[a]}return s}var R$={symbolCircle:GT,symbolCross:Tit,symbolDiamond:Ait,symbolSquare:Cit,symbolStar:Lit,symbolTriangle:_it,symbolWye:Rit},srt=Math.PI/180,ort=function(n){var s="symbol".concat(Jv(n));return R$[s]||GT},art=function(n,s,a){if(s==="area")return n;switch(a){case"cross":return 5*n*n/9;case"diamond":return .5*n*n/Math.sqrt(3);case"square":return n*n;case"star":{var h=18*srt;return 1.25*n*n*(Math.tan(h)-Math.tan(h*2)*Math.pow(Math.tan(h),2))}case"triangle":return Math.sqrt(3)*n*n/4;case"wye":return(21-10*Math.sqrt(3))*n*n/8;default:return Math.PI*n*n/4}},lrt=function(n,s){R$["symbol".concat(Jv(n))]=s},WT=function(n){var s=n.type,a=s===void 0?"circle":s,h=n.size,d=h===void 0?64:h,p=n.sizeType,v=p===void 0?"area":p,x=irt(n,Qit),S=wN(wN({},x),{},{type:a,size:d,sizeType:v}),M=function(){var V=ort(a),C=Iit().type(V).size(art(d,v,a));return C()},A=S.className,O=S.cx,B=S.cy,I=gn(S,!0);return O===+O&&B===+B&&d===+d?wt.createElement("path",yS({},I,{className:mn("recharts-symbols",A),transform:"translate(".concat(O,", ").concat(B,")"),d:M()})):null};WT.registerSymbol=lrt;function Fc(e){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Fc(e)}function vS(){return vS=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},vS.apply(this,arguments)}function SN(e,n){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(h){return Object.getOwnPropertyDescriptor(e,h).enumerable})),s.push.apply(s,a)}return s}function urt(e){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?SN(Object(s),!0).forEach(function(a){Pp(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):SN(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function hrt(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function crt(e,n){for(var s=0;s<n.length;s++){var a=n[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,F$(a.key),a)}}function drt(e,n,s){return n&&crt(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function frt(e,n,s){return n=n0(n),prt(e,I$()?Reflect.construct(n,s||[],n0(e).constructor):n.apply(e,s))}function prt(e,n){if(n&&(Fc(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return grt(e)}function grt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I$=function(){return!!e})()}function n0(e){return n0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},n0(e)}function mrt(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&xS(e,n)}function xS(e,n){return xS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,h){return a.__proto__=h,a},xS(e,n)}function Pp(e,n,s){return n=F$(n),n in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}function F$(e){var n=yrt(e,"string");return Fc(n)=="symbol"?n:n+""}function yrt(e,n){if(Fc(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,n||"default");if(Fc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var Ws=32,HT=function(e){function n(){return hrt(this,n),frt(this,n,arguments)}return mrt(n,e),drt(n,[{key:"renderIcon",value:function(a){var h=this.props.inactiveColor,d=Ws/2,p=Ws/6,v=Ws/3,x=a.inactive?h:a.color;if(a.type==="plainline")return wt.createElement("line",{strokeWidth:4,fill:"none",stroke:x,strokeDasharray:a.payload.strokeDasharray,x1:0,y1:d,x2:Ws,y2:d,className:"recharts-legend-icon"});if(a.type==="line")return wt.createElement("path",{strokeWidth:4,fill:"none",stroke:x,d:"M0,".concat(d,"h").concat(v,`
            A`).concat(p,",").concat(p,",0,1,1,").concat(2*v,",").concat(d,`
            H`).concat(Ws,"M").concat(2*v,",").concat(d,`
            A`).concat(p,",").concat(p,",0,1,1,").concat(v,",").concat(d),className:"recharts-legend-icon"});if(a.type==="rect")return wt.createElement("path",{stroke:"none",fill:x,d:"M0,".concat(Ws/8,"h").concat(Ws,"v").concat(Ws*3/4,"h").concat(-Ws,"z"),className:"recharts-legend-icon"});if(wt.isValidElement(a.legendIcon)){var S=urt({},a);return delete S.legendIcon,wt.cloneElement(a.legendIcon,S)}return wt.createElement(WT,{fill:x,cx:d,cy:d,size:Ws,sizeType:"diameter",type:a.type})}},{key:"renderItems",value:function(){var a=this,h=this.props,d=h.payload,p=h.iconSize,v=h.layout,x=h.formatter,S=h.inactiveColor,M={x:0,y:0,width:Ws,height:Ws},A={display:v==="horizontal"?"inline-block":"block",marginRight:10},O={display:"inline-block",verticalAlign:"middle",marginRight:4};return d.map(function(B,I){var j=B.formatter||x,V=mn(Pp(Pp({"recharts-legend-item":!0},"legend-item-".concat(I),!0),"inactive",B.inactive));if(B.type==="none")return null;var C=sn(B.value)?null:B.value;Wa(!sn(B.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var z=B.inactive?S:B.color;return wt.createElement("li",vS({className:V,style:A,key:"legend-item-".concat(I)},qy(a.props,B,I)),wt.createElement(uS,{width:p,height:p,viewBox:M,style:O},a.renderIcon(B)),wt.createElement("span",{className:"recharts-legend-item-text",style:{color:z}},j?j(C,B,I):C))})}},{key:"render",value:function(){var a=this.props,h=a.payload,d=a.layout,p=a.align;if(!h||!h.length)return null;var v={padding:0,margin:0,textAlign:d==="horizontal"?p:"left"};return wt.createElement("ul",{className:"recharts-default-legend",style:v},this.renderItems())}}])}(at.PureComponent);Pp(HT,"displayName","Legend");Pp(HT,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var vrt=jv;function xrt(){this.__data__=new vrt,this.size=0}var brt=xrt;function wrt(e){var n=this.__data__,s=n.delete(e);return this.size=n.size,s}var Srt=wrt;function Prt(e){return this.__data__.get(e)}var krt=Prt;function Trt(e){return this.__data__.has(e)}var Mrt=Trt,Art=jv,Crt=DT,Ort=RT,Nrt=200;function Ert(e,n){var s=this.__data__;if(s instanceof Art){var a=s.__data__;if(!Crt||a.length<Nrt-1)return a.push([e,n]),this.size=++s.size,this;s=this.__data__=new Ort(a)}return s.set(e,n),this.size=s.size,this}var Lrt=Ert,_rt=jv,Drt=brt,Rrt=Srt,Irt=krt,Frt=Mrt,jrt=Lrt;function bd(e){var n=this.__data__=new _rt(e);this.size=n.size}bd.prototype.clear=Drt;bd.prototype.delete=Rrt;bd.prototype.get=Irt;bd.prototype.has=Frt;bd.prototype.set=jrt;var j$=bd,Brt="__lodash_hash_undefined__";function $rt(e){return this.__data__.set(e,Brt),this}var zrt=$rt;function Vrt(e){return this.__data__.has(e)}var Urt=Vrt,Krt=RT,Grt=zrt,Wrt=Urt;function i0(e){var n=-1,s=e==null?0:e.length;for(this.__data__=new Krt;++n<s;)this.add(e[n])}i0.prototype.add=i0.prototype.push=Grt;i0.prototype.has=Wrt;var B$=i0;function Hrt(e,n){for(var s=-1,a=e==null?0:e.length;++s<a;)if(n(e[s],s,e))return!0;return!1}var $$=Hrt;function Xrt(e,n){return e.has(n)}var z$=Xrt,Yrt=B$,qrt=$$,Zrt=z$,Jrt=1,Qrt=2;function tst(e,n,s,a,h,d){var p=s&Jrt,v=e.length,x=n.length;if(v!=x&&!(p&&x>v))return!1;var S=d.get(e),M=d.get(n);if(S&&M)return S==n&&M==e;var A=-1,O=!0,B=s&Qrt?new Yrt:void 0;for(d.set(e,n),d.set(n,e);++A<v;){var I=e[A],j=n[A];if(a)var V=p?a(j,I,A,n,e,d):a(I,j,A,e,n,d);if(V!==void 0){if(V)continue;O=!1;break}if(B){if(!qrt(n,function(C,z){if(!Zrt(B,z)&&(I===C||h(I,C,s,a,d)))return B.push(z)})){O=!1;break}}else if(!(I===j||h(I,j,s,a,d))){O=!1;break}}return d.delete(e),d.delete(n),O}var V$=tst,est=ca,nst=est.Uint8Array,ist=nst;function rst(e){var n=-1,s=Array(e.size);return e.forEach(function(a,h){s[++n]=[h,a]}),s}var sst=rst;function ost(e){var n=-1,s=Array(e.size);return e.forEach(function(a){s[++n]=a}),s}var XT=ost,PN=Cg,kN=ist,ast=_T,lst=V$,ust=sst,hst=XT,cst=1,dst=2,fst="[object Boolean]",pst="[object Date]",gst="[object Error]",mst="[object Map]",yst="[object Number]",vst="[object RegExp]",xst="[object Set]",bst="[object String]",wst="[object Symbol]",Sst="[object ArrayBuffer]",Pst="[object DataView]",TN=PN?PN.prototype:void 0,eb=TN?TN.valueOf:void 0;function kst(e,n,s,a,h,d,p){switch(s){case Pst:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case Sst:return!(e.byteLength!=n.byteLength||!d(new kN(e),new kN(n)));case fst:case pst:case yst:return ast(+e,+n);case gst:return e.name==n.name&&e.message==n.message;case vst:case bst:return e==n+"";case mst:var v=ust;case xst:var x=a&cst;if(v||(v=hst),e.size!=n.size&&!x)return!1;var S=p.get(e);if(S)return S==n;a|=dst,p.set(e,n);var M=lst(v(e),v(n),a,h,d,p);return p.delete(e),M;case wst:if(eb)return eb.call(e)==eb.call(n)}return!1}var Tst=kst;function Mst(e,n){for(var s=-1,a=n.length,h=e.length;++s<a;)e[h+s]=n[s];return e}var U$=Mst,Ast=U$,Cst=ds;function Ost(e,n,s){var a=n(e);return Cst(e)?a:Ast(a,s(e))}var Nst=Ost;function Est(e,n){for(var s=-1,a=e==null?0:e.length,h=0,d=[];++s<a;){var p=e[s];n(p,s,e)&&(d[h++]=p)}return d}var Lst=Est;function _st(){return[]}var Dst=_st,Rst=Lst,Ist=Dst,Fst=Object.prototype,jst=Fst.propertyIsEnumerable,MN=Object.getOwnPropertySymbols,Bst=MN?function(e){return e==null?[]:(e=Object(e),Rst(MN(e),function(n){return jst.call(e,n)}))}:Ist,$st=Bst;function zst(e,n){for(var s=-1,a=Array(e);++s<e;)a[s]=n(s);return a}var Vst=zst,Ust=ll,Kst=ul,Gst="[object Arguments]";function Wst(e){return Kst(e)&&Ust(e)==Gst}var Hst=Wst,AN=Hst,Xst=ul,K$=Object.prototype,Yst=K$.hasOwnProperty,qst=K$.propertyIsEnumerable,Zst=AN(function(){return arguments}())?AN:function(e){return Xst(e)&&Yst.call(e,"callee")&&!qst.call(e,"callee")},YT=Zst,r0={exports:{}};function Jst(){return!1}var Qst=Jst;r0.exports;(function(e,n){var s=ca,a=Qst,h=n&&!n.nodeType&&n,d=h&&!0&&e&&!e.nodeType&&e,p=d&&d.exports===h,v=p?s.Buffer:void 0,x=v?v.isBuffer:void 0,S=x||a;e.exports=S})(r0,r0.exports);var G$=r0.exports,tot=9007199254740991,eot=/^(?:0|[1-9]\d*)$/;function not(e,n){var s=typeof e;return n=n??tot,!!n&&(s=="number"||s!="symbol"&&eot.test(e))&&e>-1&&e%1==0&&e<n}var qT=not,iot=9007199254740991;function rot(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=iot}var ZT=rot,sot=ll,oot=ZT,aot=ul,lot="[object Arguments]",uot="[object Array]",hot="[object Boolean]",cot="[object Date]",dot="[object Error]",fot="[object Function]",pot="[object Map]",got="[object Number]",mot="[object Object]",yot="[object RegExp]",vot="[object Set]",xot="[object String]",bot="[object WeakMap]",wot="[object ArrayBuffer]",Sot="[object DataView]",Pot="[object Float32Array]",kot="[object Float64Array]",Tot="[object Int8Array]",Mot="[object Int16Array]",Aot="[object Int32Array]",Cot="[object Uint8Array]",Oot="[object Uint8ClampedArray]",Not="[object Uint16Array]",Eot="[object Uint32Array]",Qn={};Qn[Pot]=Qn[kot]=Qn[Tot]=Qn[Mot]=Qn[Aot]=Qn[Cot]=Qn[Oot]=Qn[Not]=Qn[Eot]=!0;Qn[lot]=Qn[uot]=Qn[wot]=Qn[hot]=Qn[Sot]=Qn[cot]=Qn[dot]=Qn[fot]=Qn[pot]=Qn[got]=Qn[mot]=Qn[yot]=Qn[vot]=Qn[xot]=Qn[bot]=!1;function Lot(e){return aot(e)&&oot(e.length)&&!!Qn[sot(e)]}var _ot=Lot;function Dot(e){return function(n){return e(n)}}var W$=Dot,s0={exports:{}};s0.exports;(function(e,n){var s=QB,a=n&&!n.nodeType&&n,h=a&&!0&&e&&!e.nodeType&&e,d=h&&h.exports===a,p=d&&s.process,v=function(){try{var x=h&&h.require&&h.require("util").types;return x||p&&p.binding&&p.binding("util")}catch{}}();e.exports=v})(s0,s0.exports);var Rot=s0.exports,Iot=_ot,Fot=W$,CN=Rot,ON=CN&&CN.isTypedArray,jot=ON?Fot(ON):Iot,H$=jot,Bot=Vst,$ot=YT,zot=ds,Vot=G$,Uot=qT,Kot=H$,Got=Object.prototype,Wot=Got.hasOwnProperty;function Hot(e,n){var s=zot(e),a=!s&&$ot(e),h=!s&&!a&&Vot(e),d=!s&&!a&&!h&&Kot(e),p=s||a||h||d,v=p?Bot(e.length,String):[],x=v.length;for(var S in e)(n||Wot.call(e,S))&&!(p&&(S=="length"||h&&(S=="offset"||S=="parent")||d&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||Uot(S,x)))&&v.push(S);return v}var Xot=Hot,Yot=Object.prototype;function qot(e){var n=e&&e.constructor,s=typeof n=="function"&&n.prototype||Yot;return e===s}var Zot=qot;function Jot(e,n){return function(s){return e(n(s))}}var X$=Jot,Qot=X$,tat=Qot(Object.keys,Object),eat=tat,nat=Zot,iat=eat,rat=Object.prototype,sat=rat.hasOwnProperty;function oat(e){if(!nat(e))return iat(e);var n=[];for(var s in Object(e))sat.call(e,s)&&s!="constructor"&&n.push(s);return n}var aat=oat,lat=LT,uat=ZT;function hat(e){return e!=null&&uat(e.length)&&!lat(e)}var Eg=hat,cat=Xot,dat=aat,fat=Eg;function pat(e){return fat(e)?cat(e):dat(e)}var n1=pat,gat=Nst,mat=$st,yat=n1;function vat(e){return gat(e,yat,mat)}var xat=vat,NN=xat,bat=1,wat=Object.prototype,Sat=wat.hasOwnProperty;function Pat(e,n,s,a,h,d){var p=s&bat,v=NN(e),x=v.length,S=NN(n),M=S.length;if(x!=M&&!p)return!1;for(var A=x;A--;){var O=v[A];if(!(p?O in n:Sat.call(n,O)))return!1}var B=d.get(e),I=d.get(n);if(B&&I)return B==n&&I==e;var j=!0;d.set(e,n),d.set(n,e);for(var V=p;++A<x;){O=v[A];var C=e[O],z=n[O];if(a)var F=p?a(z,C,O,n,e,d):a(C,z,O,e,n,d);if(!(F===void 0?C===z||h(C,z,s,a,d):F)){j=!1;break}V||(V=O=="constructor")}if(j&&!V){var Y=e.constructor,U=n.constructor;Y!=U&&"constructor"in e&&"constructor"in n&&!(typeof Y=="function"&&Y instanceof Y&&typeof U=="function"&&U instanceof U)&&(j=!1)}return d.delete(e),d.delete(n),j}var kat=Pat,Tat=fh,Mat=ca,Aat=Tat(Mat,"DataView"),Cat=Aat,Oat=fh,Nat=ca,Eat=Oat(Nat,"Promise"),Lat=Eat,_at=fh,Dat=ca,Rat=_at(Dat,"Set"),Y$=Rat,Iat=fh,Fat=ca,jat=Iat(Fat,"WeakMap"),Bat=jat,bS=Cat,wS=DT,SS=Lat,PS=Y$,kS=Bat,q$=ll,wd=e$,EN="[object Map]",$at="[object Object]",LN="[object Promise]",_N="[object Set]",DN="[object WeakMap]",RN="[object DataView]",zat=wd(bS),Vat=wd(wS),Uat=wd(SS),Kat=wd(PS),Gat=wd(kS),Cu=q$;(bS&&Cu(new bS(new ArrayBuffer(1)))!=RN||wS&&Cu(new wS)!=EN||SS&&Cu(SS.resolve())!=LN||PS&&Cu(new PS)!=_N||kS&&Cu(new kS)!=DN)&&(Cu=function(e){var n=q$(e),s=n==$at?e.constructor:void 0,a=s?wd(s):"";if(a)switch(a){case zat:return RN;case Vat:return EN;case Uat:return LN;case Kat:return _N;case Gat:return DN}return n});var Wat=Cu,nb=j$,Hat=V$,Xat=Tst,Yat=kat,IN=Wat,FN=ds,jN=G$,qat=H$,Zat=1,BN="[object Arguments]",$N="[object Array]",Pm="[object Object]",Jat=Object.prototype,zN=Jat.hasOwnProperty;function Qat(e,n,s,a,h,d){var p=FN(e),v=FN(n),x=p?$N:IN(e),S=v?$N:IN(n);x=x==BN?Pm:x,S=S==BN?Pm:S;var M=x==Pm,A=S==Pm,O=x==S;if(O&&jN(e)){if(!jN(n))return!1;p=!0,M=!1}if(O&&!M)return d||(d=new nb),p||qat(e)?Hat(e,n,s,a,h,d):Xat(e,n,x,s,a,h,d);if(!(s&Zat)){var B=M&&zN.call(e,"__wrapped__"),I=A&&zN.call(n,"__wrapped__");if(B||I){var j=B?e.value():e,V=I?n.value():n;return d||(d=new nb),h(j,V,s,a,d)}}return O?(d||(d=new nb),Yat(e,n,s,a,h,d)):!1}var tlt=Qat,elt=tlt,VN=ul;function Z$(e,n,s,a,h){return e===n?!0:e==null||n==null||!VN(e)&&!VN(n)?e!==e&&n!==n:elt(e,n,s,a,Z$,h)}var JT=Z$,nlt=j$,ilt=JT,rlt=1,slt=2;function olt(e,n,s,a){var h=s.length,d=h,p=!a;if(e==null)return!d;for(e=Object(e);h--;){var v=s[h];if(p&&v[2]?v[1]!==e[v[0]]:!(v[0]in e))return!1}for(;++h<d;){v=s[h];var x=v[0],S=e[x],M=v[1];if(p&&v[2]){if(S===void 0&&!(x in e))return!1}else{var A=new nlt;if(a)var O=a(S,M,x,e,n,A);if(!(O===void 0?ilt(M,S,rlt|slt,a,A):O))return!1}}return!0}var alt=olt,llt=lu;function ult(e){return e===e&&!llt(e)}var J$=ult,hlt=J$,clt=n1;function dlt(e){for(var n=clt(e),s=n.length;s--;){var a=n[s],h=e[a];n[s]=[a,h,hlt(h)]}return n}var flt=dlt;function plt(e,n){return function(s){return s==null?!1:s[e]===n&&(n!==void 0||e in Object(s))}}var Q$=plt,glt=alt,mlt=flt,ylt=Q$;function vlt(e){var n=mlt(e);return n.length==1&&n[0][2]?ylt(n[0][0],n[0][1]):function(s){return s===e||glt(s,e,n)}}var xlt=vlt;function blt(e,n){return e!=null&&n in Object(e)}var wlt=blt,Slt=o$,Plt=YT,klt=ds,Tlt=qT,Mlt=ZT,Alt=$v;function Clt(e,n,s){n=Slt(n,e);for(var a=-1,h=n.length,d=!1;++a<h;){var p=Alt(n[a]);if(!(d=e!=null&&s(e,p)))break;e=e[p]}return d||++a!=h?d:(h=e==null?0:e.length,!!h&&Mlt(h)&&Tlt(p,h)&&(klt(e)||Plt(e)))}var Olt=Clt,Nlt=wlt,Elt=Olt;function Llt(e,n){return e!=null&&Elt(e,n,Nlt)}var _lt=Llt,Dlt=JT,Rlt=a$,Ilt=_lt,Flt=ET,jlt=J$,Blt=Q$,$lt=$v,zlt=1,Vlt=2;function Ult(e,n){return Flt(e)&&jlt(n)?Blt($lt(e),n):function(s){var a=Rlt(s,e);return a===void 0&&a===n?Ilt(s,e):Dlt(n,a,zlt|Vlt)}}var Klt=Ult;function Glt(e){return e}var Sd=Glt;function Wlt(e){return function(n){return n==null?void 0:n[e]}}var Hlt=Wlt,Xlt=jT;function Ylt(e){return function(n){return Xlt(n,e)}}var qlt=Ylt,Zlt=Hlt,Jlt=qlt,Qlt=ET,tut=$v;function eut(e){return Qlt(e)?Zlt(tut(e)):Jlt(e)}var nut=eut,iut=xlt,rut=Klt,sut=Sd,out=ds,aut=nut;function lut(e){return typeof e=="function"?e:e==null?sut:typeof e=="object"?out(e)?rut(e[0],e[1]):iut(e):aut(e)}var uu=lut;function uut(e,n,s,a){for(var h=e.length,d=s+(a?1:-1);a?d--:++d<h;)if(n(e[d],d,e))return d;return-1}var t3=uut;function hut(e){return e!==e}var cut=hut;function dut(e,n,s){for(var a=s-1,h=e.length;++a<h;)if(e[a]===n)return a;return-1}var fut=dut,put=t3,gut=cut,mut=fut;function yut(e,n,s){return n===n?mut(e,n,s):put(e,gut,s)}var vut=yut,xut=vut;function but(e,n){var s=e==null?0:e.length;return!!s&&xut(e,n,0)>-1}var wut=but;function Sut(e,n,s){for(var a=-1,h=e==null?0:e.length;++a<h;)if(s(n,e[a]))return!0;return!1}var Put=Sut;function kut(){}var Tut=kut,ib=Y$,Mut=Tut,Aut=XT,Cut=1/0,Out=ib&&1/Aut(new ib([,-0]))[1]==Cut?function(e){return new ib(e)}:Mut,Nut=Out,Eut=B$,Lut=wut,_ut=Put,Dut=z$,Rut=Nut,Iut=XT,Fut=200;function jut(e,n,s){var a=-1,h=Lut,d=e.length,p=!0,v=[],x=v;if(s)p=!1,h=_ut;else if(d>=Fut){var S=n?null:Rut(e);if(S)return Iut(S);p=!1,h=Dut,x=new Eut}else x=n?[]:v;t:for(;++a<d;){var M=e[a],A=n?n(M):M;if(M=s||M!==0?M:0,p&&A===A){for(var O=x.length;O--;)if(x[O]===A)continue t;n&&x.push(A),v.push(M)}else h(x,A,s)||(x!==v&&x.push(A),v.push(M))}return v}var But=jut,$ut=uu,zut=But;function Vut(e,n){return e&&e.length?zut(e,$ut(n)):[]}var Uut=Vut;const UN=wn(Uut);function e3(e,n,s){return n===!0?UN(e,s):sn(n)?UN(e,n):e}function jc(e){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},jc(e)}var Kut=["ref"];function KN(e,n){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(h){return Object.getOwnPropertyDescriptor(e,h).enumerable})),s.push.apply(s,a)}return s}function Aa(e){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?KN(Object(s),!0).forEach(function(a){i1(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):KN(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Gut(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function GN(e,n){for(var s=0;s<n.length;s++){var a=n[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,i3(a.key),a)}}function Wut(e,n,s){return n&&GN(e.prototype,n),s&&GN(e,s),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hut(e,n,s){return n=o0(n),Xut(e,n3()?Reflect.construct(n,s||[],o0(e).constructor):n.apply(e,s))}function Xut(e,n){if(n&&(jc(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yut(e)}function Yut(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function n3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n3=function(){return!!e})()}function o0(e){return o0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},o0(e)}function qut(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&TS(e,n)}function TS(e,n){return TS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,h){return a.__proto__=h,a},TS(e,n)}function i1(e,n,s){return n=i3(n),n in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}function i3(e){var n=Zut(e,"string");return jc(n)=="symbol"?n:n+""}function Zut(e,n){if(jc(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,n||"default");if(jc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function Jut(e,n){if(e==null)return{};var s=Qut(e,n),a,h;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(h=0;h<d.length;h++)a=d[h],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Qut(e,n){if(e==null)return{};var s={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(n.indexOf(a)>=0)continue;s[a]=e[a]}return s}function tht(e){return e.value}function eht(e,n){if(wt.isValidElement(e))return wt.cloneElement(e,n);if(typeof e=="function")return wt.createElement(e,n);n.ref;var s=Jut(n,Kut);return wt.createElement(HT,s)}var WN=1,Wu=function(e){function n(){var s;Gut(this,n);for(var a=arguments.length,h=new Array(a),d=0;d<a;d++)h[d]=arguments[d];return s=Hut(this,n,[].concat(h)),i1(s,"lastBoundingBox",{width:-1,height:-1}),s}return qut(n,e),Wut(n,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();return a.height=this.wrapperNode.offsetHeight,a.width=this.wrapperNode.offsetWidth,a}return null}},{key:"updateBBox",value:function(){var a=this.props.onBBoxUpdate,h=this.getBBox();h?(Math.abs(h.width-this.lastBoundingBox.width)>WN||Math.abs(h.height-this.lastBoundingBox.height)>WN)&&(this.lastBoundingBox.width=h.width,this.lastBoundingBox.height=h.height,a&&a(h)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,a&&a(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Aa({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(a){var h=this.props,d=h.layout,p=h.align,v=h.verticalAlign,x=h.margin,S=h.chartWidth,M=h.chartHeight,A,O;if(!a||(a.left===void 0||a.left===null)&&(a.right===void 0||a.right===null))if(p==="center"&&d==="vertical"){var B=this.getBBoxSnapshot();A={left:((S||0)-B.width)/2}}else A=p==="right"?{right:x&&x.right||0}:{left:x&&x.left||0};if(!a||(a.top===void 0||a.top===null)&&(a.bottom===void 0||a.bottom===null))if(v==="middle"){var I=this.getBBoxSnapshot();O={top:((M||0)-I.height)/2}}else O=v==="bottom"?{bottom:x&&x.bottom||0}:{top:x&&x.top||0};return Aa(Aa({},A),O)}},{key:"render",value:function(){var a=this,h=this.props,d=h.content,p=h.width,v=h.height,x=h.wrapperStyle,S=h.payloadUniqBy,M=h.payload,A=Aa(Aa({position:"absolute",width:p||"auto",height:v||"auto"},this.getDefaultPosition(x)),x);return wt.createElement("div",{className:"recharts-legend-wrapper",style:A,ref:function(B){a.wrapperNode=B}},eht(d,Aa(Aa({},this.props),{},{payload:e3(M,S,tht)})))}}],[{key:"getWithHeight",value:function(a,h){var d=Aa(Aa({},this.defaultProps),a.props),p=d.layout;return p==="vertical"&&pe(a.props.height)?{height:a.props.height}:p==="horizontal"?{width:a.props.width||h}:null}}])}(at.PureComponent);i1(Wu,"displayName","Legend");i1(Wu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var HN=Cg,nht=YT,iht=ds,XN=HN?HN.isConcatSpreadable:void 0;function rht(e){return iht(e)||nht(e)||!!(XN&&e&&e[XN])}var sht=rht,oht=U$,aht=sht;function r3(e,n,s,a,h){var d=-1,p=e.length;for(s||(s=aht),h||(h=[]);++d<p;){var v=e[d];n>0&&s(v)?n>1?r3(v,n-1,s,a,h):oht(h,v):a||(h[h.length]=v)}return h}var s3=r3;function lht(e){return function(n,s,a){for(var h=-1,d=Object(n),p=a(n),v=p.length;v--;){var x=p[e?v:++h];if(s(d[x],x,d)===!1)break}return n}}var uht=lht,hht=uht,cht=hht(),dht=cht,fht=dht,pht=n1;function ght(e,n){return e&&fht(e,n,pht)}var o3=ght,mht=Eg;function yht(e,n){return function(s,a){if(s==null)return s;if(!mht(s))return e(s,a);for(var h=s.length,d=n?h:-1,p=Object(s);(n?d--:++d<h)&&a(p[d],d,p)!==!1;);return s}}var vht=yht,xht=o3,bht=vht,wht=bht(xht),QT=wht,Sht=QT,Pht=Eg;function kht(e,n){var s=-1,a=Pht(e)?Array(e.length):[];return Sht(e,function(h,d,p){a[++s]=n(h,d,p)}),a}var a3=kht;function Tht(e,n){var s=e.length;for(e.sort(n);s--;)e[s]=e[s].value;return e}var Mht=Tht,YN=gd;function Aht(e,n){if(e!==n){var s=e!==void 0,a=e===null,h=e===e,d=YN(e),p=n!==void 0,v=n===null,x=n===n,S=YN(n);if(!v&&!S&&!d&&e>n||d&&p&&x&&!v&&!S||a&&p&&x||!s&&x||!h)return 1;if(!a&&!d&&!S&&e<n||S&&s&&h&&!a&&!d||v&&s&&h||!p&&h||!x)return-1}return 0}var Cht=Aht,Oht=Cht;function Nht(e,n,s){for(var a=-1,h=e.criteria,d=n.criteria,p=h.length,v=s.length;++a<p;){var x=Oht(h[a],d[a]);if(x){if(a>=v)return x;var S=s[a];return x*(S=="desc"?-1:1)}}return e.index-n.index}var Eht=Nht,rb=FT,Lht=jT,_ht=uu,Dht=a3,Rht=Mht,Iht=W$,Fht=Eht,jht=Sd,Bht=ds;function $ht(e,n,s){n.length?n=rb(n,function(d){return Bht(d)?function(p){return Lht(p,d.length===1?d[0]:d)}:d}):n=[jht];var a=-1;n=rb(n,Iht(_ht));var h=Dht(e,function(d,p,v){var x=rb(n,function(S){return S(d)});return{criteria:x,index:++a,value:d}});return Rht(h,function(d,p){return Fht(d,p,s)})}var zht=$ht;function Vht(e,n,s){switch(s.length){case 0:return e.call(n);case 1:return e.call(n,s[0]);case 2:return e.call(n,s[0],s[1]);case 3:return e.call(n,s[0],s[1],s[2])}return e.apply(n,s)}var Uht=Vht,Kht=Uht,qN=Math.max;function Ght(e,n,s){return n=qN(n===void 0?e.length-1:n,0),function(){for(var a=arguments,h=-1,d=qN(a.length-n,0),p=Array(d);++h<d;)p[h]=a[n+h];h=-1;for(var v=Array(n+1);++h<n;)v[h]=a[h];return v[n]=s(p),Kht(e,this,v)}}var Wht=Ght;function Hht(e){return function(){return e}}var Xht=Hht,Yht=fh,qht=function(){try{var e=Yht(Object,"defineProperty");return e({},"",{}),e}catch{}}(),l3=qht,Zht=Xht,ZN=l3,Jht=Sd,Qht=ZN?function(e,n){return ZN(e,"toString",{configurable:!0,enumerable:!1,value:Zht(n),writable:!0})}:Jht,tct=Qht,ect=800,nct=16,ict=Date.now;function rct(e){var n=0,s=0;return function(){var a=ict(),h=nct-(a-s);if(s=a,h>0){if(++n>=ect)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}var sct=rct,oct=tct,act=sct,lct=act(oct),uct=lct,hct=Sd,cct=Wht,dct=uct;function fct(e,n){return dct(cct(e,n,hct),e+"")}var pct=fct,gct=_T,mct=Eg,yct=qT,vct=lu;function xct(e,n,s){if(!vct(s))return!1;var a=typeof n;return(a=="number"?mct(s)&&yct(n,s.length):a=="string"&&n in s)?gct(s[n],e):!1}var r1=xct,bct=s3,wct=zht,Sct=pct,JN=r1,Pct=Sct(function(e,n){if(e==null)return[];var s=n.length;return s>1&&JN(e,n[0],n[1])?n=[]:s>2&&JN(n[0],n[1],n[2])&&(n=[n[0]]),wct(e,bct(n,1),[])}),kct=Pct;const tM=wn(kct);function kp(e){"@babel/helpers - typeof";return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},kp(e)}function MS(){return MS=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},MS.apply(this,arguments)}function Tct(e,n){return Oct(e)||Cct(e,n)||Act(e,n)||Mct()}function Mct(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Act(e,n){if(e){if(typeof e=="string")return QN(e,n);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return QN(e,n)}}function QN(e,n){(n==null||n>e.length)&&(n=e.length);for(var s=0,a=new Array(n);s<n;s++)a[s]=e[s];return a}function Cct(e,n){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var a,h,d,p,v=[],x=!0,S=!1;try{if(d=(s=s.call(e)).next,n!==0)for(;!(x=(a=d.call(s)).done)&&(v.push(a.value),v.length!==n);x=!0);}catch(M){S=!0,h=M}finally{try{if(!x&&s.return!=null&&(p=s.return(),Object(p)!==p))return}finally{if(S)throw h}}return v}}function Oct(e){if(Array.isArray(e))return e}function tE(e,n){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(h){return Object.getOwnPropertyDescriptor(e,h).enumerable})),s.push.apply(s,a)}return s}function sb(e){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?tE(Object(s),!0).forEach(function(a){Nct(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):tE(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Nct(e,n,s){return n=Ect(n),n in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}function Ect(e){var n=Lct(e,"string");return kp(n)=="symbol"?n:n+""}function Lct(e,n){if(kp(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,n||"default");if(kp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function _ct(e){return Array.isArray(e)&&Vi(e[0])&&Vi(e[1])?e.join(" ~ "):e}var Dct=function(n){var s=n.separator,a=s===void 0?" : ":s,h=n.contentStyle,d=h===void 0?{}:h,p=n.itemStyle,v=p===void 0?{}:p,x=n.labelStyle,S=x===void 0?{}:x,M=n.payload,A=n.formatter,O=n.itemSorter,B=n.wrapperClassName,I=n.labelClassName,j=n.label,V=n.labelFormatter,C=n.accessibilityLayer,z=C===void 0?!1:C,F=function(){if(M&&M.length){var mt={padding:0,margin:0},vt=(O?tM(M,O):M).map(function(Mt,Ct){if(Mt.type==="none")return null;var Ot=sb({display:"block",paddingTop:4,paddingBottom:4,color:Mt.color||"#000"},v),Rt=Mt.formatter||A||_ct,yt=Mt.value,Nt=Mt.name,kt=yt,At=Nt;if(Rt&&kt!=null&&At!=null){var It=Rt(yt,Nt,Mt,Ct,M);if(Array.isArray(It)){var $t=Tct(It,2);kt=$t[0],At=$t[1]}else kt=It}return wt.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Ct),style:Ot},Vi(At)?wt.createElement("span",{className:"recharts-tooltip-item-name"},At):null,Vi(At)?wt.createElement("span",{className:"recharts-tooltip-item-separator"},a):null,wt.createElement("span",{className:"recharts-tooltip-item-value"},kt),wt.createElement("span",{className:"recharts-tooltip-item-unit"},Mt.unit||""))});return wt.createElement("ul",{className:"recharts-tooltip-item-list",style:mt},vt)}return null},Y=sb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},d),U=sb({margin:0},S),J=!bn(j),K=J?j:"",rt=mn("recharts-default-tooltip",B),gt=mn("recharts-tooltip-label",I);J&&V&&M!==void 0&&M!==null&&(K=V(j,M));var lt=z?{role:"status","aria-live":"assertive"}:{};return wt.createElement("div",MS({className:rt,style:Y},lt),wt.createElement("p",{className:gt,style:U},wt.isValidElement(K)?K:"".concat(K)),F())};function Tp(e){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Tp(e)}function km(e,n,s){return n=Rct(n),n in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}function Rct(e){var n=Ict(e,"string");return Tp(n)=="symbol"?n:n+""}function Ict(e,n){if(Tp(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,n||"default");if(Tp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var hf="recharts-tooltip-wrapper",Fct={visibility:"hidden"};function jct(e){var n=e.coordinate,s=e.translateX,a=e.translateY;return mn(hf,km(km(km(km({},"".concat(hf,"-right"),pe(s)&&n&&pe(n.x)&&s>=n.x),"".concat(hf,"-left"),pe(s)&&n&&pe(n.x)&&s<n.x),"".concat(hf,"-bottom"),pe(a)&&n&&pe(n.y)&&a>=n.y),"".concat(hf,"-top"),pe(a)&&n&&pe(n.y)&&a<n.y))}function eE(e){var n=e.allowEscapeViewBox,s=e.coordinate,a=e.key,h=e.offsetTopLeft,d=e.position,p=e.reverseDirection,v=e.tooltipDimension,x=e.viewBox,S=e.viewBoxDimension;if(d&&pe(d[a]))return d[a];var M=s[a]-v-h,A=s[a]+h;if(n[a])return p[a]?M:A;if(p[a]){var O=M,B=x[a];return O<B?Math.max(A,x[a]):Math.max(M,x[a])}var I=A+v,j=x[a]+S;return I>j?Math.max(M,x[a]):Math.max(A,x[a])}function Bct(e){var n=e.translateX,s=e.translateY,a=e.useTranslate3d;return{transform:a?"translate3d(".concat(n,"px, ").concat(s,"px, 0)"):"translate(".concat(n,"px, ").concat(s,"px)")}}function $ct(e){var n=e.allowEscapeViewBox,s=e.coordinate,a=e.offsetTopLeft,h=e.position,d=e.reverseDirection,p=e.tooltipBox,v=e.useTranslate3d,x=e.viewBox,S,M,A;return p.height>0&&p.width>0&&s?(M=eE({allowEscapeViewBox:n,coordinate:s,key:"x",offsetTopLeft:a,position:h,reverseDirection:d,tooltipDimension:p.width,viewBox:x,viewBoxDimension:x.width}),A=eE({allowEscapeViewBox:n,coordinate:s,key:"y",offsetTopLeft:a,position:h,reverseDirection:d,tooltipDimension:p.height,viewBox:x,viewBoxDimension:x.height}),S=Bct({translateX:M,translateY:A,useTranslate3d:v})):S=Fct,{cssProperties:S,cssClasses:jct({translateX:M,translateY:A,coordinate:s})}}function Bc(e){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Bc(e)}function nE(e,n){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(h){return Object.getOwnPropertyDescriptor(e,h).enumerable})),s.push.apply(s,a)}return s}function iE(e){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?nE(Object(s),!0).forEach(function(a){CS(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):nE(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function zct(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Vct(e,n){for(var s=0;s<n.length;s++){var a=n[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,h3(a.key),a)}}function Uct(e,n,s){return n&&Vct(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kct(e,n,s){return n=a0(n),Gct(e,u3()?Reflect.construct(n,s||[],a0(e).constructor):n.apply(e,s))}function Gct(e,n){if(n&&(Bc(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wct(e)}function Wct(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u3=function(){return!!e})()}function a0(e){return a0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},a0(e)}function Hct(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&AS(e,n)}function AS(e,n){return AS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,h){return a.__proto__=h,a},AS(e,n)}function CS(e,n,s){return n=h3(n),n in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}function h3(e){var n=Xct(e,"string");return Bc(n)=="symbol"?n:n+""}function Xct(e,n){if(Bc(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,n||"default");if(Bc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var rE=1,Yct=function(e){function n(){var s;zct(this,n);for(var a=arguments.length,h=new Array(a),d=0;d<a;d++)h[d]=arguments[d];return s=Kct(this,n,[].concat(h)),CS(s,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),CS(s,"handleKeyDown",function(p){if(p.key==="Escape"){var v,x,S,M;s.setState({dismissed:!0,dismissedAtCoordinate:{x:(v=(x=s.props.coordinate)===null||x===void 0?void 0:x.x)!==null&&v!==void 0?v:0,y:(S=(M=s.props.coordinate)===null||M===void 0?void 0:M.y)!==null&&S!==void 0?S:0}})}}),s}return Hct(n,e),Uct(n,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();(Math.abs(a.width-this.state.lastBoundingBox.width)>rE||Math.abs(a.height-this.state.lastBoundingBox.height)>rE)&&this.setState({lastBoundingBox:{width:a.width,height:a.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var a,h;this.props.active&&this.updateBBox(),this.state.dismissed&&(((a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==this.state.dismissedAtCoordinate.x||((h=this.props.coordinate)===null||h===void 0?void 0:h.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var a=this,h=this.props,d=h.active,p=h.allowEscapeViewBox,v=h.animationDuration,x=h.animationEasing,S=h.children,M=h.coordinate,A=h.hasPayload,O=h.isAnimationActive,B=h.offset,I=h.position,j=h.reverseDirection,V=h.useTranslate3d,C=h.viewBox,z=h.wrapperStyle,F=$ct({allowEscapeViewBox:p,coordinate:M,offsetTopLeft:B,position:I,reverseDirection:j,tooltipBox:this.state.lastBoundingBox,useTranslate3d:V,viewBox:C}),Y=F.cssClasses,U=F.cssProperties,J=iE(iE({transition:O&&d?"transform ".concat(v,"ms ").concat(x):void 0},U),{},{pointerEvents:"none",visibility:!this.state.dismissed&&d&&A?"visible":"hidden",position:"absolute",top:0,left:0},z);return wt.createElement("div",{tabIndex:-1,className:Y,style:J,ref:function(rt){a.wrapperNode=rt}},S)}}])}(at.PureComponent),qct=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Gl={isSsr:qct(),get:function(n){return Gl[n]},set:function(n,s){if(typeof n=="string")Gl[n]=s;else{var a=Object.keys(n);a&&a.length&&a.forEach(function(h){Gl[h]=n[h]})}}};function $c(e){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},$c(e)}function sE(e,n){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(h){return Object.getOwnPropertyDescriptor(e,h).enumerable})),s.push.apply(s,a)}return s}function oE(e){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?sE(Object(s),!0).forEach(function(a){eM(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):sE(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Zct(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Jct(e,n){for(var s=0;s<n.length;s++){var a=n[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,d3(a.key),a)}}function Qct(e,n,s){return n&&Jct(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function tdt(e,n,s){return n=l0(n),edt(e,c3()?Reflect.construct(n,s||[],l0(e).constructor):n.apply(e,s))}function edt(e,n){if(n&&($c(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ndt(e)}function ndt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c3=function(){return!!e})()}function l0(e){return l0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},l0(e)}function idt(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&OS(e,n)}function OS(e,n){return OS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,h){return a.__proto__=h,a},OS(e,n)}function eM(e,n,s){return n=d3(n),n in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}function d3(e){var n=rdt(e,"string");return $c(n)=="symbol"?n:n+""}function rdt(e,n){if($c(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,n||"default");if($c(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function sdt(e){return e.dataKey}function odt(e,n){return wt.isValidElement(e)?wt.cloneElement(e,n):typeof e=="function"?wt.createElement(e,n):wt.createElement(Dct,n)}var Yo=function(e){function n(){return Zct(this,n),tdt(this,n,arguments)}return idt(n,e),Qct(n,[{key:"render",value:function(){var a=this,h=this.props,d=h.active,p=h.allowEscapeViewBox,v=h.animationDuration,x=h.animationEasing,S=h.content,M=h.coordinate,A=h.filterNull,O=h.isAnimationActive,B=h.offset,I=h.payload,j=h.payloadUniqBy,V=h.position,C=h.reverseDirection,z=h.useTranslate3d,F=h.viewBox,Y=h.wrapperStyle,U=I??[];A&&U.length&&(U=e3(I.filter(function(K){return K.value!=null&&(K.hide!==!0||a.props.includeHidden)}),j,sdt));var J=U.length>0;return wt.createElement(Yct,{allowEscapeViewBox:p,animationDuration:v,animationEasing:x,isAnimationActive:O,active:d,coordinate:M,hasPayload:J,offset:B,position:V,reverseDirection:C,useTranslate3d:z,viewBox:F,wrapperStyle:Y},odt(S,oE(oE({},this.props),{},{payload:U})))}}])}(at.PureComponent);eM(Yo,"displayName","Tooltip");eM(Yo,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Gl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var adt=ca,ldt=function(){return adt.Date.now()},udt=ldt,hdt=/\s/;function cdt(e){for(var n=e.length;n--&&hdt.test(e.charAt(n)););return n}var ddt=cdt,fdt=ddt,pdt=/^\s+/;function gdt(e){return e&&e.slice(0,fdt(e)+1).replace(pdt,"")}var mdt=gdt,ydt=mdt,aE=lu,vdt=gd,lE=NaN,xdt=/^[-+]0x[0-9a-f]+$/i,bdt=/^0b[01]+$/i,wdt=/^0o[0-7]+$/i,Sdt=parseInt;function Pdt(e){if(typeof e=="number")return e;if(vdt(e))return lE;if(aE(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=aE(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=ydt(e);var s=bdt.test(e);return s||wdt.test(e)?Sdt(e.slice(2),s?2:8):xdt.test(e)?lE:+e}var f3=Pdt,kdt=lu,ob=udt,uE=f3,Tdt="Expected a function",Mdt=Math.max,Adt=Math.min;function Cdt(e,n,s){var a,h,d,p,v,x,S=0,M=!1,A=!1,O=!0;if(typeof e!="function")throw new TypeError(Tdt);n=uE(n)||0,kdt(s)&&(M=!!s.leading,A="maxWait"in s,d=A?Mdt(uE(s.maxWait)||0,n):d,O="trailing"in s?!!s.trailing:O);function B(J){var K=a,rt=h;return a=h=void 0,S=J,p=e.apply(rt,K),p}function I(J){return S=J,v=setTimeout(C,n),M?B(J):p}function j(J){var K=J-x,rt=J-S,gt=n-K;return A?Adt(gt,d-rt):gt}function V(J){var K=J-x,rt=J-S;return x===void 0||K>=n||K<0||A&&rt>=d}function C(){var J=ob();if(V(J))return z(J);v=setTimeout(C,j(J))}function z(J){return v=void 0,O&&a?B(J):(a=h=void 0,p)}function F(){v!==void 0&&clearTimeout(v),S=0,a=x=h=v=void 0}function Y(){return v===void 0?p:z(ob())}function U(){var J=ob(),K=V(J);if(a=arguments,h=this,x=J,K){if(v===void 0)return I(x);if(A)return clearTimeout(v),v=setTimeout(C,n),B(x)}return v===void 0&&(v=setTimeout(C,n)),p}return U.cancel=F,U.flush=Y,U}var Odt=Cdt,Ndt=Odt,Edt=lu,Ldt="Expected a function";function _dt(e,n,s){var a=!0,h=!0;if(typeof e!="function")throw new TypeError(Ldt);return Edt(s)&&(a="leading"in s?!!s.leading:a,h="trailing"in s?!!s.trailing:h),Ndt(e,n,{leading:a,maxWait:n,trailing:h})}var Ddt=_dt;const p3=wn(Ddt);function Mp(e){"@babel/helpers - typeof";return Mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Mp(e)}function hE(e,n){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(h){return Object.getOwnPropertyDescriptor(e,h).enumerable})),s.push.apply(s,a)}return s}function Tm(e){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?hE(Object(s),!0).forEach(function(a){Rdt(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):hE(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Rdt(e,n,s){return n=Idt(n),n in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}function Idt(e){var n=Fdt(e,"string");return Mp(n)=="symbol"?n:n+""}function Fdt(e,n){if(Mp(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,n||"default");if(Mp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function jdt(e,n){return Vdt(e)||zdt(e,n)||$dt(e,n)||Bdt()}function Bdt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $dt(e,n){if(e){if(typeof e=="string")return cE(e,n);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return cE(e,n)}}function cE(e,n){(n==null||n>e.length)&&(n=e.length);for(var s=0,a=new Array(n);s<n;s++)a[s]=e[s];return a}function zdt(e,n){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var a,h,d,p,v=[],x=!0,S=!1;try{if(d=(s=s.call(e)).next,n!==0)for(;!(x=(a=d.call(s)).done)&&(v.push(a.value),v.length!==n);x=!0);}catch(M){S=!0,h=M}finally{try{if(!x&&s.return!=null&&(p=s.return(),Object(p)!==p))return}finally{if(S)throw h}}return v}}function Vdt(e){if(Array.isArray(e))return e}var Udt=at.forwardRef(function(e,n){var s=e.aspect,a=e.initialDimension,h=a===void 0?{width:-1,height:-1}:a,d=e.width,p=d===void 0?"100%":d,v=e.height,x=v===void 0?"100%":v,S=e.minWidth,M=S===void 0?0:S,A=e.minHeight,O=e.maxHeight,B=e.children,I=e.debounce,j=I===void 0?0:I,V=e.id,C=e.className,z=e.onResize,F=e.style,Y=F===void 0?{}:F,U=at.useRef(null),J=at.useRef();J.current=z,at.useImperativeHandle(n,function(){return Object.defineProperty(U.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),U.current},configurable:!0})});var K=at.useState({containerWidth:h.width,containerHeight:h.height}),rt=jdt(K,2),gt=rt[0],lt=rt[1],dt=at.useCallback(function(vt,Mt){lt(function(Ct){var Ot=Math.round(vt),Rt=Math.round(Mt);return Ct.containerWidth===Ot&&Ct.containerHeight===Rt?Ct:{containerWidth:Ot,containerHeight:Rt}})},[]);at.useEffect(function(){var vt=function(Nt){var kt,At=Nt[0].contentRect,It=At.width,$t=At.height;dt(It,$t),(kt=J.current)===null||kt===void 0||kt.call(J,It,$t)};j>0&&(vt=p3(vt,j,{trailing:!0,leading:!1}));var Mt=new ResizeObserver(vt),Ct=U.current.getBoundingClientRect(),Ot=Ct.width,Rt=Ct.height;return dt(Ot,Rt),Mt.observe(U.current),function(){Mt.disconnect()}},[dt,j]);var mt=at.useMemo(function(){var vt=gt.containerWidth,Mt=gt.containerHeight;if(vt<0||Mt<0)return null;Wa(Iu(p)||Iu(x),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,p,x),Wa(!s||s>0,"The aspect(%s) must be greater than zero.",s);var Ct=Iu(p)?vt:p,Ot=Iu(x)?Mt:x;s&&s>0&&(Ct?Ot=Ct/s:Ot&&(Ct=Ot*s),O&&Ot>O&&(Ot=O)),Wa(Ct>0||Ot>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Ct,Ot,p,x,M,A,s);var Rt=!Array.isArray(B)&&Ga(B.type).endsWith("Chart");return wt.Children.map(B,function(yt){return h$.isElement(yt)?at.cloneElement(yt,Tm({width:Ct,height:Ot},Rt?{style:Tm({height:"100%",width:"100%",maxHeight:Ot,maxWidth:Ct},yt.props.style)}:{})):yt})},[s,B,x,O,A,M,gt,p]);return wt.createElement("div",{id:V?"".concat(V):void 0,className:mn("recharts-responsive-container",C),style:Tm(Tm({},Y),{},{width:p,height:x,minWidth:M,minHeight:A,maxHeight:O}),ref:U},mt)}),g3=function(n){return null};g3.displayName="Cell";function Ap(e){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ap(e)}function dE(e,n){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(h){return Object.getOwnPropertyDescriptor(e,h).enumerable})),s.push.apply(s,a)}return s}function NS(e){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?dE(Object(s),!0).forEach(function(a){Kdt(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):dE(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Kdt(e,n,s){return n=Gdt(n),n in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}function Gdt(e){var n=Wdt(e,"string");return Ap(n)=="symbol"?n:n+""}function Wdt(e,n){if(Ap(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,n||"default");if(Ap(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var Ih={widthCache:{},cacheCount:0},Hdt=2e3,Xdt={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},fE="recharts_measurement_span";function Ydt(e){var n=NS({},e);return Object.keys(n).forEach(function(s){n[s]||delete n[s]}),n}var Kf=function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(n==null||Gl.isSsr)return{width:0,height:0};var a=Ydt(s),h=JSON.stringify({text:n,copyStyle:a});if(Ih.widthCache[h])return Ih.widthCache[h];try{var d=document.getElementById(fE);d||(d=document.createElement("span"),d.setAttribute("id",fE),d.setAttribute("aria-hidden","true"),document.body.appendChild(d));var p=NS(NS({},Xdt),a);Object.assign(d.style,p),d.textContent="".concat(n);var v=d.getBoundingClientRect(),x={width:v.width,height:v.height};return Ih.widthCache[h]=x,++Ih.cacheCount>Hdt&&(Ih.cacheCount=0,Ih.widthCache={}),x}catch{return{width:0,height:0}}},qdt=function(n){return{top:n.top+window.scrollY-document.documentElement.clientTop,left:n.left+window.scrollX-document.documentElement.clientLeft}};function Cp(e){"@babel/helpers - typeof";return Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Cp(e)}function u0(e,n){return tft(e)||Qdt(e,n)||Jdt(e,n)||Zdt()}function Zdt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jdt(e,n){if(e){if(typeof e=="string")return pE(e,n);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return pE(e,n)}}function pE(e,n){(n==null||n>e.length)&&(n=e.length);for(var s=0,a=new Array(n);s<n;s++)a[s]=e[s];return a}function Qdt(e,n){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var a,h,d,p,v=[],x=!0,S=!1;try{if(d=(s=s.call(e)).next,n===0){if(Object(s)!==s)return;x=!1}else for(;!(x=(a=d.call(s)).done)&&(v.push(a.value),v.length!==n);x=!0);}catch(M){S=!0,h=M}finally{try{if(!x&&s.return!=null&&(p=s.return(),Object(p)!==p))return}finally{if(S)throw h}}return v}}function tft(e){if(Array.isArray(e))return e}function eft(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function gE(e,n){for(var s=0;s<n.length;s++){var a=n[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,ift(a.key),a)}}function nft(e,n,s){return n&&gE(e.prototype,n),s&&gE(e,s),Object.defineProperty(e,"prototype",{writable:!1}),e}function ift(e){var n=rft(e,"string");return Cp(n)=="symbol"?n:n+""}function rft(e,n){if(Cp(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,n);if(Cp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var mE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,yE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,sft=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,oft=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,m3={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},aft=Object.keys(m3),sc="NaN";function lft(e,n){return e*m3[n]}var Mm=function(){function e(n,s){eft(this,e),this.num=n,this.unit=s,this.num=n,this.unit=s,Number.isNaN(n)&&(this.unit=""),s!==""&&!sft.test(s)&&(this.num=NaN,this.unit=""),aft.includes(s)&&(this.num=lft(n,s),this.unit="px")}return nft(e,[{key:"add",value:function(s){return this.unit!==s.unit?new e(NaN,""):new e(this.num+s.num,this.unit)}},{key:"subtract",value:function(s){return this.unit!==s.unit?new e(NaN,""):new e(this.num-s.num,this.unit)}},{key:"multiply",value:function(s){return this.unit!==""&&s.unit!==""&&this.unit!==s.unit?new e(NaN,""):new e(this.num*s.num,this.unit||s.unit)}},{key:"divide",value:function(s){return this.unit!==""&&s.unit!==""&&this.unit!==s.unit?new e(NaN,""):new e(this.num/s.num,this.unit||s.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(s){var a,h=(a=oft.exec(s))!==null&&a!==void 0?a:[],d=u0(h,3),p=d[1],v=d[2];return new e(parseFloat(p),v??"")}}])}();function y3(e){if(e.includes(sc))return sc;for(var n=e;n.includes("*")||n.includes("/");){var s,a=(s=mE.exec(n))!==null&&s!==void 0?s:[],h=u0(a,4),d=h[1],p=h[2],v=h[3],x=Mm.parse(d??""),S=Mm.parse(v??""),M=p==="*"?x.multiply(S):x.divide(S);if(M.isNaN())return sc;n=n.replace(mE,M.toString())}for(;n.includes("+")||/.-\d+(?:\.\d+)?/.test(n);){var A,O=(A=yE.exec(n))!==null&&A!==void 0?A:[],B=u0(O,4),I=B[1],j=B[2],V=B[3],C=Mm.parse(I??""),z=Mm.parse(V??""),F=j==="+"?C.add(z):C.subtract(z);if(F.isNaN())return sc;n=n.replace(yE,F.toString())}return n}var vE=/\(([^()]*)\)/;function uft(e){for(var n=e;n.includes("(");){var s=vE.exec(n),a=u0(s,2),h=a[1];n=n.replace(vE,y3(h))}return n}function hft(e){var n=e.replace(/\s+/g,"");return n=uft(n),n=y3(n),n}function cft(e){try{return hft(e)}catch{return sc}}function ab(e){var n=cft(e.slice(5,-1));return n===sc?"":n}var dft=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],fft=["dx","dy","angle","className","breakAll"];function ES(){return ES=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},ES.apply(this,arguments)}function xE(e,n){if(e==null)return{};var s=pft(e,n),a,h;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(h=0;h<d.length;h++)a=d[h],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function pft(e,n){if(e==null)return{};var s={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(n.indexOf(a)>=0)continue;s[a]=e[a]}return s}function bE(e,n){return vft(e)||yft(e,n)||mft(e,n)||gft()}function gft(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mft(e,n){if(e){if(typeof e=="string")return wE(e,n);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return wE(e,n)}}function wE(e,n){(n==null||n>e.length)&&(n=e.length);for(var s=0,a=new Array(n);s<n;s++)a[s]=e[s];return a}function yft(e,n){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var a,h,d,p,v=[],x=!0,S=!1;try{if(d=(s=s.call(e)).next,n===0){if(Object(s)!==s)return;x=!1}else for(;!(x=(a=d.call(s)).done)&&(v.push(a.value),v.length!==n);x=!0);}catch(M){S=!0,h=M}finally{try{if(!x&&s.return!=null&&(p=s.return(),Object(p)!==p))return}finally{if(S)throw h}}return v}}function vft(e){if(Array.isArray(e))return e}var v3=/[ \f\n\r\t\v\u2028\u2029]+/,x3=function(n){var s=n.children,a=n.breakAll,h=n.style;try{var d=[];bn(s)||(a?d=s.toString().split(""):d=s.toString().split(v3));var p=d.map(function(x){return{word:x,width:Kf(x,h).width}}),v=a?0:Kf("Â ",h).width;return{wordsWithComputedWidth:p,spaceWidth:v}}catch{return null}},xft=function(n,s,a,h,d){var p=n.maxLines,v=n.children,x=n.style,S=n.breakAll,M=pe(p),A=v,O=function(){var Ct=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Ct.reduce(function(Ot,Rt){var yt=Rt.word,Nt=Rt.width,kt=Ot[Ot.length-1];if(kt&&(h==null||d||kt.width+Nt+a<Number(h)))kt.words.push(yt),kt.width+=Nt+a;else{var At={words:[yt],width:Nt};Ot.push(At)}return Ot},[])},B=O(s),I=function(Ct){return Ct.reduce(function(Ot,Rt){return Ot.width>Rt.width?Ot:Rt})};if(!M)return B;for(var j="â¦",V=function(Ct){var Ot=A.slice(0,Ct),Rt=x3({breakAll:S,style:x,children:Ot+j}).wordsWithComputedWidth,yt=O(Rt),Nt=yt.length>p||I(yt).width>Number(h);return[Nt,yt]},C=0,z=A.length-1,F=0,Y;C<=z&&F<=A.length-1;){var U=Math.floor((C+z)/2),J=U-1,K=V(J),rt=bE(K,2),gt=rt[0],lt=rt[1],dt=V(U),mt=bE(dt,1),vt=mt[0];if(!gt&&!vt&&(C=U+1),gt&&vt&&(z=U-1),!gt&&vt){Y=lt;break}F++}return Y||B},SE=function(n){var s=bn(n)?[]:n.toString().split(v3);return[{words:s}]},bft=function(n){var s=n.width,a=n.scaleToFit,h=n.children,d=n.style,p=n.breakAll,v=n.maxLines;if((s||a)&&!Gl.isSsr){var x,S,M=x3({breakAll:p,children:h,style:d});if(M){var A=M.wordsWithComputedWidth,O=M.spaceWidth;x=A,S=O}else return SE(h);return xft({breakAll:p,children:h,maxLines:v,style:d},x,S,s,a)}return SE(h)},PE="#808080",h0=function(n){var s=n.x,a=s===void 0?0:s,h=n.y,d=h===void 0?0:h,p=n.lineHeight,v=p===void 0?"1em":p,x=n.capHeight,S=x===void 0?"0.71em":x,M=n.scaleToFit,A=M===void 0?!1:M,O=n.textAnchor,B=O===void 0?"start":O,I=n.verticalAnchor,j=I===void 0?"end":I,V=n.fill,C=V===void 0?PE:V,z=xE(n,dft),F=at.useMemo(function(){return bft({breakAll:z.breakAll,children:z.children,maxLines:z.maxLines,scaleToFit:A,style:z.style,width:z.width})},[z.breakAll,z.children,z.maxLines,A,z.style,z.width]),Y=z.dx,U=z.dy,J=z.angle,K=z.className,rt=z.breakAll,gt=xE(z,fft);if(!Vi(a)||!Vi(d))return null;var lt=a+(pe(Y)?Y:0),dt=d+(pe(U)?U:0),mt;switch(j){case"start":mt=ab("calc(".concat(S,")"));break;case"middle":mt=ab("calc(".concat((F.length-1)/2," * -").concat(v," + (").concat(S," / 2))"));break;default:mt=ab("calc(".concat(F.length-1," * -").concat(v,")"));break}var vt=[];if(A){var Mt=F[0].width,Ct=z.width;vt.push("scale(".concat((pe(Ct)?Ct/Mt:1)/Mt,")"))}return J&&vt.push("rotate(".concat(J,", ").concat(lt,", ").concat(dt,")")),vt.length&&(gt.transform=vt.join(" ")),wt.createElement("text",ES({},gn(gt,!0),{x:lt,y:dt,className:mn("recharts-text",K),textAnchor:B,fill:C.includes("url")?PE:C}),F.map(function(Ot,Rt){var yt=Ot.words.join(rt?"":" ");return wt.createElement("tspan",{x:lt,dy:Rt===0?mt:v,key:yt},yt)}))};function Wl(e,n){return e==null||n==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function wft(e,n){return e==null||n==null?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function nM(e){let n,s,a;e.length!==2?(n=Wl,s=(v,x)=>Wl(e(v),x),a=(v,x)=>e(v)-x):(n=e===Wl||e===wft?e:Sft,s=e,a=e);function h(v,x,S=0,M=v.length){if(S<M){if(n(x,x)!==0)return M;do{const A=S+M>>>1;s(v[A],x)<0?S=A+1:M=A}while(S<M)}return S}function d(v,x,S=0,M=v.length){if(S<M){if(n(x,x)!==0)return M;do{const A=S+M>>>1;s(v[A],x)<=0?S=A+1:M=A}while(S<M)}return S}function p(v,x,S=0,M=v.length){const A=h(v,x,S,M-1);return A>S&&a(v[A-1],x)>-a(v[A],x)?A-1:A}return{left:h,center:p,right:d}}function Sft(){return 0}function b3(e){return e===null?NaN:+e}function*Pft(e,n){for(let s of e)s!=null&&(s=+s)>=s&&(yield s)}const kft=nM(Wl),Lg=kft.right;nM(b3).center;class kE extends Map{constructor(n,s=Aft){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:s}}),n!=null)for(const[a,h]of n)this.set(a,h)}get(n){return super.get(TE(this,n))}has(n){return super.has(TE(this,n))}set(n,s){return super.set(Tft(this,n),s)}delete(n){return super.delete(Mft(this,n))}}function TE({_intern:e,_key:n},s){const a=n(s);return e.has(a)?e.get(a):s}function Tft({_intern:e,_key:n},s){const a=n(s);return e.has(a)?e.get(a):(e.set(a,s),s)}function Mft({_intern:e,_key:n},s){const a=n(s);return e.has(a)&&(s=e.get(a),e.delete(a)),s}function Aft(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Cft(e=Wl){if(e===Wl)return w3;if(typeof e!="function")throw new TypeError("compare is not a function");return(n,s)=>{const a=e(n,s);return a||a===0?a:(e(s,s)===0)-(e(n,n)===0)}}function w3(e,n){return(e==null||!(e>=e))-(n==null||!(n>=n))||(e<n?-1:e>n?1:0)}const Oft=Math.sqrt(50),Nft=Math.sqrt(10),Eft=Math.sqrt(2);function c0(e,n,s){const a=(n-e)/Math.max(0,s),h=Math.floor(Math.log10(a)),d=a/Math.pow(10,h),p=d>=Oft?10:d>=Nft?5:d>=Eft?2:1;let v,x,S;return h<0?(S=Math.pow(10,-h)/p,v=Math.round(e*S),x=Math.round(n*S),v/S<e&&++v,x/S>n&&--x,S=-S):(S=Math.pow(10,h)*p,v=Math.round(e/S),x=Math.round(n/S),v*S<e&&++v,x*S>n&&--x),x<v&&.5<=s&&s<2?c0(e,n,s*2):[v,x,S]}function LS(e,n,s){if(n=+n,e=+e,s=+s,!(s>0))return[];if(e===n)return[e];const a=n<e,[h,d,p]=a?c0(n,e,s):c0(e,n,s);if(!(d>=h))return[];const v=d-h+1,x=new Array(v);if(a)if(p<0)for(let S=0;S<v;++S)x[S]=(d-S)/-p;else for(let S=0;S<v;++S)x[S]=(d-S)*p;else if(p<0)for(let S=0;S<v;++S)x[S]=(h+S)/-p;else for(let S=0;S<v;++S)x[S]=(h+S)*p;return x}function _S(e,n,s){return n=+n,e=+e,s=+s,c0(e,n,s)[2]}function DS(e,n,s){n=+n,e=+e,s=+s;const a=n<e,h=a?_S(n,e,s):_S(e,n,s);return(a?-1:1)*(h<0?1/-h:h)}function ME(e,n){let s;for(const a of e)a!=null&&(s<a||s===void 0&&a>=a)&&(s=a);return s}function AE(e,n){let s;for(const a of e)a!=null&&(s>a||s===void 0&&a>=a)&&(s=a);return s}function S3(e,n,s=0,a=1/0,h){if(n=Math.floor(n),s=Math.floor(Math.max(0,s)),a=Math.floor(Math.min(e.length-1,a)),!(s<=n&&n<=a))return e;for(h=h===void 0?w3:Cft(h);a>s;){if(a-s>600){const x=a-s+1,S=n-s+1,M=Math.log(x),A=.5*Math.exp(2*M/3),O=.5*Math.sqrt(M*A*(x-A)/x)*(S-x/2<0?-1:1),B=Math.max(s,Math.floor(n-S*A/x+O)),I=Math.min(a,Math.floor(n+(x-S)*A/x+O));S3(e,n,B,I,h)}const d=e[n];let p=s,v=a;for(cf(e,s,n),h(e[a],d)>0&&cf(e,s,a);p<v;){for(cf(e,p,v),++p,--v;h(e[p],d)<0;)++p;for(;h(e[v],d)>0;)--v}h(e[s],d)===0?cf(e,s,v):(++v,cf(e,v,a)),v<=n&&(s=v+1),n<=v&&(a=v-1)}return e}function cf(e,n,s){const a=e[n];e[n]=e[s],e[s]=a}function Lft(e,n,s){if(e=Float64Array.from(Pft(e)),!(!(a=e.length)||isNaN(n=+n))){if(n<=0||a<2)return AE(e);if(n>=1)return ME(e);var a,h=(a-1)*n,d=Math.floor(h),p=ME(S3(e,d).subarray(0,d+1)),v=AE(e.subarray(d+1));return p+(v-p)*(h-d)}}function _ft(e,n,s=b3){if(!(!(a=e.length)||isNaN(n=+n))){if(n<=0||a<2)return+s(e[0],0,e);if(n>=1)return+s(e[a-1],a-1,e);var a,h=(a-1)*n,d=Math.floor(h),p=+s(e[d],d,e),v=+s(e[d+1],d+1,e);return p+(v-p)*(h-d)}}function Dft(e,n,s){e=+e,n=+n,s=(h=arguments.length)<2?(n=e,e=0,1):h<3?1:+s;for(var a=-1,h=Math.max(0,Math.ceil((n-e)/s))|0,d=new Array(h);++a<h;)d[a]=e+a*s;return d}function lo(e,n){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(n).domain(e);break}return this}function hl(e,n){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof n=="function"?this.interpolator(n):this.range(n);break}}return this}const RS=Symbol("implicit");function iM(){var e=new kE,n=[],s=[],a=RS;function h(d){let p=e.get(d);if(p===void 0){if(a!==RS)return a;e.set(d,p=n.push(d)-1)}return s[p%s.length]}return h.domain=function(d){if(!arguments.length)return n.slice();n=[],e=new kE;for(const p of d)e.has(p)||e.set(p,n.push(p)-1);return h},h.range=function(d){return arguments.length?(s=Array.from(d),h):s.slice()},h.unknown=function(d){return arguments.length?(a=d,h):a},h.copy=function(){return iM(n,s).unknown(a)},lo.apply(h,arguments),h}function Op(){var e=iM().unknown(void 0),n=e.domain,s=e.range,a=0,h=1,d,p,v=!1,x=0,S=0,M=.5;delete e.unknown;function A(){var O=n().length,B=h<a,I=B?h:a,j=B?a:h;d=(j-I)/Math.max(1,O-x+S*2),v&&(d=Math.floor(d)),I+=(j-I-d*(O-x))*M,p=d*(1-x),v&&(I=Math.round(I),p=Math.round(p));var V=Dft(O).map(function(C){return I+d*C});return s(B?V.reverse():V)}return e.domain=function(O){return arguments.length?(n(O),A()):n()},e.range=function(O){return arguments.length?([a,h]=O,a=+a,h=+h,A()):[a,h]},e.rangeRound=function(O){return[a,h]=O,a=+a,h=+h,v=!0,A()},e.bandwidth=function(){return p},e.step=function(){return d},e.round=function(O){return arguments.length?(v=!!O,A()):v},e.padding=function(O){return arguments.length?(x=Math.min(1,S=+O),A()):x},e.paddingInner=function(O){return arguments.length?(x=Math.min(1,O),A()):x},e.paddingOuter=function(O){return arguments.length?(S=+O,A()):S},e.align=function(O){return arguments.length?(M=Math.max(0,Math.min(1,O)),A()):M},e.copy=function(){return Op(n(),[a,h]).round(v).paddingInner(x).paddingOuter(S).align(M)},lo.apply(A(),arguments)}function P3(e){var n=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return P3(n())},e}function Gf(){return P3(Op.apply(null,arguments).paddingInner(1))}function rM(e,n,s){e.prototype=n.prototype=s,s.constructor=e}function k3(e,n){var s=Object.create(e.prototype);for(var a in n)s[a]=n[a];return s}function _g(){}var Np=.7,d0=1/Np,vc="\\s*([+-]?\\d+)\\s*",Ep="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ra="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Rft=/^#([0-9a-f]{3,8})$/,Ift=new RegExp(`^rgb\\(${vc},${vc},${vc}\\)$`),Fft=new RegExp(`^rgb\\(${ra},${ra},${ra}\\)$`),jft=new RegExp(`^rgba\\(${vc},${vc},${vc},${Ep}\\)$`),Bft=new RegExp(`^rgba\\(${ra},${ra},${ra},${Ep}\\)$`),$ft=new RegExp(`^hsl\\(${Ep},${ra},${ra}\\)$`),zft=new RegExp(`^hsla\\(${Ep},${ra},${ra},${Ep}\\)$`),CE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};rM(_g,Lp,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:OE,formatHex:OE,formatHex8:Vft,formatHsl:Uft,formatRgb:NE,toString:NE});function OE(){return this.rgb().formatHex()}function Vft(){return this.rgb().formatHex8()}function Uft(){return T3(this).formatHsl()}function NE(){return this.rgb().formatRgb()}function Lp(e){var n,s;return e=(e+"").trim().toLowerCase(),(n=Rft.exec(e))?(s=n[1].length,n=parseInt(n[1],16),s===6?EE(n):s===3?new os(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):s===8?Am(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):s===4?Am(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=Ift.exec(e))?new os(n[1],n[2],n[3],1):(n=Fft.exec(e))?new os(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=jft.exec(e))?Am(n[1],n[2],n[3],n[4]):(n=Bft.exec(e))?Am(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=$ft.exec(e))?DE(n[1],n[2]/100,n[3]/100,1):(n=zft.exec(e))?DE(n[1],n[2]/100,n[3]/100,n[4]):CE.hasOwnProperty(e)?EE(CE[e]):e==="transparent"?new os(NaN,NaN,NaN,0):null}function EE(e){return new os(e>>16&255,e>>8&255,e&255,1)}function Am(e,n,s,a){return a<=0&&(e=n=s=NaN),new os(e,n,s,a)}function Kft(e){return e instanceof _g||(e=Lp(e)),e?(e=e.rgb(),new os(e.r,e.g,e.b,e.opacity)):new os}function IS(e,n,s,a){return arguments.length===1?Kft(e):new os(e,n,s,a??1)}function os(e,n,s,a){this.r=+e,this.g=+n,this.b=+s,this.opacity=+a}rM(os,IS,k3(_g,{brighter(e){return e=e==null?d0:Math.pow(d0,e),new os(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Np:Math.pow(Np,e),new os(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new os(Hu(this.r),Hu(this.g),Hu(this.b),f0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:LE,formatHex:LE,formatHex8:Gft,formatRgb:_E,toString:_E}));function LE(){return`#${Fu(this.r)}${Fu(this.g)}${Fu(this.b)}`}function Gft(){return`#${Fu(this.r)}${Fu(this.g)}${Fu(this.b)}${Fu((isNaN(this.opacity)?1:this.opacity)*255)}`}function _E(){const e=f0(this.opacity);return`${e===1?"rgb(":"rgba("}${Hu(this.r)}, ${Hu(this.g)}, ${Hu(this.b)}${e===1?")":`, ${e})`}`}function f0(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Hu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Fu(e){return e=Hu(e),(e<16?"0":"")+e.toString(16)}function DE(e,n,s,a){return a<=0?e=n=s=NaN:s<=0||s>=1?e=n=NaN:n<=0&&(e=NaN),new To(e,n,s,a)}function T3(e){if(e instanceof To)return new To(e.h,e.s,e.l,e.opacity);if(e instanceof _g||(e=Lp(e)),!e)return new To;if(e instanceof To)return e;e=e.rgb();var n=e.r/255,s=e.g/255,a=e.b/255,h=Math.min(n,s,a),d=Math.max(n,s,a),p=NaN,v=d-h,x=(d+h)/2;return v?(n===d?p=(s-a)/v+(s<a)*6:s===d?p=(a-n)/v+2:p=(n-s)/v+4,v/=x<.5?d+h:2-d-h,p*=60):v=x>0&&x<1?0:p,new To(p,v,x,e.opacity)}function Wft(e,n,s,a){return arguments.length===1?T3(e):new To(e,n,s,a??1)}function To(e,n,s,a){this.h=+e,this.s=+n,this.l=+s,this.opacity=+a}rM(To,Wft,k3(_g,{brighter(e){return e=e==null?d0:Math.pow(d0,e),new To(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Np:Math.pow(Np,e),new To(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,n=isNaN(e)||isNaN(this.s)?0:this.s,s=this.l,a=s+(s<.5?s:1-s)*n,h=2*s-a;return new os(lb(e>=240?e-240:e+120,h,a),lb(e,h,a),lb(e<120?e+240:e-120,h,a),this.opacity)},clamp(){return new To(RE(this.h),Cm(this.s),Cm(this.l),f0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=f0(this.opacity);return`${e===1?"hsl(":"hsla("}${RE(this.h)}, ${Cm(this.s)*100}%, ${Cm(this.l)*100}%${e===1?")":`, ${e})`}`}}));function RE(e){return e=(e||0)%360,e<0?e+360:e}function Cm(e){return Math.max(0,Math.min(1,e||0))}function lb(e,n,s){return(e<60?n+(s-n)*e/60:e<180?s:e<240?n+(s-n)*(240-e)/60:n)*255}const sM=e=>()=>e;function Hft(e,n){return function(s){return e+s*n}}function Xft(e,n,s){return e=Math.pow(e,s),n=Math.pow(n,s)-e,s=1/s,function(a){return Math.pow(e+a*n,s)}}function Yft(e){return(e=+e)==1?M3:function(n,s){return s-n?Xft(n,s,e):sM(isNaN(n)?s:n)}}function M3(e,n){var s=n-e;return s?Hft(e,s):sM(isNaN(e)?n:e)}const IE=function e(n){var s=Yft(n);function a(h,d){var p=s((h=IS(h)).r,(d=IS(d)).r),v=s(h.g,d.g),x=s(h.b,d.b),S=M3(h.opacity,d.opacity);return function(M){return h.r=p(M),h.g=v(M),h.b=x(M),h.opacity=S(M),h+""}}return a.gamma=e,a}(1);function qft(e,n){n||(n=[]);var s=e?Math.min(n.length,e.length):0,a=n.slice(),h;return function(d){for(h=0;h<s;++h)a[h]=e[h]*(1-d)+n[h]*d;return a}}function Zft(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Jft(e,n){var s=n?n.length:0,a=e?Math.min(s,e.length):0,h=new Array(a),d=new Array(s),p;for(p=0;p<a;++p)h[p]=Pd(e[p],n[p]);for(;p<s;++p)d[p]=n[p];return function(v){for(p=0;p<a;++p)d[p]=h[p](v);return d}}function Qft(e,n){var s=new Date;return e=+e,n=+n,function(a){return s.setTime(e*(1-a)+n*a),s}}function p0(e,n){return e=+e,n=+n,function(s){return e*(1-s)+n*s}}function tpt(e,n){var s={},a={},h;(e===null||typeof e!="object")&&(e={}),(n===null||typeof n!="object")&&(n={});for(h in n)h in e?s[h]=Pd(e[h],n[h]):a[h]=n[h];return function(d){for(h in s)a[h]=s[h](d);return a}}var FS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ub=new RegExp(FS.source,"g");function ept(e){return function(){return e}}function npt(e){return function(n){return e(n)+""}}function ipt(e,n){var s=FS.lastIndex=ub.lastIndex=0,a,h,d,p=-1,v=[],x=[];for(e=e+"",n=n+"";(a=FS.exec(e))&&(h=ub.exec(n));)(d=h.index)>s&&(d=n.slice(s,d),v[p]?v[p]+=d:v[++p]=d),(a=a[0])===(h=h[0])?v[p]?v[p]+=h:v[++p]=h:(v[++p]=null,x.push({i:p,x:p0(a,h)})),s=ub.lastIndex;return s<n.length&&(d=n.slice(s),v[p]?v[p]+=d:v[++p]=d),v.length<2?x[0]?npt(x[0].x):ept(n):(n=x.length,function(S){for(var M=0,A;M<n;++M)v[(A=x[M]).i]=A.x(S);return v.join("")})}function Pd(e,n){var s=typeof n,a;return n==null||s==="boolean"?sM(n):(s==="number"?p0:s==="string"?(a=Lp(n))?(n=a,IE):ipt:n instanceof Lp?IE:n instanceof Date?Qft:Zft(n)?qft:Array.isArray(n)?Jft:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?tpt:p0)(e,n)}function oM(e,n){return e=+e,n=+n,function(s){return Math.round(e*(1-s)+n*s)}}function rpt(e,n){n===void 0&&(n=e,e=Pd);for(var s=0,a=n.length-1,h=n[0],d=new Array(a<0?0:a);s<a;)d[s]=e(h,h=n[++s]);return function(p){var v=Math.max(0,Math.min(a-1,Math.floor(p*=a)));return d[v](p-v)}}function spt(e){return function(){return e}}function g0(e){return+e}var FE=[0,1];function Ur(e){return e}function jS(e,n){return(n-=e=+e)?function(s){return(s-e)/n}:spt(isNaN(n)?NaN:.5)}function opt(e,n){var s;return e>n&&(s=e,e=n,n=s),function(a){return Math.max(e,Math.min(n,a))}}function apt(e,n,s){var a=e[0],h=e[1],d=n[0],p=n[1];return h<a?(a=jS(h,a),d=s(p,d)):(a=jS(a,h),d=s(d,p)),function(v){return d(a(v))}}function lpt(e,n,s){var a=Math.min(e.length,n.length)-1,h=new Array(a),d=new Array(a),p=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),n=n.slice().reverse());++p<a;)h[p]=jS(e[p],e[p+1]),d[p]=s(n[p],n[p+1]);return function(v){var x=Lg(e,v,1,a)-1;return d[x](h[x](v))}}function Dg(e,n){return n.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function s1(){var e=FE,n=FE,s=Pd,a,h,d,p=Ur,v,x,S;function M(){var O=Math.min(e.length,n.length);return p!==Ur&&(p=opt(e[0],e[O-1])),v=O>2?lpt:apt,x=S=null,A}function A(O){return O==null||isNaN(O=+O)?d:(x||(x=v(e.map(a),n,s)))(a(p(O)))}return A.invert=function(O){return p(h((S||(S=v(n,e.map(a),p0)))(O)))},A.domain=function(O){return arguments.length?(e=Array.from(O,g0),M()):e.slice()},A.range=function(O){return arguments.length?(n=Array.from(O),M()):n.slice()},A.rangeRound=function(O){return n=Array.from(O),s=oM,M()},A.clamp=function(O){return arguments.length?(p=O?!0:Ur,M()):p!==Ur},A.interpolate=function(O){return arguments.length?(s=O,M()):s},A.unknown=function(O){return arguments.length?(d=O,A):d},function(O,B){return a=O,h=B,M()}}function aM(){return s1()(Ur,Ur)}function upt(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function m0(e,n){if((s=(e=n?e.toExponential(n-1):e.toExponential()).indexOf("e"))<0)return null;var s,a=e.slice(0,s);return[a.length>1?a[0]+a.slice(2):a,+e.slice(s+1)]}function zc(e){return e=m0(Math.abs(e)),e?e[1]:NaN}function hpt(e,n){return function(s,a){for(var h=s.length,d=[],p=0,v=e[0],x=0;h>0&&v>0&&(x+v+1>a&&(v=Math.max(1,a-x)),d.push(s.substring(h-=v,h+v)),!((x+=v+1)>a));)v=e[p=(p+1)%e.length];return d.reverse().join(n)}}function cpt(e){return function(n){return n.replace(/[0-9]/g,function(s){return e[+s]})}}var dpt=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _p(e){if(!(n=dpt.exec(e)))throw new Error("invalid format: "+e);var n;return new lM({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}_p.prototype=lM.prototype;function lM(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}lM.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function fpt(e){t:for(var n=e.length,s=1,a=-1,h;s<n;++s)switch(e[s]){case".":a=h=s;break;case"0":a===0&&(a=s),h=s;break;default:if(!+e[s])break t;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(h+1):e}var A3;function ppt(e,n){var s=m0(e,n);if(!s)return e+"";var a=s[0],h=s[1],d=h-(A3=Math.max(-8,Math.min(8,Math.floor(h/3)))*3)+1,p=a.length;return d===p?a:d>p?a+new Array(d-p+1).join("0"):d>0?a.slice(0,d)+"."+a.slice(d):"0."+new Array(1-d).join("0")+m0(e,Math.max(0,n+d-1))[0]}function jE(e,n){var s=m0(e,n);if(!s)return e+"";var a=s[0],h=s[1];return h<0?"0."+new Array(-h).join("0")+a:a.length>h+1?a.slice(0,h+1)+"."+a.slice(h+1):a+new Array(h-a.length+2).join("0")}const BE={"%":(e,n)=>(e*100).toFixed(n),b:e=>Math.round(e).toString(2),c:e=>e+"",d:upt,e:(e,n)=>e.toExponential(n),f:(e,n)=>e.toFixed(n),g:(e,n)=>e.toPrecision(n),o:e=>Math.round(e).toString(8),p:(e,n)=>jE(e*100,n),r:jE,s:ppt,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function $E(e){return e}var zE=Array.prototype.map,VE=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function gpt(e){var n=e.grouping===void 0||e.thousands===void 0?$E:hpt(zE.call(e.grouping,Number),e.thousands+""),s=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",h=e.decimal===void 0?".":e.decimal+"",d=e.numerals===void 0?$E:cpt(zE.call(e.numerals,String)),p=e.percent===void 0?"%":e.percent+"",v=e.minus===void 0?"â":e.minus+"",x=e.nan===void 0?"NaN":e.nan+"";function S(A){A=_p(A);var O=A.fill,B=A.align,I=A.sign,j=A.symbol,V=A.zero,C=A.width,z=A.comma,F=A.precision,Y=A.trim,U=A.type;U==="n"?(z=!0,U="g"):BE[U]||(F===void 0&&(F=12),Y=!0,U="g"),(V||O==="0"&&B==="=")&&(V=!0,O="0",B="=");var J=j==="$"?s:j==="#"&&/[boxX]/.test(U)?"0"+U.toLowerCase():"",K=j==="$"?a:/[%p]/.test(U)?p:"",rt=BE[U],gt=/[defgprs%]/.test(U);F=F===void 0?6:/[gprs]/.test(U)?Math.max(1,Math.min(21,F)):Math.max(0,Math.min(20,F));function lt(dt){var mt=J,vt=K,Mt,Ct,Ot;if(U==="c")vt=rt(dt)+vt,dt="";else{dt=+dt;var Rt=dt<0||1/dt<0;if(dt=isNaN(dt)?x:rt(Math.abs(dt),F),Y&&(dt=fpt(dt)),Rt&&+dt==0&&I!=="+"&&(Rt=!1),mt=(Rt?I==="("?I:v:I==="-"||I==="("?"":I)+mt,vt=(U==="s"?VE[8+A3/3]:"")+vt+(Rt&&I==="("?")":""),gt){for(Mt=-1,Ct=dt.length;++Mt<Ct;)if(Ot=dt.charCodeAt(Mt),48>Ot||Ot>57){vt=(Ot===46?h+dt.slice(Mt+1):dt.slice(Mt))+vt,dt=dt.slice(0,Mt);break}}}z&&!V&&(dt=n(dt,1/0));var yt=mt.length+dt.length+vt.length,Nt=yt<C?new Array(C-yt+1).join(O):"";switch(z&&V&&(dt=n(Nt+dt,Nt.length?C-vt.length:1/0),Nt=""),B){case"<":dt=mt+dt+vt+Nt;break;case"=":dt=mt+Nt+dt+vt;break;case"^":dt=Nt.slice(0,yt=Nt.length>>1)+mt+dt+vt+Nt.slice(yt);break;default:dt=Nt+mt+dt+vt;break}return d(dt)}return lt.toString=function(){return A+""},lt}function M(A,O){var B=S((A=_p(A),A.type="f",A)),I=Math.max(-8,Math.min(8,Math.floor(zc(O)/3)))*3,j=Math.pow(10,-I),V=VE[8+I/3];return function(C){return B(j*C)+V}}return{format:S,formatPrefix:M}}var Om,uM,C3;mpt({thousands:",",grouping:[3],currency:["$",""]});function mpt(e){return Om=gpt(e),uM=Om.format,C3=Om.formatPrefix,Om}function ypt(e){return Math.max(0,-zc(Math.abs(e)))}function vpt(e,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(zc(n)/3)))*3-zc(Math.abs(e)))}function xpt(e,n){return e=Math.abs(e),n=Math.abs(n)-e,Math.max(0,zc(n)-zc(e))+1}function O3(e,n,s,a){var h=DS(e,n,s),d;switch(a=_p(a??",f"),a.type){case"s":{var p=Math.max(Math.abs(e),Math.abs(n));return a.precision==null&&!isNaN(d=vpt(h,p))&&(a.precision=d),C3(a,p)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(d=xpt(h,Math.max(Math.abs(e),Math.abs(n))))&&(a.precision=d-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(d=ypt(h))&&(a.precision=d-(a.type==="%")*2);break}}return uM(a)}function hu(e){var n=e.domain;return e.ticks=function(s){var a=n();return LS(a[0],a[a.length-1],s??10)},e.tickFormat=function(s,a){var h=n();return O3(h[0],h[h.length-1],s??10,a)},e.nice=function(s){s==null&&(s=10);var a=n(),h=0,d=a.length-1,p=a[h],v=a[d],x,S,M=10;for(v<p&&(S=p,p=v,v=S,S=h,h=d,d=S);M-- >0;){if(S=_S(p,v,s),S===x)return a[h]=p,a[d]=v,n(a);if(S>0)p=Math.floor(p/S)*S,v=Math.ceil(v/S)*S;else if(S<0)p=Math.ceil(p*S)/S,v=Math.floor(v*S)/S;else break;x=S}return e},e}function y0(){var e=aM();return e.copy=function(){return Dg(e,y0())},lo.apply(e,arguments),hu(e)}function N3(e){var n;function s(a){return a==null||isNaN(a=+a)?n:a}return s.invert=s,s.domain=s.range=function(a){return arguments.length?(e=Array.from(a,g0),s):e.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.copy=function(){return N3(e).unknown(n)},e=arguments.length?Array.from(e,g0):[0,1],hu(s)}function E3(e,n){e=e.slice();var s=0,a=e.length-1,h=e[s],d=e[a],p;return d<h&&(p=s,s=a,a=p,p=h,h=d,d=p),e[s]=n.floor(h),e[a]=n.ceil(d),e}function UE(e){return Math.log(e)}function KE(e){return Math.exp(e)}function bpt(e){return-Math.log(-e)}function wpt(e){return-Math.exp(-e)}function Spt(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Ppt(e){return e===10?Spt:e===Math.E?Math.exp:n=>Math.pow(e,n)}function kpt(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),n=>Math.log(n)/e)}function GE(e){return(n,s)=>-e(-n,s)}function hM(e){const n=e(UE,KE),s=n.domain;let a=10,h,d;function p(){return h=kpt(a),d=Ppt(a),s()[0]<0?(h=GE(h),d=GE(d),e(bpt,wpt)):e(UE,KE),n}return n.base=function(v){return arguments.length?(a=+v,p()):a},n.domain=function(v){return arguments.length?(s(v),p()):s()},n.ticks=v=>{const x=s();let S=x[0],M=x[x.length-1];const A=M<S;A&&([S,M]=[M,S]);let O=h(S),B=h(M),I,j;const V=v==null?10:+v;let C=[];if(!(a%1)&&B-O<V){if(O=Math.floor(O),B=Math.ceil(B),S>0){for(;O<=B;++O)for(I=1;I<a;++I)if(j=O<0?I/d(-O):I*d(O),!(j<S)){if(j>M)break;C.push(j)}}else for(;O<=B;++O)for(I=a-1;I>=1;--I)if(j=O>0?I/d(-O):I*d(O),!(j<S)){if(j>M)break;C.push(j)}C.length*2<V&&(C=LS(S,M,V))}else C=LS(O,B,Math.min(B-O,V)).map(d);return A?C.reverse():C},n.tickFormat=(v,x)=>{if(v==null&&(v=10),x==null&&(x=a===10?"s":","),typeof x!="function"&&(!(a%1)&&(x=_p(x)).precision==null&&(x.trim=!0),x=uM(x)),v===1/0)return x;const S=Math.max(1,a*v/n.ticks().length);return M=>{let A=M/d(Math.round(h(M)));return A*a<a-.5&&(A*=a),A<=S?x(M):""}},n.nice=()=>s(E3(s(),{floor:v=>d(Math.floor(h(v))),ceil:v=>d(Math.ceil(h(v)))})),n}function L3(){const e=hM(s1()).domain([1,10]);return e.copy=()=>Dg(e,L3()).base(e.base()),lo.apply(e,arguments),e}function WE(e){return function(n){return Math.sign(n)*Math.log1p(Math.abs(n/e))}}function HE(e){return function(n){return Math.sign(n)*Math.expm1(Math.abs(n))*e}}function cM(e){var n=1,s=e(WE(n),HE(n));return s.constant=function(a){return arguments.length?e(WE(n=+a),HE(n)):n},hu(s)}function _3(){var e=cM(s1());return e.copy=function(){return Dg(e,_3()).constant(e.constant())},lo.apply(e,arguments)}function XE(e){return function(n){return n<0?-Math.pow(-n,e):Math.pow(n,e)}}function Tpt(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Mpt(e){return e<0?-e*e:e*e}function dM(e){var n=e(Ur,Ur),s=1;function a(){return s===1?e(Ur,Ur):s===.5?e(Tpt,Mpt):e(XE(s),XE(1/s))}return n.exponent=function(h){return arguments.length?(s=+h,a()):s},hu(n)}function fM(){var e=dM(s1());return e.copy=function(){return Dg(e,fM()).exponent(e.exponent())},lo.apply(e,arguments),e}function Apt(){return fM.apply(null,arguments).exponent(.5)}function YE(e){return Math.sign(e)*e*e}function Cpt(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function D3(){var e=aM(),n=[0,1],s=!1,a;function h(d){var p=Cpt(e(d));return isNaN(p)?a:s?Math.round(p):p}return h.invert=function(d){return e.invert(YE(d))},h.domain=function(d){return arguments.length?(e.domain(d),h):e.domain()},h.range=function(d){return arguments.length?(e.range((n=Array.from(d,g0)).map(YE)),h):n.slice()},h.rangeRound=function(d){return h.range(d).round(!0)},h.round=function(d){return arguments.length?(s=!!d,h):s},h.clamp=function(d){return arguments.length?(e.clamp(d),h):e.clamp()},h.unknown=function(d){return arguments.length?(a=d,h):a},h.copy=function(){return D3(e.domain(),n).round(s).clamp(e.clamp()).unknown(a)},lo.apply(h,arguments),hu(h)}function R3(){var e=[],n=[],s=[],a;function h(){var p=0,v=Math.max(1,n.length);for(s=new Array(v-1);++p<v;)s[p-1]=_ft(e,p/v);return d}function d(p){return p==null||isNaN(p=+p)?a:n[Lg(s,p)]}return d.invertExtent=function(p){var v=n.indexOf(p);return v<0?[NaN,NaN]:[v>0?s[v-1]:e[0],v<s.length?s[v]:e[e.length-1]]},d.domain=function(p){if(!arguments.length)return e.slice();e=[];for(let v of p)v!=null&&!isNaN(v=+v)&&e.push(v);return e.sort(Wl),h()},d.range=function(p){return arguments.length?(n=Array.from(p),h()):n.slice()},d.unknown=function(p){return arguments.length?(a=p,d):a},d.quantiles=function(){return s.slice()},d.copy=function(){return R3().domain(e).range(n).unknown(a)},lo.apply(d,arguments)}function I3(){var e=0,n=1,s=1,a=[.5],h=[0,1],d;function p(x){return x!=null&&x<=x?h[Lg(a,x,0,s)]:d}function v(){var x=-1;for(a=new Array(s);++x<s;)a[x]=((x+1)*n-(x-s)*e)/(s+1);return p}return p.domain=function(x){return arguments.length?([e,n]=x,e=+e,n=+n,v()):[e,n]},p.range=function(x){return arguments.length?(s=(h=Array.from(x)).length-1,v()):h.slice()},p.invertExtent=function(x){var S=h.indexOf(x);return S<0?[NaN,NaN]:S<1?[e,a[0]]:S>=s?[a[s-1],n]:[a[S-1],a[S]]},p.unknown=function(x){return arguments.length&&(d=x),p},p.thresholds=function(){return a.slice()},p.copy=function(){return I3().domain([e,n]).range(h).unknown(d)},lo.apply(hu(p),arguments)}function F3(){var e=[.5],n=[0,1],s,a=1;function h(d){return d!=null&&d<=d?n[Lg(e,d,0,a)]:s}return h.domain=function(d){return arguments.length?(e=Array.from(d),a=Math.min(e.length,n.length-1),h):e.slice()},h.range=function(d){return arguments.length?(n=Array.from(d),a=Math.min(e.length,n.length-1),h):n.slice()},h.invertExtent=function(d){var p=n.indexOf(d);return[e[p-1],e[p]]},h.unknown=function(d){return arguments.length?(s=d,h):s},h.copy=function(){return F3().domain(e).range(n).unknown(s)},lo.apply(h,arguments)}const hb=new Date,cb=new Date;function Ui(e,n,s,a){function h(d){return e(d=arguments.length===0?new Date:new Date(+d)),d}return h.floor=d=>(e(d=new Date(+d)),d),h.ceil=d=>(e(d=new Date(d-1)),n(d,1),e(d),d),h.round=d=>{const p=h(d),v=h.ceil(d);return d-p<v-d?p:v},h.offset=(d,p)=>(n(d=new Date(+d),p==null?1:Math.floor(p)),d),h.range=(d,p,v)=>{const x=[];if(d=h.ceil(d),v=v==null?1:Math.floor(v),!(d<p)||!(v>0))return x;let S;do x.push(S=new Date(+d)),n(d,v),e(d);while(S<d&&d<p);return x},h.filter=d=>Ui(p=>{if(p>=p)for(;e(p),!d(p);)p.setTime(p-1)},(p,v)=>{if(p>=p)if(v<0)for(;++v<=0;)for(;n(p,-1),!d(p););else for(;--v>=0;)for(;n(p,1),!d(p););}),s&&(h.count=(d,p)=>(hb.setTime(+d),cb.setTime(+p),e(hb),e(cb),Math.floor(s(hb,cb))),h.every=d=>(d=Math.floor(d),!isFinite(d)||!(d>0)?null:d>1?h.filter(a?p=>a(p)%d===0:p=>h.count(0,p)%d===0):h)),h}const v0=Ui(()=>{},(e,n)=>{e.setTime(+e+n)},(e,n)=>n-e);v0.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ui(n=>{n.setTime(Math.floor(n/e)*e)},(n,s)=>{n.setTime(+n+s*e)},(n,s)=>(s-n)/e):v0);v0.range;const Da=1e3,Qs=Da*60,Ra=Qs*60,tl=Ra*24,pM=tl*7,qE=tl*30,db=tl*365,ju=Ui(e=>{e.setTime(e-e.getMilliseconds())},(e,n)=>{e.setTime(+e+n*Da)},(e,n)=>(n-e)/Da,e=>e.getUTCSeconds());ju.range;const gM=Ui(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Da)},(e,n)=>{e.setTime(+e+n*Qs)},(e,n)=>(n-e)/Qs,e=>e.getMinutes());gM.range;const mM=Ui(e=>{e.setUTCSeconds(0,0)},(e,n)=>{e.setTime(+e+n*Qs)},(e,n)=>(n-e)/Qs,e=>e.getUTCMinutes());mM.range;const yM=Ui(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Da-e.getMinutes()*Qs)},(e,n)=>{e.setTime(+e+n*Ra)},(e,n)=>(n-e)/Ra,e=>e.getHours());yM.range;const vM=Ui(e=>{e.setUTCMinutes(0,0,0)},(e,n)=>{e.setTime(+e+n*Ra)},(e,n)=>(n-e)/Ra,e=>e.getUTCHours());vM.range;const Rg=Ui(e=>e.setHours(0,0,0,0),(e,n)=>e.setDate(e.getDate()+n),(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Qs)/tl,e=>e.getDate()-1);Rg.range;const o1=Ui(e=>{e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n)},(e,n)=>(n-e)/tl,e=>e.getUTCDate()-1);o1.range;const j3=Ui(e=>{e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n)},(e,n)=>(n-e)/tl,e=>Math.floor(e/tl));j3.range;function ph(e){return Ui(n=>{n.setDate(n.getDate()-(n.getDay()+7-e)%7),n.setHours(0,0,0,0)},(n,s)=>{n.setDate(n.getDate()+s*7)},(n,s)=>(s-n-(s.getTimezoneOffset()-n.getTimezoneOffset())*Qs)/pM)}const a1=ph(0),x0=ph(1),Opt=ph(2),Npt=ph(3),Vc=ph(4),Ept=ph(5),Lpt=ph(6);a1.range;x0.range;Opt.range;Npt.range;Vc.range;Ept.range;Lpt.range;function gh(e){return Ui(n=>{n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-e)%7),n.setUTCHours(0,0,0,0)},(n,s)=>{n.setUTCDate(n.getUTCDate()+s*7)},(n,s)=>(s-n)/pM)}const l1=gh(0),b0=gh(1),_pt=gh(2),Dpt=gh(3),Uc=gh(4),Rpt=gh(5),Ipt=gh(6);l1.range;b0.range;_pt.range;Dpt.range;Uc.range;Rpt.range;Ipt.range;const xM=Ui(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,n)=>{e.setMonth(e.getMonth()+n)},(e,n)=>n.getMonth()-e.getMonth()+(n.getFullYear()-e.getFullYear())*12,e=>e.getMonth());xM.range;const bM=Ui(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCMonth(e.getUTCMonth()+n)},(e,n)=>n.getUTCMonth()-e.getUTCMonth()+(n.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());bM.range;const el=Ui(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n)},(e,n)=>n.getFullYear()-e.getFullYear(),e=>e.getFullYear());el.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ui(n=>{n.setFullYear(Math.floor(n.getFullYear()/e)*e),n.setMonth(0,1),n.setHours(0,0,0,0)},(n,s)=>{n.setFullYear(n.getFullYear()+s*e)});el.range;const nl=Ui(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n)},(e,n)=>n.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());nl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ui(n=>{n.setUTCFullYear(Math.floor(n.getUTCFullYear()/e)*e),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,s)=>{n.setUTCFullYear(n.getUTCFullYear()+s*e)});nl.range;function B3(e,n,s,a,h,d){const p=[[ju,1,Da],[ju,5,5*Da],[ju,15,15*Da],[ju,30,30*Da],[d,1,Qs],[d,5,5*Qs],[d,15,15*Qs],[d,30,30*Qs],[h,1,Ra],[h,3,3*Ra],[h,6,6*Ra],[h,12,12*Ra],[a,1,tl],[a,2,2*tl],[s,1,pM],[n,1,qE],[n,3,3*qE],[e,1,db]];function v(S,M,A){const O=M<S;O&&([S,M]=[M,S]);const B=A&&typeof A.range=="function"?A:x(S,M,A),I=B?B.range(S,+M+1):[];return O?I.reverse():I}function x(S,M,A){const O=Math.abs(M-S)/A,B=nM(([,,V])=>V).right(p,O);if(B===p.length)return e.every(DS(S/db,M/db,A));if(B===0)return v0.every(Math.max(DS(S,M,A),1));const[I,j]=p[O/p[B-1][2]<p[B][2]/O?B-1:B];return I.every(j)}return[v,x]}const[Fpt,jpt]=B3(nl,bM,l1,j3,vM,mM),[Bpt,$pt]=B3(el,xM,a1,Rg,yM,gM);function fb(e){if(0<=e.y&&e.y<100){var n=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return n.setFullYear(e.y),n}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function pb(e){if(0<=e.y&&e.y<100){var n=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return n.setUTCFullYear(e.y),n}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function df(e,n,s){return{y:e,m:n,d:s,H:0,M:0,S:0,L:0}}function zpt(e){var n=e.dateTime,s=e.date,a=e.time,h=e.periods,d=e.days,p=e.shortDays,v=e.months,x=e.shortMonths,S=ff(h),M=pf(h),A=ff(d),O=pf(d),B=ff(p),I=pf(p),j=ff(v),V=pf(v),C=ff(x),z=pf(x),F={a:Rt,A:yt,b:Nt,B:kt,c:null,d:nL,e:nL,f:hgt,g:bgt,G:Sgt,H:agt,I:lgt,j:ugt,L:$3,m:cgt,M:dgt,p:At,q:It,Q:sL,s:oL,S:fgt,u:pgt,U:ggt,V:mgt,w:ygt,W:vgt,x:null,X:null,y:xgt,Y:wgt,Z:Pgt,"%":rL},Y={a:$t,A:ee,b:ne,B:Ft,c:null,d:iL,e:iL,f:Agt,g:Fgt,G:Bgt,H:kgt,I:Tgt,j:Mgt,L:V3,m:Cgt,M:Ogt,p:he,q:be,Q:sL,s:oL,S:Ngt,u:Egt,U:Lgt,V:_gt,w:Dgt,W:Rgt,x:null,X:null,y:Igt,Y:jgt,Z:$gt,"%":rL},U={a:lt,A:dt,b:mt,B:vt,c:Mt,d:tL,e:tL,f:igt,g:QE,G:JE,H:eL,I:eL,j:Qpt,L:ngt,m:Jpt,M:tgt,p:gt,q:Zpt,Q:sgt,s:ogt,S:egt,u:Wpt,U:Hpt,V:Xpt,w:Gpt,W:Ypt,x:Ct,X:Ot,y:QE,Y:JE,Z:qpt,"%":rgt};F.x=J(s,F),F.X=J(a,F),F.c=J(n,F),Y.x=J(s,Y),Y.X=J(a,Y),Y.c=J(n,Y);function J(te,le){return function(me){var _t=[],Yt=-1,ue=0,Ae=te.length,_e,en,qe;for(me instanceof Date||(me=new Date(+me));++Yt<Ae;)te.charCodeAt(Yt)===37&&(_t.push(te.slice(ue,Yt)),(en=ZE[_e=te.charAt(++Yt)])!=null?_e=te.charAt(++Yt):en=_e==="e"?" ":"0",(qe=le[_e])&&(_e=qe(me,en)),_t.push(_e),ue=Yt+1);return _t.push(te.slice(ue,Yt)),_t.join("")}}function K(te,le){return function(me){var _t=df(1900,void 0,1),Yt=rt(_t,te,me+="",0),ue,Ae;if(Yt!=me.length)return null;if("Q"in _t)return new Date(_t.Q);if("s"in _t)return new Date(_t.s*1e3+("L"in _t?_t.L:0));if(le&&!("Z"in _t)&&(_t.Z=0),"p"in _t&&(_t.H=_t.H%12+_t.p*12),_t.m===void 0&&(_t.m="q"in _t?_t.q:0),"V"in _t){if(_t.V<1||_t.V>53)return null;"w"in _t||(_t.w=1),"Z"in _t?(ue=pb(df(_t.y,0,1)),Ae=ue.getUTCDay(),ue=Ae>4||Ae===0?b0.ceil(ue):b0(ue),ue=o1.offset(ue,(_t.V-1)*7),_t.y=ue.getUTCFullYear(),_t.m=ue.getUTCMonth(),_t.d=ue.getUTCDate()+(_t.w+6)%7):(ue=fb(df(_t.y,0,1)),Ae=ue.getDay(),ue=Ae>4||Ae===0?x0.ceil(ue):x0(ue),ue=Rg.offset(ue,(_t.V-1)*7),_t.y=ue.getFullYear(),_t.m=ue.getMonth(),_t.d=ue.getDate()+(_t.w+6)%7)}else("W"in _t||"U"in _t)&&("w"in _t||(_t.w="u"in _t?_t.u%7:"W"in _t?1:0),Ae="Z"in _t?pb(df(_t.y,0,1)).getUTCDay():fb(df(_t.y,0,1)).getDay(),_t.m=0,_t.d="W"in _t?(_t.w+6)%7+_t.W*7-(Ae+5)%7:_t.w+_t.U*7-(Ae+6)%7);return"Z"in _t?(_t.H+=_t.Z/100|0,_t.M+=_t.Z%100,pb(_t)):fb(_t)}}function rt(te,le,me,_t){for(var Yt=0,ue=le.length,Ae=me.length,_e,en;Yt<ue;){if(_t>=Ae)return-1;if(_e=le.charCodeAt(Yt++),_e===37){if(_e=le.charAt(Yt++),en=U[_e in ZE?le.charAt(Yt++):_e],!en||(_t=en(te,me,_t))<0)return-1}else if(_e!=me.charCodeAt(_t++))return-1}return _t}function gt(te,le,me){var _t=S.exec(le.slice(me));return _t?(te.p=M.get(_t[0].toLowerCase()),me+_t[0].length):-1}function lt(te,le,me){var _t=B.exec(le.slice(me));return _t?(te.w=I.get(_t[0].toLowerCase()),me+_t[0].length):-1}function dt(te,le,me){var _t=A.exec(le.slice(me));return _t?(te.w=O.get(_t[0].toLowerCase()),me+_t[0].length):-1}function mt(te,le,me){var _t=C.exec(le.slice(me));return _t?(te.m=z.get(_t[0].toLowerCase()),me+_t[0].length):-1}function vt(te,le,me){var _t=j.exec(le.slice(me));return _t?(te.m=V.get(_t[0].toLowerCase()),me+_t[0].length):-1}function Mt(te,le,me){return rt(te,n,le,me)}function Ct(te,le,me){return rt(te,s,le,me)}function Ot(te,le,me){return rt(te,a,le,me)}function Rt(te){return p[te.getDay()]}function yt(te){return d[te.getDay()]}function Nt(te){return x[te.getMonth()]}function kt(te){return v[te.getMonth()]}function At(te){return h[+(te.getHours()>=12)]}function It(te){return 1+~~(te.getMonth()/3)}function $t(te){return p[te.getUTCDay()]}function ee(te){return d[te.getUTCDay()]}function ne(te){return x[te.getUTCMonth()]}function Ft(te){return v[te.getUTCMonth()]}function he(te){return h[+(te.getUTCHours()>=12)]}function be(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var le=J(te+="",F);return le.toString=function(){return te},le},parse:function(te){var le=K(te+="",!1);return le.toString=function(){return te},le},utcFormat:function(te){var le=J(te+="",Y);return le.toString=function(){return te},le},utcParse:function(te){var le=K(te+="",!0);return le.toString=function(){return te},le}}}var ZE={"-":"",_:" ",0:"0"},ir=/^\s*\d+/,Vpt=/^%/,Upt=/[\\^$*+?|[\]().{}]/g;function cn(e,n,s){var a=e<0?"-":"",h=(a?-e:e)+"",d=h.length;return a+(d<s?new Array(s-d+1).join(n)+h:h)}function Kpt(e){return e.replace(Upt,"\\$&")}function ff(e){return new RegExp("^(?:"+e.map(Kpt).join("|")+")","i")}function pf(e){return new Map(e.map((n,s)=>[n.toLowerCase(),s]))}function Gpt(e,n,s){var a=ir.exec(n.slice(s,s+1));return a?(e.w=+a[0],s+a[0].length):-1}function Wpt(e,n,s){var a=ir.exec(n.slice(s,s+1));return a?(e.u=+a[0],s+a[0].length):-1}function Hpt(e,n,s){var a=ir.exec(n.slice(s,s+2));return a?(e.U=+a[0],s+a[0].length):-1}function Xpt(e,n,s){var a=ir.exec(n.slice(s,s+2));return a?(e.V=+a[0],s+a[0].length):-1}function Ypt(e,n,s){var a=ir.exec(n.slice(s,s+2));return a?(e.W=+a[0],s+a[0].length):-1}function JE(e,n,s){var a=ir.exec(n.slice(s,s+4));return a?(e.y=+a[0],s+a[0].length):-1}function QE(e,n,s){var a=ir.exec(n.slice(s,s+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),s+a[0].length):-1}function qpt(e,n,s){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(s,s+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),s+a[0].length):-1}function Zpt(e,n,s){var a=ir.exec(n.slice(s,s+1));return a?(e.q=a[0]*3-3,s+a[0].length):-1}function Jpt(e,n,s){var a=ir.exec(n.slice(s,s+2));return a?(e.m=a[0]-1,s+a[0].length):-1}function tL(e,n,s){var a=ir.exec(n.slice(s,s+2));return a?(e.d=+a[0],s+a[0].length):-1}function Qpt(e,n,s){var a=ir.exec(n.slice(s,s+3));return a?(e.m=0,e.d=+a[0],s+a[0].length):-1}function eL(e,n,s){var a=ir.exec(n.slice(s,s+2));return a?(e.H=+a[0],s+a[0].length):-1}function tgt(e,n,s){var a=ir.exec(n.slice(s,s+2));return a?(e.M=+a[0],s+a[0].length):-1}function egt(e,n,s){var a=ir.exec(n.slice(s,s+2));return a?(e.S=+a[0],s+a[0].length):-1}function ngt(e,n,s){var a=ir.exec(n.slice(s,s+3));return a?(e.L=+a[0],s+a[0].length):-1}function igt(e,n,s){var a=ir.exec(n.slice(s,s+6));return a?(e.L=Math.floor(a[0]/1e3),s+a[0].length):-1}function rgt(e,n,s){var a=Vpt.exec(n.slice(s,s+1));return a?s+a[0].length:-1}function sgt(e,n,s){var a=ir.exec(n.slice(s));return a?(e.Q=+a[0],s+a[0].length):-1}function ogt(e,n,s){var a=ir.exec(n.slice(s));return a?(e.s=+a[0],s+a[0].length):-1}function nL(e,n){return cn(e.getDate(),n,2)}function agt(e,n){return cn(e.getHours(),n,2)}function lgt(e,n){return cn(e.getHours()%12||12,n,2)}function ugt(e,n){return cn(1+Rg.count(el(e),e),n,3)}function $3(e,n){return cn(e.getMilliseconds(),n,3)}function hgt(e,n){return $3(e,n)+"000"}function cgt(e,n){return cn(e.getMonth()+1,n,2)}function dgt(e,n){return cn(e.getMinutes(),n,2)}function fgt(e,n){return cn(e.getSeconds(),n,2)}function pgt(e){var n=e.getDay();return n===0?7:n}function ggt(e,n){return cn(a1.count(el(e)-1,e),n,2)}function z3(e){var n=e.getDay();return n>=4||n===0?Vc(e):Vc.ceil(e)}function mgt(e,n){return e=z3(e),cn(Vc.count(el(e),e)+(el(e).getDay()===4),n,2)}function ygt(e){return e.getDay()}function vgt(e,n){return cn(x0.count(el(e)-1,e),n,2)}function xgt(e,n){return cn(e.getFullYear()%100,n,2)}function bgt(e,n){return e=z3(e),cn(e.getFullYear()%100,n,2)}function wgt(e,n){return cn(e.getFullYear()%1e4,n,4)}function Sgt(e,n){var s=e.getDay();return e=s>=4||s===0?Vc(e):Vc.ceil(e),cn(e.getFullYear()%1e4,n,4)}function Pgt(e){var n=e.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+cn(n/60|0,"0",2)+cn(n%60,"0",2)}function iL(e,n){return cn(e.getUTCDate(),n,2)}function kgt(e,n){return cn(e.getUTCHours(),n,2)}function Tgt(e,n){return cn(e.getUTCHours()%12||12,n,2)}function Mgt(e,n){return cn(1+o1.count(nl(e),e),n,3)}function V3(e,n){return cn(e.getUTCMilliseconds(),n,3)}function Agt(e,n){return V3(e,n)+"000"}function Cgt(e,n){return cn(e.getUTCMonth()+1,n,2)}function Ogt(e,n){return cn(e.getUTCMinutes(),n,2)}function Ngt(e,n){return cn(e.getUTCSeconds(),n,2)}function Egt(e){var n=e.getUTCDay();return n===0?7:n}function Lgt(e,n){return cn(l1.count(nl(e)-1,e),n,2)}function U3(e){var n=e.getUTCDay();return n>=4||n===0?Uc(e):Uc.ceil(e)}function _gt(e,n){return e=U3(e),cn(Uc.count(nl(e),e)+(nl(e).getUTCDay()===4),n,2)}function Dgt(e){return e.getUTCDay()}function Rgt(e,n){return cn(b0.count(nl(e)-1,e),n,2)}function Igt(e,n){return cn(e.getUTCFullYear()%100,n,2)}function Fgt(e,n){return e=U3(e),cn(e.getUTCFullYear()%100,n,2)}function jgt(e,n){return cn(e.getUTCFullYear()%1e4,n,4)}function Bgt(e,n){var s=e.getUTCDay();return e=s>=4||s===0?Uc(e):Uc.ceil(e),cn(e.getUTCFullYear()%1e4,n,4)}function $gt(){return"+0000"}function rL(){return"%"}function sL(e){return+e}function oL(e){return Math.floor(+e/1e3)}var Fh,K3,G3;zgt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function zgt(e){return Fh=zpt(e),K3=Fh.format,Fh.parse,G3=Fh.utcFormat,Fh.utcParse,Fh}function Vgt(e){return new Date(e)}function Ugt(e){return e instanceof Date?+e:+new Date(+e)}function wM(e,n,s,a,h,d,p,v,x,S){var M=aM(),A=M.invert,O=M.domain,B=S(".%L"),I=S(":%S"),j=S("%I:%M"),V=S("%I %p"),C=S("%a %d"),z=S("%b %d"),F=S("%B"),Y=S("%Y");function U(J){return(x(J)<J?B:v(J)<J?I:p(J)<J?j:d(J)<J?V:a(J)<J?h(J)<J?C:z:s(J)<J?F:Y)(J)}return M.invert=function(J){return new Date(A(J))},M.domain=function(J){return arguments.length?O(Array.from(J,Ugt)):O().map(Vgt)},M.ticks=function(J){var K=O();return e(K[0],K[K.length-1],J??10)},M.tickFormat=function(J,K){return K==null?U:S(K)},M.nice=function(J){var K=O();return(!J||typeof J.range!="function")&&(J=n(K[0],K[K.length-1],J??10)),J?O(E3(K,J)):M},M.copy=function(){return Dg(M,wM(e,n,s,a,h,d,p,v,x,S))},M}function Kgt(){return lo.apply(wM(Bpt,$pt,el,xM,a1,Rg,yM,gM,ju,K3).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ggt(){return lo.apply(wM(Fpt,jpt,nl,bM,l1,o1,vM,mM,ju,G3).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function u1(){var e=0,n=1,s,a,h,d,p=Ur,v=!1,x;function S(A){return A==null||isNaN(A=+A)?x:p(h===0?.5:(A=(d(A)-s)*h,v?Math.max(0,Math.min(1,A)):A))}S.domain=function(A){return arguments.length?([e,n]=A,s=d(e=+e),a=d(n=+n),h=s===a?0:1/(a-s),S):[e,n]},S.clamp=function(A){return arguments.length?(v=!!A,S):v},S.interpolator=function(A){return arguments.length?(p=A,S):p};function M(A){return function(O){var B,I;return arguments.length?([B,I]=O,p=A(B,I),S):[p(0),p(1)]}}return S.range=M(Pd),S.rangeRound=M(oM),S.unknown=function(A){return arguments.length?(x=A,S):x},function(A){return d=A,s=A(e),a=A(n),h=s===a?0:1/(a-s),S}}function cu(e,n){return n.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function W3(){var e=hu(u1()(Ur));return e.copy=function(){return cu(e,W3())},hl.apply(e,arguments)}function H3(){var e=hM(u1()).domain([1,10]);return e.copy=function(){return cu(e,H3()).base(e.base())},hl.apply(e,arguments)}function X3(){var e=cM(u1());return e.copy=function(){return cu(e,X3()).constant(e.constant())},hl.apply(e,arguments)}function SM(){var e=dM(u1());return e.copy=function(){return cu(e,SM()).exponent(e.exponent())},hl.apply(e,arguments)}function Wgt(){return SM.apply(null,arguments).exponent(.5)}function Y3(){var e=[],n=Ur;function s(a){if(a!=null&&!isNaN(a=+a))return n((Lg(e,a,1)-1)/(e.length-1))}return s.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let h of a)h!=null&&!isNaN(h=+h)&&e.push(h);return e.sort(Wl),s},s.interpolator=function(a){return arguments.length?(n=a,s):n},s.range=function(){return e.map((a,h)=>n(h/(e.length-1)))},s.quantiles=function(a){return Array.from({length:a+1},(h,d)=>Lft(e,d/a))},s.copy=function(){return Y3(n).domain(e)},hl.apply(s,arguments)}function h1(){var e=0,n=.5,s=1,a=1,h,d,p,v,x,S=Ur,M,A=!1,O;function B(j){return isNaN(j=+j)?O:(j=.5+((j=+M(j))-d)*(a*j<a*d?v:x),S(A?Math.max(0,Math.min(1,j)):j))}B.domain=function(j){return arguments.length?([e,n,s]=j,h=M(e=+e),d=M(n=+n),p=M(s=+s),v=h===d?0:.5/(d-h),x=d===p?0:.5/(p-d),a=d<h?-1:1,B):[e,n,s]},B.clamp=function(j){return arguments.length?(A=!!j,B):A},B.interpolator=function(j){return arguments.length?(S=j,B):S};function I(j){return function(V){var C,z,F;return arguments.length?([C,z,F]=V,S=rpt(j,[C,z,F]),B):[S(0),S(.5),S(1)]}}return B.range=I(Pd),B.rangeRound=I(oM),B.unknown=function(j){return arguments.length?(O=j,B):O},function(j){return M=j,h=j(e),d=j(n),p=j(s),v=h===d?0:.5/(d-h),x=d===p?0:.5/(p-d),a=d<h?-1:1,B}}function q3(){var e=hu(h1()(Ur));return e.copy=function(){return cu(e,q3())},hl.apply(e,arguments)}function Z3(){var e=hM(h1()).domain([.1,1,10]);return e.copy=function(){return cu(e,Z3()).base(e.base())},hl.apply(e,arguments)}function J3(){var e=cM(h1());return e.copy=function(){return cu(e,J3()).constant(e.constant())},hl.apply(e,arguments)}function PM(){var e=dM(h1());return e.copy=function(){return cu(e,PM()).exponent(e.exponent())},hl.apply(e,arguments)}function Hgt(){return PM.apply(null,arguments).exponent(.5)}const aL=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Op,scaleDiverging:q3,scaleDivergingLog:Z3,scaleDivergingPow:PM,scaleDivergingSqrt:Hgt,scaleDivergingSymlog:J3,scaleIdentity:N3,scaleImplicit:RS,scaleLinear:y0,scaleLog:L3,scaleOrdinal:iM,scalePoint:Gf,scalePow:fM,scaleQuantile:R3,scaleQuantize:I3,scaleRadial:D3,scaleSequential:W3,scaleSequentialLog:H3,scaleSequentialPow:SM,scaleSequentialQuantile:Y3,scaleSequentialSqrt:Wgt,scaleSequentialSymlog:X3,scaleSqrt:Apt,scaleSymlog:_3,scaleThreshold:F3,scaleTime:Kgt,scaleUtc:Ggt,tickFormat:O3},Symbol.toStringTag,{value:"Module"}));var Xgt=gd;function Ygt(e,n,s){for(var a=-1,h=e.length;++a<h;){var d=e[a],p=n(d);if(p!=null&&(v===void 0?p===p&&!Xgt(p):s(p,v)))var v=p,x=d}return x}var Q3=Ygt;function qgt(e,n){return e>n}var Zgt=qgt,Jgt=Q3,Qgt=Zgt,tmt=Sd;function emt(e){return e&&e.length?Jgt(e,tmt,Qgt):void 0}var nmt=emt;const c1=wn(nmt);function imt(e,n){return e<n}var rmt=imt,smt=Q3,omt=rmt,amt=Sd;function lmt(e){return e&&e.length?smt(e,amt,omt):void 0}var umt=lmt;const d1=wn(umt);var hmt=FT,cmt=uu,dmt=a3,fmt=ds;function pmt(e,n){var s=fmt(e)?hmt:dmt;return s(e,cmt(n))}var gmt=pmt,mmt=s3,ymt=gmt;function vmt(e,n){return mmt(ymt(e,n),1)}var xmt=vmt;const bmt=wn(xmt);var wmt=JT;function Smt(e,n){return wmt(e,n)}var Pmt=Smt;const kM=wn(Pmt);var kd=1e9,kmt={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},MM,ri=!0,so="[DecimalError] ",Xu=so+"Invalid argument: ",TM=so+"Exponent out of range: ",Td=Math.floor,Ou=Math.pow,Tmt=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ms,Qi=1e7,ti=7,tz=9007199254740991,w0=Td(tz/ti),ke={};ke.absoluteValue=ke.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ke.comparedTo=ke.cmp=function(e){var n,s,a,h,d=this;if(e=new d.constructor(e),d.s!==e.s)return d.s||-e.s;if(d.e!==e.e)return d.e>e.e^d.s<0?1:-1;for(a=d.d.length,h=e.d.length,n=0,s=a<h?a:h;n<s;++n)if(d.d[n]!==e.d[n])return d.d[n]>e.d[n]^d.s<0?1:-1;return a===h?0:a>h^d.s<0?1:-1};ke.decimalPlaces=ke.dp=function(){var e=this,n=e.d.length-1,s=(n-e.e)*ti;if(n=e.d[n],n)for(;n%10==0;n/=10)s--;return s<0?0:s};ke.dividedBy=ke.div=function(e){return Ha(this,new this.constructor(e))};ke.dividedToIntegerBy=ke.idiv=function(e){var n=this,s=n.constructor;return jn(Ha(n,new s(e),0,1),s.precision)};ke.equals=ke.eq=function(e){return!this.cmp(e)};ke.exponent=function(){return Di(this)};ke.greaterThan=ke.gt=function(e){return this.cmp(e)>0};ke.greaterThanOrEqualTo=ke.gte=function(e){return this.cmp(e)>=0};ke.isInteger=ke.isint=function(){return this.e>this.d.length-2};ke.isNegative=ke.isneg=function(){return this.s<0};ke.isPositive=ke.ispos=function(){return this.s>0};ke.isZero=function(){return this.s===0};ke.lessThan=ke.lt=function(e){return this.cmp(e)<0};ke.lessThanOrEqualTo=ke.lte=function(e){return this.cmp(e)<1};ke.logarithm=ke.log=function(e){var n,s=this,a=s.constructor,h=a.precision,d=h+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(Ms))throw Error(so+"NaN");if(s.s<1)throw Error(so+(s.s?"NaN":"-Infinity"));return s.eq(Ms)?new a(0):(ri=!1,n=Ha(Dp(s,d),Dp(e,d),d),ri=!0,jn(n,h))};ke.minus=ke.sub=function(e){var n=this;return e=new n.constructor(e),n.s==e.s?iz(n,e):ez(n,(e.s=-e.s,e))};ke.modulo=ke.mod=function(e){var n,s=this,a=s.constructor,h=a.precision;if(e=new a(e),!e.s)throw Error(so+"NaN");return s.s?(ri=!1,n=Ha(s,e,0,1).times(e),ri=!0,s.minus(n)):jn(new a(s),h)};ke.naturalExponential=ke.exp=function(){return nz(this)};ke.naturalLogarithm=ke.ln=function(){return Dp(this)};ke.negated=ke.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ke.plus=ke.add=function(e){var n=this;return e=new n.constructor(e),n.s==e.s?ez(n,e):iz(n,(e.s=-e.s,e))};ke.precision=ke.sd=function(e){var n,s,a,h=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Xu+e);if(n=Di(h)+1,a=h.d.length-1,s=a*ti+1,a=h.d[a],a){for(;a%10==0;a/=10)s--;for(a=h.d[0];a>=10;a/=10)s++}return e&&n>s?n:s};ke.squareRoot=ke.sqrt=function(){var e,n,s,a,h,d,p,v=this,x=v.constructor;if(v.s<1){if(!v.s)return new x(0);throw Error(so+"NaN")}for(e=Di(v),ri=!1,h=Math.sqrt(+v),h==0||h==1/0?(n=ta(v.d),(n.length+e)%2==0&&(n+="0"),h=Math.sqrt(n),e=Td((e+1)/2)-(e<0||e%2),h==1/0?n="5e"+e:(n=h.toExponential(),n=n.slice(0,n.indexOf("e")+1)+e),a=new x(n)):a=new x(h.toString()),s=x.precision,h=p=s+3;;)if(d=a,a=d.plus(Ha(v,d,p+2)).times(.5),ta(d.d).slice(0,p)===(n=ta(a.d)).slice(0,p)){if(n=n.slice(p-3,p+1),h==p&&n=="4999"){if(jn(d,s+1,0),d.times(d).eq(v)){a=d;break}}else if(n!="9999")break;p+=4}return ri=!0,jn(a,s)};ke.times=ke.mul=function(e){var n,s,a,h,d,p,v,x,S,M=this,A=M.constructor,O=M.d,B=(e=new A(e)).d;if(!M.s||!e.s)return new A(0);for(e.s*=M.s,s=M.e+e.e,x=O.length,S=B.length,x<S&&(d=O,O=B,B=d,p=x,x=S,S=p),d=[],p=x+S,a=p;a--;)d.push(0);for(a=S;--a>=0;){for(n=0,h=x+a;h>a;)v=d[h]+B[a]*O[h-a-1]+n,d[h--]=v%Qi|0,n=v/Qi|0;d[h]=(d[h]+n)%Qi|0}for(;!d[--p];)d.pop();return n?++s:d.shift(),e.d=d,e.e=s,ri?jn(e,A.precision):e};ke.toDecimalPlaces=ke.todp=function(e,n){var s=this,a=s.constructor;return s=new a(s),e===void 0?s:(aa(e,0,kd),n===void 0?n=a.rounding:aa(n,0,8),jn(s,e+Di(s)+1,n))};ke.toExponential=function(e,n){var s,a=this,h=a.constructor;return e===void 0?s=sh(a,!0):(aa(e,0,kd),n===void 0?n=h.rounding:aa(n,0,8),a=jn(new h(a),e+1,n),s=sh(a,!0,e+1)),s};ke.toFixed=function(e,n){var s,a,h=this,d=h.constructor;return e===void 0?sh(h):(aa(e,0,kd),n===void 0?n=d.rounding:aa(n,0,8),a=jn(new d(h),e+Di(h)+1,n),s=sh(a.abs(),!1,e+Di(a)+1),h.isneg()&&!h.isZero()?"-"+s:s)};ke.toInteger=ke.toint=function(){var e=this,n=e.constructor;return jn(new n(e),Di(e)+1,n.rounding)};ke.toNumber=function(){return+this};ke.toPower=ke.pow=function(e){var n,s,a,h,d,p,v=this,x=v.constructor,S=12,M=+(e=new x(e));if(!e.s)return new x(Ms);if(v=new x(v),!v.s){if(e.s<1)throw Error(so+"Infinity");return v}if(v.eq(Ms))return v;if(a=x.precision,e.eq(Ms))return jn(v,a);if(n=e.e,s=e.d.length-1,p=n>=s,d=v.s,p){if((s=M<0?-M:M)<=tz){for(h=new x(Ms),n=Math.ceil(a/ti+4),ri=!1;s%2&&(h=h.times(v),uL(h.d,n)),s=Td(s/2),s!==0;)v=v.times(v),uL(v.d,n);return ri=!0,e.s<0?new x(Ms).div(h):jn(h,a)}}else if(d<0)throw Error(so+"NaN");return d=d<0&&e.d[Math.max(n,s)]&1?-1:1,v.s=1,ri=!1,h=e.times(Dp(v,a+S)),ri=!0,h=nz(h),h.s=d,h};ke.toPrecision=function(e,n){var s,a,h=this,d=h.constructor;return e===void 0?(s=Di(h),a=sh(h,s<=d.toExpNeg||s>=d.toExpPos)):(aa(e,1,kd),n===void 0?n=d.rounding:aa(n,0,8),h=jn(new d(h),e,n),s=Di(h),a=sh(h,e<=s||s<=d.toExpNeg,e)),a};ke.toSignificantDigits=ke.tosd=function(e,n){var s=this,a=s.constructor;return e===void 0?(e=a.precision,n=a.rounding):(aa(e,1,kd),n===void 0?n=a.rounding:aa(n,0,8)),jn(new a(s),e,n)};ke.toString=ke.valueOf=ke.val=ke.toJSON=ke[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,n=Di(e),s=e.constructor;return sh(e,n<=s.toExpNeg||n>=s.toExpPos)};function ez(e,n){var s,a,h,d,p,v,x,S,M=e.constructor,A=M.precision;if(!e.s||!n.s)return n.s||(n=new M(e)),ri?jn(n,A):n;if(x=e.d,S=n.d,p=e.e,h=n.e,x=x.slice(),d=p-h,d){for(d<0?(a=x,d=-d,v=S.length):(a=S,h=p,v=x.length),p=Math.ceil(A/ti),v=p>v?p+1:v+1,d>v&&(d=v,a.length=1),a.reverse();d--;)a.push(0);a.reverse()}for(v=x.length,d=S.length,v-d<0&&(d=v,a=S,S=x,x=a),s=0;d;)s=(x[--d]=x[d]+S[d]+s)/Qi|0,x[d]%=Qi;for(s&&(x.unshift(s),++h),v=x.length;x[--v]==0;)x.pop();return n.d=x,n.e=h,ri?jn(n,A):n}function aa(e,n,s){if(e!==~~e||e<n||e>s)throw Error(Xu+e)}function ta(e){var n,s,a,h=e.length-1,d="",p=e[0];if(h>0){for(d+=p,n=1;n<h;n++)a=e[n]+"",s=ti-a.length,s&&(d+=Cl(s)),d+=a;p=e[n],a=p+"",s=ti-a.length,s&&(d+=Cl(s))}else if(p===0)return"0";for(;p%10===0;)p/=10;return d+p}var Ha=function(){function e(a,h){var d,p=0,v=a.length;for(a=a.slice();v--;)d=a[v]*h+p,a[v]=d%Qi|0,p=d/Qi|0;return p&&a.unshift(p),a}function n(a,h,d,p){var v,x;if(d!=p)x=d>p?1:-1;else for(v=x=0;v<d;v++)if(a[v]!=h[v]){x=a[v]>h[v]?1:-1;break}return x}function s(a,h,d){for(var p=0;d--;)a[d]-=p,p=a[d]<h[d]?1:0,a[d]=p*Qi+a[d]-h[d];for(;!a[0]&&a.length>1;)a.shift()}return function(a,h,d,p){var v,x,S,M,A,O,B,I,j,V,C,z,F,Y,U,J,K,rt,gt=a.constructor,lt=a.s==h.s?1:-1,dt=a.d,mt=h.d;if(!a.s)return new gt(a);if(!h.s)throw Error(so+"Division by zero");for(x=a.e-h.e,K=mt.length,U=dt.length,B=new gt(lt),I=B.d=[],S=0;mt[S]==(dt[S]||0);)++S;if(mt[S]>(dt[S]||0)&&--x,d==null?z=d=gt.precision:p?z=d+(Di(a)-Di(h))+1:z=d,z<0)return new gt(0);if(z=z/ti+2|0,S=0,K==1)for(M=0,mt=mt[0],z++;(S<U||M)&&z--;S++)F=M*Qi+(dt[S]||0),I[S]=F/mt|0,M=F%mt|0;else{for(M=Qi/(mt[0]+1)|0,M>1&&(mt=e(mt,M),dt=e(dt,M),K=mt.length,U=dt.length),Y=K,j=dt.slice(0,K),V=j.length;V<K;)j[V++]=0;rt=mt.slice(),rt.unshift(0),J=mt[0],mt[1]>=Qi/2&&++J;do M=0,v=n(mt,j,K,V),v<0?(C=j[0],K!=V&&(C=C*Qi+(j[1]||0)),M=C/J|0,M>1?(M>=Qi&&(M=Qi-1),A=e(mt,M),O=A.length,V=j.length,v=n(A,j,O,V),v==1&&(M--,s(A,K<O?rt:mt,O))):(M==0&&(v=M=1),A=mt.slice()),O=A.length,O<V&&A.unshift(0),s(j,A,V),v==-1&&(V=j.length,v=n(mt,j,K,V),v<1&&(M++,s(j,K<V?rt:mt,V))),V=j.length):v===0&&(M++,j=[0]),I[S++]=M,v&&j[0]?j[V++]=dt[Y]||0:(j=[dt[Y]],V=1);while((Y++<U||j[0]!==void 0)&&z--)}return I[0]||I.shift(),B.e=x,jn(B,p?d+Di(B)+1:d)}}();function nz(e,n){var s,a,h,d,p,v,x=0,S=0,M=e.constructor,A=M.precision;if(Di(e)>16)throw Error(TM+Di(e));if(!e.s)return new M(Ms);for(n==null?(ri=!1,v=A):v=n,p=new M(.03125);e.abs().gte(.1);)e=e.times(p),S+=5;for(a=Math.log(Ou(2,S))/Math.LN10*2+5|0,v+=a,s=h=d=new M(Ms),M.precision=v;;){if(h=jn(h.times(e),v),s=s.times(++x),p=d.plus(Ha(h,s,v)),ta(p.d).slice(0,v)===ta(d.d).slice(0,v)){for(;S--;)d=jn(d.times(d),v);return M.precision=A,n==null?(ri=!0,jn(d,A)):d}d=p}}function Di(e){for(var n=e.e*ti,s=e.d[0];s>=10;s/=10)n++;return n}function gb(e,n,s){if(n>e.LN10.sd())throw ri=!0,s&&(e.precision=s),Error(so+"LN10 precision limit exceeded");return jn(new e(e.LN10),n)}function Cl(e){for(var n="";e--;)n+="0";return n}function Dp(e,n){var s,a,h,d,p,v,x,S,M,A=1,O=10,B=e,I=B.d,j=B.constructor,V=j.precision;if(B.s<1)throw Error(so+(B.s?"NaN":"-Infinity"));if(B.eq(Ms))return new j(0);if(n==null?(ri=!1,S=V):S=n,B.eq(10))return n==null&&(ri=!0),gb(j,S);if(S+=O,j.precision=S,s=ta(I),a=s.charAt(0),d=Di(B),Math.abs(d)<15e14){for(;a<7&&a!=1||a==1&&s.charAt(1)>3;)B=B.times(e),s=ta(B.d),a=s.charAt(0),A++;d=Di(B),a>1?(B=new j("0."+s),d++):B=new j(a+"."+s.slice(1))}else return x=gb(j,S+2,V).times(d+""),B=Dp(new j(a+"."+s.slice(1)),S-O).plus(x),j.precision=V,n==null?(ri=!0,jn(B,V)):B;for(v=p=B=Ha(B.minus(Ms),B.plus(Ms),S),M=jn(B.times(B),S),h=3;;){if(p=jn(p.times(M),S),x=v.plus(Ha(p,new j(h),S)),ta(x.d).slice(0,S)===ta(v.d).slice(0,S))return v=v.times(2),d!==0&&(v=v.plus(gb(j,S+2,V).times(d+""))),v=Ha(v,new j(A),S),j.precision=V,n==null?(ri=!0,jn(v,V)):v;v=x,h+=2}}function lL(e,n){var s,a,h;for((s=n.indexOf("."))>-1&&(n=n.replace(".","")),(a=n.search(/e/i))>0?(s<0&&(s=a),s+=+n.slice(a+1),n=n.substring(0,a)):s<0&&(s=n.length),a=0;n.charCodeAt(a)===48;)++a;for(h=n.length;n.charCodeAt(h-1)===48;)--h;if(n=n.slice(a,h),n){if(h-=a,s=s-a-1,e.e=Td(s/ti),e.d=[],a=(s+1)%ti,s<0&&(a+=ti),a<h){for(a&&e.d.push(+n.slice(0,a)),h-=ti;a<h;)e.d.push(+n.slice(a,a+=ti));n=n.slice(a),a=ti-n.length}else a-=h;for(;a--;)n+="0";if(e.d.push(+n),ri&&(e.e>w0||e.e<-w0))throw Error(TM+s)}else e.s=0,e.e=0,e.d=[0];return e}function jn(e,n,s){var a,h,d,p,v,x,S,M,A=e.d;for(p=1,d=A[0];d>=10;d/=10)p++;if(a=n-p,a<0)a+=ti,h=n,S=A[M=0];else{if(M=Math.ceil((a+1)/ti),d=A.length,M>=d)return e;for(S=d=A[M],p=1;d>=10;d/=10)p++;a%=ti,h=a-ti+p}if(s!==void 0&&(d=Ou(10,p-h-1),v=S/d%10|0,x=n<0||A[M+1]!==void 0||S%d,x=s<4?(v||x)&&(s==0||s==(e.s<0?3:2)):v>5||v==5&&(s==4||x||s==6&&(a>0?h>0?S/Ou(10,p-h):0:A[M-1])%10&1||s==(e.s<0?8:7))),n<1||!A[0])return x?(d=Di(e),A.length=1,n=n-d-1,A[0]=Ou(10,(ti-n%ti)%ti),e.e=Td(-n/ti)||0):(A.length=1,A[0]=e.e=e.s=0),e;if(a==0?(A.length=M,d=1,M--):(A.length=M+1,d=Ou(10,ti-a),A[M]=h>0?(S/Ou(10,p-h)%Ou(10,h)|0)*d:0),x)for(;;)if(M==0){(A[0]+=d)==Qi&&(A[0]=1,++e.e);break}else{if(A[M]+=d,A[M]!=Qi)break;A[M--]=0,d=1}for(a=A.length;A[--a]===0;)A.pop();if(ri&&(e.e>w0||e.e<-w0))throw Error(TM+Di(e));return e}function iz(e,n){var s,a,h,d,p,v,x,S,M,A,O=e.constructor,B=O.precision;if(!e.s||!n.s)return n.s?n.s=-n.s:n=new O(e),ri?jn(n,B):n;if(x=e.d,A=n.d,a=n.e,S=e.e,x=x.slice(),p=S-a,p){for(M=p<0,M?(s=x,p=-p,v=A.length):(s=A,a=S,v=x.length),h=Math.max(Math.ceil(B/ti),v)+2,p>h&&(p=h,s.length=1),s.reverse(),h=p;h--;)s.push(0);s.reverse()}else{for(h=x.length,v=A.length,M=h<v,M&&(v=h),h=0;h<v;h++)if(x[h]!=A[h]){M=x[h]<A[h];break}p=0}for(M&&(s=x,x=A,A=s,n.s=-n.s),v=x.length,h=A.length-v;h>0;--h)x[v++]=0;for(h=A.length;h>p;){if(x[--h]<A[h]){for(d=h;d&&x[--d]===0;)x[d]=Qi-1;--x[d],x[h]+=Qi}x[h]-=A[h]}for(;x[--v]===0;)x.pop();for(;x[0]===0;x.shift())--a;return x[0]?(n.d=x,n.e=a,ri?jn(n,B):n):new O(0)}function sh(e,n,s){var a,h=Di(e),d=ta(e.d),p=d.length;return n?(s&&(a=s-p)>0?d=d.charAt(0)+"."+d.slice(1)+Cl(a):p>1&&(d=d.charAt(0)+"."+d.slice(1)),d=d+(h<0?"e":"e+")+h):h<0?(d="0."+Cl(-h-1)+d,s&&(a=s-p)>0&&(d+=Cl(a))):h>=p?(d+=Cl(h+1-p),s&&(a=s-h-1)>0&&(d=d+"."+Cl(a))):((a=h+1)<p&&(d=d.slice(0,a)+"."+d.slice(a)),s&&(a=s-p)>0&&(h+1===p&&(d+="."),d+=Cl(a))),e.s<0?"-"+d:d}function uL(e,n){if(e.length>n)return e.length=n,!0}function rz(e){var n,s,a;function h(d){var p=this;if(!(p instanceof h))return new h(d);if(p.constructor=h,d instanceof h){p.s=d.s,p.e=d.e,p.d=(d=d.d)?d.slice():d;return}if(typeof d=="number"){if(d*0!==0)throw Error(Xu+d);if(d>0)p.s=1;else if(d<0)d=-d,p.s=-1;else{p.s=0,p.e=0,p.d=[0];return}if(d===~~d&&d<1e7){p.e=0,p.d=[d];return}return lL(p,d.toString())}else if(typeof d!="string")throw Error(Xu+d);if(d.charCodeAt(0)===45?(d=d.slice(1),p.s=-1):p.s=1,Tmt.test(d))lL(p,d);else throw Error(Xu+d)}if(h.prototype=ke,h.ROUND_UP=0,h.ROUND_DOWN=1,h.ROUND_CEIL=2,h.ROUND_FLOOR=3,h.ROUND_HALF_UP=4,h.ROUND_HALF_DOWN=5,h.ROUND_HALF_EVEN=6,h.ROUND_HALF_CEIL=7,h.ROUND_HALF_FLOOR=8,h.clone=rz,h.config=h.set=Mmt,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<a.length;)e.hasOwnProperty(s=a[n++])||(e[s]=this[s]);return h.config(e),h}function Mmt(e){if(!e||typeof e!="object")throw Error(so+"Object expected");var n,s,a,h=["precision",1,kd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(n=0;n<h.length;n+=3)if((a=e[s=h[n]])!==void 0)if(Td(a)===a&&a>=h[n+1]&&a<=h[n+2])this[s]=a;else throw Error(Xu+s+": "+a);if((a=e[s="LN10"])!==void 0)if(a==Math.LN10)this[s]=new this(a);else throw Error(Xu+s+": "+a);return this}var MM=rz(kmt);Ms=new MM(1);const En=MM;function Amt(e){return Emt(e)||Nmt(e)||Omt(e)||Cmt()}function Cmt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Omt(e,n){if(e){if(typeof e=="string")return BS(e,n);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return BS(e,n)}}function Nmt(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Emt(e){if(Array.isArray(e))return BS(e)}function BS(e,n){(n==null||n>e.length)&&(n=e.length);for(var s=0,a=new Array(n);s<n;s++)a[s]=e[s];return a}var Lmt=function(n){return n},sz={"@@functional/placeholder":!0},oz=function(n){return n===sz},hL=function(n){return function s(){return arguments.length===0||arguments.length===1&&oz(arguments.length<=0?void 0:arguments[0])?s:n.apply(void 0,arguments)}},_mt=function e(n,s){return n===1?s:hL(function(){for(var a=arguments.length,h=new Array(a),d=0;d<a;d++)h[d]=arguments[d];var p=h.filter(function(v){return v!==sz}).length;return p>=n?s.apply(void 0,h):e(n-p,hL(function(){for(var v=arguments.length,x=new Array(v),S=0;S<v;S++)x[S]=arguments[S];var M=h.map(function(A){return oz(A)?x.shift():A});return s.apply(void 0,Amt(M).concat(x))}))})},f1=function(n){return _mt(n.length,n)},$S=function(n,s){for(var a=[],h=n;h<s;++h)a[h-n]=h;return a},Dmt=f1(function(e,n){return Array.isArray(n)?n.map(e):Object.keys(n).map(function(s){return n[s]}).map(e)}),Rmt=function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];if(!s.length)return Lmt;var h=s.reverse(),d=h[0],p=h.slice(1);return function(){return p.reduce(function(v,x){return x(v)},d.apply(void 0,arguments))}},zS=function(n){return Array.isArray(n)?n.reverse():n.split("").reverse.join("")},az=function(n){var s=null,a=null;return function(){for(var h=arguments.length,d=new Array(h),p=0;p<h;p++)d[p]=arguments[p];return s&&d.every(function(v,x){return v===s[x]})||(s=d,a=n.apply(void 0,d)),a}};function Imt(e){var n;return e===0?n=1:n=Math.floor(new En(e).abs().log(10).toNumber())+1,n}function Fmt(e,n,s){for(var a=new En(e),h=0,d=[];a.lt(n)&&h<1e5;)d.push(a.toNumber()),a=a.add(s),h++;return d}var jmt=f1(function(e,n,s){var a=+e,h=+n;return a+s*(h-a)}),Bmt=f1(function(e,n,s){var a=n-+e;return a=a||1/0,(s-e)/a}),$mt=f1(function(e,n,s){var a=n-+e;return a=a||1/0,Math.max(0,Math.min(1,(s-e)/a))});const p1={rangeStep:Fmt,getDigitCount:Imt,interpolateNumber:jmt,uninterpolateNumber:Bmt,uninterpolateTruncation:$mt};function VS(e){return Umt(e)||Vmt(e)||lz(e)||zmt()}function zmt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vmt(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Umt(e){if(Array.isArray(e))return US(e)}function Rp(e,n){return Wmt(e)||Gmt(e,n)||lz(e,n)||Kmt()}function Kmt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lz(e,n){if(e){if(typeof e=="string")return US(e,n);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return US(e,n)}}function US(e,n){(n==null||n>e.length)&&(n=e.length);for(var s=0,a=new Array(n);s<n;s++)a[s]=e[s];return a}function Gmt(e,n){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var s=[],a=!0,h=!1,d=void 0;try{for(var p=e[Symbol.iterator](),v;!(a=(v=p.next()).done)&&(s.push(v.value),!(n&&s.length===n));a=!0);}catch(x){h=!0,d=x}finally{try{!a&&p.return!=null&&p.return()}finally{if(h)throw d}}return s}}function Wmt(e){if(Array.isArray(e))return e}function uz(e){var n=Rp(e,2),s=n[0],a=n[1],h=s,d=a;return s>a&&(h=a,d=s),[h,d]}function hz(e,n,s){if(e.lte(0))return new En(0);var a=p1.getDigitCount(e.toNumber()),h=new En(10).pow(a),d=e.div(h),p=a!==1?.05:.1,v=new En(Math.ceil(d.div(p).toNumber())).add(s).mul(p),x=v.mul(h);return n?x:new En(Math.ceil(x))}function Hmt(e,n,s){var a=1,h=new En(e);if(!h.isint()&&s){var d=Math.abs(e);d<1?(a=new En(10).pow(p1.getDigitCount(e)-1),h=new En(Math.floor(h.div(a).toNumber())).mul(a)):d>1&&(h=new En(Math.floor(e)))}else e===0?h=new En(Math.floor((n-1)/2)):s||(h=new En(Math.floor(e)));var p=Math.floor((n-1)/2),v=Rmt(Dmt(function(x){return h.add(new En(x-p).mul(a)).toNumber()}),$S);return v(0,n)}function cz(e,n,s,a){var h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(s-1)))return{step:new En(0),tickMin:new En(0),tickMax:new En(0)};var d=hz(new En(n).sub(e).div(s-1),a,h),p;e<=0&&n>=0?p=new En(0):(p=new En(e).add(n).div(2),p=p.sub(new En(p).mod(d)));var v=Math.ceil(p.sub(e).div(d).toNumber()),x=Math.ceil(new En(n).sub(p).div(d).toNumber()),S=v+x+1;return S>s?cz(e,n,s,a,h+1):(S<s&&(x=n>0?x+(s-S):x,v=n>0?v:v+(s-S)),{step:d,tickMin:p.sub(new En(v).mul(d)),tickMax:p.add(new En(x).mul(d))})}function Xmt(e){var n=Rp(e,2),s=n[0],a=n[1],h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,p=Math.max(h,2),v=uz([s,a]),x=Rp(v,2),S=x[0],M=x[1];if(S===-1/0||M===1/0){var A=M===1/0?[S].concat(VS($S(0,h-1).map(function(){return 1/0}))):[].concat(VS($S(0,h-1).map(function(){return-1/0})),[M]);return s>a?zS(A):A}if(S===M)return Hmt(S,h,d);var O=cz(S,M,p,d),B=O.step,I=O.tickMin,j=O.tickMax,V=p1.rangeStep(I,j.add(new En(.1).mul(B)),B);return s>a?zS(V):V}function Ymt(e,n){var s=Rp(e,2),a=s[0],h=s[1],d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,p=uz([a,h]),v=Rp(p,2),x=v[0],S=v[1];if(x===-1/0||S===1/0)return[a,h];if(x===S)return[x];var M=Math.max(n,2),A=hz(new En(S).sub(x).div(M-1),d,0),O=[].concat(VS(p1.rangeStep(new En(x),new En(S).sub(new En(.99).mul(A)),A)),[S]);return a>h?zS(O):O}var qmt=az(Xmt),Zmt=az(Ymt),Jmt="Invariant failed";function oh(e,n){throw new Error(Jmt)}var Qmt=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Kc(e){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Kc(e)}function S0(){return S0=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},S0.apply(this,arguments)}function tyt(e,n){return ryt(e)||iyt(e,n)||nyt(e,n)||eyt()}function eyt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nyt(e,n){if(e){if(typeof e=="string")return cL(e,n);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return cL(e,n)}}function cL(e,n){(n==null||n>e.length)&&(n=e.length);for(var s=0,a=new Array(n);s<n;s++)a[s]=e[s];return a}function iyt(e,n){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var a,h,d,p,v=[],x=!0,S=!1;try{if(d=(s=s.call(e)).next,n!==0)for(;!(x=(a=d.call(s)).done)&&(v.push(a.value),v.length!==n);x=!0);}catch(M){S=!0,h=M}finally{try{if(!x&&s.return!=null&&(p=s.return(),Object(p)!==p))return}finally{if(S)throw h}}return v}}function ryt(e){if(Array.isArray(e))return e}function syt(e,n){if(e==null)return{};var s=oyt(e,n),a,h;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(h=0;h<d.length;h++)a=d[h],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function oyt(e,n){if(e==null)return{};var s={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(n.indexOf(a)>=0)continue;s[a]=e[a]}return s}function ayt(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function lyt(e,n){for(var s=0;s<n.length;s++){var a=n[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,pz(a.key),a)}}function uyt(e,n,s){return n&&lyt(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function hyt(e,n,s){return n=P0(n),cyt(e,dz()?Reflect.construct(n,s||[],P0(e).constructor):n.apply(e,s))}function cyt(e,n){if(n&&(Kc(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dyt(e)}function dyt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dz=function(){return!!e})()}function P0(e){return P0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},P0(e)}function fyt(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&KS(e,n)}function KS(e,n){return KS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,h){return a.__proto__=h,a},KS(e,n)}function fz(e,n,s){return n=pz(n),n in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}function pz(e){var n=pyt(e,"string");return Kc(n)=="symbol"?n:n+""}function pyt(e,n){if(Kc(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,n||"default");if(Kc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var g1=function(e){function n(){return ayt(this,n),hyt(this,n,arguments)}return fyt(n,e),uyt(n,[{key:"render",value:function(){var a=this.props,h=a.offset,d=a.layout,p=a.width,v=a.dataKey,x=a.data,S=a.dataPointFormatter,M=a.xAxis,A=a.yAxis,O=syt(a,Qmt),B=gn(O,!1);this.props.direction==="x"&&M.type!=="number"&&oh();var I=x.map(function(j){var V=S(j,v),C=V.x,z=V.y,F=V.value,Y=V.errorVal;if(!Y)return null;var U=[],J,K;if(Array.isArray(Y)){var rt=tyt(Y,2);J=rt[0],K=rt[1]}else J=K=Y;if(d==="vertical"){var gt=M.scale,lt=z+h,dt=lt+p,mt=lt-p,vt=gt(F-J),Mt=gt(F+K);U.push({x1:Mt,y1:dt,x2:Mt,y2:mt}),U.push({x1:vt,y1:lt,x2:Mt,y2:lt}),U.push({x1:vt,y1:dt,x2:vt,y2:mt})}else if(d==="horizontal"){var Ct=A.scale,Ot=C+h,Rt=Ot-p,yt=Ot+p,Nt=Ct(F-J),kt=Ct(F+K);U.push({x1:Rt,y1:kt,x2:yt,y2:kt}),U.push({x1:Ot,y1:Nt,x2:Ot,y2:kt}),U.push({x1:Rt,y1:Nt,x2:yt,y2:Nt})}return wt.createElement(er,S0({className:"recharts-errorBar",key:"bar-".concat(U.map(function(At){return"".concat(At.x1,"-").concat(At.x2,"-").concat(At.y1,"-").concat(At.y2)}))},B),U.map(function(At){return wt.createElement("line",S0({},At,{key:"line-".concat(At.x1,"-").concat(At.x2,"-").concat(At.y1,"-").concat(At.y2)}))}))});return wt.createElement(er,{className:"recharts-errorBars"},I)}}])}(wt.Component);fz(g1,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});fz(g1,"displayName","ErrorBar");function Ip(e){"@babel/helpers - typeof";return Ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ip(e)}function dL(e,n){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(h){return Object.getOwnPropertyDescriptor(e,h).enumerable})),s.push.apply(s,a)}return s}function wu(e){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?dL(Object(s),!0).forEach(function(a){gyt(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):dL(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function gyt(e,n,s){return n=myt(n),n in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}function myt(e){var n=yyt(e,"string");return Ip(n)=="symbol"?n:n+""}function yyt(e,n){if(Ip(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,n||"default");if(Ip(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var gz=function(n){var s=n.children,a=n.formattedGraphicalItems,h=n.legendWidth,d=n.legendContent,p=Ts(s,Wu);if(!p)return null;var v=Wu.defaultProps,x=v!==void 0?wu(wu({},v),p.props):{},S;return p.props&&p.props.payload?S=p.props&&p.props.payload:d==="children"?S=(a||[]).reduce(function(M,A){var O=A.item,B=A.props,I=B.sectors||B.data||[];return M.concat(I.map(function(j){return{type:p.props.iconType||O.props.legendType,value:j.name,color:j.fill,payload:j}}))},[]):S=(a||[]).map(function(M){var A=M.item,O=A.type.defaultProps,B=O!==void 0?wu(wu({},O),A.props):{},I=B.dataKey,j=B.name,V=B.legendType,C=B.hide;return{inactive:C,dataKey:I,type:x.iconType||V||"square",color:AM(A),value:j||I,payload:B}}),wu(wu(wu({},x),Wu.getWithHeight(p,h)),{},{payload:S,item:p})};function Fp(e){"@babel/helpers - typeof";return Fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Fp(e)}function fL(e){return wyt(e)||byt(e)||xyt(e)||vyt()}function vyt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xyt(e,n){if(e){if(typeof e=="string")return GS(e,n);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return GS(e,n)}}function byt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wyt(e){if(Array.isArray(e))return GS(e)}function GS(e,n){(n==null||n>e.length)&&(n=e.length);for(var s=0,a=new Array(n);s<n;s++)a[s]=e[s];return a}function pL(e,n){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(h){return Object.getOwnPropertyDescriptor(e,h).enumerable})),s.push.apply(s,a)}return s}function rs(e){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?pL(Object(s),!0).forEach(function(a){xc(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):pL(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function xc(e,n,s){return n=Syt(n),n in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}function Syt(e){var n=Pyt(e,"string");return Fp(n)=="symbol"?n:n+""}function Pyt(e,n){if(Fp(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,n||"default");if(Fp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function la(e,n,s){return bn(e)||bn(n)?s:Vi(n)?no(e,n,s):sn(n)?n(e):s}function Wf(e,n,s,a){var h=bmt(e,function(v){return la(v,n)});if(s==="number"){var d=h.filter(function(v){return pe(v)||parseFloat(v)});return d.length?[d1(d),c1(d)]:[1/0,-1/0]}var p=a?h.filter(function(v){return!bn(v)}):h;return p.map(function(v){return Vi(v)||v instanceof Date?v:""})}var kyt=function(n){var s,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],h=arguments.length>2?arguments[2]:void 0,d=arguments.length>3?arguments[3]:void 0,p=-1,v=(s=a==null?void 0:a.length)!==null&&s!==void 0?s:0;if(v<=1)return 0;if(d&&d.axisType==="angleAxis"&&Math.abs(Math.abs(d.range[1]-d.range[0])-360)<=1e-6)for(var x=d.range,S=0;S<v;S++){var M=S>0?h[S-1].coordinate:h[v-1].coordinate,A=h[S].coordinate,O=S>=v-1?h[0].coordinate:h[S+1].coordinate,B=void 0;if(Mo(A-M)!==Mo(O-A)){var I=[];if(Mo(O-A)===Mo(x[1]-x[0])){B=O;var j=A+x[1]-x[0];I[0]=Math.min(j,(j+M)/2),I[1]=Math.max(j,(j+M)/2)}else{B=M;var V=O+x[1]-x[0];I[0]=Math.min(A,(V+A)/2),I[1]=Math.max(A,(V+A)/2)}var C=[Math.min(A,(B+A)/2),Math.max(A,(B+A)/2)];if(n>C[0]&&n<=C[1]||n>=I[0]&&n<=I[1]){p=h[S].index;break}}else{var z=Math.min(M,O),F=Math.max(M,O);if(n>(z+A)/2&&n<=(F+A)/2){p=h[S].index;break}}}else for(var Y=0;Y<v;Y++)if(Y===0&&n<=(a[Y].coordinate+a[Y+1].coordinate)/2||Y>0&&Y<v-1&&n>(a[Y].coordinate+a[Y-1].coordinate)/2&&n<=(a[Y].coordinate+a[Y+1].coordinate)/2||Y===v-1&&n>(a[Y].coordinate+a[Y-1].coordinate)/2){p=a[Y].index;break}return p},AM=function(n){var s=n,a=s.type.displayName,h=n.props,d=h.stroke,p=h.fill,v;switch(a){case"Line":v=d;break;case"Area":case"Radar":v=d&&d!=="none"?d:p;break;default:v=p;break}return v},Tyt=function(n){var s=n.barSize,a=n.totalSize,h=n.stackGroups,d=h===void 0?{}:h;if(!d)return{};for(var p={},v=Object.keys(d),x=0,S=v.length;x<S;x++)for(var M=d[v[x]].stackGroups,A=Object.keys(M),O=0,B=A.length;O<B;O++){var I=M[A[O]],j=I.items,V=I.cateAxisId,C=j.filter(function(K){return Ga(K.type).indexOf("Bar")>=0});if(C&&C.length){var z=C[0].type.defaultProps,F=z!==void 0?rs(rs({},z),C[0].props):C[0].props,Y=F.barSize,U=F[V];p[U]||(p[U]=[]);var J=bn(Y)?s:Y;p[U].push({item:C[0],stackList:C.slice(1),barSize:bn(J)?void 0:rh(J,a,0)})}}return p},Myt=function(n){var s=n.barGap,a=n.barCategoryGap,h=n.bandSize,d=n.sizeList,p=d===void 0?[]:d,v=n.maxBarSize,x=p.length;if(x<1)return null;var S=rh(s,h,0,!0),M,A=[];if(p[0].barSize===+p[0].barSize){var O=!1,B=h/x,I=p.reduce(function(Y,U){return Y+U.barSize||0},0);I+=(x-1)*S,I>=h&&(I-=(x-1)*S,S=0),I>=h&&B>0&&(O=!0,B*=.9,I=x*B);var j=(h-I)/2>>0,V={offset:j-S,size:0};M=p.reduce(function(Y,U){var J={item:U.item,position:{offset:V.offset+V.size+S,size:O?B:U.barSize}},K=[].concat(fL(Y),[J]);return V=K[K.length-1].position,U.stackList&&U.stackList.length&&U.stackList.forEach(function(rt){K.push({item:rt,position:V})}),K},A)}else{var C=rh(a,h,0,!0);h-2*C-(x-1)*S<=0&&(S=0);var z=(h-2*C-(x-1)*S)/x;z>1&&(z>>=0);var F=v===+v?Math.min(z,v):z;M=p.reduce(function(Y,U,J){var K=[].concat(fL(Y),[{item:U.item,position:{offset:C+(z+S)*J+(z-F)/2,size:F}}]);return U.stackList&&U.stackList.length&&U.stackList.forEach(function(rt){K.push({item:rt,position:K[K.length-1].position})}),K},A)}return M},Ayt=function(n,s,a,h){var d=a.children,p=a.width,v=a.margin,x=p-(v.left||0)-(v.right||0),S=gz({children:d,legendWidth:x});if(S){var M=h||{},A=M.width,O=M.height,B=S.align,I=S.verticalAlign,j=S.layout;if((j==="vertical"||j==="horizontal"&&I==="middle")&&B!=="center"&&pe(n[B]))return rs(rs({},n),{},xc({},B,n[B]+(A||0)));if((j==="horizontal"||j==="vertical"&&B==="center")&&I!=="middle"&&pe(n[I]))return rs(rs({},n),{},xc({},I,n[I]+(O||0)))}return n},Cyt=function(n,s,a){return bn(s)?!0:n==="horizontal"?s==="yAxis":n==="vertical"||a==="x"?s==="xAxis":a==="y"?s==="yAxis":!0},mz=function(n,s,a,h,d){var p=s.props.children,v=Eo(p,g1).filter(function(S){return Cyt(h,d,S.props.direction)});if(v&&v.length){var x=v.map(function(S){return S.props.dataKey});return n.reduce(function(S,M){var A=la(M,a);if(bn(A))return S;var O=Array.isArray(A)?[d1(A),c1(A)]:[A,A],B=x.reduce(function(I,j){var V=la(M,j,0),C=O[0]-Math.abs(Array.isArray(V)?V[0]:V),z=O[1]+Math.abs(Array.isArray(V)?V[1]:V);return[Math.min(C,I[0]),Math.max(z,I[1])]},[1/0,-1/0]);return[Math.min(B[0],S[0]),Math.max(B[1],S[1])]},[1/0,-1/0])}return null},Oyt=function(n,s,a,h,d){var p=s.map(function(v){return mz(n,v,a,d,h)}).filter(function(v){return!bn(v)});return p&&p.length?p.reduce(function(v,x){return[Math.min(v[0],x[0]),Math.max(v[1],x[1])]},[1/0,-1/0]):null},yz=function(n,s,a,h,d){var p=s.map(function(x){var S=x.props.dataKey;return a==="number"&&S&&mz(n,x,S,h)||Wf(n,S,a,d)});if(a==="number")return p.reduce(function(x,S){return[Math.min(x[0],S[0]),Math.max(x[1],S[1])]},[1/0,-1/0]);var v={};return p.reduce(function(x,S){for(var M=0,A=S.length;M<A;M++)v[S[M]]||(v[S[M]]=!0,x.push(S[M]));return x},[])},vz=function(n,s){return n==="horizontal"&&s==="xAxis"||n==="vertical"&&s==="yAxis"||n==="centric"&&s==="angleAxis"||n==="radial"&&s==="radiusAxis"},xz=function(n,s,a,h){if(h)return n.map(function(x){return x.coordinate});var d,p,v=n.map(function(x){return x.coordinate===s&&(d=!0),x.coordinate===a&&(p=!0),x.coordinate});return d||v.push(s),p||v.push(a),v},Ia=function(n,s,a){if(!n)return null;var h=n.scale,d=n.duplicateDomain,p=n.type,v=n.range,x=n.realScaleType==="scaleBand"?h.bandwidth()/2:2,S=(s||a)&&p==="category"&&h.bandwidth?h.bandwidth()/x:0;if(S=n.axisType==="angleAxis"&&(v==null?void 0:v.length)>=2?Mo(v[0]-v[1])*2*S:S,s&&(n.ticks||n.niceTicks)){var M=(n.ticks||n.niceTicks).map(function(A){var O=d?d.indexOf(A):A;return{coordinate:h(O)+S,value:A,offset:S}});return M.filter(function(A){return!Ng(A.coordinate)})}return n.isCategorical&&n.categoricalDomain?n.categoricalDomain.map(function(A,O){return{coordinate:h(A)+S,value:A,index:O,offset:S}}):h.ticks&&!a?h.ticks(n.tickCount).map(function(A){return{coordinate:h(A)+S,value:A,offset:S}}):h.domain().map(function(A,O){return{coordinate:h(A)+S,value:d?d[A]:A,index:O,offset:S}})},mb=new WeakMap,Nm=function(n,s){if(typeof s!="function")return n;mb.has(n)||mb.set(n,new WeakMap);var a=mb.get(n);if(a.has(s))return a.get(s);var h=function(){n.apply(void 0,arguments),s.apply(void 0,arguments)};return a.set(s,h),h},Nyt=function(n,s,a){var h=n.scale,d=n.type,p=n.layout,v=n.axisType;if(h==="auto")return p==="radial"&&v==="radiusAxis"?{scale:Op(),realScaleType:"band"}:p==="radial"&&v==="angleAxis"?{scale:y0(),realScaleType:"linear"}:d==="category"&&s&&(s.indexOf("LineChart")>=0||s.indexOf("AreaChart")>=0||s.indexOf("ComposedChart")>=0&&!a)?{scale:Gf(),realScaleType:"point"}:d==="category"?{scale:Op(),realScaleType:"band"}:{scale:y0(),realScaleType:"linear"};if(Og(h)){var x="scale".concat(Jv(h));return{scale:(aL[x]||Gf)(),realScaleType:aL[x]?x:"point"}}return sn(h)?{scale:h}:{scale:Gf(),realScaleType:"point"}},gL=1e-4,Eyt=function(n){var s=n.domain();if(!(!s||s.length<=2)){var a=s.length,h=n.range(),d=Math.min(h[0],h[1])-gL,p=Math.max(h[0],h[1])+gL,v=n(s[0]),x=n(s[a-1]);(v<d||v>p||x<d||x>p)&&n.domain([s[0],s[a-1]])}},Lyt=function(n,s){if(!n)return null;for(var a=0,h=n.length;a<h;a++)if(n[a].item===s)return n[a].position;return null},_yt=function(n,s){if(!s||s.length!==2||!pe(s[0])||!pe(s[1]))return n;var a=Math.min(s[0],s[1]),h=Math.max(s[0],s[1]),d=[n[0],n[1]];return(!pe(n[0])||n[0]<a)&&(d[0]=a),(!pe(n[1])||n[1]>h)&&(d[1]=h),d[0]>h&&(d[0]=h),d[1]<a&&(d[1]=a),d},Dyt=function(n){var s=n.length;if(!(s<=0))for(var a=0,h=n[0].length;a<h;++a)for(var d=0,p=0,v=0;v<s;++v){var x=Ng(n[v][a][1])?n[v][a][0]:n[v][a][1];x>=0?(n[v][a][0]=d,n[v][a][1]=d+x,d=n[v][a][1]):(n[v][a][0]=p,n[v][a][1]=p+x,p=n[v][a][1])}},Ryt=function(n){var s=n.length;if(!(s<=0))for(var a=0,h=n[0].length;a<h;++a)for(var d=0,p=0;p<s;++p){var v=Ng(n[p][a][1])?n[p][a][0]:n[p][a][1];v>=0?(n[p][a][0]=d,n[p][a][1]=d+v,d=n[p][a][1]):(n[p][a][0]=0,n[p][a][1]=0)}},Iyt={sign:Dyt,expand:qit,none:Ic,silhouette:Zit,wiggle:Jit,positive:Ryt},Fyt=function(n,s,a){var h=s.map(function(v){return v.props.dataKey}),d=Iyt[a],p=Yit().keys(h).value(function(v,x){return+la(v,x,0)}).order(mS).offset(d);return p(n)},jyt=function(n,s,a,h,d,p){if(!n)return null;var v=p?s.reverse():s,x={},S=v.reduce(function(A,O){var B=O.props,I=B.stackId,j=B.hide;if(j)return A;var V=O.props[a],C=A[V]||{hasStack:!1,stackGroups:{}};if(Vi(I)){var z=C.stackGroups[I]||{numericAxisId:a,cateAxisId:h,items:[]};z.items.push(O),C.hasStack=!0,C.stackGroups[I]=z}else C.stackGroups[Zv("_stackId_")]={numericAxisId:a,cateAxisId:h,items:[O]};return rs(rs({},A),{},xc({},V,C))},x),M={};return Object.keys(S).reduce(function(A,O){var B=S[O];if(B.hasStack){var I={};B.stackGroups=Object.keys(B.stackGroups).reduce(function(j,V){var C=B.stackGroups[V];return rs(rs({},j),{},xc({},V,{numericAxisId:a,cateAxisId:h,items:C.items,stackedData:Fyt(n,C.items,d)}))},I)}return rs(rs({},A),{},xc({},O,B))},M)},Byt=function(n,s){var a=s.realScaleType,h=s.type,d=s.tickCount,p=s.originalDomain,v=s.allowDecimals,x=a||s.scale;if(x!=="auto"&&x!=="linear")return null;if(d&&h==="number"&&p&&(p[0]==="auto"||p[1]==="auto")){var S=n.domain();if(!S.length)return null;var M=qmt(S,d,v);return n.domain([d1(M),c1(M)]),{niceTicks:M}}if(d&&h==="number"){var A=n.domain(),O=Zmt(A,d,v);return{niceTicks:O}}return null},mL=function(n){var s=n.axis,a=n.ticks,h=n.offset,d=n.bandSize,p=n.entry,v=n.index;if(s.type==="category")return a[v]?a[v].coordinate+h:null;var x=la(p,s.dataKey,s.domain[v]);return bn(x)?null:s.scale(x)-d/2+h},$yt=function(n){var s=n.numericAxis,a=s.scale.domain();if(s.type==="number"){var h=Math.min(a[0],a[1]),d=Math.max(a[0],a[1]);return h<=0&&d>=0?0:d<0?d:h}return a[0]},zyt=function(n,s){var a=n.props.stackId;if(Vi(a)){var h=s[a];if(h){var d=h.items.indexOf(n);return d>=0?h.stackedData[d]:null}}return null},Vyt=function(n){return n.reduce(function(s,a){return[d1(a.concat([s[0]]).filter(pe)),c1(a.concat([s[1]]).filter(pe))]},[1/0,-1/0])},bz=function(n,s,a){return Object.keys(n).reduce(function(h,d){var p=n[d],v=p.stackedData,x=v.reduce(function(S,M){var A=Vyt(M.slice(s,a+1));return[Math.min(S[0],A[0]),Math.max(S[1],A[1])]},[1/0,-1/0]);return[Math.min(x[0],h[0]),Math.max(x[1],h[1])]},[1/0,-1/0]).map(function(h){return h===1/0||h===-1/0?0:h})},yL=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,vL=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,WS=function(n,s,a){if(sn(n))return n(s,a);if(!Array.isArray(n))return s;var h=[];if(pe(n[0]))h[0]=a?n[0]:Math.min(n[0],s[0]);else if(yL.test(n[0])){var d=+yL.exec(n[0])[1];h[0]=s[0]-d}else sn(n[0])?h[0]=n[0](s[0]):h[0]=s[0];if(pe(n[1]))h[1]=a?n[1]:Math.max(n[1],s[1]);else if(vL.test(n[1])){var p=+vL.exec(n[1])[1];h[1]=s[1]+p}else sn(n[1])?h[1]=n[1](s[1]):h[1]=s[1];return h},k0=function(n,s,a){if(n&&n.scale&&n.scale.bandwidth){var h=n.scale.bandwidth();if(!a||h>0)return h}if(n&&s&&s.length>=2){for(var d=tM(s,function(A){return A.coordinate}),p=1/0,v=1,x=d.length;v<x;v++){var S=d[v],M=d[v-1];p=Math.min((S.coordinate||0)-(M.coordinate||0),p)}return p===1/0?0:p}return a?void 0:0},xL=function(n,s,a){return!n||!n.length||kM(n,no(a,"type.defaultProps.domain"))?s:n},wz=function(n,s){var a=n.props,h=a.dataKey,d=a.name,p=a.unit,v=a.formatter,x=a.tooltipType,S=a.chartType,M=a.hide;return rs(rs({},gn(n,!1)),{},{dataKey:h,unit:p,formatter:v,name:d||h,color:AM(n),value:la(s,h),type:x,payload:s,chartType:S,hide:M})};function jp(e){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},jp(e)}function bL(e,n){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(h){return Object.getOwnPropertyDescriptor(e,h).enumerable})),s.push.apply(s,a)}return s}function wL(e){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?bL(Object(s),!0).forEach(function(a){Uyt(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):bL(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Uyt(e,n,s){return n=Kyt(n),n in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}function Kyt(e){var n=Gyt(e,"string");return jp(n)=="symbol"?n:n+""}function Gyt(e,n){if(jp(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,n||"default");if(jp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var T0=Math.PI/180,Wyt=function(n){return n*180/Math.PI},cr=function(n,s,a,h){return{x:n+Math.cos(-T0*h)*a,y:s+Math.sin(-T0*h)*a}},Hyt=function(n,s){var a=n.x,h=n.y,d=s.x,p=s.y;return Math.sqrt(Math.pow(a-d,2)+Math.pow(h-p,2))},Xyt=function(n,s){var a=n.x,h=n.y,d=s.cx,p=s.cy,v=Hyt({x:a,y:h},{x:d,y:p});if(v<=0)return{radius:v};var x=(a-d)/v,S=Math.acos(x);return h>p&&(S=2*Math.PI-S),{radius:v,angle:Wyt(S),angleInRadian:S}},Yyt=function(n){var s=n.startAngle,a=n.endAngle,h=Math.floor(s/360),d=Math.floor(a/360),p=Math.min(h,d);return{startAngle:s-p*360,endAngle:a-p*360}},qyt=function(n,s){var a=s.startAngle,h=s.endAngle,d=Math.floor(a/360),p=Math.floor(h/360),v=Math.min(d,p);return n+v*360},SL=function(n,s){var a=n.x,h=n.y,d=Xyt({x:a,y:h},s),p=d.radius,v=d.angle,x=s.innerRadius,S=s.outerRadius;if(p<x||p>S)return!1;if(p===0)return!0;var M=Yyt(s),A=M.startAngle,O=M.endAngle,B=v,I;if(A<=O){for(;B>O;)B-=360;for(;B<A;)B+=360;I=B>=A&&B<=O}else{for(;B>A;)B-=360;for(;B<O;)B+=360;I=B>=O&&B<=A}return I?wL(wL({},s),{},{radius:p,angle:qyt(B,s)}):null};function Bp(e){"@babel/helpers - typeof";return Bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Bp(e)}var Zyt=["offset"];function Jyt(e){return n0t(e)||e0t(e)||t0t(e)||Qyt()}function Qyt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t0t(e,n){if(e){if(typeof e=="string")return HS(e,n);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return HS(e,n)}}function e0t(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function n0t(e){if(Array.isArray(e))return HS(e)}function HS(e,n){(n==null||n>e.length)&&(n=e.length);for(var s=0,a=new Array(n);s<n;s++)a[s]=e[s];return a}function i0t(e,n){if(e==null)return{};var s=r0t(e,n),a,h;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(h=0;h<d.length;h++)a=d[h],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function r0t(e,n){if(e==null)return{};var s={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(n.indexOf(a)>=0)continue;s[a]=e[a]}return s}function PL(e,n){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(h){return Object.getOwnPropertyDescriptor(e,h).enumerable})),s.push.apply(s,a)}return s}function ji(e){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?PL(Object(s),!0).forEach(function(a){s0t(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):PL(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function s0t(e,n,s){return n=o0t(n),n in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}function o0t(e){var n=a0t(e,"string");return Bp(n)=="symbol"?n:n+""}function a0t(e,n){if(Bp(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,n||"default");if(Bp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function $p(){return $p=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},$p.apply(this,arguments)}var l0t=function(n){var s=n.value,a=n.formatter,h=bn(n.children)?s:n.children;return sn(a)?a(h):h},u0t=function(n,s){var a=Mo(s-n),h=Math.min(Math.abs(s-n),360);return a*h},h0t=function(n,s,a){var h=n.position,d=n.viewBox,p=n.offset,v=n.className,x=d,S=x.cx,M=x.cy,A=x.innerRadius,O=x.outerRadius,B=x.startAngle,I=x.endAngle,j=x.clockWise,V=(A+O)/2,C=u0t(B,I),z=C>=0?1:-1,F,Y;h==="insideStart"?(F=B+z*p,Y=j):h==="insideEnd"?(F=I-z*p,Y=!j):h==="end"&&(F=I+z*p,Y=j),Y=C<=0?Y:!Y;var U=cr(S,M,V,F),J=cr(S,M,V,F+(Y?1:-1)*359),K="M".concat(U.x,",").concat(U.y,`
    A`).concat(V,",").concat(V,",0,1,").concat(Y?0:1,`,
    `).concat(J.x,",").concat(J.y),rt=bn(n.id)?Zv("recharts-radial-line-"):n.id;return wt.createElement("text",$p({},a,{dominantBaseline:"central",className:mn("recharts-radial-bar-label",v)}),wt.createElement("defs",null,wt.createElement("path",{id:rt,d:K})),wt.createElement("textPath",{xlinkHref:"#".concat(rt)},s))},c0t=function(n){var s=n.viewBox,a=n.offset,h=n.position,d=s,p=d.cx,v=d.cy,x=d.innerRadius,S=d.outerRadius,M=d.startAngle,A=d.endAngle,O=(M+A)/2;if(h==="outside"){var B=cr(p,v,S+a,O),I=B.x,j=B.y;return{x:I,y:j,textAnchor:I>=p?"start":"end",verticalAnchor:"middle"}}if(h==="center")return{x:p,y:v,textAnchor:"middle",verticalAnchor:"middle"};if(h==="centerTop")return{x:p,y:v,textAnchor:"middle",verticalAnchor:"start"};if(h==="centerBottom")return{x:p,y:v,textAnchor:"middle",verticalAnchor:"end"};var V=(x+S)/2,C=cr(p,v,V,O),z=C.x,F=C.y;return{x:z,y:F,textAnchor:"middle",verticalAnchor:"middle"}},d0t=function(n){var s=n.viewBox,a=n.parentViewBox,h=n.offset,d=n.position,p=s,v=p.x,x=p.y,S=p.width,M=p.height,A=M>=0?1:-1,O=A*h,B=A>0?"end":"start",I=A>0?"start":"end",j=S>=0?1:-1,V=j*h,C=j>0?"end":"start",z=j>0?"start":"end";if(d==="top"){var F={x:v+S/2,y:x-A*h,textAnchor:"middle",verticalAnchor:B};return ji(ji({},F),a?{height:Math.max(x-a.y,0),width:S}:{})}if(d==="bottom"){var Y={x:v+S/2,y:x+M+O,textAnchor:"middle",verticalAnchor:I};return ji(ji({},Y),a?{height:Math.max(a.y+a.height-(x+M),0),width:S}:{})}if(d==="left"){var U={x:v-V,y:x+M/2,textAnchor:C,verticalAnchor:"middle"};return ji(ji({},U),a?{width:Math.max(U.x-a.x,0),height:M}:{})}if(d==="right"){var J={x:v+S+V,y:x+M/2,textAnchor:z,verticalAnchor:"middle"};return ji(ji({},J),a?{width:Math.max(a.x+a.width-J.x,0),height:M}:{})}var K=a?{width:S,height:M}:{};return d==="insideLeft"?ji({x:v+V,y:x+M/2,textAnchor:z,verticalAnchor:"middle"},K):d==="insideRight"?ji({x:v+S-V,y:x+M/2,textAnchor:C,verticalAnchor:"middle"},K):d==="insideTop"?ji({x:v+S/2,y:x+O,textAnchor:"middle",verticalAnchor:I},K):d==="insideBottom"?ji({x:v+S/2,y:x+M-O,textAnchor:"middle",verticalAnchor:B},K):d==="insideTopLeft"?ji({x:v+V,y:x+O,textAnchor:z,verticalAnchor:I},K):d==="insideTopRight"?ji({x:v+S-V,y:x+O,textAnchor:C,verticalAnchor:I},K):d==="insideBottomLeft"?ji({x:v+V,y:x+M-O,textAnchor:z,verticalAnchor:B},K):d==="insideBottomRight"?ji({x:v+S-V,y:x+M-O,textAnchor:C,verticalAnchor:B},K):md(d)&&(pe(d.x)||Iu(d.x))&&(pe(d.y)||Iu(d.y))?ji({x:v+rh(d.x,S),y:x+rh(d.y,M),textAnchor:"end",verticalAnchor:"end"},K):ji({x:v+S/2,y:x+M/2,textAnchor:"middle",verticalAnchor:"middle"},K)},f0t=function(n){return"cx"in n&&pe(n.cx)};function Cr(e){var n=e.offset,s=n===void 0?5:n,a=i0t(e,Zyt),h=ji({offset:s},a),d=h.viewBox,p=h.position,v=h.value,x=h.children,S=h.content,M=h.className,A=M===void 0?"":M,O=h.textBreakAll;if(!d||bn(v)&&bn(x)&&!at.isValidElement(S)&&!sn(S))return null;if(at.isValidElement(S))return at.cloneElement(S,h);var B;if(sn(S)){if(B=at.createElement(S,h),at.isValidElement(B))return B}else B=l0t(h);var I=f0t(d),j=gn(h,!0);if(I&&(p==="insideStart"||p==="insideEnd"||p==="end"))return h0t(h,B,j);var V=I?c0t(h):d0t(h);return wt.createElement(h0,$p({className:mn("recharts-label",A)},j,V,{breakAll:O}),B)}Cr.displayName="Label";var Sz=function(n){var s=n.cx,a=n.cy,h=n.angle,d=n.startAngle,p=n.endAngle,v=n.r,x=n.radius,S=n.innerRadius,M=n.outerRadius,A=n.x,O=n.y,B=n.top,I=n.left,j=n.width,V=n.height,C=n.clockWise,z=n.labelViewBox;if(z)return z;if(pe(j)&&pe(V)){if(pe(A)&&pe(O))return{x:A,y:O,width:j,height:V};if(pe(B)&&pe(I))return{x:B,y:I,width:j,height:V}}return pe(A)&&pe(O)?{x:A,y:O,width:0,height:0}:pe(s)&&pe(a)?{cx:s,cy:a,startAngle:d||h||0,endAngle:p||h||0,innerRadius:S||0,outerRadius:M||x||v||0,clockWise:C}:n.viewBox?n.viewBox:{}},p0t=function(n,s){return n?n===!0?wt.createElement(Cr,{key:"label-implicit",viewBox:s}):Vi(n)?wt.createElement(Cr,{key:"label-implicit",viewBox:s,value:n}):at.isValidElement(n)?n.type===Cr?at.cloneElement(n,{key:"label-implicit",viewBox:s}):wt.createElement(Cr,{key:"label-implicit",content:n,viewBox:s}):sn(n)?wt.createElement(Cr,{key:"label-implicit",content:n,viewBox:s}):md(n)?wt.createElement(Cr,$p({viewBox:s},n,{key:"label-implicit"})):null:null},g0t=function(n,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!n||!n.children&&a&&!n.label)return null;var h=n.children,d=Sz(n),p=Eo(h,Cr).map(function(x,S){return at.cloneElement(x,{viewBox:s||d,key:"label-".concat(S)})});if(!a)return p;var v=p0t(n.label,s||d);return[v].concat(Jyt(p))};Cr.parseViewBox=Sz;Cr.renderCallByParent=g0t;function m0t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}var y0t=m0t;const v0t=wn(y0t);function zp(e){"@babel/helpers - typeof";return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},zp(e)}var x0t=["valueAccessor"],b0t=["data","dataKey","clockWise","id","textBreakAll"];function w0t(e){return T0t(e)||k0t(e)||P0t(e)||S0t()}function S0t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P0t(e,n){if(e){if(typeof e=="string")return XS(e,n);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return XS(e,n)}}function k0t(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function T0t(e){if(Array.isArray(e))return XS(e)}function XS(e,n){(n==null||n>e.length)&&(n=e.length);for(var s=0,a=new Array(n);s<n;s++)a[s]=e[s];return a}function M0(){return M0=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},M0.apply(this,arguments)}function kL(e,n){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(h){return Object.getOwnPropertyDescriptor(e,h).enumerable})),s.push.apply(s,a)}return s}function TL(e){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?kL(Object(s),!0).forEach(function(a){M0t(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):kL(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function M0t(e,n,s){return n=A0t(n),n in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}function A0t(e){var n=C0t(e,"string");return zp(n)=="symbol"?n:n+""}function C0t(e,n){if(zp(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,n||"default");if(zp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function ML(e,n){if(e==null)return{};var s=O0t(e,n),a,h;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(h=0;h<d.length;h++)a=d[h],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function O0t(e,n){if(e==null)return{};var s={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(n.indexOf(a)>=0)continue;s[a]=e[a]}return s}var N0t=function(n){return Array.isArray(n.value)?v0t(n.value):n.value};function Yu(e){var n=e.valueAccessor,s=n===void 0?N0t:n,a=ML(e,x0t),h=a.data,d=a.dataKey,p=a.clockWise,v=a.id,x=a.textBreakAll,S=ML(a,b0t);return!h||!h.length?null:wt.createElement(er,{className:"recharts-label-list"},h.map(function(M,A){var O=bn(d)?s(M,A):la(M&&M.payload,d),B=bn(v)?{}:{id:"".concat(v,"-").concat(A)};return wt.createElement(Cr,M0({},gn(M,!0),S,B,{parentViewBox:M.parentViewBox,value:O,textBreakAll:x,viewBox:Cr.parseViewBox(bn(p)?M:TL(TL({},M),{},{clockWise:p})),key:"label-".concat(A),index:A}))}))}Yu.displayName="LabelList";function E0t(e,n){return e?e===!0?wt.createElement(Yu,{key:"labelList-implicit",data:n}):wt.isValidElement(e)||sn(e)?wt.createElement(Yu,{key:"labelList-implicit",data:n,content:e}):md(e)?wt.createElement(Yu,M0({data:n},e,{key:"labelList-implicit"})):null:null}function L0t(e,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&s&&!e.label)return null;var a=e.children,h=Eo(a,Yu).map(function(p,v){return at.cloneElement(p,{data:n,key:"labelList-".concat(v)})});if(!s)return h;var d=E0t(e.label,n);return[d].concat(w0t(h))}Yu.renderCallByParent=L0t;function Vp(e){"@babel/helpers - typeof";return Vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Vp(e)}function YS(){return YS=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},YS.apply(this,arguments)}function AL(e,n){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(h){return Object.getOwnPropertyDescriptor(e,h).enumerable})),s.push.apply(s,a)}return s}function CL(e){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?AL(Object(s),!0).forEach(function(a){_0t(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):AL(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function _0t(e,n,s){return n=D0t(n),n in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}function D0t(e){var n=R0t(e,"string");return Vp(n)=="symbol"?n:n+""}function R0t(e,n){if(Vp(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,n||"default");if(Vp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var I0t=function(n,s){var a=Mo(s-n),h=Math.min(Math.abs(s-n),359.999);return a*h},Em=function(n){var s=n.cx,a=n.cy,h=n.radius,d=n.angle,p=n.sign,v=n.isExternal,x=n.cornerRadius,S=n.cornerIsExternal,M=x*(v?1:-1)+h,A=Math.asin(x/M)/T0,O=S?d:d+p*A,B=cr(s,a,M,O),I=cr(s,a,h,O),j=S?d-p*A:d,V=cr(s,a,M*Math.cos(A*T0),j);return{center:B,circleTangency:I,lineTangency:V,theta:A}},Pz=function(n){var s=n.cx,a=n.cy,h=n.innerRadius,d=n.outerRadius,p=n.startAngle,v=n.endAngle,x=I0t(p,v),S=p+x,M=cr(s,a,d,p),A=cr(s,a,d,S),O="M ".concat(M.x,",").concat(M.y,`
    A `).concat(d,",").concat(d,`,0,
    `).concat(+(Math.abs(x)>180),",").concat(+(p>S),`,
    `).concat(A.x,",").concat(A.y,`
  `);if(h>0){var B=cr(s,a,h,p),I=cr(s,a,h,S);O+="L ".concat(I.x,",").concat(I.y,`
            A `).concat(h,",").concat(h,`,0,
            `).concat(+(Math.abs(x)>180),",").concat(+(p<=S),`,
            `).concat(B.x,",").concat(B.y," Z")}else O+="L ".concat(s,",").concat(a," Z");return O},F0t=function(n){var s=n.cx,a=n.cy,h=n.innerRadius,d=n.outerRadius,p=n.cornerRadius,v=n.forceCornerRadius,x=n.cornerIsExternal,S=n.startAngle,M=n.endAngle,A=Mo(M-S),O=Em({cx:s,cy:a,radius:d,angle:S,sign:A,cornerRadius:p,cornerIsExternal:x}),B=O.circleTangency,I=O.lineTangency,j=O.theta,V=Em({cx:s,cy:a,radius:d,angle:M,sign:-A,cornerRadius:p,cornerIsExternal:x}),C=V.circleTangency,z=V.lineTangency,F=V.theta,Y=x?Math.abs(S-M):Math.abs(S-M)-j-F;if(Y<0)return v?"M ".concat(I.x,",").concat(I.y,`
        a`).concat(p,",").concat(p,",0,0,1,").concat(p*2,`,0
        a`).concat(p,",").concat(p,",0,0,1,").concat(-p*2,`,0
      `):Pz({cx:s,cy:a,innerRadius:h,outerRadius:d,startAngle:S,endAngle:M});var U="M ".concat(I.x,",").concat(I.y,`
    A`).concat(p,",").concat(p,",0,0,").concat(+(A<0),",").concat(B.x,",").concat(B.y,`
    A`).concat(d,",").concat(d,",0,").concat(+(Y>180),",").concat(+(A<0),",").concat(C.x,",").concat(C.y,`
    A`).concat(p,",").concat(p,",0,0,").concat(+(A<0),",").concat(z.x,",").concat(z.y,`
  `);if(h>0){var J=Em({cx:s,cy:a,radius:h,angle:S,sign:A,isExternal:!0,cornerRadius:p,cornerIsExternal:x}),K=J.circleTangency,rt=J.lineTangency,gt=J.theta,lt=Em({cx:s,cy:a,radius:h,angle:M,sign:-A,isExternal:!0,cornerRadius:p,cornerIsExternal:x}),dt=lt.circleTangency,mt=lt.lineTangency,vt=lt.theta,Mt=x?Math.abs(S-M):Math.abs(S-M)-gt-vt;if(Mt<0&&p===0)return"".concat(U,"L").concat(s,",").concat(a,"Z");U+="L".concat(mt.x,",").concat(mt.y,`
      A`).concat(p,",").concat(p,",0,0,").concat(+(A<0),",").concat(dt.x,",").concat(dt.y,`
      A`).concat(h,",").concat(h,",0,").concat(+(Mt>180),",").concat(+(A>0),",").concat(K.x,",").concat(K.y,`
      A`).concat(p,",").concat(p,",0,0,").concat(+(A<0),",").concat(rt.x,",").concat(rt.y,"Z")}else U+="L".concat(s,",").concat(a,"Z");return U},j0t={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},kz=function(n){var s=CL(CL({},j0t),n),a=s.cx,h=s.cy,d=s.innerRadius,p=s.outerRadius,v=s.cornerRadius,x=s.forceCornerRadius,S=s.cornerIsExternal,M=s.startAngle,A=s.endAngle,O=s.className;if(p<d||M===A)return null;var B=mn("recharts-sector",O),I=p-d,j=rh(v,I,0,!0),V;return j>0&&Math.abs(M-A)<360?V=F0t({cx:a,cy:h,innerRadius:d,outerRadius:p,cornerRadius:Math.min(j,I/2),forceCornerRadius:x,cornerIsExternal:S,startAngle:M,endAngle:A}):V=Pz({cx:a,cy:h,innerRadius:d,outerRadius:p,startAngle:M,endAngle:A}),wt.createElement("path",YS({},gn(s,!0),{className:B,d:V,role:"img"}))};function Up(e){"@babel/helpers - typeof";return Up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Up(e)}function qS(){return qS=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},qS.apply(this,arguments)}function OL(e,n){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(h){return Object.getOwnPropertyDescriptor(e,h).enumerable})),s.push.apply(s,a)}return s}function NL(e){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?OL(Object(s),!0).forEach(function(a){B0t(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):OL(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function B0t(e,n,s){return n=$0t(n),n in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}function $0t(e){var n=z0t(e,"string");return Up(n)=="symbol"?n:n+""}function z0t(e,n){if(Up(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,n||"default");if(Up(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var EL={curveBasisClosed:jit,curveBasisOpen:Bit,curveBasis:Fit,curveBumpX:Pit,curveBumpY:kit,curveLinearClosed:$it,curveLinear:t1,curveMonotoneX:zit,curveMonotoneY:Vit,curveNatural:Uit,curveStep:Kit,curveStepAfter:Wit,curveStepBefore:Git},Lm=function(n){return n.x===+n.x&&n.y===+n.y},gf=function(n){return n.x},mf=function(n){return n.y},V0t=function(n,s){if(sn(n))return n;var a="curve".concat(Jv(n));return(a==="curveMonotone"||a==="curveBump")&&s?EL["".concat(a).concat(s==="vertical"?"Y":"X")]:EL[a]||t1},U0t=function(n){var s=n.type,a=s===void 0?"linear":s,h=n.points,d=h===void 0?[]:h,p=n.baseLine,v=n.layout,x=n.connectNulls,S=x===void 0?!1:x,M=V0t(a,v),A=S?d.filter(function(j){return Lm(j)}):d,O;if(Array.isArray(p)){var B=S?p.filter(function(j){return Lm(j)}):p,I=A.map(function(j,V){return NL(NL({},j),{},{base:B[V]})});return v==="vertical"?O=Sm().y(mf).x1(gf).x0(function(j){return j.base.x}):O=Sm().x(gf).y1(mf).y0(function(j){return j.base.y}),O.defined(Lm).curve(M),O(I)}return v==="vertical"&&pe(p)?O=Sm().y(mf).x1(gf).x0(p):pe(p)?O=Sm().x(gf).y1(mf).y0(p):O=k$().x(gf).y(mf),O.defined(Lm).curve(M),O(A)},LL=function(n){var s=n.className,a=n.points,h=n.path,d=n.pathRef;if((!a||!a.length)&&!h)return null;var p=a&&a.length?U0t(n):h;return wt.createElement("path",qS({},gn(n,!1),Yy(n),{className:mn("recharts-curve",s),d:p,ref:d}))},Tz={exports:{}},K0t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",G0t=K0t,W0t=G0t;function Mz(){}function Az(){}Az.resetWarningCache=Mz;var H0t=function(){function e(a,h,d,p,v,x){if(x!==W0t){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}e.isRequired=e;function n(){return e}var s={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:Az,resetWarningCache:Mz};return s.PropTypes=s,s};Tz.exports=H0t();var X0t=Tz.exports;const Ge=wn(X0t);var Y0t=Object.getOwnPropertyNames,q0t=Object.getOwnPropertySymbols,Z0t=Object.prototype.hasOwnProperty;function _L(e,n){return function(a,h,d){return e(a,h,d)&&n(a,h,d)}}function _m(e){return function(s,a,h){if(!s||!a||typeof s!="object"||typeof a!="object")return e(s,a,h);var d=h.cache,p=d.get(s),v=d.get(a);if(p&&v)return p===a&&v===s;d.set(s,a),d.set(a,s);var x=e(s,a,h);return d.delete(s),d.delete(a),x}}function DL(e){return Y0t(e).concat(q0t(e))}var Cz=Object.hasOwn||function(e,n){return Z0t.call(e,n)};function Md(e,n){return e||n?e===n:e===n||e!==e&&n!==n}var Oz="_owner",RL=Object.getOwnPropertyDescriptor,IL=Object.keys;function J0t(e,n,s){var a=e.length;if(n.length!==a)return!1;for(;a-- >0;)if(!s.equals(e[a],n[a],a,a,e,n,s))return!1;return!0}function Q0t(e,n){return Md(e.getTime(),n.getTime())}function FL(e,n,s){if(e.size!==n.size)return!1;for(var a={},h=e.entries(),d=0,p,v;(p=h.next())&&!p.done;){for(var x=n.entries(),S=!1,M=0;(v=x.next())&&!v.done;){var A=p.value,O=A[0],B=A[1],I=v.value,j=I[0],V=I[1];!S&&!a[M]&&(S=s.equals(O,j,d,M,e,n,s)&&s.equals(B,V,O,j,e,n,s))&&(a[M]=!0),M++}if(!S)return!1;d++}return!0}function tvt(e,n,s){var a=IL(e),h=a.length;if(IL(n).length!==h)return!1;for(var d;h-- >0;)if(d=a[h],d===Oz&&(e.$$typeof||n.$$typeof)&&e.$$typeof!==n.$$typeof||!Cz(n,d)||!s.equals(e[d],n[d],d,d,e,n,s))return!1;return!0}function yf(e,n,s){var a=DL(e),h=a.length;if(DL(n).length!==h)return!1;for(var d,p,v;h-- >0;)if(d=a[h],d===Oz&&(e.$$typeof||n.$$typeof)&&e.$$typeof!==n.$$typeof||!Cz(n,d)||!s.equals(e[d],n[d],d,d,e,n,s)||(p=RL(e,d),v=RL(n,d),(p||v)&&(!p||!v||p.configurable!==v.configurable||p.enumerable!==v.enumerable||p.writable!==v.writable)))return!1;return!0}function evt(e,n){return Md(e.valueOf(),n.valueOf())}function nvt(e,n){return e.source===n.source&&e.flags===n.flags}function jL(e,n,s){if(e.size!==n.size)return!1;for(var a={},h=e.values(),d,p;(d=h.next())&&!d.done;){for(var v=n.values(),x=!1,S=0;(p=v.next())&&!p.done;)!x&&!a[S]&&(x=s.equals(d.value,p.value,d.value,p.value,e,n,s))&&(a[S]=!0),S++;if(!x)return!1}return!0}function ivt(e,n){var s=e.length;if(n.length!==s)return!1;for(;s-- >0;)if(e[s]!==n[s])return!1;return!0}var rvt="[object Arguments]",svt="[object Boolean]",ovt="[object Date]",avt="[object Map]",lvt="[object Number]",uvt="[object Object]",hvt="[object RegExp]",cvt="[object Set]",dvt="[object String]",fvt=Array.isArray,BL=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,$L=Object.assign,pvt=Object.prototype.toString.call.bind(Object.prototype.toString);function gvt(e){var n=e.areArraysEqual,s=e.areDatesEqual,a=e.areMapsEqual,h=e.areObjectsEqual,d=e.arePrimitiveWrappersEqual,p=e.areRegExpsEqual,v=e.areSetsEqual,x=e.areTypedArraysEqual;return function(M,A,O){if(M===A)return!0;if(M==null||A==null||typeof M!="object"||typeof A!="object")return M!==M&&A!==A;var B=M.constructor;if(B!==A.constructor)return!1;if(B===Object)return h(M,A,O);if(fvt(M))return n(M,A,O);if(BL!=null&&BL(M))return x(M,A,O);if(B===Date)return s(M,A,O);if(B===RegExp)return p(M,A,O);if(B===Map)return a(M,A,O);if(B===Set)return v(M,A,O);var I=pvt(M);return I===ovt?s(M,A,O):I===hvt?p(M,A,O):I===avt?a(M,A,O):I===cvt?v(M,A,O):I===uvt?typeof M.then!="function"&&typeof A.then!="function"&&h(M,A,O):I===rvt?h(M,A,O):I===svt||I===lvt||I===dvt?d(M,A,O):!1}}function mvt(e){var n=e.circular,s=e.createCustomConfig,a=e.strict,h={areArraysEqual:a?yf:J0t,areDatesEqual:Q0t,areMapsEqual:a?_L(FL,yf):FL,areObjectsEqual:a?yf:tvt,arePrimitiveWrappersEqual:evt,areRegExpsEqual:nvt,areSetsEqual:a?_L(jL,yf):jL,areTypedArraysEqual:a?yf:ivt};if(s&&(h=$L({},h,s(h))),n){var d=_m(h.areArraysEqual),p=_m(h.areMapsEqual),v=_m(h.areObjectsEqual),x=_m(h.areSetsEqual);h=$L({},h,{areArraysEqual:d,areMapsEqual:p,areObjectsEqual:v,areSetsEqual:x})}return h}function yvt(e){return function(n,s,a,h,d,p,v){return e(n,s,v)}}function vvt(e){var n=e.circular,s=e.comparator,a=e.createState,h=e.equals,d=e.strict;if(a)return function(x,S){var M=a(),A=M.cache,O=A===void 0?n?new WeakMap:void 0:A,B=M.meta;return s(x,S,{cache:O,equals:h,meta:B,strict:d})};if(n)return function(x,S){return s(x,S,{cache:new WeakMap,equals:h,meta:void 0,strict:d})};var p={cache:void 0,equals:h,meta:void 0,strict:d};return function(x,S){return s(x,S,p)}}var xvt=du();du({strict:!0});du({circular:!0});du({circular:!0,strict:!0});du({createInternalComparator:function(){return Md}});du({strict:!0,createInternalComparator:function(){return Md}});du({circular:!0,createInternalComparator:function(){return Md}});du({circular:!0,createInternalComparator:function(){return Md},strict:!0});function du(e){e===void 0&&(e={});var n=e.circular,s=n===void 0?!1:n,a=e.createInternalComparator,h=e.createState,d=e.strict,p=d===void 0?!1:d,v=mvt(e),x=gvt(v),S=a?a(x):yvt(x);return vvt({circular:s,comparator:x,createState:h,equals:S,strict:p})}function bvt(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function zL(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=-1,a=function h(d){s<0&&(s=d),d-s>n?(e(d),s=-1):bvt(h)};requestAnimationFrame(a)}function ZS(e){"@babel/helpers - typeof";return ZS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ZS(e)}function wvt(e){return Tvt(e)||kvt(e)||Pvt(e)||Svt()}function Svt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pvt(e,n){if(e){if(typeof e=="string")return VL(e,n);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return VL(e,n)}}function VL(e,n){(n==null||n>e.length)&&(n=e.length);for(var s=0,a=new Array(n);s<n;s++)a[s]=e[s];return a}function kvt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Tvt(e){if(Array.isArray(e))return e}function Mvt(){var e={},n=function(){return null},s=!1,a=function h(d){if(!s){if(Array.isArray(d)){if(!d.length)return;var p=d,v=wvt(p),x=v[0],S=v.slice(1);if(typeof x=="number"){zL(h.bind(null,S),x);return}h(x),zL(h.bind(null,S));return}ZS(d)==="object"&&(e=d,n(e)),typeof d=="function"&&d()}};return{stop:function(){s=!0},start:function(d){s=!1,a(d)},subscribe:function(d){return n=d,function(){n=function(){return null}}}}}function Kp(e){"@babel/helpers - typeof";return Kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Kp(e)}function UL(e,n){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(h){return Object.getOwnPropertyDescriptor(e,h).enumerable})),s.push.apply(s,a)}return s}function KL(e){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?UL(Object(s),!0).forEach(function(a){Nz(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):UL(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Nz(e,n,s){return n=Avt(n),n in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}function Avt(e){var n=Cvt(e,"string");return Kp(n)==="symbol"?n:String(n)}function Cvt(e,n){if(Kp(e)!=="object"||e===null)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,n||"default");if(Kp(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var Ovt=function(n,s){return[Object.keys(n),Object.keys(s)].reduce(function(a,h){return a.filter(function(d){return h.includes(d)})})},Nvt=function(n){return n},Evt=function(n){return n.replace(/([A-Z])/g,function(s){return"-".concat(s.toLowerCase())})},Hf=function(n,s){return Object.keys(s).reduce(function(a,h){return KL(KL({},a),{},Nz({},h,n(h,s[h])))},{})},GL=function(n,s,a){return n.map(function(h){return"".concat(Evt(h)," ").concat(s,"ms ").concat(a)}).join(",")};function Lvt(e,n){return Rvt(e)||Dvt(e,n)||Ez(e,n)||_vt()}function _vt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dvt(e,n){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var a,h,d,p,v=[],x=!0,S=!1;try{if(d=(s=s.call(e)).next,n!==0)for(;!(x=(a=d.call(s)).done)&&(v.push(a.value),v.length!==n);x=!0);}catch(M){S=!0,h=M}finally{try{if(!x&&s.return!=null&&(p=s.return(),Object(p)!==p))return}finally{if(S)throw h}}return v}}function Rvt(e){if(Array.isArray(e))return e}function Ivt(e){return Bvt(e)||jvt(e)||Ez(e)||Fvt()}function Fvt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ez(e,n){if(e){if(typeof e=="string")return JS(e,n);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return JS(e,n)}}function jvt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Bvt(e){if(Array.isArray(e))return JS(e)}function JS(e,n){(n==null||n>e.length)&&(n=e.length);for(var s=0,a=new Array(n);s<n;s++)a[s]=e[s];return a}var A0=1e-4,Lz=function(n,s){return[0,3*n,3*s-6*n,3*n-3*s+1]},_z=function(n,s){return n.map(function(a,h){return a*Math.pow(s,h)}).reduce(function(a,h){return a+h})},WL=function(n,s){return function(a){var h=Lz(n,s);return _z(h,a)}},$vt=function(n,s){return function(a){var h=Lz(n,s),d=[].concat(Ivt(h.map(function(p,v){return p*v}).slice(1)),[0]);return _z(d,a)}},HL=function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];var h=s[0],d=s[1],p=s[2],v=s[3];if(s.length===1)switch(s[0]){case"linear":h=0,d=0,p=1,v=1;break;case"ease":h=.25,d=.1,p=.25,v=1;break;case"ease-in":h=.42,d=0,p=1,v=1;break;case"ease-out":h=.42,d=0,p=.58,v=1;break;case"ease-in-out":h=0,d=0,p=.58,v=1;break;default:{var x=s[0].split("(");if(x[0]==="cubic-bezier"&&x[1].split(")")[0].split(",").length===4){var S=x[1].split(")")[0].split(",").map(function(V){return parseFloat(V)}),M=Lvt(S,4);h=M[0],d=M[1],p=M[2],v=M[3]}}}var A=WL(h,p),O=WL(d,v),B=$vt(h,p),I=function(C){return C>1?1:C<0?0:C},j=function(C){for(var z=C>1?1:C,F=z,Y=0;Y<8;++Y){var U=A(F)-z,J=B(F);if(Math.abs(U-z)<A0||J<A0)return O(F);F=I(F-U/J)}return O(F)};return j.isStepper=!1,j},zvt=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=n.stiff,a=s===void 0?100:s,h=n.damping,d=h===void 0?8:h,p=n.dt,v=p===void 0?17:p,x=function(M,A,O){var B=-(M-A)*a,I=O*d,j=O+(B-I)*v/1e3,V=O*v/1e3+M;return Math.abs(V-A)<A0&&Math.abs(j)<A0?[A,0]:[V,j]};return x.isStepper=!0,x.dt=v,x},Vvt=function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];var h=s[0];if(typeof h=="string")switch(h){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return HL(h);case"spring":return zvt();default:if(h.split("(")[0]==="cubic-bezier")return HL(h)}return typeof h=="function"?h:null};function Gp(e){"@babel/helpers - typeof";return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Gp(e)}function XL(e){return Gvt(e)||Kvt(e)||Dz(e)||Uvt()}function Uvt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kvt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Gvt(e){if(Array.isArray(e))return tP(e)}function YL(e,n){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(h){return Object.getOwnPropertyDescriptor(e,h).enumerable})),s.push.apply(s,a)}return s}function lr(e){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?YL(Object(s),!0).forEach(function(a){QS(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):YL(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function QS(e,n,s){return n=Wvt(n),n in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}function Wvt(e){var n=Hvt(e,"string");return Gp(n)==="symbol"?n:String(n)}function Hvt(e,n){if(Gp(e)!=="object"||e===null)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,n||"default");if(Gp(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function Xvt(e,n){return Zvt(e)||qvt(e,n)||Dz(e,n)||Yvt()}function Yvt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dz(e,n){if(e){if(typeof e=="string")return tP(e,n);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return tP(e,n)}}function tP(e,n){(n==null||n>e.length)&&(n=e.length);for(var s=0,a=new Array(n);s<n;s++)a[s]=e[s];return a}function qvt(e,n){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var a,h,d,p,v=[],x=!0,S=!1;try{if(d=(s=s.call(e)).next,n!==0)for(;!(x=(a=d.call(s)).done)&&(v.push(a.value),v.length!==n);x=!0);}catch(M){S=!0,h=M}finally{try{if(!x&&s.return!=null&&(p=s.return(),Object(p)!==p))return}finally{if(S)throw h}}return v}}function Zvt(e){if(Array.isArray(e))return e}var C0=function(n,s,a){return n+(s-n)*a},eP=function(n){var s=n.from,a=n.to;return s!==a},Jvt=function e(n,s,a){var h=Hf(function(d,p){if(eP(p)){var v=n(p.from,p.to,p.velocity),x=Xvt(v,2),S=x[0],M=x[1];return lr(lr({},p),{},{from:S,velocity:M})}return p},s);return a<1?Hf(function(d,p){return eP(p)?lr(lr({},p),{},{velocity:C0(p.velocity,h[d].velocity,a),from:C0(p.from,h[d].from,a)}):p},s):e(n,h,a-1)};const Qvt=function(e,n,s,a,h){var d=Ovt(e,n),p=d.reduce(function(V,C){return lr(lr({},V),{},QS({},C,[e[C],n[C]]))},{}),v=d.reduce(function(V,C){return lr(lr({},V),{},QS({},C,{from:e[C],velocity:0,to:n[C]}))},{}),x=-1,S,M,A=function(){return null},O=function(){return Hf(function(C,z){return z.from},v)},B=function(){return!Object.values(v).filter(eP).length},I=function(C){S||(S=C);var z=C-S,F=z/s.dt;v=Jvt(s,v,F),h(lr(lr(lr({},e),n),O())),S=C,B()||(x=requestAnimationFrame(A))},j=function(C){M||(M=C);var z=(C-M)/a,F=Hf(function(U,J){return C0.apply(void 0,XL(J).concat([s(z)]))},p);if(h(lr(lr(lr({},e),n),F)),z<1)x=requestAnimationFrame(A);else{var Y=Hf(function(U,J){return C0.apply(void 0,XL(J).concat([s(1)]))},p);h(lr(lr(lr({},e),n),Y))}};return A=s.isStepper?I:j,function(){return requestAnimationFrame(A),function(){cancelAnimationFrame(x)}}};function Gc(e){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Gc(e)}var t1t=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function e1t(e,n){if(e==null)return{};var s=n1t(e,n),a,h;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(h=0;h<d.length;h++)a=d[h],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function n1t(e,n){if(e==null)return{};var s={},a=Object.keys(e),h,d;for(d=0;d<a.length;d++)h=a[d],!(n.indexOf(h)>=0)&&(s[h]=e[h]);return s}function yb(e){return o1t(e)||s1t(e)||r1t(e)||i1t()}function i1t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r1t(e,n){if(e){if(typeof e=="string")return nP(e,n);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return nP(e,n)}}function s1t(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function o1t(e){if(Array.isArray(e))return nP(e)}function nP(e,n){(n==null||n>e.length)&&(n=e.length);for(var s=0,a=new Array(n);s<n;s++)a[s]=e[s];return a}function qL(e,n){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(h){return Object.getOwnPropertyDescriptor(e,h).enumerable})),s.push.apply(s,a)}return s}function xo(e){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?qL(Object(s),!0).forEach(function(a){Tf(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):qL(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Tf(e,n,s){return n=Rz(n),n in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}function a1t(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function l1t(e,n){for(var s=0;s<n.length;s++){var a=n[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Rz(a.key),a)}}function u1t(e,n,s){return n&&l1t(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rz(e){var n=h1t(e,"string");return Gc(n)==="symbol"?n:String(n)}function h1t(e,n){if(Gc(e)!=="object"||e===null)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,n||"default");if(Gc(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function c1t(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&iP(e,n)}function iP(e,n){return iP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,h){return a.__proto__=h,a},iP(e,n)}function d1t(e){var n=f1t();return function(){var a=O0(e),h;if(n){var d=O0(this).constructor;h=Reflect.construct(a,arguments,d)}else h=a.apply(this,arguments);return rP(this,h)}}function rP(e,n){if(n&&(Gc(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sP(e)}function sP(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f1t(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function O0(e){return O0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},O0(e)}var Jl=function(e){c1t(s,e);var n=d1t(s);function s(a,h){var d;a1t(this,s),d=n.call(this,a,h);var p=d.props,v=p.isActive,x=p.attributeName,S=p.from,M=p.to,A=p.steps,O=p.children,B=p.duration;if(d.handleStyleChange=d.handleStyleChange.bind(sP(d)),d.changeStyle=d.changeStyle.bind(sP(d)),!v||B<=0)return d.state={style:{}},typeof O=="function"&&(d.state={style:M}),rP(d);if(A&&A.length)d.state={style:A[0].style};else if(S){if(typeof O=="function")return d.state={style:S},rP(d);d.state={style:x?Tf({},x,S):S}}else d.state={style:{}};return d}return u1t(s,[{key:"componentDidMount",value:function(){var h=this.props,d=h.isActive,p=h.canBegin;this.mounted=!0,!(!d||!p)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(h){var d=this.props,p=d.isActive,v=d.canBegin,x=d.attributeName,S=d.shouldReAnimate,M=d.to,A=d.from,O=this.state.style;if(v){if(!p){var B={style:x?Tf({},x,M):M};this.state&&O&&(x&&O[x]!==M||!x&&O!==M)&&this.setState(B);return}if(!(xvt(h.to,M)&&h.canBegin&&h.isActive)){var I=!h.canBegin||!h.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var j=I||S?A:h.to;if(this.state&&O){var V={style:x?Tf({},x,j):j};(x&&O[x]!==j||!x&&O!==j)&&this.setState(V)}this.runAnimation(xo(xo({},this.props),{},{from:j,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var h=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),h&&h()}},{key:"handleStyleChange",value:function(h){this.changeStyle(h)}},{key:"changeStyle",value:function(h){this.mounted&&this.setState({style:h})}},{key:"runJSAnimation",value:function(h){var d=this,p=h.from,v=h.to,x=h.duration,S=h.easing,M=h.begin,A=h.onAnimationEnd,O=h.onAnimationStart,B=Qvt(p,v,Vvt(S),x,this.changeStyle),I=function(){d.stopJSAnimation=B()};this.manager.start([O,M,I,x,A])}},{key:"runStepAnimation",value:function(h){var d=this,p=h.steps,v=h.begin,x=h.onAnimationStart,S=p[0],M=S.style,A=S.duration,O=A===void 0?0:A,B=function(j,V,C){if(C===0)return j;var z=V.duration,F=V.easing,Y=F===void 0?"ease":F,U=V.style,J=V.properties,K=V.onAnimationEnd,rt=C>0?p[C-1]:V,gt=J||Object.keys(U);if(typeof Y=="function"||Y==="spring")return[].concat(yb(j),[d.runJSAnimation.bind(d,{from:rt.style,to:U,duration:z,easing:Y}),z]);var lt=GL(gt,z,Y),dt=xo(xo(xo({},rt.style),U),{},{transition:lt});return[].concat(yb(j),[dt,z,K]).filter(Nvt)};return this.manager.start([x].concat(yb(p.reduce(B,[M,Math.max(O,v)])),[h.onAnimationEnd]))}},{key:"runAnimation",value:function(h){this.manager||(this.manager=Mvt());var d=h.begin,p=h.duration,v=h.attributeName,x=h.to,S=h.easing,M=h.onAnimationStart,A=h.onAnimationEnd,O=h.steps,B=h.children,I=this.manager;if(this.unSubscribe=I.subscribe(this.handleStyleChange),typeof S=="function"||typeof B=="function"||S==="spring"){this.runJSAnimation(h);return}if(O.length>1){this.runStepAnimation(h);return}var j=v?Tf({},v,x):x,V=GL(Object.keys(j),p,S);I.start([M,d,xo(xo({},j),{},{transition:V}),p,A])}},{key:"render",value:function(){var h=this.props,d=h.children;h.begin;var p=h.duration;h.attributeName,h.easing;var v=h.isActive;h.steps,h.from,h.to,h.canBegin,h.onAnimationEnd,h.shouldReAnimate,h.onAnimationReStart;var x=e1t(h,t1t),S=at.Children.count(d),M=this.state.style;if(typeof d=="function")return d(M);if(!v||S===0||p<=0)return d;var A=function(B){var I=B.props,j=I.style,V=j===void 0?{}:j,C=I.className,z=at.cloneElement(B,xo(xo({},x),{},{style:xo(xo({},V),M),className:C}));return z};return S===1?A(at.Children.only(d)):wt.createElement("div",null,at.Children.map(d,function(O){return A(O)}))}}]),s}(at.PureComponent);Jl.displayName="Animate";Jl.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Jl.propTypes={from:Ge.oneOfType([Ge.object,Ge.string]),to:Ge.oneOfType([Ge.object,Ge.string]),attributeName:Ge.string,duration:Ge.number,begin:Ge.number,easing:Ge.oneOfType([Ge.string,Ge.func]),steps:Ge.arrayOf(Ge.shape({duration:Ge.number.isRequired,style:Ge.object.isRequired,easing:Ge.oneOfType([Ge.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ge.func]),properties:Ge.arrayOf("string"),onAnimationEnd:Ge.func})),children:Ge.oneOfType([Ge.node,Ge.func]),isActive:Ge.bool,canBegin:Ge.bool,onAnimationEnd:Ge.func,shouldReAnimate:Ge.bool,onAnimationStart:Ge.func,onAnimationReStart:Ge.func};Ge.object,Ge.object,Ge.object,Ge.element;Ge.object,Ge.object,Ge.object,Ge.oneOfType([Ge.array,Ge.element]),Ge.any;function Wp(e){"@babel/helpers - typeof";return Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Wp(e)}function N0(){return N0=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},N0.apply(this,arguments)}function p1t(e,n){return v1t(e)||y1t(e,n)||m1t(e,n)||g1t()}function g1t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m1t(e,n){if(e){if(typeof e=="string")return ZL(e,n);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return ZL(e,n)}}function ZL(e,n){(n==null||n>e.length)&&(n=e.length);for(var s=0,a=new Array(n);s<n;s++)a[s]=e[s];return a}function y1t(e,n){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var a,h,d,p,v=[],x=!0,S=!1;try{if(d=(s=s.call(e)).next,n!==0)for(;!(x=(a=d.call(s)).done)&&(v.push(a.value),v.length!==n);x=!0);}catch(M){S=!0,h=M}finally{try{if(!x&&s.return!=null&&(p=s.return(),Object(p)!==p))return}finally{if(S)throw h}}return v}}function v1t(e){if(Array.isArray(e))return e}function JL(e,n){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(h){return Object.getOwnPropertyDescriptor(e,h).enumerable})),s.push.apply(s,a)}return s}function QL(e){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?JL(Object(s),!0).forEach(function(a){x1t(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):JL(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function x1t(e,n,s){return n=b1t(n),n in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}function b1t(e){var n=w1t(e,"string");return Wp(n)=="symbol"?n:n+""}function w1t(e,n){if(Wp(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,n||"default");if(Wp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var t_=function(n,s,a,h,d){var p=Math.min(Math.abs(a)/2,Math.abs(h)/2),v=h>=0?1:-1,x=a>=0?1:-1,S=h>=0&&a>=0||h<0&&a<0?1:0,M;if(p>0&&d instanceof Array){for(var A=[0,0,0,0],O=0,B=4;O<B;O++)A[O]=d[O]>p?p:d[O];M="M".concat(n,",").concat(s+v*A[0]),A[0]>0&&(M+="A ".concat(A[0],",").concat(A[0],",0,0,").concat(S,",").concat(n+x*A[0],",").concat(s)),M+="L ".concat(n+a-x*A[1],",").concat(s),A[1]>0&&(M+="A ".concat(A[1],",").concat(A[1],",0,0,").concat(S,`,
        `).concat(n+a,",").concat(s+v*A[1])),M+="L ".concat(n+a,",").concat(s+h-v*A[2]),A[2]>0&&(M+="A ".concat(A[2],",").concat(A[2],",0,0,").concat(S,`,
        `).concat(n+a-x*A[2],",").concat(s+h)),M+="L ".concat(n+x*A[3],",").concat(s+h),A[3]>0&&(M+="A ".concat(A[3],",").concat(A[3],",0,0,").concat(S,`,
        `).concat(n,",").concat(s+h-v*A[3])),M+="Z"}else if(p>0&&d===+d&&d>0){var I=Math.min(p,d);M="M ".concat(n,",").concat(s+v*I,`
            A `).concat(I,",").concat(I,",0,0,").concat(S,",").concat(n+x*I,",").concat(s,`
            L `).concat(n+a-x*I,",").concat(s,`
            A `).concat(I,",").concat(I,",0,0,").concat(S,",").concat(n+a,",").concat(s+v*I,`
            L `).concat(n+a,",").concat(s+h-v*I,`
            A `).concat(I,",").concat(I,",0,0,").concat(S,",").concat(n+a-x*I,",").concat(s+h,`
            L `).concat(n+x*I,",").concat(s+h,`
            A `).concat(I,",").concat(I,",0,0,").concat(S,",").concat(n,",").concat(s+h-v*I," Z")}else M="M ".concat(n,",").concat(s," h ").concat(a," v ").concat(h," h ").concat(-a," Z");return M},S1t=function(n,s){if(!n||!s)return!1;var a=n.x,h=n.y,d=s.x,p=s.y,v=s.width,x=s.height;if(Math.abs(v)>0&&Math.abs(x)>0){var S=Math.min(d,d+v),M=Math.max(d,d+v),A=Math.min(p,p+x),O=Math.max(p,p+x);return a>=S&&a<=M&&h>=A&&h<=O}return!1},P1t={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},CM=function(n){var s=QL(QL({},P1t),n),a=at.useRef(),h=at.useState(-1),d=p1t(h,2),p=d[0],v=d[1];at.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var Y=a.current.getTotalLength();Y&&v(Y)}catch{}},[]);var x=s.x,S=s.y,M=s.width,A=s.height,O=s.radius,B=s.className,I=s.animationEasing,j=s.animationDuration,V=s.animationBegin,C=s.isAnimationActive,z=s.isUpdateAnimationActive;if(x!==+x||S!==+S||M!==+M||A!==+A||M===0||A===0)return null;var F=mn("recharts-rectangle",B);return z?wt.createElement(Jl,{canBegin:p>0,from:{width:M,height:A,x,y:S},to:{width:M,height:A,x,y:S},duration:j,animationEasing:I,isActive:z},function(Y){var U=Y.width,J=Y.height,K=Y.x,rt=Y.y;return wt.createElement(Jl,{canBegin:p>0,from:"0px ".concat(p===-1?1:p,"px"),to:"".concat(p,"px 0px"),attributeName:"strokeDasharray",begin:V,duration:j,isActive:C,easing:I},wt.createElement("path",N0({},gn(s,!0),{className:F,d:t_(K,rt,U,J,O),ref:a})))}):wt.createElement("path",N0({},gn(s,!0),{className:F,d:t_(x,S,M,A,O)}))};function oP(){return oP=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},oP.apply(this,arguments)}var Iz=function(n){var s=n.cx,a=n.cy,h=n.r,d=n.className,p=mn("recharts-dot",d);return s===+s&&a===+a&&h===+h?wt.createElement("circle",oP({},gn(n,!1),Yy(n),{className:p,cx:s,cy:a,r:h})):null};function Hp(e){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Hp(e)}var k1t=["x","y","top","left","width","height","className"];function aP(){return aP=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},aP.apply(this,arguments)}function e_(e,n){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(h){return Object.getOwnPropertyDescriptor(e,h).enumerable})),s.push.apply(s,a)}return s}function T1t(e){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?e_(Object(s),!0).forEach(function(a){M1t(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):e_(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function M1t(e,n,s){return n=A1t(n),n in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}function A1t(e){var n=C1t(e,"string");return Hp(n)=="symbol"?n:n+""}function C1t(e,n){if(Hp(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,n||"default");if(Hp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function O1t(e,n){if(e==null)return{};var s=N1t(e,n),a,h;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(h=0;h<d.length;h++)a=d[h],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function N1t(e,n){if(e==null)return{};var s={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(n.indexOf(a)>=0)continue;s[a]=e[a]}return s}var E1t=function(n,s,a,h,d,p){return"M".concat(n,",").concat(d,"v").concat(h,"M").concat(p,",").concat(s,"h").concat(a)},L1t=function(n){var s=n.x,a=s===void 0?0:s,h=n.y,d=h===void 0?0:h,p=n.top,v=p===void 0?0:p,x=n.left,S=x===void 0?0:x,M=n.width,A=M===void 0?0:M,O=n.height,B=O===void 0?0:O,I=n.className,j=O1t(n,k1t),V=T1t({x:a,y:d,top:v,left:S,width:A,height:B},j);return!pe(a)||!pe(d)||!pe(A)||!pe(B)||!pe(v)||!pe(S)?null:wt.createElement("path",aP({},gn(V,!0),{className:mn("recharts-cross",I),d:E1t(a,d,A,B,v,S)}))},_1t=X$,D1t=_1t(Object.getPrototypeOf,Object),R1t=D1t,I1t=ll,F1t=R1t,j1t=ul,B1t="[object Object]",$1t=Function.prototype,z1t=Object.prototype,Fz=$1t.toString,V1t=z1t.hasOwnProperty,U1t=Fz.call(Object);function K1t(e){if(!j1t(e)||I1t(e)!=B1t)return!1;var n=F1t(e);if(n===null)return!0;var s=V1t.call(n,"constructor")&&n.constructor;return typeof s=="function"&&s instanceof s&&Fz.call(s)==U1t}var G1t=K1t;const W1t=wn(G1t);var H1t=ll,X1t=ul,Y1t="[object Boolean]";function q1t(e){return e===!0||e===!1||X1t(e)&&H1t(e)==Y1t}var Z1t=q1t;const J1t=wn(Z1t);function Xp(e){"@babel/helpers - typeof";return Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Xp(e)}function E0(){return E0=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},E0.apply(this,arguments)}function Q1t(e,n){return ixt(e)||nxt(e,n)||ext(e,n)||txt()}function txt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ext(e,n){if(e){if(typeof e=="string")return n_(e,n);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return n_(e,n)}}function n_(e,n){(n==null||n>e.length)&&(n=e.length);for(var s=0,a=new Array(n);s<n;s++)a[s]=e[s];return a}function nxt(e,n){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var a,h,d,p,v=[],x=!0,S=!1;try{if(d=(s=s.call(e)).next,n!==0)for(;!(x=(a=d.call(s)).done)&&(v.push(a.value),v.length!==n);x=!0);}catch(M){S=!0,h=M}finally{try{if(!x&&s.return!=null&&(p=s.return(),Object(p)!==p))return}finally{if(S)throw h}}return v}}function ixt(e){if(Array.isArray(e))return e}function i_(e,n){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(h){return Object.getOwnPropertyDescriptor(e,h).enumerable})),s.push.apply(s,a)}return s}function r_(e){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?i_(Object(s),!0).forEach(function(a){rxt(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):i_(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function rxt(e,n,s){return n=sxt(n),n in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}function sxt(e){var n=oxt(e,"string");return Xp(n)=="symbol"?n:n+""}function oxt(e,n){if(Xp(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,n||"default");if(Xp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var s_=function(n,s,a,h,d){var p=a-h,v;return v="M ".concat(n,",").concat(s),v+="L ".concat(n+a,",").concat(s),v+="L ".concat(n+a-p/2,",").concat(s+d),v+="L ".concat(n+a-p/2-h,",").concat(s+d),v+="L ".concat(n,",").concat(s," Z"),v},axt={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},lxt=function(n){var s=r_(r_({},axt),n),a=at.useRef(),h=at.useState(-1),d=Q1t(h,2),p=d[0],v=d[1];at.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var F=a.current.getTotalLength();F&&v(F)}catch{}},[]);var x=s.x,S=s.y,M=s.upperWidth,A=s.lowerWidth,O=s.height,B=s.className,I=s.animationEasing,j=s.animationDuration,V=s.animationBegin,C=s.isUpdateAnimationActive;if(x!==+x||S!==+S||M!==+M||A!==+A||O!==+O||M===0&&A===0||O===0)return null;var z=mn("recharts-trapezoid",B);return C?wt.createElement(Jl,{canBegin:p>0,from:{upperWidth:0,lowerWidth:0,height:O,x,y:S},to:{upperWidth:M,lowerWidth:A,height:O,x,y:S},duration:j,animationEasing:I,isActive:C},function(F){var Y=F.upperWidth,U=F.lowerWidth,J=F.height,K=F.x,rt=F.y;return wt.createElement(Jl,{canBegin:p>0,from:"0px ".concat(p===-1?1:p,"px"),to:"".concat(p,"px 0px"),attributeName:"strokeDasharray",begin:V,duration:j,easing:I},wt.createElement("path",E0({},gn(s,!0),{className:z,d:s_(K,rt,Y,U,J),ref:a})))}):wt.createElement("g",null,wt.createElement("path",E0({},gn(s,!0),{className:z,d:s_(x,S,M,A,O)})))},uxt=["option","shapeType","propTransformer","activeClassName","isActive"];function Yp(e){"@babel/helpers - typeof";return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Yp(e)}function hxt(e,n){if(e==null)return{};var s=cxt(e,n),a,h;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(h=0;h<d.length;h++)a=d[h],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function cxt(e,n){if(e==null)return{};var s={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(n.indexOf(a)>=0)continue;s[a]=e[a]}return s}function o_(e,n){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(h){return Object.getOwnPropertyDescriptor(e,h).enumerable})),s.push.apply(s,a)}return s}function L0(e){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?o_(Object(s),!0).forEach(function(a){dxt(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o_(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function dxt(e,n,s){return n=fxt(n),n in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}function fxt(e){var n=pxt(e,"string");return Yp(n)=="symbol"?n:n+""}function pxt(e,n){if(Yp(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,n||"default");if(Yp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function gxt(e,n){return L0(L0({},n),e)}function mxt(e,n){return e==="symbols"}function a_(e){var n=e.shapeType,s=e.elementProps;switch(n){case"rectangle":return wt.createElement(CM,s);case"trapezoid":return wt.createElement(lxt,s);case"sector":return wt.createElement(kz,s);case"symbols":if(mxt(n))return wt.createElement(WT,s);break;default:return null}}function yxt(e){return at.isValidElement(e)?e.props:e}function vxt(e){var n=e.option,s=e.shapeType,a=e.propTransformer,h=a===void 0?gxt:a,d=e.activeClassName,p=d===void 0?"recharts-active-shape":d,v=e.isActive,x=hxt(e,uxt),S;if(at.isValidElement(n))S=at.cloneElement(n,L0(L0({},x),yxt(n)));else if(sn(n))S=n(x);else if(W1t(n)&&!J1t(n)){var M=h(n,x);S=wt.createElement(a_,{shapeType:s,elementProps:M})}else{var A=x;S=wt.createElement(a_,{shapeType:s,elementProps:A})}return v?wt.createElement(er,{className:p},S):S}function m1(e,n){return n!=null&&"trapezoids"in e.props}function y1(e,n){return n!=null&&"sectors"in e.props}function qp(e,n){return n!=null&&"points"in e.props}function xxt(e,n){var s,a,h=e.x===(n==null||(s=n.labelViewBox)===null||s===void 0?void 0:s.x)||e.x===n.x,d=e.y===(n==null||(a=n.labelViewBox)===null||a===void 0?void 0:a.y)||e.y===n.y;return h&&d}function bxt(e,n){var s=e.endAngle===n.endAngle,a=e.startAngle===n.startAngle;return s&&a}function wxt(e,n){var s=e.x===n.x,a=e.y===n.y,h=e.z===n.z;return s&&a&&h}function Sxt(e,n){var s;return m1(e,n)?s=xxt:y1(e,n)?s=bxt:qp(e,n)&&(s=wxt),s}function Pxt(e,n){var s;return m1(e,n)?s="trapezoids":y1(e,n)?s="sectors":qp(e,n)&&(s="points"),s}function kxt(e,n){if(m1(e,n)){var s;return(s=n.tooltipPayload)===null||s===void 0||(s=s[0])===null||s===void 0||(s=s.payload)===null||s===void 0?void 0:s.payload}if(y1(e,n)){var a;return(a=n.tooltipPayload)===null||a===void 0||(a=a[0])===null||a===void 0||(a=a.payload)===null||a===void 0?void 0:a.payload}return qp(e,n)?n.payload:{}}function Txt(e){var n=e.activeTooltipItem,s=e.graphicalItem,a=e.itemData,h=Pxt(s,n),d=kxt(s,n),p=a.filter(function(x,S){var M=kM(d,x),A=s.props[h].filter(function(I){var j=Sxt(s,n);return j(I,n)}),O=s.props[h].indexOf(A[A.length-1]),B=S===O;return M&&B}),v=a.indexOf(p[p.length-1]);return v}var Mxt=Math.ceil,Axt=Math.max;function Cxt(e,n,s,a){for(var h=-1,d=Axt(Mxt((n-e)/(s||1)),0),p=Array(d);d--;)p[a?d:++h]=e,e+=s;return p}var Oxt=Cxt,Nxt=f3,l_=1/0,Ext=17976931348623157e292;function Lxt(e){if(!e)return e===0?e:0;if(e=Nxt(e),e===l_||e===-l_){var n=e<0?-1:1;return n*Ext}return e===e?e:0}var jz=Lxt,_xt=Oxt,Dxt=r1,vb=jz;function Rxt(e){return function(n,s,a){return a&&typeof a!="number"&&Dxt(n,s,a)&&(s=a=void 0),n=vb(n),s===void 0?(s=n,n=0):s=vb(s),a=a===void 0?n<s?1:-1:vb(a),_xt(n,s,a,e)}}var Ixt=Rxt,Fxt=Ixt,jxt=Fxt(),Bxt=jxt;const _0=wn(Bxt);function Zp(e){"@babel/helpers - typeof";return Zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Zp(e)}function u_(e,n){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(h){return Object.getOwnPropertyDescriptor(e,h).enumerable})),s.push.apply(s,a)}return s}function h_(e){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?u_(Object(s),!0).forEach(function(a){Bz(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):u_(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Bz(e,n,s){return n=$xt(n),n in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}function $xt(e){var n=zxt(e,"string");return Zp(n)=="symbol"?n:n+""}function zxt(e,n){if(Zp(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,n||"default");if(Zp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var Vxt=["Webkit","Moz","O","ms"],Uxt=function(n,s){var a=n.replace(/(\w)/,function(d){return d.toUpperCase()}),h=Vxt.reduce(function(d,p){return h_(h_({},d),{},Bz({},p+a,s))},{});return h[n]=s,h};function Wc(e){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Wc(e)}function D0(){return D0=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},D0.apply(this,arguments)}function c_(e,n){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(h){return Object.getOwnPropertyDescriptor(e,h).enumerable})),s.push.apply(s,a)}return s}function xb(e){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?c_(Object(s),!0).forEach(function(a){Ss(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):c_(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Kxt(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function d_(e,n){for(var s=0;s<n.length;s++){var a=n[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,zz(a.key),a)}}function Gxt(e,n,s){return n&&d_(e.prototype,n),s&&d_(e,s),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wxt(e,n,s){return n=R0(n),Hxt(e,$z()?Reflect.construct(n,s||[],R0(e).constructor):n.apply(e,s))}function Hxt(e,n){if(n&&(Wc(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xxt(e)}function Xxt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $z(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($z=function(){return!!e})()}function R0(e){return R0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},R0(e)}function Yxt(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&lP(e,n)}function lP(e,n){return lP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,h){return a.__proto__=h,a},lP(e,n)}function Ss(e,n,s){return n=zz(n),n in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}function zz(e){var n=qxt(e,"string");return Wc(n)=="symbol"?n:n+""}function qxt(e,n){if(Wc(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,n||"default");if(Wc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var Zxt=function(n){var s=n.data,a=n.startIndex,h=n.endIndex,d=n.x,p=n.width,v=n.travellerWidth;if(!s||!s.length)return{};var x=s.length,S=Gf().domain(_0(0,x)).range([d,d+p-v]),M=S.domain().map(function(A){return S(A)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:S(a),endX:S(h),scale:S,scaleValues:M}},f_=function(n){return n.changedTouches&&!!n.changedTouches.length},Hc=function(e){function n(s){var a;return Kxt(this,n),a=Wxt(this,n,[s]),Ss(a,"handleDrag",function(h){a.leaveTimer&&(clearTimeout(a.leaveTimer),a.leaveTimer=null),a.state.isTravellerMoving?a.handleTravellerMove(h):a.state.isSlideMoving&&a.handleSlideDrag(h)}),Ss(a,"handleTouchMove",function(h){h.changedTouches!=null&&h.changedTouches.length>0&&a.handleDrag(h.changedTouches[0])}),Ss(a,"handleDragEnd",function(){a.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var h=a.props,d=h.endIndex,p=h.onDragEnd,v=h.startIndex;p==null||p({endIndex:d,startIndex:v})}),a.detachDragEndListener()}),Ss(a,"handleLeaveWrapper",function(){(a.state.isTravellerMoving||a.state.isSlideMoving)&&(a.leaveTimer=window.setTimeout(a.handleDragEnd,a.props.leaveTimeOut))}),Ss(a,"handleEnterSlideOrTraveller",function(){a.setState({isTextActive:!0})}),Ss(a,"handleLeaveSlideOrTraveller",function(){a.setState({isTextActive:!1})}),Ss(a,"handleSlideDragStart",function(h){var d=f_(h)?h.changedTouches[0]:h;a.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:d.pageX}),a.attachDragEndListener()}),a.travellerDragStartHandlers={startX:a.handleTravellerDragStart.bind(a,"startX"),endX:a.handleTravellerDragStart.bind(a,"endX")},a.state={},a}return Yxt(n,e),Gxt(n,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(a){var h=a.startX,d=a.endX,p=this.state.scaleValues,v=this.props,x=v.gap,S=v.data,M=S.length-1,A=Math.min(h,d),O=Math.max(h,d),B=n.getIndexInRange(p,A),I=n.getIndexInRange(p,O);return{startIndex:B-B%x,endIndex:I===M?M:I-I%x}}},{key:"getTextOfTick",value:function(a){var h=this.props,d=h.data,p=h.tickFormatter,v=h.dataKey,x=la(d[a],v,a);return sn(p)?p(x,a):x}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(a){var h=this.state,d=h.slideMoveStartX,p=h.startX,v=h.endX,x=this.props,S=x.x,M=x.width,A=x.travellerWidth,O=x.startIndex,B=x.endIndex,I=x.onChange,j=a.pageX-d;j>0?j=Math.min(j,S+M-A-v,S+M-A-p):j<0&&(j=Math.max(j,S-p,S-v));var V=this.getIndex({startX:p+j,endX:v+j});(V.startIndex!==O||V.endIndex!==B)&&I&&I(V),this.setState({startX:p+j,endX:v+j,slideMoveStartX:a.pageX})}},{key:"handleTravellerDragStart",value:function(a,h){var d=f_(h)?h.changedTouches[0]:h;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:a,brushMoveStartX:d.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(a){var h=this.state,d=h.brushMoveStartX,p=h.movingTravellerId,v=h.endX,x=h.startX,S=this.state[p],M=this.props,A=M.x,O=M.width,B=M.travellerWidth,I=M.onChange,j=M.gap,V=M.data,C={startX:this.state.startX,endX:this.state.endX},z=a.pageX-d;z>0?z=Math.min(z,A+O-B-S):z<0&&(z=Math.max(z,A-S)),C[p]=S+z;var F=this.getIndex(C),Y=F.startIndex,U=F.endIndex,J=function(){var rt=V.length-1;return p==="startX"&&(v>x?Y%j===0:U%j===0)||v<x&&U===rt||p==="endX"&&(v>x?U%j===0:Y%j===0)||v>x&&U===rt};this.setState(Ss(Ss({},p,S+z),"brushMoveStartX",a.pageX),function(){I&&J()&&I(F)})}},{key:"handleTravellerMoveKeyboard",value:function(a,h){var d=this,p=this.state,v=p.scaleValues,x=p.startX,S=p.endX,M=this.state[h],A=v.indexOf(M);if(A!==-1){var O=A+a;if(!(O===-1||O>=v.length)){var B=v[O];h==="startX"&&B>=S||h==="endX"&&B<=x||this.setState(Ss({},h,B),function(){d.props.onChange(d.getIndex({startX:d.state.startX,endX:d.state.endX}))})}}}},{key:"renderBackground",value:function(){var a=this.props,h=a.x,d=a.y,p=a.width,v=a.height,x=a.fill,S=a.stroke;return wt.createElement("rect",{stroke:S,fill:x,x:h,y:d,width:p,height:v})}},{key:"renderPanorama",value:function(){var a=this.props,h=a.x,d=a.y,p=a.width,v=a.height,x=a.data,S=a.children,M=a.padding,A=at.Children.only(S);return A?wt.cloneElement(A,{x:h,y:d,width:p,height:v,margin:M,compact:!0,data:x}):null}},{key:"renderTravellerLayer",value:function(a,h){var d,p,v=this,x=this.props,S=x.y,M=x.travellerWidth,A=x.height,O=x.traveller,B=x.ariaLabel,I=x.data,j=x.startIndex,V=x.endIndex,C=Math.max(a,this.props.x),z=xb(xb({},gn(this.props,!1)),{},{x:C,y:S,width:M,height:A}),F=B||"Min value: ".concat((d=I[j])===null||d===void 0?void 0:d.name,", Max value: ").concat((p=I[V])===null||p===void 0?void 0:p.name);return wt.createElement(er,{tabIndex:0,role:"slider","aria-label":F,"aria-valuenow":a,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[h],onTouchStart:this.travellerDragStartHandlers[h],onKeyDown:function(U){["ArrowLeft","ArrowRight"].includes(U.key)&&(U.preventDefault(),U.stopPropagation(),v.handleTravellerMoveKeyboard(U.key==="ArrowRight"?1:-1,h))},onFocus:function(){v.setState({isTravellerFocused:!0})},onBlur:function(){v.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},n.renderTraveller(O,z))}},{key:"renderSlide",value:function(a,h){var d=this.props,p=d.y,v=d.height,x=d.stroke,S=d.travellerWidth,M=Math.min(a,h)+S,A=Math.max(Math.abs(h-a)-S,0);return wt.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:x,fillOpacity:.2,x:M,y:p,width:A,height:v})}},{key:"renderText",value:function(){var a=this.props,h=a.startIndex,d=a.endIndex,p=a.y,v=a.height,x=a.travellerWidth,S=a.stroke,M=this.state,A=M.startX,O=M.endX,B=5,I={pointerEvents:"none",fill:S};return wt.createElement(er,{className:"recharts-brush-texts"},wt.createElement(h0,D0({textAnchor:"end",verticalAnchor:"middle",x:Math.min(A,O)-B,y:p+v/2},I),this.getTextOfTick(h)),wt.createElement(h0,D0({textAnchor:"start",verticalAnchor:"middle",x:Math.max(A,O)+x+B,y:p+v/2},I),this.getTextOfTick(d)))}},{key:"render",value:function(){var a=this.props,h=a.data,d=a.className,p=a.children,v=a.x,x=a.y,S=a.width,M=a.height,A=a.alwaysShowText,O=this.state,B=O.startX,I=O.endX,j=O.isTextActive,V=O.isSlideMoving,C=O.isTravellerMoving,z=O.isTravellerFocused;if(!h||!h.length||!pe(v)||!pe(x)||!pe(S)||!pe(M)||S<=0||M<=0)return null;var F=mn("recharts-brush",d),Y=wt.Children.count(p)===1,U=Uxt("userSelect","none");return wt.createElement(er,{className:F,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:U},this.renderBackground(),Y&&this.renderPanorama(),this.renderSlide(B,I),this.renderTravellerLayer(B,"startX"),this.renderTravellerLayer(I,"endX"),(j||V||C||z||A)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(a){var h=a.x,d=a.y,p=a.width,v=a.height,x=a.stroke,S=Math.floor(d+v/2)-1;return wt.createElement(wt.Fragment,null,wt.createElement("rect",{x:h,y:d,width:p,height:v,fill:x,stroke:"none"}),wt.createElement("line",{x1:h+1,y1:S,x2:h+p-1,y2:S,fill:"none",stroke:"#fff"}),wt.createElement("line",{x1:h+1,y1:S+2,x2:h+p-1,y2:S+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(a,h){var d;return wt.isValidElement(a)?d=wt.cloneElement(a,h):sn(a)?d=a(h):d=n.renderDefaultTraveller(h),d}},{key:"getDerivedStateFromProps",value:function(a,h){var d=a.data,p=a.width,v=a.x,x=a.travellerWidth,S=a.updateId,M=a.startIndex,A=a.endIndex;if(d!==h.prevData||S!==h.prevUpdateId)return xb({prevData:d,prevTravellerWidth:x,prevUpdateId:S,prevX:v,prevWidth:p},d&&d.length?Zxt({data:d,width:p,x:v,travellerWidth:x,startIndex:M,endIndex:A}):{scale:null,scaleValues:null});if(h.scale&&(p!==h.prevWidth||v!==h.prevX||x!==h.prevTravellerWidth)){h.scale.range([v,v+p-x]);var O=h.scale.domain().map(function(B){return h.scale(B)});return{prevData:d,prevTravellerWidth:x,prevUpdateId:S,prevX:v,prevWidth:p,startX:h.scale(a.startIndex),endX:h.scale(a.endIndex),scaleValues:O}}return null}},{key:"getIndexInRange",value:function(a,h){for(var d=a.length,p=0,v=d-1;v-p>1;){var x=Math.floor((p+v)/2);a[x]>h?v=x:p=x}return h>=a[v]?v:p}}])}(at.PureComponent);Ss(Hc,"displayName","Brush");Ss(Hc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Jxt=QT;function Qxt(e,n){var s;return Jxt(e,function(a,h,d){return s=n(a,h,d),!s}),!!s}var tbt=Qxt,ebt=$$,nbt=uu,ibt=tbt,rbt=ds,sbt=r1;function obt(e,n,s){var a=rbt(e)?ebt:ibt;return s&&sbt(e,n,s)&&(n=void 0),a(e,nbt(n))}var abt=obt;const lbt=wn(abt);var sa=function(n,s){var a=n.alwaysShow,h=n.ifOverflow;return a&&(h="extendDomain"),h===s},p_=l3;function ubt(e,n,s){n=="__proto__"&&p_?p_(e,n,{configurable:!0,enumerable:!0,value:s,writable:!0}):e[n]=s}var hbt=ubt,cbt=hbt,dbt=o3,fbt=uu;function pbt(e,n){var s={};return n=fbt(n),dbt(e,function(a,h,d){cbt(s,h,n(a,h,d))}),s}var gbt=pbt;const mbt=wn(gbt);function ybt(e,n){for(var s=-1,a=e==null?0:e.length;++s<a;)if(!n(e[s],s,e))return!1;return!0}var vbt=ybt,xbt=QT;function bbt(e,n){var s=!0;return xbt(e,function(a,h,d){return s=!!n(a,h,d),s}),s}var wbt=bbt,Sbt=vbt,Pbt=wbt,kbt=uu,Tbt=ds,Mbt=r1;function Abt(e,n,s){var a=Tbt(e)?Sbt:Pbt;return s&&Mbt(e,n,s)&&(n=void 0),a(e,kbt(n))}var Cbt=Abt;const Vz=wn(Cbt);var Obt=["x","y"];function Jp(e){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Jp(e)}function uP(){return uP=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},uP.apply(this,arguments)}function g_(e,n){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(h){return Object.getOwnPropertyDescriptor(e,h).enumerable})),s.push.apply(s,a)}return s}function vf(e){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?g_(Object(s),!0).forEach(function(a){Nbt(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):g_(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Nbt(e,n,s){return n=Ebt(n),n in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}function Ebt(e){var n=Lbt(e,"string");return Jp(n)=="symbol"?n:n+""}function Lbt(e,n){if(Jp(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,n||"default");if(Jp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function _bt(e,n){if(e==null)return{};var s=Dbt(e,n),a,h;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(h=0;h<d.length;h++)a=d[h],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Dbt(e,n){if(e==null)return{};var s={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(n.indexOf(a)>=0)continue;s[a]=e[a]}return s}function Rbt(e,n){var s=e.x,a=e.y,h=_bt(e,Obt),d="".concat(s),p=parseInt(d,10),v="".concat(a),x=parseInt(v,10),S="".concat(n.height||h.height),M=parseInt(S,10),A="".concat(n.width||h.width),O=parseInt(A,10);return vf(vf(vf(vf(vf({},n),h),p?{x:p}:{}),x?{y:x}:{}),{},{height:M,width:O,name:n.name,radius:n.radius})}function m_(e){return wt.createElement(vxt,uP({shapeType:"rectangle",propTransformer:Rbt,activeClassName:"recharts-active-bar"},e))}var Ibt=function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(a,h){if(typeof n=="number")return n;var d=typeof a=="number";return d?n(a,h):(d||oh(),s)}},Fbt=["value","background"],Uz;function Xc(e){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Xc(e)}function jbt(e,n){if(e==null)return{};var s=Bbt(e,n),a,h;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(h=0;h<d.length;h++)a=d[h],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Bbt(e,n){if(e==null)return{};var s={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(n.indexOf(a)>=0)continue;s[a]=e[a]}return s}function I0(){return I0=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},I0.apply(this,arguments)}function y_(e,n){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(h){return Object.getOwnPropertyDescriptor(e,h).enumerable})),s.push.apply(s,a)}return s}function Ei(e){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?y_(Object(s),!0).forEach(function(a){Rl(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):y_(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function $bt(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function v_(e,n){for(var s=0;s<n.length;s++){var a=n[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Gz(a.key),a)}}function zbt(e,n,s){return n&&v_(e.prototype,n),s&&v_(e,s),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vbt(e,n,s){return n=F0(n),Ubt(e,Kz()?Reflect.construct(n,s||[],F0(e).constructor):n.apply(e,s))}function Ubt(e,n){if(n&&(Xc(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kbt(e)}function Kbt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kz=function(){return!!e})()}function F0(e){return F0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},F0(e)}function Gbt(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&hP(e,n)}function hP(e,n){return hP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,h){return a.__proto__=h,a},hP(e,n)}function Rl(e,n,s){return n=Gz(n),n in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}function Gz(e){var n=Wbt(e,"string");return Xc(n)=="symbol"?n:n+""}function Wbt(e,n){if(Xc(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,n||"default");if(Xc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var Ql=function(e){function n(){var s;$bt(this,n);for(var a=arguments.length,h=new Array(a),d=0;d<a;d++)h[d]=arguments[d];return s=Vbt(this,n,[].concat(h)),Rl(s,"state",{isAnimationFinished:!1}),Rl(s,"id",Zv("recharts-bar-")),Rl(s,"handleAnimationEnd",function(){var p=s.props.onAnimationEnd;s.setState({isAnimationFinished:!0}),p&&p()}),Rl(s,"handleAnimationStart",function(){var p=s.props.onAnimationStart;s.setState({isAnimationFinished:!1}),p&&p()}),s}return Gbt(n,e),zbt(n,[{key:"renderRectanglesStatically",value:function(a){var h=this,d=this.props,p=d.shape,v=d.dataKey,x=d.activeIndex,S=d.activeBar,M=gn(this.props,!1);return a&&a.map(function(A,O){var B=O===x,I=B?S:p,j=Ei(Ei(Ei({},M),A),{},{isActive:B,option:I,index:O,dataKey:v,onAnimationStart:h.handleAnimationStart,onAnimationEnd:h.handleAnimationEnd});return wt.createElement(er,I0({className:"recharts-bar-rectangle"},qy(h.props,A,O),{key:"rectangle-".concat(A==null?void 0:A.x,"-").concat(A==null?void 0:A.y,"-").concat(A==null?void 0:A.value)}),wt.createElement(m_,j))})}},{key:"renderRectanglesWithAnimation",value:function(){var a=this,h=this.props,d=h.data,p=h.layout,v=h.isAnimationActive,x=h.animationBegin,S=h.animationDuration,M=h.animationEasing,A=h.animationId,O=this.state.prevData;return wt.createElement(Jl,{begin:x,duration:S,isActive:v,easing:M,from:{t:0},to:{t:1},key:"bar-".concat(A),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(B){var I=B.t,j=d.map(function(V,C){var z=O&&O[C];if(z){var F=Rh(z.x,V.x),Y=Rh(z.y,V.y),U=Rh(z.width,V.width),J=Rh(z.height,V.height);return Ei(Ei({},V),{},{x:F(I),y:Y(I),width:U(I),height:J(I)})}if(p==="horizontal"){var K=Rh(0,V.height),rt=K(I);return Ei(Ei({},V),{},{y:V.y+V.height-rt,height:rt})}var gt=Rh(0,V.width),lt=gt(I);return Ei(Ei({},V),{},{width:lt})});return wt.createElement(er,null,a.renderRectanglesStatically(j))})}},{key:"renderRectangles",value:function(){var a=this.props,h=a.data,d=a.isAnimationActive,p=this.state.prevData;return d&&h&&h.length&&(!p||!kM(p,h))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(h)}},{key:"renderBackground",value:function(){var a=this,h=this.props,d=h.data,p=h.dataKey,v=h.activeIndex,x=gn(this.props.background,!1);return d.map(function(S,M){S.value;var A=S.background,O=jbt(S,Fbt);if(!A)return null;var B=Ei(Ei(Ei(Ei(Ei({},O),{},{fill:"#eee"},A),x),qy(a.props,S,M)),{},{onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd,dataKey:p,index:M,className:"recharts-bar-background-rectangle"});return wt.createElement(m_,I0({key:"background-bar-".concat(M),option:a.props.background,isActive:M===v},B))})}},{key:"renderErrorBar",value:function(a,h){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var d=this.props,p=d.data,v=d.xAxis,x=d.yAxis,S=d.layout,M=d.children,A=Eo(M,g1);if(!A)return null;var O=S==="vertical"?p[0].height/2:p[0].width/2,B=function(V,C){var z=Array.isArray(V.value)?V.value[1]:V.value;return{x:V.x,y:V.y,value:z,errorVal:la(V,C)}},I={clipPath:a?"url(#clipPath-".concat(h,")"):null};return wt.createElement(er,I,A.map(function(j){return wt.cloneElement(j,{key:"error-bar-".concat(h,"-").concat(j.props.dataKey),data:p,xAxis:v,yAxis:x,layout:S,offset:O,dataPointFormatter:B})}))}},{key:"render",value:function(){var a=this.props,h=a.hide,d=a.data,p=a.className,v=a.xAxis,x=a.yAxis,S=a.left,M=a.top,A=a.width,O=a.height,B=a.isAnimationActive,I=a.background,j=a.id;if(h||!d||!d.length)return null;var V=this.state.isAnimationFinished,C=mn("recharts-bar",p),z=v&&v.allowDataOverflow,F=x&&x.allowDataOverflow,Y=z||F,U=bn(j)?this.id:j;return wt.createElement(er,{className:C},z||F?wt.createElement("defs",null,wt.createElement("clipPath",{id:"clipPath-".concat(U)},wt.createElement("rect",{x:z?S:S-A/2,y:F?M:M-O/2,width:z?A:A*2,height:F?O:O*2}))):null,wt.createElement(er,{className:"recharts-bar-rectangles",clipPath:Y?"url(#clipPath-".concat(U,")"):null},I?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(Y,U),(!B||V)&&Yu.renderCallByParent(this.props,d))}}],[{key:"getDerivedStateFromProps",value:function(a,h){return a.animationId!==h.prevAnimationId?{prevAnimationId:a.animationId,curData:a.data,prevData:h.curData}:a.data!==h.curData?{curData:a.data}:null}}])}(at.PureComponent);Uz=Ql;Rl(Ql,"displayName","Bar");Rl(Ql,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Gl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Rl(Ql,"getComposedData",function(e){var n=e.props,s=e.item,a=e.barPosition,h=e.bandSize,d=e.xAxis,p=e.yAxis,v=e.xAxisTicks,x=e.yAxisTicks,S=e.stackedData,M=e.dataStartIndex,A=e.displayedData,O=e.offset,B=Lyt(a,s);if(!B)return null;var I=n.layout,j=s.type.defaultProps,V=j!==void 0?Ei(Ei({},j),s.props):s.props,C=V.dataKey,z=V.children,F=V.minPointSize,Y=I==="horizontal"?p:d,U=S?Y.scale.domain():null,J=$yt({numericAxis:Y}),K=Eo(z,g3),rt=A.map(function(gt,lt){var dt,mt,vt,Mt,Ct,Ot;S?dt=_yt(S[M+lt],U):(dt=la(gt,C),Array.isArray(dt)||(dt=[J,dt]));var Rt=Ibt(F,Uz.defaultProps.minPointSize)(dt[1],lt);if(I==="horizontal"){var yt,Nt=[p.scale(dt[0]),p.scale(dt[1])],kt=Nt[0],At=Nt[1];mt=mL({axis:d,ticks:v,bandSize:h,offset:B.offset,entry:gt,index:lt}),vt=(yt=At??kt)!==null&&yt!==void 0?yt:void 0,Mt=B.size;var It=kt-At;if(Ct=Number.isNaN(It)?0:It,Ot={x:mt,y:p.y,width:Mt,height:p.height},Math.abs(Rt)>0&&Math.abs(Ct)<Math.abs(Rt)){var $t=Mo(Ct||Rt)*(Math.abs(Rt)-Math.abs(Ct));vt-=$t,Ct+=$t}}else{var ee=[d.scale(dt[0]),d.scale(dt[1])],ne=ee[0],Ft=ee[1];if(mt=ne,vt=mL({axis:p,ticks:x,bandSize:h,offset:B.offset,entry:gt,index:lt}),Mt=Ft-ne,Ct=B.size,Ot={x:d.x,y:vt,width:d.width,height:Ct},Math.abs(Rt)>0&&Math.abs(Mt)<Math.abs(Rt)){var he=Mo(Mt||Rt)*(Math.abs(Rt)-Math.abs(Mt));Mt+=he}}return Ei(Ei(Ei({},gt),{},{x:mt,y:vt,width:Mt,height:Ct,value:S?dt:dt[1],payload:gt,background:Ot},K&&K[lt]&&K[lt].props),{},{tooltipPayload:[wz(s,gt)],tooltipPosition:{x:mt+Mt/2,y:vt+Ct/2}})});return Ei({data:rt,layout:I},O)});function Qp(e){"@babel/helpers - typeof";return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Qp(e)}function Hbt(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function x_(e,n){for(var s=0;s<n.length;s++){var a=n[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Wz(a.key),a)}}function Xbt(e,n,s){return n&&x_(e.prototype,n),s&&x_(e,s),Object.defineProperty(e,"prototype",{writable:!1}),e}function b_(e,n){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(h){return Object.getOwnPropertyDescriptor(e,h).enumerable})),s.push.apply(s,a)}return s}function So(e){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?b_(Object(s),!0).forEach(function(a){v1(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):b_(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function v1(e,n,s){return n=Wz(n),n in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}function Wz(e){var n=Ybt(e,"string");return Qp(n)=="symbol"?n:n+""}function Ybt(e,n){if(Qp(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,n||"default");if(Qp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var qbt=function(n,s,a,h,d){var p=n.width,v=n.height,x=n.layout,S=n.children,M=Object.keys(s),A={left:a.left,leftMirror:a.left,right:p-a.right,rightMirror:p-a.right,top:a.top,topMirror:a.top,bottom:v-a.bottom,bottomMirror:v-a.bottom},O=!!Ts(S,Ql);return M.reduce(function(B,I){var j=s[I],V=j.orientation,C=j.domain,z=j.padding,F=z===void 0?{}:z,Y=j.mirror,U=j.reversed,J="".concat(V).concat(Y?"Mirror":""),K,rt,gt,lt,dt;if(j.type==="number"&&(j.padding==="gap"||j.padding==="no-gap")){var mt=C[1]-C[0],vt=1/0,Mt=j.categoricalDomain.sort();if(Mt.forEach(function(ee,ne){ne>0&&(vt=Math.min((ee||0)-(Mt[ne-1]||0),vt))}),Number.isFinite(vt)){var Ct=vt/mt,Ot=j.layout==="vertical"?a.height:a.width;if(j.padding==="gap"&&(K=Ct*Ot/2),j.padding==="no-gap"){var Rt=rh(n.barCategoryGap,Ct*Ot),yt=Ct*Ot/2;K=yt-Rt-(yt-Rt)/Ot*Rt}}}h==="xAxis"?rt=[a.left+(F.left||0)+(K||0),a.left+a.width-(F.right||0)-(K||0)]:h==="yAxis"?rt=x==="horizontal"?[a.top+a.height-(F.bottom||0),a.top+(F.top||0)]:[a.top+(F.top||0)+(K||0),a.top+a.height-(F.bottom||0)-(K||0)]:rt=j.range,U&&(rt=[rt[1],rt[0]]);var Nt=Nyt(j,d,O),kt=Nt.scale,At=Nt.realScaleType;kt.domain(C).range(rt),Eyt(kt);var It=Byt(kt,So(So({},j),{},{realScaleType:At}));h==="xAxis"?(dt=V==="top"&&!Y||V==="bottom"&&Y,gt=a.left,lt=A[J]-dt*j.height):h==="yAxis"&&(dt=V==="left"&&!Y||V==="right"&&Y,gt=A[J]-dt*j.width,lt=a.top);var $t=So(So(So({},j),It),{},{realScaleType:At,x:gt,y:lt,scale:kt,width:h==="xAxis"?a.width:j.width,height:h==="yAxis"?a.height:j.height});return $t.bandSize=k0($t,It),!j.hide&&h==="xAxis"?A[J]+=(dt?-1:1)*$t.height:j.hide||(A[J]+=(dt?-1:1)*$t.width),So(So({},B),{},v1({},I,$t))},{})},Hz=function(n,s){var a=n.x,h=n.y,d=s.x,p=s.y;return{x:Math.min(a,d),y:Math.min(h,p),width:Math.abs(d-a),height:Math.abs(p-h)}},Zbt=function(n){var s=n.x1,a=n.y1,h=n.x2,d=n.y2;return Hz({x:s,y:a},{x:h,y:d})},Xz=function(){function e(n){Hbt(this,e),this.scale=n}return Xbt(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=a.bandAware,d=a.position;if(s!==void 0){if(d)switch(d){case"start":return this.scale(s);case"middle":{var p=this.bandwidth?this.bandwidth()/2:0;return this.scale(s)+p}case"end":{var v=this.bandwidth?this.bandwidth():0;return this.scale(s)+v}default:return this.scale(s)}if(h){var x=this.bandwidth?this.bandwidth()/2:0;return this.scale(s)+x}return this.scale(s)}}},{key:"isInRange",value:function(s){var a=this.range(),h=a[0],d=a[a.length-1];return h<=d?s>=h&&s<=d:s>=d&&s<=h}}],[{key:"create",value:function(s){return new e(s)}}])}();v1(Xz,"EPS",1e-4);var OM=function(n){var s=Object.keys(n).reduce(function(a,h){return So(So({},a),{},v1({},h,Xz.create(n[h])))},{});return So(So({},s),{},{apply:function(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=d.bandAware,v=d.position;return mbt(h,function(x,S){return s[S].apply(x,{bandAware:p,position:v})})},isInRange:function(h){return Vz(h,function(d,p){return s[p].isInRange(d)})}})};function Jbt(e){return(e%180+180)%180}var Qbt=function(n){var s=n.width,a=n.height,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,d=Jbt(h),p=d*Math.PI/180,v=Math.atan(a/s),x=p>v&&p<Math.PI-v?a/Math.sin(p):s/Math.cos(p);return Math.abs(x)},twt=uu,ewt=Eg,nwt=n1;function iwt(e){return function(n,s,a){var h=Object(n);if(!ewt(n)){var d=twt(s);n=nwt(n),s=function(v){return d(h[v],v,h)}}var p=e(n,s,a);return p>-1?h[d?n[p]:p]:void 0}}var rwt=iwt,swt=jz;function owt(e){var n=swt(e),s=n%1;return n===n?s?n-s:n:0}var awt=owt,lwt=t3,uwt=uu,hwt=awt,cwt=Math.max;function dwt(e,n,s){var a=e==null?0:e.length;if(!a)return-1;var h=s==null?0:hwt(s);return h<0&&(h=cwt(a+h,0)),lwt(e,uwt(n),h)}var fwt=dwt,pwt=rwt,gwt=fwt,mwt=pwt(gwt),ywt=mwt;const vwt=wn(ywt);var xwt=get(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),NM=at.createContext(void 0),EM=at.createContext(void 0),Yz=at.createContext(void 0),qz=at.createContext({}),Zz=at.createContext(void 0),Jz=at.createContext(0),Qz=at.createContext(0),w_=function(n){var s=n.state,a=s.xAxisMap,h=s.yAxisMap,d=s.offset,p=n.clipPathId,v=n.children,x=n.width,S=n.height,M=xwt(d);return wt.createElement(NM.Provider,{value:a},wt.createElement(EM.Provider,{value:h},wt.createElement(qz.Provider,{value:d},wt.createElement(Yz.Provider,{value:M},wt.createElement(Zz.Provider,{value:p},wt.createElement(Jz.Provider,{value:S},wt.createElement(Qz.Provider,{value:x},v)))))))},bwt=function(){return at.useContext(Zz)},tV=function(n){var s=at.useContext(NM);s==null&&oh();var a=s[n];return a==null&&oh(),a},wwt=function(){var n=at.useContext(NM);return El(n)},Swt=function(){var n=at.useContext(EM),s=vwt(n,function(a){return Vz(a.domain,Number.isFinite)});return s||El(n)},eV=function(n){var s=at.useContext(EM);s==null&&oh();var a=s[n];return a==null&&oh(),a},Pwt=function(){var n=at.useContext(Yz);return n},kwt=function(){return at.useContext(qz)},LM=function(){return at.useContext(Qz)},_M=function(){return at.useContext(Jz)};function Yc(e){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Yc(e)}function Twt(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Mwt(e,n){for(var s=0;s<n.length;s++){var a=n[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,iV(a.key),a)}}function Awt(e,n,s){return n&&Mwt(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cwt(e,n,s){return n=j0(n),Owt(e,nV()?Reflect.construct(n,s||[],j0(e).constructor):n.apply(e,s))}function Owt(e,n){if(n&&(Yc(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nwt(e)}function Nwt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nV=function(){return!!e})()}function j0(e){return j0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},j0(e)}function Ewt(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&cP(e,n)}function cP(e,n){return cP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,h){return a.__proto__=h,a},cP(e,n)}function S_(e,n){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(h){return Object.getOwnPropertyDescriptor(e,h).enumerable})),s.push.apply(s,a)}return s}function P_(e){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?S_(Object(s),!0).forEach(function(a){DM(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):S_(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function DM(e,n,s){return n=iV(n),n in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}function iV(e){var n=Lwt(e,"string");return Yc(n)=="symbol"?n:n+""}function Lwt(e,n){if(Yc(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,n||"default");if(Yc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function _wt(e,n){return Fwt(e)||Iwt(e,n)||Rwt(e,n)||Dwt()}function Dwt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rwt(e,n){if(e){if(typeof e=="string")return k_(e,n);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return k_(e,n)}}function k_(e,n){(n==null||n>e.length)&&(n=e.length);for(var s=0,a=new Array(n);s<n;s++)a[s]=e[s];return a}function Iwt(e,n){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var a,h,d,p,v=[],x=!0,S=!1;try{if(d=(s=s.call(e)).next,n!==0)for(;!(x=(a=d.call(s)).done)&&(v.push(a.value),v.length!==n);x=!0);}catch(M){S=!0,h=M}finally{try{if(!x&&s.return!=null&&(p=s.return(),Object(p)!==p))return}finally{if(S)throw h}}return v}}function Fwt(e){if(Array.isArray(e))return e}function dP(){return dP=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},dP.apply(this,arguments)}var jwt=function(n,s){var a;return wt.isValidElement(n)?a=wt.cloneElement(n,s):sn(n)?a=n(s):a=wt.createElement("line",dP({},s,{className:"recharts-reference-line-line"})),a},Bwt=function(n,s,a,h,d,p,v,x,S){var M=d.x,A=d.y,O=d.width,B=d.height;if(a){var I=S.y,j=n.y.apply(I,{position:p});if(sa(S,"discard")&&!n.y.isInRange(j))return null;var V=[{x:M+O,y:j},{x:M,y:j}];return x==="left"?V.reverse():V}if(s){var C=S.x,z=n.x.apply(C,{position:p});if(sa(S,"discard")&&!n.x.isInRange(z))return null;var F=[{x:z,y:A+B},{x:z,y:A}];return v==="top"?F.reverse():F}if(h){var Y=S.segment,U=Y.map(function(J){return n.apply(J,{position:p})});return sa(S,"discard")&&lbt(U,function(J){return!n.isInRange(J)})?null:U}return null};function $wt(e){var n=e.x,s=e.y,a=e.segment,h=e.xAxisId,d=e.yAxisId,p=e.shape,v=e.className,x=e.alwaysShow,S=bwt(),M=tV(h),A=eV(d),O=Pwt();if(!S||!O)return null;Wa(x===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var B=OM({x:M.scale,y:A.scale}),I=Vi(n),j=Vi(s),V=a&&a.length===2,C=Bwt(B,I,j,V,O,e.position,M.orientation,A.orientation,e);if(!C)return null;var z=_wt(C,2),F=z[0],Y=F.x,U=F.y,J=z[1],K=J.x,rt=J.y,gt=sa(e,"hidden")?"url(#".concat(S,")"):void 0,lt=P_(P_({clipPath:gt},gn(e,!0)),{},{x1:Y,y1:U,x2:K,y2:rt});return wt.createElement(er,{className:mn("recharts-reference-line",v)},jwt(p,lt),Cr.renderCallByParent(e,Zbt({x1:Y,y1:U,x2:K,y2:rt})))}var RM=function(e){function n(){return Twt(this,n),Cwt(this,n,arguments)}return Ewt(n,e),Awt(n,[{key:"render",value:function(){return wt.createElement($wt,this.props)}}])}(wt.Component);DM(RM,"displayName","ReferenceLine");DM(RM,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function fP(){return fP=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},fP.apply(this,arguments)}function qc(e){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},qc(e)}function T_(e,n){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(h){return Object.getOwnPropertyDescriptor(e,h).enumerable})),s.push.apply(s,a)}return s}function M_(e){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?T_(Object(s),!0).forEach(function(a){x1(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):T_(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function zwt(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Vwt(e,n){for(var s=0;s<n.length;s++){var a=n[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,sV(a.key),a)}}function Uwt(e,n,s){return n&&Vwt(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kwt(e,n,s){return n=B0(n),Gwt(e,rV()?Reflect.construct(n,s||[],B0(e).constructor):n.apply(e,s))}function Gwt(e,n){if(n&&(qc(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wwt(e)}function Wwt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rV=function(){return!!e})()}function B0(e){return B0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},B0(e)}function Hwt(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&pP(e,n)}function pP(e,n){return pP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,h){return a.__proto__=h,a},pP(e,n)}function x1(e,n,s){return n=sV(n),n in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}function sV(e){var n=Xwt(e,"string");return qc(n)=="symbol"?n:n+""}function Xwt(e,n){if(qc(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,n||"default");if(qc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var Ywt=function(n){var s=n.x,a=n.y,h=n.xAxis,d=n.yAxis,p=OM({x:h.scale,y:d.scale}),v=p.apply({x:s,y:a},{bandAware:!0});return sa(n,"discard")&&!p.isInRange(v)?null:v},b1=function(e){function n(){return zwt(this,n),Kwt(this,n,arguments)}return Hwt(n,e),Uwt(n,[{key:"render",value:function(){var a=this.props,h=a.x,d=a.y,p=a.r,v=a.alwaysShow,x=a.clipPathId,S=Vi(h),M=Vi(d);if(Wa(v===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!S||!M)return null;var A=Ywt(this.props);if(!A)return null;var O=A.x,B=A.y,I=this.props,j=I.shape,V=I.className,C=sa(this.props,"hidden")?"url(#".concat(x,")"):void 0,z=M_(M_({clipPath:C},gn(this.props,!0)),{},{cx:O,cy:B});return wt.createElement(er,{className:mn("recharts-reference-dot",V)},n.renderDot(j,z),Cr.renderCallByParent(this.props,{x:O-p,y:B-p,width:2*p,height:2*p}))}}])}(wt.Component);x1(b1,"displayName","ReferenceDot");x1(b1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});x1(b1,"renderDot",function(e,n){var s;return wt.isValidElement(e)?s=wt.cloneElement(e,n):sn(e)?s=e(n):s=wt.createElement(Iz,fP({},n,{cx:n.cx,cy:n.cy,className:"recharts-reference-dot-dot"})),s});function gP(){return gP=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},gP.apply(this,arguments)}function Zc(e){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Zc(e)}function A_(e,n){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(h){return Object.getOwnPropertyDescriptor(e,h).enumerable})),s.push.apply(s,a)}return s}function C_(e){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?A_(Object(s),!0).forEach(function(a){w1(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):A_(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function qwt(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Zwt(e,n){for(var s=0;s<n.length;s++){var a=n[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,aV(a.key),a)}}function Jwt(e,n,s){return n&&Zwt(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qwt(e,n,s){return n=$0(n),tSt(e,oV()?Reflect.construct(n,s||[],$0(e).constructor):n.apply(e,s))}function tSt(e,n){if(n&&(Zc(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eSt(e)}function eSt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oV=function(){return!!e})()}function $0(e){return $0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},$0(e)}function nSt(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&mP(e,n)}function mP(e,n){return mP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,h){return a.__proto__=h,a},mP(e,n)}function w1(e,n,s){return n=aV(n),n in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}function aV(e){var n=iSt(e,"string");return Zc(n)=="symbol"?n:n+""}function iSt(e,n){if(Zc(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,n||"default");if(Zc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var rSt=function(n,s,a,h,d){var p=d.x1,v=d.x2,x=d.y1,S=d.y2,M=d.xAxis,A=d.yAxis;if(!M||!A)return null;var O=OM({x:M.scale,y:A.scale}),B={x:n?O.x.apply(p,{position:"start"}):O.x.rangeMin,y:a?O.y.apply(x,{position:"start"}):O.y.rangeMin},I={x:s?O.x.apply(v,{position:"end"}):O.x.rangeMax,y:h?O.y.apply(S,{position:"end"}):O.y.rangeMax};return sa(d,"discard")&&(!O.isInRange(B)||!O.isInRange(I))?null:Hz(B,I)},S1=function(e){function n(){return qwt(this,n),Qwt(this,n,arguments)}return nSt(n,e),Jwt(n,[{key:"render",value:function(){var a=this.props,h=a.x1,d=a.x2,p=a.y1,v=a.y2,x=a.className,S=a.alwaysShow,M=a.clipPathId;Wa(S===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var A=Vi(h),O=Vi(d),B=Vi(p),I=Vi(v),j=this.props.shape;if(!A&&!O&&!B&&!I&&!j)return null;var V=rSt(A,O,B,I,this.props);if(!V&&!j)return null;var C=sa(this.props,"hidden")?"url(#".concat(M,")"):void 0;return wt.createElement(er,{className:mn("recharts-reference-area",x)},n.renderRect(j,C_(C_({clipPath:C},gn(this.props,!0)),V)),Cr.renderCallByParent(this.props,V))}}])}(wt.Component);w1(S1,"displayName","ReferenceArea");w1(S1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});w1(S1,"renderRect",function(e,n){var s;return wt.isValidElement(e)?s=wt.cloneElement(e,n):sn(e)?s=e(n):s=wt.createElement(CM,gP({},n,{className:"recharts-reference-area-rect"})),s});function lV(e,n,s){if(n<1)return[];if(n===1&&s===void 0)return e;for(var a=[],h=0;h<e.length;h+=n)a.push(e[h]);return a}function sSt(e,n,s){var a={width:e.width+n.width,height:e.height+n.height};return Qbt(a,s)}function oSt(e,n,s){var a=s==="width",h=e.x,d=e.y,p=e.width,v=e.height;return n===1?{start:a?h:d,end:a?h+p:d+v}:{start:a?h+p:d+v,end:a?h:d}}function z0(e,n,s,a,h){if(e*n<e*a||e*n>e*h)return!1;var d=s();return e*(n-e*d/2-a)>=0&&e*(n+e*d/2-h)<=0}function aSt(e,n){return lV(e,n+1)}function lSt(e,n,s,a,h){for(var d=(a||[]).slice(),p=n.start,v=n.end,x=0,S=1,M=p,A=function(){var I=a==null?void 0:a[x];if(I===void 0)return{v:lV(a,S)};var j=x,V,C=function(){return V===void 0&&(V=s(I,j)),V},z=I.coordinate,F=x===0||z0(e,z,C,M,v);F||(x=0,M=p,S+=1),F&&(M=z+e*(C()/2+h),x+=S)},O;S<=d.length;)if(O=A(),O)return O.v;return[]}function tg(e){"@babel/helpers - typeof";return tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},tg(e)}function O_(e,n){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(h){return Object.getOwnPropertyDescriptor(e,h).enumerable})),s.push.apply(s,a)}return s}function Mr(e){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?O_(Object(s),!0).forEach(function(a){uSt(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):O_(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function uSt(e,n,s){return n=hSt(n),n in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}function hSt(e){var n=cSt(e,"string");return tg(n)=="symbol"?n:n+""}function cSt(e,n){if(tg(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,n||"default");if(tg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function dSt(e,n,s,a,h){for(var d=(a||[]).slice(),p=d.length,v=n.start,x=n.end,S=function(O){var B=d[O],I,j=function(){return I===void 0&&(I=s(B,O)),I};if(O===p-1){var V=e*(B.coordinate+e*j()/2-x);d[O]=B=Mr(Mr({},B),{},{tickCoord:V>0?B.coordinate-V*e:B.coordinate})}else d[O]=B=Mr(Mr({},B),{},{tickCoord:B.coordinate});var C=z0(e,B.tickCoord,j,v,x);C&&(x=B.tickCoord-e*(j()/2+h),d[O]=Mr(Mr({},B),{},{isShow:!0}))},M=p-1;M>=0;M--)S(M);return d}function fSt(e,n,s,a,h,d){var p=(a||[]).slice(),v=p.length,x=n.start,S=n.end;if(d){var M=a[v-1],A=s(M,v-1),O=e*(M.coordinate+e*A/2-S);p[v-1]=M=Mr(Mr({},M),{},{tickCoord:O>0?M.coordinate-O*e:M.coordinate});var B=z0(e,M.tickCoord,function(){return A},x,S);B&&(S=M.tickCoord-e*(A/2+h),p[v-1]=Mr(Mr({},M),{},{isShow:!0}))}for(var I=d?v-1:v,j=function(z){var F=p[z],Y,U=function(){return Y===void 0&&(Y=s(F,z)),Y};if(z===0){var J=e*(F.coordinate-e*U()/2-x);p[z]=F=Mr(Mr({},F),{},{tickCoord:J<0?F.coordinate-J*e:F.coordinate})}else p[z]=F=Mr(Mr({},F),{},{tickCoord:F.coordinate});var K=z0(e,F.tickCoord,U,x,S);K&&(x=F.tickCoord+e*(U()/2+h),p[z]=Mr(Mr({},F),{},{isShow:!0}))},V=0;V<I;V++)j(V);return p}function IM(e,n,s){var a=e.tick,h=e.ticks,d=e.viewBox,p=e.minTickGap,v=e.orientation,x=e.interval,S=e.tickFormatter,M=e.unit,A=e.angle;if(!h||!h.length||!a)return[];if(pe(x)||Gl.isSsr)return aSt(h,typeof x=="number"&&pe(x)?x:0);var O=[],B=v==="top"||v==="bottom"?"width":"height",I=M&&B==="width"?Kf(M,{fontSize:n,letterSpacing:s}):{width:0,height:0},j=function(F,Y){var U=sn(S)?S(F.value,Y):F.value;return B==="width"?sSt(Kf(U,{fontSize:n,letterSpacing:s}),I,A):Kf(U,{fontSize:n,letterSpacing:s})[B]},V=h.length>=2?Mo(h[1].coordinate-h[0].coordinate):1,C=oSt(d,V,B);return x==="equidistantPreserveStart"?lSt(V,C,j,h,p):(x==="preserveStart"||x==="preserveStartEnd"?O=fSt(V,C,j,h,p,x==="preserveStartEnd"):O=dSt(V,C,j,h,p),O.filter(function(z){return z.isShow}))}var pSt=["viewBox"],gSt=["viewBox"],mSt=["ticks"];function Jc(e){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Jc(e)}function oc(){return oc=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},oc.apply(this,arguments)}function N_(e,n){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(h){return Object.getOwnPropertyDescriptor(e,h).enumerable})),s.push.apply(s,a)}return s}function zr(e){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?N_(Object(s),!0).forEach(function(a){FM(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):N_(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function bb(e,n){if(e==null)return{};var s=ySt(e,n),a,h;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(h=0;h<d.length;h++)a=d[h],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function ySt(e,n){if(e==null)return{};var s={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(n.indexOf(a)>=0)continue;s[a]=e[a]}return s}function vSt(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function E_(e,n){for(var s=0;s<n.length;s++){var a=n[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,hV(a.key),a)}}function xSt(e,n,s){return n&&E_(e.prototype,n),s&&E_(e,s),Object.defineProperty(e,"prototype",{writable:!1}),e}function bSt(e,n,s){return n=V0(n),wSt(e,uV()?Reflect.construct(n,s||[],V0(e).constructor):n.apply(e,s))}function wSt(e,n){if(n&&(Jc(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SSt(e)}function SSt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uV=function(){return!!e})()}function V0(e){return V0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},V0(e)}function PSt(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&yP(e,n)}function yP(e,n){return yP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,h){return a.__proto__=h,a},yP(e,n)}function FM(e,n,s){return n=hV(n),n in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}function hV(e){var n=kSt(e,"string");return Jc(n)=="symbol"?n:n+""}function kSt(e,n){if(Jc(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,n||"default");if(Jc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var Ad=function(e){function n(s){var a;return vSt(this,n),a=bSt(this,n,[s]),a.state={fontSize:"",letterSpacing:""},a}return PSt(n,e),xSt(n,[{key:"shouldComponentUpdate",value:function(a,h){var d=a.viewBox,p=bb(a,pSt),v=this.props,x=v.viewBox,S=bb(v,gSt);return!yc(d,x)||!yc(p,S)||!yc(h,this.state)}},{key:"componentDidMount",value:function(){var a=this.layerReference;if(a){var h=a.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];h&&this.setState({fontSize:window.getComputedStyle(h).fontSize,letterSpacing:window.getComputedStyle(h).letterSpacing})}}},{key:"getTickLineCoord",value:function(a){var h=this.props,d=h.x,p=h.y,v=h.width,x=h.height,S=h.orientation,M=h.tickSize,A=h.mirror,O=h.tickMargin,B,I,j,V,C,z,F=A?-1:1,Y=a.tickSize||M,U=pe(a.tickCoord)?a.tickCoord:a.coordinate;switch(S){case"top":B=I=a.coordinate,V=p+ +!A*x,j=V-F*Y,z=j-F*O,C=U;break;case"left":j=V=a.coordinate,I=d+ +!A*v,B=I-F*Y,C=B-F*O,z=U;break;case"right":j=V=a.coordinate,I=d+ +A*v,B=I+F*Y,C=B+F*O,z=U;break;default:B=I=a.coordinate,V=p+ +A*x,j=V+F*Y,z=j+F*O,C=U;break}return{line:{x1:B,y1:j,x2:I,y2:V},tick:{x:C,y:z}}}},{key:"getTickTextAnchor",value:function(){var a=this.props,h=a.orientation,d=a.mirror,p;switch(h){case"left":p=d?"start":"end";break;case"right":p=d?"end":"start";break;default:p="middle";break}return p}},{key:"getTickVerticalAnchor",value:function(){var a=this.props,h=a.orientation,d=a.mirror,p="end";switch(h){case"left":case"right":p="middle";break;case"top":p=d?"start":"end";break;default:p=d?"end":"start";break}return p}},{key:"renderAxisLine",value:function(){var a=this.props,h=a.x,d=a.y,p=a.width,v=a.height,x=a.orientation,S=a.mirror,M=a.axisLine,A=zr(zr(zr({},gn(this.props,!1)),gn(M,!1)),{},{fill:"none"});if(x==="top"||x==="bottom"){var O=+(x==="top"&&!S||x==="bottom"&&S);A=zr(zr({},A),{},{x1:h,y1:d+O*v,x2:h+p,y2:d+O*v})}else{var B=+(x==="left"&&!S||x==="right"&&S);A=zr(zr({},A),{},{x1:h+B*p,y1:d,x2:h+B*p,y2:d+v})}return wt.createElement("line",oc({},A,{className:mn("recharts-cartesian-axis-line",no(M,"className"))}))}},{key:"renderTicks",value:function(a,h,d){var p=this,v=this.props,x=v.tickLine,S=v.stroke,M=v.tick,A=v.tickFormatter,O=v.unit,B=IM(zr(zr({},this.props),{},{ticks:a}),h,d),I=this.getTickTextAnchor(),j=this.getTickVerticalAnchor(),V=gn(this.props,!1),C=gn(M,!1),z=zr(zr({},V),{},{fill:"none"},gn(x,!1)),F=B.map(function(Y,U){var J=p.getTickLineCoord(Y),K=J.line,rt=J.tick,gt=zr(zr(zr(zr({textAnchor:I,verticalAnchor:j},V),{},{stroke:"none",fill:S},C),rt),{},{index:U,payload:Y,visibleTicksCount:B.length,tickFormatter:A});return wt.createElement(er,oc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(Y.value,"-").concat(Y.coordinate,"-").concat(Y.tickCoord)},qy(p.props,Y,U)),x&&wt.createElement("line",oc({},z,K,{className:mn("recharts-cartesian-axis-tick-line",no(x,"className"))})),M&&n.renderTickItem(M,gt,"".concat(sn(A)?A(Y.value,U):Y.value).concat(O||"")))});return wt.createElement("g",{className:"recharts-cartesian-axis-ticks"},F)}},{key:"render",value:function(){var a=this,h=this.props,d=h.axisLine,p=h.width,v=h.height,x=h.ticksGenerator,S=h.className,M=h.hide;if(M)return null;var A=this.props,O=A.ticks,B=bb(A,mSt),I=O;return sn(x)&&(I=O&&O.length>0?x(this.props):x(B)),p<=0||v<=0||!I||!I.length?null:wt.createElement(er,{className:mn("recharts-cartesian-axis",S),ref:function(V){a.layerReference=V}},d&&this.renderAxisLine(),this.renderTicks(I,this.state.fontSize,this.state.letterSpacing),Cr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(a,h,d){var p;return wt.isValidElement(a)?p=wt.cloneElement(a,h):sn(a)?p=a(h):p=wt.createElement(h0,oc({},h,{className:"recharts-cartesian-axis-tick-value"}),d),p}}])}(at.Component);FM(Ad,"displayName","CartesianAxis");FM(Ad,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var TSt=["x1","y1","x2","y2","key"],MSt=["offset"];function ah(e){"@babel/helpers - typeof";return ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ah(e)}function L_(e,n){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(h){return Object.getOwnPropertyDescriptor(e,h).enumerable})),s.push.apply(s,a)}return s}function Or(e){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?L_(Object(s),!0).forEach(function(a){ASt(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):L_(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function ASt(e,n,s){return n=CSt(n),n in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}function CSt(e){var n=OSt(e,"string");return ah(n)=="symbol"?n:n+""}function OSt(e,n){if(ah(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,n||"default");if(ah(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function Bu(){return Bu=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Bu.apply(this,arguments)}function __(e,n){if(e==null)return{};var s=NSt(e,n),a,h;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(h=0;h<d.length;h++)a=d[h],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function NSt(e,n){if(e==null)return{};var s={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(n.indexOf(a)>=0)continue;s[a]=e[a]}return s}var ESt=function(n){var s=n.fill;if(!s||s==="none")return null;var a=n.fillOpacity,h=n.x,d=n.y,p=n.width,v=n.height;return wt.createElement("rect",{x:h,y:d,width:p,height:v,stroke:"none",fill:s,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function cV(e,n){var s;if(wt.isValidElement(e))s=wt.cloneElement(e,n);else if(sn(e))s=e(n);else{var a=n.x1,h=n.y1,d=n.x2,p=n.y2,v=n.key,x=__(n,TSt),S=gn(x,!1);S.offset;var M=__(S,MSt);s=wt.createElement("line",Bu({},M,{x1:a,y1:h,x2:d,y2:p,fill:"none",key:v}))}return s}function LSt(e){var n=e.x,s=e.width,a=e.horizontal,h=a===void 0?!0:a,d=e.horizontalPoints;if(!h||!d||!d.length)return null;var p=d.map(function(v,x){var S=Or(Or({},e),{},{x1:n,y1:v,x2:n+s,y2:v,key:"line-".concat(x),index:x});return cV(h,S)});return wt.createElement("g",{className:"recharts-cartesian-grid-horizontal"},p)}function _St(e){var n=e.y,s=e.height,a=e.vertical,h=a===void 0?!0:a,d=e.verticalPoints;if(!h||!d||!d.length)return null;var p=d.map(function(v,x){var S=Or(Or({},e),{},{x1:v,y1:n,x2:v,y2:n+s,key:"line-".concat(x),index:x});return cV(h,S)});return wt.createElement("g",{className:"recharts-cartesian-grid-vertical"},p)}function DSt(e){var n=e.horizontalFill,s=e.fillOpacity,a=e.x,h=e.y,d=e.width,p=e.height,v=e.horizontalPoints,x=e.horizontal,S=x===void 0?!0:x;if(!S||!n||!n.length)return null;var M=v.map(function(O){return Math.round(O+h-h)}).sort(function(O,B){return O-B});h!==M[0]&&M.unshift(0);var A=M.map(function(O,B){var I=!M[B+1],j=I?h+p-O:M[B+1]-O;if(j<=0)return null;var V=B%n.length;return wt.createElement("rect",{key:"react-".concat(B),y:O,x:a,height:j,width:d,stroke:"none",fill:n[V],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return wt.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},A)}function RSt(e){var n=e.vertical,s=n===void 0?!0:n,a=e.verticalFill,h=e.fillOpacity,d=e.x,p=e.y,v=e.width,x=e.height,S=e.verticalPoints;if(!s||!a||!a.length)return null;var M=S.map(function(O){return Math.round(O+d-d)}).sort(function(O,B){return O-B});d!==M[0]&&M.unshift(0);var A=M.map(function(O,B){var I=!M[B+1],j=I?d+v-O:M[B+1]-O;if(j<=0)return null;var V=B%a.length;return wt.createElement("rect",{key:"react-".concat(B),x:O,y:p,width:j,height:x,stroke:"none",fill:a[V],fillOpacity:h,className:"recharts-cartesian-grid-bg"})});return wt.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},A)}var ISt=function(n,s){var a=n.xAxis,h=n.width,d=n.height,p=n.offset;return xz(IM(Or(Or(Or({},Ad.defaultProps),a),{},{ticks:Ia(a,!0),viewBox:{x:0,y:0,width:h,height:d}})),p.left,p.left+p.width,s)},FSt=function(n,s){var a=n.yAxis,h=n.width,d=n.height,p=n.offset;return xz(IM(Or(Or(Or({},Ad.defaultProps),a),{},{ticks:Ia(a,!0),viewBox:{x:0,y:0,width:h,height:d}})),p.top,p.top+p.height,s)},jh={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function dV(e){var n,s,a,h,d,p,v=LM(),x=_M(),S=kwt(),M=Or(Or({},e),{},{stroke:(n=e.stroke)!==null&&n!==void 0?n:jh.stroke,fill:(s=e.fill)!==null&&s!==void 0?s:jh.fill,horizontal:(a=e.horizontal)!==null&&a!==void 0?a:jh.horizontal,horizontalFill:(h=e.horizontalFill)!==null&&h!==void 0?h:jh.horizontalFill,vertical:(d=e.vertical)!==null&&d!==void 0?d:jh.vertical,verticalFill:(p=e.verticalFill)!==null&&p!==void 0?p:jh.verticalFill,x:pe(e.x)?e.x:S.left,y:pe(e.y)?e.y:S.top,width:pe(e.width)?e.width:S.width,height:pe(e.height)?e.height:S.height}),A=M.x,O=M.y,B=M.width,I=M.height,j=M.syncWithTicks,V=M.horizontalValues,C=M.verticalValues,z=wwt(),F=Swt();if(!pe(B)||B<=0||!pe(I)||I<=0||!pe(A)||A!==+A||!pe(O)||O!==+O)return null;var Y=M.verticalCoordinatesGenerator||ISt,U=M.horizontalCoordinatesGenerator||FSt,J=M.horizontalPoints,K=M.verticalPoints;if((!J||!J.length)&&sn(U)){var rt=V&&V.length,gt=U({yAxis:F?Or(Or({},F),{},{ticks:rt?V:F.ticks}):void 0,width:v,height:x,offset:S},rt?!0:j);Wa(Array.isArray(gt),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ah(gt),"]")),Array.isArray(gt)&&(J=gt)}if((!K||!K.length)&&sn(Y)){var lt=C&&C.length,dt=Y({xAxis:z?Or(Or({},z),{},{ticks:lt?C:z.ticks}):void 0,width:v,height:x,offset:S},lt?!0:j);Wa(Array.isArray(dt),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ah(dt),"]")),Array.isArray(dt)&&(K=dt)}return wt.createElement("g",{className:"recharts-cartesian-grid"},wt.createElement(ESt,{fill:M.fill,fillOpacity:M.fillOpacity,x:M.x,y:M.y,width:M.width,height:M.height}),wt.createElement(LSt,Bu({},M,{offset:S,horizontalPoints:J,xAxis:z,yAxis:F})),wt.createElement(_St,Bu({},M,{offset:S,verticalPoints:K,xAxis:z,yAxis:F})),wt.createElement(DSt,Bu({},M,{horizontalPoints:J})),wt.createElement(RSt,Bu({},M,{verticalPoints:K})))}dV.displayName="CartesianGrid";function Qc(e){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Qc(e)}function jSt(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function BSt(e,n){for(var s=0;s<n.length;s++){var a=n[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,gV(a.key),a)}}function $St(e,n,s){return n&&BSt(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function zSt(e,n,s){return n=U0(n),VSt(e,fV()?Reflect.construct(n,s||[],U0(e).constructor):n.apply(e,s))}function VSt(e,n){if(n&&(Qc(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return USt(e)}function USt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fV=function(){return!!e})()}function U0(e){return U0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},U0(e)}function KSt(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&vP(e,n)}function vP(e,n){return vP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,h){return a.__proto__=h,a},vP(e,n)}function pV(e,n,s){return n=gV(n),n in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}function gV(e){var n=GSt(e,"string");return Qc(n)=="symbol"?n:n+""}function GSt(e,n){if(Qc(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,n||"default");if(Qc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function xP(){return xP=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},xP.apply(this,arguments)}function WSt(e){var n=e.xAxisId,s=LM(),a=_M(),h=tV(n);return h==null?null:wt.createElement(Ad,xP({},h,{className:mn("recharts-".concat(h.axisType," ").concat(h.axisType),h.className),viewBox:{x:0,y:0,width:s,height:a},ticksGenerator:function(p){return Ia(p,!0)}}))}var P1=function(e){function n(){return jSt(this,n),zSt(this,n,arguments)}return KSt(n,e),$St(n,[{key:"render",value:function(){return wt.createElement(WSt,this.props)}}])}(wt.Component);pV(P1,"displayName","XAxis");pV(P1,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function td(e){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},td(e)}function HSt(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function XSt(e,n){for(var s=0;s<n.length;s++){var a=n[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,vV(a.key),a)}}function YSt(e,n,s){return n&&XSt(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function qSt(e,n,s){return n=K0(n),ZSt(e,mV()?Reflect.construct(n,s||[],K0(e).constructor):n.apply(e,s))}function ZSt(e,n){if(n&&(td(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JSt(e)}function JSt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mV=function(){return!!e})()}function K0(e){return K0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},K0(e)}function QSt(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&bP(e,n)}function bP(e,n){return bP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,h){return a.__proto__=h,a},bP(e,n)}function yV(e,n,s){return n=vV(n),n in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}function vV(e){var n=tPt(e,"string");return td(n)=="symbol"?n:n+""}function tPt(e,n){if(td(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,n||"default");if(td(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function wP(){return wP=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},wP.apply(this,arguments)}var ePt=function(n){var s=n.yAxisId,a=LM(),h=_M(),d=eV(s);return d==null?null:wt.createElement(Ad,wP({},d,{className:mn("recharts-".concat(d.axisType," ").concat(d.axisType),d.className),viewBox:{x:0,y:0,width:a,height:h},ticksGenerator:function(v){return Ia(v,!0)}}))},jM=function(e){function n(){return HSt(this,n),qSt(this,n,arguments)}return QSt(n,e),YSt(n,[{key:"render",value:function(){return wt.createElement(ePt,this.props)}}])}(wt.Component);yV(jM,"displayName","YAxis");yV(jM,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function D_(e){return sPt(e)||rPt(e)||iPt(e)||nPt()}function nPt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iPt(e,n){if(e){if(typeof e=="string")return SP(e,n);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return SP(e,n)}}function rPt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sPt(e){if(Array.isArray(e))return SP(e)}function SP(e,n){(n==null||n>e.length)&&(n=e.length);for(var s=0,a=new Array(n);s<n;s++)a[s]=e[s];return a}var PP=function(n,s,a,h,d){var p=Eo(n,RM),v=Eo(n,b1),x=[].concat(D_(p),D_(v)),S=Eo(n,S1),M="".concat(h,"Id"),A=h[0],O=s;if(x.length&&(O=x.reduce(function(j,V){if(V.props[M]===a&&sa(V.props,"extendDomain")&&pe(V.props[A])){var C=V.props[A];return[Math.min(j[0],C),Math.max(j[1],C)]}return j},O)),S.length){var B="".concat(A,"1"),I="".concat(A,"2");O=S.reduce(function(j,V){if(V.props[M]===a&&sa(V.props,"extendDomain")&&pe(V.props[B])&&pe(V.props[I])){var C=V.props[B],z=V.props[I];return[Math.min(j[0],C,z),Math.max(j[1],C,z)]}return j},O)}return d&&d.length&&(O=d.reduce(function(j,V){return pe(V)?[Math.min(j[0],V),Math.max(j[1],V)]:j},O)),O},xV={exports:{}};(function(e){var n=Object.prototype.hasOwnProperty,s="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(s=!1));function h(x,S,M){this.fn=x,this.context=S,this.once=M||!1}function d(x,S,M,A,O){if(typeof M!="function")throw new TypeError("The listener must be a function");var B=new h(M,A||x,O),I=s?s+S:S;return x._events[I]?x._events[I].fn?x._events[I]=[x._events[I],B]:x._events[I].push(B):(x._events[I]=B,x._eventsCount++),x}function p(x,S){--x._eventsCount===0?x._events=new a:delete x._events[S]}function v(){this._events=new a,this._eventsCount=0}v.prototype.eventNames=function(){var S=[],M,A;if(this._eventsCount===0)return S;for(A in M=this._events)n.call(M,A)&&S.push(s?A.slice(1):A);return Object.getOwnPropertySymbols?S.concat(Object.getOwnPropertySymbols(M)):S},v.prototype.listeners=function(S){var M=s?s+S:S,A=this._events[M];if(!A)return[];if(A.fn)return[A.fn];for(var O=0,B=A.length,I=new Array(B);O<B;O++)I[O]=A[O].fn;return I},v.prototype.listenerCount=function(S){var M=s?s+S:S,A=this._events[M];return A?A.fn?1:A.length:0},v.prototype.emit=function(S,M,A,O,B,I){var j=s?s+S:S;if(!this._events[j])return!1;var V=this._events[j],C=arguments.length,z,F;if(V.fn){switch(V.once&&this.removeListener(S,V.fn,void 0,!0),C){case 1:return V.fn.call(V.context),!0;case 2:return V.fn.call(V.context,M),!0;case 3:return V.fn.call(V.context,M,A),!0;case 4:return V.fn.call(V.context,M,A,O),!0;case 5:return V.fn.call(V.context,M,A,O,B),!0;case 6:return V.fn.call(V.context,M,A,O,B,I),!0}for(F=1,z=new Array(C-1);F<C;F++)z[F-1]=arguments[F];V.fn.apply(V.context,z)}else{var Y=V.length,U;for(F=0;F<Y;F++)switch(V[F].once&&this.removeListener(S,V[F].fn,void 0,!0),C){case 1:V[F].fn.call(V[F].context);break;case 2:V[F].fn.call(V[F].context,M);break;case 3:V[F].fn.call(V[F].context,M,A);break;case 4:V[F].fn.call(V[F].context,M,A,O);break;default:if(!z)for(U=1,z=new Array(C-1);U<C;U++)z[U-1]=arguments[U];V[F].fn.apply(V[F].context,z)}}return!0},v.prototype.on=function(S,M,A){return d(this,S,M,A,!1)},v.prototype.once=function(S,M,A){return d(this,S,M,A,!0)},v.prototype.removeListener=function(S,M,A,O){var B=s?s+S:S;if(!this._events[B])return this;if(!M)return p(this,B),this;var I=this._events[B];if(I.fn)I.fn===M&&(!O||I.once)&&(!A||I.context===A)&&p(this,B);else{for(var j=0,V=[],C=I.length;j<C;j++)(I[j].fn!==M||O&&!I[j].once||A&&I[j].context!==A)&&V.push(I[j]);V.length?this._events[B]=V.length===1?V[0]:V:p(this,B)}return this},v.prototype.removeAllListeners=function(S){var M;return S?(M=s?s+S:S,this._events[M]&&p(this,M)):(this._events=new a,this._eventsCount=0),this},v.prototype.off=v.prototype.removeListener,v.prototype.addListener=v.prototype.on,v.prefixed=s,v.EventEmitter=v,e.exports=v})(xV);var oPt=xV.exports;const aPt=wn(oPt);var wb=new aPt,Sb="recharts.syncMouseEvents";function eg(e){"@babel/helpers - typeof";return eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},eg(e)}function lPt(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function uPt(e,n){for(var s=0;s<n.length;s++){var a=n[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,bV(a.key),a)}}function hPt(e,n,s){return n&&uPt(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pb(e,n,s){return n=bV(n),n in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}function bV(e){var n=cPt(e,"string");return eg(n)=="symbol"?n:n+""}function cPt(e,n){if(eg(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,n);if(eg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var dPt=function(){function e(){lPt(this,e),Pb(this,"activeIndex",0),Pb(this,"coordinateList",[]),Pb(this,"layout","horizontal")}return hPt(e,[{key:"setDetails",value:function(s){var a,h=s.coordinateList,d=h===void 0?null:h,p=s.container,v=p===void 0?null:p,x=s.layout,S=x===void 0?null:x,M=s.offset,A=M===void 0?null:M,O=s.mouseHandlerCallback,B=O===void 0?null:O;this.coordinateList=(a=d??this.coordinateList)!==null&&a!==void 0?a:[],this.container=v??this.container,this.layout=S??this.layout,this.offset=A??this.offset,this.mouseHandlerCallback=B??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(s){if(this.coordinateList.length!==0)switch(s.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(s){this.activeIndex=s}},{key:"spoofMouse",value:function(){var s,a;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var h=this.container.getBoundingClientRect(),d=h.x,p=h.y,v=h.height,x=this.coordinateList[this.activeIndex].coordinate,S=((s=window)===null||s===void 0?void 0:s.scrollX)||0,M=((a=window)===null||a===void 0?void 0:a.scrollY)||0,A=d+x+S,O=p+this.offset.top+v/2+M;this.mouseHandlerCallback({pageX:A,pageY:O})}}}])}();function fPt(e,n,s){if(s==="number"&&n===!0&&Array.isArray(e)){var a=e==null?void 0:e[0],h=e==null?void 0:e[1];if(a&&h&&pe(a)&&pe(h))return!0}return!1}function pPt(e,n,s,a){var h=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?n.x-h:s.left+.5,y:e==="horizontal"?s.top+.5:n.y-h,width:e==="horizontal"?a:s.width-1,height:e==="horizontal"?s.height-1:a}}function wV(e){var n=e.cx,s=e.cy,a=e.radius,h=e.startAngle,d=e.endAngle,p=cr(n,s,a,h),v=cr(n,s,a,d);return{points:[p,v],cx:n,cy:s,radius:a,startAngle:h,endAngle:d}}function gPt(e,n,s){var a,h,d,p;if(e==="horizontal")a=n.x,d=a,h=s.top,p=s.top+s.height;else if(e==="vertical")h=n.y,p=h,a=s.left,d=s.left+s.width;else if(n.cx!=null&&n.cy!=null)if(e==="centric"){var v=n.cx,x=n.cy,S=n.innerRadius,M=n.outerRadius,A=n.angle,O=cr(v,x,S,A),B=cr(v,x,M,A);a=O.x,h=O.y,d=B.x,p=B.y}else return wV(n);return[{x:a,y:h},{x:d,y:p}]}function ng(e){"@babel/helpers - typeof";return ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ng(e)}function R_(e,n){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(h){return Object.getOwnPropertyDescriptor(e,h).enumerable})),s.push.apply(s,a)}return s}function Dm(e){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?R_(Object(s),!0).forEach(function(a){mPt(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):R_(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function mPt(e,n,s){return n=yPt(n),n in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}function yPt(e){var n=vPt(e,"string");return ng(n)=="symbol"?n:n+""}function vPt(e,n){if(ng(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,n||"default");if(ng(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function xPt(e){var n,s,a=e.element,h=e.tooltipEventType,d=e.isActive,p=e.activeCoordinate,v=e.activePayload,x=e.offset,S=e.activeTooltipIndex,M=e.tooltipAxisBandSize,A=e.layout,O=e.chartName,B=(n=a.props.cursor)!==null&&n!==void 0?n:(s=a.type.defaultProps)===null||s===void 0?void 0:s.cursor;if(!a||!B||!d||!p||O!=="ScatterChart"&&h!=="axis")return null;var I,j=LL;if(O==="ScatterChart")I=p,j=L1t;else if(O==="BarChart")I=pPt(A,p,x,M),j=CM;else if(A==="radial"){var V=wV(p),C=V.cx,z=V.cy,F=V.radius,Y=V.startAngle,U=V.endAngle;I={cx:C,cy:z,startAngle:Y,endAngle:U,innerRadius:F,outerRadius:F},j=kz}else I={points:gPt(A,p,x)},j=LL;var J=Dm(Dm(Dm(Dm({stroke:"#ccc",pointerEvents:"none"},x),I),gn(B,!1)),{},{payload:v,payloadIndex:S,className:mn("recharts-tooltip-cursor",B.className)});return at.isValidElement(B)?at.cloneElement(B,J):at.createElement(j,J)}var bPt=["item"],wPt=["children","className","width","height","style","compact","title","desc"];function ed(e){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ed(e)}function Xf(){return Xf=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Xf.apply(this,arguments)}function I_(e,n){return kPt(e)||PPt(e,n)||PV(e,n)||SPt()}function SPt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PPt(e,n){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var a,h,d,p,v=[],x=!0,S=!1;try{if(d=(s=s.call(e)).next,n!==0)for(;!(x=(a=d.call(s)).done)&&(v.push(a.value),v.length!==n);x=!0);}catch(M){S=!0,h=M}finally{try{if(!x&&s.return!=null&&(p=s.return(),Object(p)!==p))return}finally{if(S)throw h}}return v}}function kPt(e){if(Array.isArray(e))return e}function F_(e,n){if(e==null)return{};var s=TPt(e,n),a,h;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(h=0;h<d.length;h++)a=d[h],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function TPt(e,n){if(e==null)return{};var s={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(n.indexOf(a)>=0)continue;s[a]=e[a]}return s}function MPt(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function APt(e,n){for(var s=0;s<n.length;s++){var a=n[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,kV(a.key),a)}}function CPt(e,n,s){return n&&APt(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function OPt(e,n,s){return n=G0(n),NPt(e,SV()?Reflect.construct(n,s||[],G0(e).constructor):n.apply(e,s))}function NPt(e,n){if(n&&(ed(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EPt(e)}function EPt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SV=function(){return!!e})()}function G0(e){return G0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},G0(e)}function LPt(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&kP(e,n)}function kP(e,n){return kP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,h){return a.__proto__=h,a},kP(e,n)}function nd(e){return RPt(e)||DPt(e)||PV(e)||_Pt()}function _Pt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PV(e,n){if(e){if(typeof e=="string")return TP(e,n);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return TP(e,n)}}function DPt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function RPt(e){if(Array.isArray(e))return TP(e)}function TP(e,n){(n==null||n>e.length)&&(n=e.length);for(var s=0,a=new Array(n);s<n;s++)a[s]=e[s];return a}function j_(e,n){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(h){return Object.getOwnPropertyDescriptor(e,h).enumerable})),s.push.apply(s,a)}return s}function Xt(e){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?j_(Object(s),!0).forEach(function(a){je(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):j_(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function je(e,n,s){return n=kV(n),n in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}function kV(e){var n=IPt(e,"string");return ed(n)=="symbol"?n:n+""}function IPt(e,n){if(ed(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,n||"default");if(ed(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var FPt={xAxis:["bottom","top"],yAxis:["left","right"]},jPt={width:"100%",height:"100%"},TV={x:0,y:0};function Rm(e){return e}var BPt=function(n,s){return s==="horizontal"?n.x:s==="vertical"?n.y:s==="centric"?n.angle:n.radius},$Pt=function(n,s,a,h){var d=s.find(function(M){return M&&M.index===a});if(d){if(n==="horizontal")return{x:d.coordinate,y:h.y};if(n==="vertical")return{x:h.x,y:d.coordinate};if(n==="centric"){var p=d.coordinate,v=h.radius;return Xt(Xt(Xt({},h),cr(h.cx,h.cy,v,p)),{},{angle:p,radius:v})}var x=d.coordinate,S=h.angle;return Xt(Xt(Xt({},h),cr(h.cx,h.cy,x,S)),{},{angle:S,radius:x})}return TV},k1=function(n,s){var a=s.graphicalItems,h=s.dataStartIndex,d=s.dataEndIndex,p=(a??[]).reduce(function(v,x){var S=x.props.data;return S&&S.length?[].concat(nd(v),nd(S)):v},[]);return p.length>0?p:n&&n.length&&pe(h)&&pe(d)?n.slice(h,d+1):[]};function MV(e){return e==="number"?[0,"auto"]:void 0}var MP=function(n,s,a,h){var d=n.graphicalItems,p=n.tooltipAxis,v=k1(s,n);return a<0||!d||!d.length||a>=v.length?null:d.reduce(function(x,S){var M,A=(M=S.props.data)!==null&&M!==void 0?M:s;A&&n.dataStartIndex+n.dataEndIndex!==0&&(A=A.slice(n.dataStartIndex,n.dataEndIndex+1));var O;if(p.dataKey&&!p.allowDuplicatedCategory){var B=A===void 0?v:A;O=sS(B,p.dataKey,h)}else O=A&&A[a]||v[a];return O?[].concat(nd(x),[wz(S,O)]):x},[])},B_=function(n,s,a,h){var d=h||{x:n.chartX,y:n.chartY},p=BPt(d,a),v=n.orderedTooltipTicks,x=n.tooltipAxis,S=n.tooltipTicks,M=kyt(p,v,S,x);if(M>=0&&S){var A=S[M]&&S[M].value,O=MP(n,s,M,A),B=$Pt(a,v,M,d);return{activeTooltipIndex:M,activeLabel:A,activePayload:O,activeCoordinate:B}}return null},zPt=function(n,s){var a=s.axes,h=s.graphicalItems,d=s.axisType,p=s.axisIdKey,v=s.stackGroups,x=s.dataStartIndex,S=s.dataEndIndex,M=n.layout,A=n.children,O=n.stackOffset,B=vz(M,d);return a.reduce(function(I,j){var V,C=j.type.defaultProps!==void 0?Xt(Xt({},j.type.defaultProps),j.props):j.props,z=C.type,F=C.dataKey,Y=C.allowDataOverflow,U=C.allowDuplicatedCategory,J=C.scale,K=C.ticks,rt=C.includeHidden,gt=C[p];if(I[gt])return I;var lt=k1(n.data,{graphicalItems:h.filter(function(It){var $t,ee=p in It.props?It.props[p]:($t=It.type.defaultProps)===null||$t===void 0?void 0:$t[p];return ee===gt}),dataStartIndex:x,dataEndIndex:S}),dt=lt.length,mt,vt,Mt;fPt(C.domain,Y,z)&&(mt=WS(C.domain,null,Y),B&&(z==="number"||J!=="auto")&&(Mt=Wf(lt,F,"category")));var Ct=MV(z);if(!mt||mt.length===0){var Ot,Rt=(Ot=C.domain)!==null&&Ot!==void 0?Ot:Ct;if(F){if(mt=Wf(lt,F,z),z==="category"&&B){var yt=dnt(mt);U&&yt?(vt=mt,mt=_0(0,dt)):U||(mt=xL(Rt,mt,j).reduce(function(It,$t){return It.indexOf($t)>=0?It:[].concat(nd(It),[$t])},[]))}else if(z==="category")U?mt=mt.filter(function(It){return It!==""&&!bn(It)}):mt=xL(Rt,mt,j).reduce(function(It,$t){return It.indexOf($t)>=0||$t===""||bn($t)?It:[].concat(nd(It),[$t])},[]);else if(z==="number"){var Nt=Oyt(lt,h.filter(function(It){var $t,ee,ne=p in It.props?It.props[p]:($t=It.type.defaultProps)===null||$t===void 0?void 0:$t[p],Ft="hide"in It.props?It.props.hide:(ee=It.type.defaultProps)===null||ee===void 0?void 0:ee.hide;return ne===gt&&(rt||!Ft)}),F,d,M);Nt&&(mt=Nt)}B&&(z==="number"||J!=="auto")&&(Mt=Wf(lt,F,"category"))}else B?mt=_0(0,dt):v&&v[gt]&&v[gt].hasStack&&z==="number"?mt=O==="expand"?[0,1]:bz(v[gt].stackGroups,x,S):mt=yz(lt,h.filter(function(It){var $t=p in It.props?It.props[p]:It.type.defaultProps[p],ee="hide"in It.props?It.props.hide:It.type.defaultProps.hide;return $t===gt&&(rt||!ee)}),z,M,!0);if(z==="number")mt=PP(A,mt,gt,d,K),Rt&&(mt=WS(Rt,mt,Y));else if(z==="category"&&Rt){var kt=Rt,At=mt.every(function(It){return kt.indexOf(It)>=0});At&&(mt=kt)}}return Xt(Xt({},I),{},je({},gt,Xt(Xt({},C),{},{axisType:d,domain:mt,categoricalDomain:Mt,duplicateDomain:vt,originalDomain:(V=C.domain)!==null&&V!==void 0?V:Ct,isCategorical:B,layout:M})))},{})},VPt=function(n,s){var a=s.graphicalItems,h=s.Axis,d=s.axisType,p=s.axisIdKey,v=s.stackGroups,x=s.dataStartIndex,S=s.dataEndIndex,M=n.layout,A=n.children,O=k1(n.data,{graphicalItems:a,dataStartIndex:x,dataEndIndex:S}),B=O.length,I=vz(M,d),j=-1;return a.reduce(function(V,C){var z=C.type.defaultProps!==void 0?Xt(Xt({},C.type.defaultProps),C.props):C.props,F=z[p],Y=MV("number");if(!V[F]){j++;var U;return I?U=_0(0,B):v&&v[F]&&v[F].hasStack?(U=bz(v[F].stackGroups,x,S),U=PP(A,U,F,d)):(U=WS(Y,yz(O,a.filter(function(J){var K,rt,gt=p in J.props?J.props[p]:(K=J.type.defaultProps)===null||K===void 0?void 0:K[p],lt="hide"in J.props?J.props.hide:(rt=J.type.defaultProps)===null||rt===void 0?void 0:rt.hide;return gt===F&&!lt}),"number",M),h.defaultProps.allowDataOverflow),U=PP(A,U,F,d)),Xt(Xt({},V),{},je({},F,Xt(Xt({axisType:d},h.defaultProps),{},{hide:!0,orientation:no(FPt,"".concat(d,".").concat(j%2),null),domain:U,originalDomain:Y,isCategorical:I,layout:M})))}return V},{})},UPt=function(n,s){var a=s.axisType,h=a===void 0?"xAxis":a,d=s.AxisComp,p=s.graphicalItems,v=s.stackGroups,x=s.dataStartIndex,S=s.dataEndIndex,M=n.children,A="".concat(h,"Id"),O=Eo(M,d),B={};return O&&O.length?B=zPt(n,{axes:O,graphicalItems:p,axisType:h,axisIdKey:A,stackGroups:v,dataStartIndex:x,dataEndIndex:S}):p&&p.length&&(B=VPt(n,{Axis:d,graphicalItems:p,axisType:h,axisIdKey:A,stackGroups:v,dataStartIndex:x,dataEndIndex:S})),B},KPt=function(n){var s=El(n),a=Ia(s,!1,!0);return{tooltipTicks:a,orderedTooltipTicks:tM(a,function(h){return h.coordinate}),tooltipAxis:s,tooltipAxisBandSize:k0(s,a)}},$_=function(n){var s=n.children,a=n.defaultShowTooltip,h=Ts(s,Hc),d=0,p=0;return n.data&&n.data.length!==0&&(p=n.data.length-1),h&&h.props&&(h.props.startIndex>=0&&(d=h.props.startIndex),h.props.endIndex>=0&&(p=h.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:d,dataEndIndex:p,activeTooltipIndex:-1,isTooltipActive:!!a}},GPt=function(n){return!n||!n.length?!1:n.some(function(s){var a=Ga(s&&s.type);return a&&a.indexOf("Bar")>=0})},z_=function(n){return n==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:n==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:n==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},WPt=function(n,s){var a=n.props,h=n.graphicalItems,d=n.xAxisMap,p=d===void 0?{}:d,v=n.yAxisMap,x=v===void 0?{}:v,S=a.width,M=a.height,A=a.children,O=a.margin||{},B=Ts(A,Hc),I=Ts(A,Wu),j=Object.keys(x).reduce(function(U,J){var K=x[J],rt=K.orientation;return!K.mirror&&!K.hide?Xt(Xt({},U),{},je({},rt,U[rt]+K.width)):U},{left:O.left||0,right:O.right||0}),V=Object.keys(p).reduce(function(U,J){var K=p[J],rt=K.orientation;return!K.mirror&&!K.hide?Xt(Xt({},U),{},je({},rt,no(U,"".concat(rt))+K.height)):U},{top:O.top||0,bottom:O.bottom||0}),C=Xt(Xt({},V),j),z=C.bottom;B&&(C.bottom+=B.props.height||Hc.defaultProps.height),I&&s&&(C=Ayt(C,h,a,s));var F=S-C.left-C.right,Y=M-C.top-C.bottom;return Xt(Xt({brushBottom:z},C),{},{width:Math.max(F,0),height:Math.max(Y,0)})},HPt=function(n,s){if(s==="xAxis")return n[s].width;if(s==="yAxis")return n[s].height},XPt=function(n){var s,a=n.chartName,h=n.GraphicalChild,d=n.defaultTooltipEventType,p=d===void 0?"axis":d,v=n.validateTooltipEventTypes,x=v===void 0?["axis"]:v,S=n.axisComponents,M=n.legendContent,A=n.formatAxisMap,O=n.defaultProps,B=function(V,C){var z=C.graphicalItems,F=C.stackGroups,Y=C.offset,U=C.updateId,J=C.dataStartIndex,K=C.dataEndIndex,rt=V.barSize,gt=V.layout,lt=V.barGap,dt=V.barCategoryGap,mt=V.maxBarSize,vt=z_(gt),Mt=vt.numericAxisName,Ct=vt.cateAxisName,Ot=GPt(z),Rt=[];return z.forEach(function(yt,Nt){var kt=k1(V.data,{graphicalItems:[yt],dataStartIndex:J,dataEndIndex:K}),At=yt.type.defaultProps!==void 0?Xt(Xt({},yt.type.defaultProps),yt.props):yt.props,It=At.dataKey,$t=At.maxBarSize,ee=At["".concat(Mt,"Id")],ne=At["".concat(Ct,"Id")],Ft={},he=S.reduce(function(yn,mi){var rr=C["".concat(mi.axisType,"Map")],Ki=At["".concat(mi.axisType,"Id")];rr&&rr[Ki]||mi.axisType==="zAxis"||oh();var gr=rr[Ki];return Xt(Xt({},yn),{},je(je({},mi.axisType,gr),"".concat(mi.axisType,"Ticks"),Ia(gr)))},Ft),be=he[Ct],te=he["".concat(Ct,"Ticks")],le=F&&F[ee]&&F[ee].hasStack&&zyt(yt,F[ee].stackGroups),me=Ga(yt.type).indexOf("Bar")>=0,_t=k0(be,te),Yt=[],ue=Ot&&Tyt({barSize:rt,stackGroups:F,totalSize:HPt(he,Ct)});if(me){var Ae,_e,en=bn($t)?mt:$t,qe=(Ae=(_e=k0(be,te,!0))!==null&&_e!==void 0?_e:en)!==null&&Ae!==void 0?Ae:0;Yt=Myt({barGap:lt,barCategoryGap:dt,bandSize:qe!==_t?qe:_t,sizeList:ue[ne],maxBarSize:en}),qe!==_t&&(Yt=Yt.map(function(yn){return Xt(Xt({},yn),{},{position:Xt(Xt({},yn.position),{},{offset:yn.position.offset-qe/2})})}))}var $e=yt&&yt.type&&yt.type.getComposedData;$e&&Rt.push({props:Xt(Xt({},$e(Xt(Xt({},he),{},{displayedData:kt,props:V,dataKey:It,item:yt,bandSize:_t,barPosition:Yt,offset:Y,stackedData:le,layout:gt,dataStartIndex:J,dataEndIndex:K}))),{},je(je(je({key:yt.key||"item-".concat(Nt)},Mt,he[Mt]),Ct,he[Ct]),"animationId",U)),childIndex:Pnt(yt,V.children),item:yt})}),Rt},I=function(V,C){var z=V.props,F=V.dataStartIndex,Y=V.dataEndIndex,U=V.updateId;if(!fN({props:z}))return null;var J=z.children,K=z.layout,rt=z.stackOffset,gt=z.data,lt=z.reverseStackOrder,dt=z_(K),mt=dt.numericAxisName,vt=dt.cateAxisName,Mt=Eo(J,h),Ct=jyt(gt,Mt,"".concat(mt,"Id"),"".concat(vt,"Id"),rt,lt),Ot=S.reduce(function(At,It){var $t="".concat(It.axisType,"Map");return Xt(Xt({},At),{},je({},$t,UPt(z,Xt(Xt({},It),{},{graphicalItems:Mt,stackGroups:It.axisType===mt&&Ct,dataStartIndex:F,dataEndIndex:Y}))))},{}),Rt=WPt(Xt(Xt({},Ot),{},{props:z,graphicalItems:Mt}),C==null?void 0:C.legendBBox);Object.keys(Ot).forEach(function(At){Ot[At]=A(z,Ot[At],Rt,At.replace("Map",""),a)});var yt=Ot["".concat(vt,"Map")],Nt=KPt(yt),kt=B(z,Xt(Xt({},Ot),{},{dataStartIndex:F,dataEndIndex:Y,updateId:U,graphicalItems:Mt,stackGroups:Ct,offset:Rt}));return Xt(Xt({formattedGraphicalItems:kt,graphicalItems:Mt,offset:Rt,stackGroups:Ct},Nt),Ot)};return s=function(j){function V(C){var z,F,Y;return MPt(this,V),Y=OPt(this,V,[C]),je(Y,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),je(Y,"accessibilityManager",new dPt),je(Y,"handleLegendBBoxUpdate",function(U){if(U){var J=Y.state,K=J.dataStartIndex,rt=J.dataEndIndex,gt=J.updateId;Y.setState(Xt({legendBBox:U},I({props:Y.props,dataStartIndex:K,dataEndIndex:rt,updateId:gt},Xt(Xt({},Y.state),{},{legendBBox:U}))))}}),je(Y,"handleReceiveSyncEvent",function(U,J,K){if(Y.props.syncId===U){if(K===Y.eventEmitterSymbol&&typeof Y.props.syncMethod!="function")return;Y.applySyncEvent(J)}}),je(Y,"handleBrushChange",function(U){var J=U.startIndex,K=U.endIndex;if(J!==Y.state.dataStartIndex||K!==Y.state.dataEndIndex){var rt=Y.state.updateId;Y.setState(function(){return Xt({dataStartIndex:J,dataEndIndex:K},I({props:Y.props,dataStartIndex:J,dataEndIndex:K,updateId:rt},Y.state))}),Y.triggerSyncEvent({dataStartIndex:J,dataEndIndex:K})}}),je(Y,"handleMouseEnter",function(U){var J=Y.getMouseInfo(U);if(J){var K=Xt(Xt({},J),{},{isTooltipActive:!0});Y.setState(K),Y.triggerSyncEvent(K);var rt=Y.props.onMouseEnter;sn(rt)&&rt(K,U)}}),je(Y,"triggeredAfterMouseMove",function(U){var J=Y.getMouseInfo(U),K=J?Xt(Xt({},J),{},{isTooltipActive:!0}):{isTooltipActive:!1};Y.setState(K),Y.triggerSyncEvent(K);var rt=Y.props.onMouseMove;sn(rt)&&rt(K,U)}),je(Y,"handleItemMouseEnter",function(U){Y.setState(function(){return{isTooltipActive:!0,activeItem:U,activePayload:U.tooltipPayload,activeCoordinate:U.tooltipPosition||{x:U.cx,y:U.cy}}})}),je(Y,"handleItemMouseLeave",function(){Y.setState(function(){return{isTooltipActive:!1}})}),je(Y,"handleMouseMove",function(U){U.persist(),Y.throttleTriggeredAfterMouseMove(U)}),je(Y,"handleMouseLeave",function(U){Y.throttleTriggeredAfterMouseMove.cancel();var J={isTooltipActive:!1};Y.setState(J),Y.triggerSyncEvent(J);var K=Y.props.onMouseLeave;sn(K)&&K(J,U)}),je(Y,"handleOuterEvent",function(U){var J=Snt(U),K=no(Y.props,"".concat(J));if(J&&sn(K)){var rt,gt;/.*touch.*/i.test(J)?gt=Y.getMouseInfo(U.changedTouches[0]):gt=Y.getMouseInfo(U),K((rt=gt)!==null&&rt!==void 0?rt:{},U)}}),je(Y,"handleClick",function(U){var J=Y.getMouseInfo(U);if(J){var K=Xt(Xt({},J),{},{isTooltipActive:!0});Y.setState(K),Y.triggerSyncEvent(K);var rt=Y.props.onClick;sn(rt)&&rt(K,U)}}),je(Y,"handleMouseDown",function(U){var J=Y.props.onMouseDown;if(sn(J)){var K=Y.getMouseInfo(U);J(K,U)}}),je(Y,"handleMouseUp",function(U){var J=Y.props.onMouseUp;if(sn(J)){var K=Y.getMouseInfo(U);J(K,U)}}),je(Y,"handleTouchMove",function(U){U.changedTouches!=null&&U.changedTouches.length>0&&Y.throttleTriggeredAfterMouseMove(U.changedTouches[0])}),je(Y,"handleTouchStart",function(U){U.changedTouches!=null&&U.changedTouches.length>0&&Y.handleMouseDown(U.changedTouches[0])}),je(Y,"handleTouchEnd",function(U){U.changedTouches!=null&&U.changedTouches.length>0&&Y.handleMouseUp(U.changedTouches[0])}),je(Y,"triggerSyncEvent",function(U){Y.props.syncId!==void 0&&wb.emit(Sb,Y.props.syncId,U,Y.eventEmitterSymbol)}),je(Y,"applySyncEvent",function(U){var J=Y.props,K=J.layout,rt=J.syncMethod,gt=Y.state.updateId,lt=U.dataStartIndex,dt=U.dataEndIndex;if(U.dataStartIndex!==void 0||U.dataEndIndex!==void 0)Y.setState(Xt({dataStartIndex:lt,dataEndIndex:dt},I({props:Y.props,dataStartIndex:lt,dataEndIndex:dt,updateId:gt},Y.state)));else if(U.activeTooltipIndex!==void 0){var mt=U.chartX,vt=U.chartY,Mt=U.activeTooltipIndex,Ct=Y.state,Ot=Ct.offset,Rt=Ct.tooltipTicks;if(!Ot)return;if(typeof rt=="function")Mt=rt(Rt,U);else if(rt==="value"){Mt=-1;for(var yt=0;yt<Rt.length;yt++)if(Rt[yt].value===U.activeLabel){Mt=yt;break}}var Nt=Xt(Xt({},Ot),{},{x:Ot.left,y:Ot.top}),kt=Math.min(mt,Nt.x+Nt.width),At=Math.min(vt,Nt.y+Nt.height),It=Rt[Mt]&&Rt[Mt].value,$t=MP(Y.state,Y.props.data,Mt),ee=Rt[Mt]?{x:K==="horizontal"?Rt[Mt].coordinate:kt,y:K==="horizontal"?At:Rt[Mt].coordinate}:TV;Y.setState(Xt(Xt({},U),{},{activeLabel:It,activeCoordinate:ee,activePayload:$t,activeTooltipIndex:Mt}))}else Y.setState(U)}),je(Y,"renderCursor",function(U){var J,K=Y.state,rt=K.isTooltipActive,gt=K.activeCoordinate,lt=K.activePayload,dt=K.offset,mt=K.activeTooltipIndex,vt=K.tooltipAxisBandSize,Mt=Y.getTooltipEventType(),Ct=(J=U.props.active)!==null&&J!==void 0?J:rt,Ot=Y.props.layout,Rt=U.key||"_recharts-cursor";return wt.createElement(xPt,{key:Rt,activeCoordinate:gt,activePayload:lt,activeTooltipIndex:mt,chartName:a,element:U,isActive:Ct,layout:Ot,offset:dt,tooltipAxisBandSize:vt,tooltipEventType:Mt})}),je(Y,"renderPolarAxis",function(U,J,K){var rt=no(U,"type.axisType"),gt=no(Y.state,"".concat(rt,"Map")),lt=U.type.defaultProps,dt=lt!==void 0?Xt(Xt({},lt),U.props):U.props,mt=gt&&gt[dt["".concat(rt,"Id")]];return at.cloneElement(U,Xt(Xt({},mt),{},{className:mn(rt,mt.className),key:U.key||"".concat(J,"-").concat(K),ticks:Ia(mt,!0)}))}),je(Y,"renderPolarGrid",function(U){var J=U.props,K=J.radialLines,rt=J.polarAngles,gt=J.polarRadius,lt=Y.state,dt=lt.radiusAxisMap,mt=lt.angleAxisMap,vt=El(dt),Mt=El(mt),Ct=Mt.cx,Ot=Mt.cy,Rt=Mt.innerRadius,yt=Mt.outerRadius;return at.cloneElement(U,{polarAngles:Array.isArray(rt)?rt:Ia(Mt,!0).map(function(Nt){return Nt.coordinate}),polarRadius:Array.isArray(gt)?gt:Ia(vt,!0).map(function(Nt){return Nt.coordinate}),cx:Ct,cy:Ot,innerRadius:Rt,outerRadius:yt,key:U.key||"polar-grid",radialLines:K})}),je(Y,"renderLegend",function(){var U=Y.state.formattedGraphicalItems,J=Y.props,K=J.children,rt=J.width,gt=J.height,lt=Y.props.margin||{},dt=rt-(lt.left||0)-(lt.right||0),mt=gz({children:K,formattedGraphicalItems:U,legendWidth:dt,legendContent:M});if(!mt)return null;var vt=mt.item,Mt=F_(mt,bPt);return at.cloneElement(vt,Xt(Xt({},Mt),{},{chartWidth:rt,chartHeight:gt,margin:lt,onBBoxUpdate:Y.handleLegendBBoxUpdate}))}),je(Y,"renderTooltip",function(){var U,J=Y.props,K=J.children,rt=J.accessibilityLayer,gt=Ts(K,Yo);if(!gt)return null;var lt=Y.state,dt=lt.isTooltipActive,mt=lt.activeCoordinate,vt=lt.activePayload,Mt=lt.activeLabel,Ct=lt.offset,Ot=(U=gt.props.active)!==null&&U!==void 0?U:dt;return at.cloneElement(gt,{viewBox:Xt(Xt({},Ct),{},{x:Ct.left,y:Ct.top}),active:Ot,label:Mt,payload:Ot?vt:[],coordinate:mt,accessibilityLayer:rt})}),je(Y,"renderBrush",function(U){var J=Y.props,K=J.margin,rt=J.data,gt=Y.state,lt=gt.offset,dt=gt.dataStartIndex,mt=gt.dataEndIndex,vt=gt.updateId;return at.cloneElement(U,{key:U.key||"_recharts-brush",onChange:Nm(Y.handleBrushChange,U.props.onChange),data:rt,x:pe(U.props.x)?U.props.x:lt.left,y:pe(U.props.y)?U.props.y:lt.top+lt.height+lt.brushBottom-(K.bottom||0),width:pe(U.props.width)?U.props.width:lt.width,startIndex:dt,endIndex:mt,updateId:"brush-".concat(vt)})}),je(Y,"renderReferenceElement",function(U,J,K){if(!U)return null;var rt=Y,gt=rt.clipPathId,lt=Y.state,dt=lt.xAxisMap,mt=lt.yAxisMap,vt=lt.offset,Mt=U.type.defaultProps||{},Ct=U.props,Ot=Ct.xAxisId,Rt=Ot===void 0?Mt.xAxisId:Ot,yt=Ct.yAxisId,Nt=yt===void 0?Mt.yAxisId:yt;return at.cloneElement(U,{key:U.key||"".concat(J,"-").concat(K),xAxis:dt[Rt],yAxis:mt[Nt],viewBox:{x:vt.left,y:vt.top,width:vt.width,height:vt.height},clipPathId:gt})}),je(Y,"renderActivePoints",function(U){var J=U.item,K=U.activePoint,rt=U.basePoint,gt=U.childIndex,lt=U.isRange,dt=[],mt=J.props.key,vt=J.item.type.defaultProps!==void 0?Xt(Xt({},J.item.type.defaultProps),J.item.props):J.item.props,Mt=vt.activeDot,Ct=vt.dataKey,Ot=Xt(Xt({index:gt,dataKey:Ct,cx:K.x,cy:K.y,r:4,fill:AM(J.item),strokeWidth:2,stroke:"#fff",payload:K.payload,value:K.value},gn(Mt,!1)),Yy(Mt));return dt.push(V.renderActiveDot(Mt,Ot,"".concat(mt,"-activePoint-").concat(gt))),rt?dt.push(V.renderActiveDot(Mt,Xt(Xt({},Ot),{},{cx:rt.x,cy:rt.y}),"".concat(mt,"-basePoint-").concat(gt))):lt&&dt.push(null),dt}),je(Y,"renderGraphicChild",function(U,J,K){var rt=Y.filterFormatItem(U,J,K);if(!rt)return null;var gt=Y.getTooltipEventType(),lt=Y.state,dt=lt.isTooltipActive,mt=lt.tooltipAxis,vt=lt.activeTooltipIndex,Mt=lt.activeLabel,Ct=Y.props.children,Ot=Ts(Ct,Yo),Rt=rt.props,yt=Rt.points,Nt=Rt.isRange,kt=Rt.baseLine,At=rt.item.type.defaultProps!==void 0?Xt(Xt({},rt.item.type.defaultProps),rt.item.props):rt.item.props,It=At.activeDot,$t=At.hide,ee=At.activeBar,ne=At.activeShape,Ft=!!(!$t&&dt&&Ot&&(It||ee||ne)),he={};gt!=="axis"&&Ot&&Ot.props.trigger==="click"?he={onClick:Nm(Y.handleItemMouseEnter,U.props.onClick)}:gt!=="axis"&&(he={onMouseLeave:Nm(Y.handleItemMouseLeave,U.props.onMouseLeave),onMouseEnter:Nm(Y.handleItemMouseEnter,U.props.onMouseEnter)});var be=at.cloneElement(U,Xt(Xt({},rt.props),he));function te(mi){return typeof mt.dataKey=="function"?mt.dataKey(mi.payload):null}if(Ft)if(vt>=0){var le,me;if(mt.dataKey&&!mt.allowDuplicatedCategory){var _t=typeof mt.dataKey=="function"?te:"payload.".concat(mt.dataKey.toString());le=sS(yt,_t,Mt),me=Nt&&kt&&sS(kt,_t,Mt)}else le=yt==null?void 0:yt[vt],me=Nt&&kt&&kt[vt];if(ne||ee){var Yt=U.props.activeIndex!==void 0?U.props.activeIndex:vt;return[at.cloneElement(U,Xt(Xt(Xt({},rt.props),he),{},{activeIndex:Yt})),null,null]}if(!bn(le))return[be].concat(nd(Y.renderActivePoints({item:rt,activePoint:le,basePoint:me,childIndex:vt,isRange:Nt})))}else{var ue,Ae=(ue=Y.getItemByXY(Y.state.activeCoordinate))!==null&&ue!==void 0?ue:{graphicalItem:be},_e=Ae.graphicalItem,en=_e.item,qe=en===void 0?U:en,$e=_e.childIndex,yn=Xt(Xt(Xt({},rt.props),he),{},{activeIndex:$e});return[at.cloneElement(qe,yn),null,null]}return Nt?[be,null,null]:[be,null]}),je(Y,"renderCustomized",function(U,J,K){return at.cloneElement(U,Xt(Xt({key:"recharts-customized-".concat(K)},Y.props),Y.state))}),je(Y,"renderMap",{CartesianGrid:{handler:Rm,once:!0},ReferenceArea:{handler:Y.renderReferenceElement},ReferenceLine:{handler:Rm},ReferenceDot:{handler:Y.renderReferenceElement},XAxis:{handler:Rm},YAxis:{handler:Rm},Brush:{handler:Y.renderBrush,once:!0},Bar:{handler:Y.renderGraphicChild},Line:{handler:Y.renderGraphicChild},Area:{handler:Y.renderGraphicChild},Radar:{handler:Y.renderGraphicChild},RadialBar:{handler:Y.renderGraphicChild},Scatter:{handler:Y.renderGraphicChild},Pie:{handler:Y.renderGraphicChild},Funnel:{handler:Y.renderGraphicChild},Tooltip:{handler:Y.renderCursor,once:!0},PolarGrid:{handler:Y.renderPolarGrid,once:!0},PolarAngleAxis:{handler:Y.renderPolarAxis},PolarRadiusAxis:{handler:Y.renderPolarAxis},Customized:{handler:Y.renderCustomized}}),Y.clipPathId="".concat((z=C.id)!==null&&z!==void 0?z:Zv("recharts"),"-clip"),Y.throttleTriggeredAfterMouseMove=p3(Y.triggeredAfterMouseMove,(F=C.throttleDelay)!==null&&F!==void 0?F:1e3/60),Y.state={},Y}return LPt(V,j),CPt(V,[{key:"componentDidMount",value:function(){var z,F;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(z=this.props.margin.left)!==null&&z!==void 0?z:0,top:(F=this.props.margin.top)!==null&&F!==void 0?F:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var z=this.props,F=z.children,Y=z.data,U=z.height,J=z.layout,K=Ts(F,Yo);if(K){var rt=K.props.defaultIndex;if(!(typeof rt!="number"||rt<0||rt>this.state.tooltipTicks.length)){var gt=this.state.tooltipTicks[rt]&&this.state.tooltipTicks[rt].value,lt=MP(this.state,Y,rt,gt),dt=this.state.tooltipTicks[rt].coordinate,mt=(this.state.offset.top+U)/2,vt=J==="horizontal",Mt=vt?{x:dt,y:mt}:{y:dt,x:mt},Ct=this.state.formattedGraphicalItems.find(function(Rt){var yt=Rt.item;return yt.type.name==="Scatter"});Ct&&(Mt=Xt(Xt({},Mt),Ct.props.points[rt].tooltipPosition),lt=Ct.props.points[rt].tooltipPayload);var Ot={activeTooltipIndex:rt,isTooltipActive:!0,activeLabel:gt,activePayload:lt,activeCoordinate:Mt};this.setState(Ot),this.renderCursor(K),this.accessibilityManager.setIndex(rt)}}}},{key:"getSnapshotBeforeUpdate",value:function(z,F){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==F.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==z.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==z.margin){var Y,U;this.accessibilityManager.setDetails({offset:{left:(Y=this.props.margin.left)!==null&&Y!==void 0?Y:0,top:(U=this.props.margin.top)!==null&&U!==void 0?U:0}})}return null}},{key:"componentDidUpdate",value:function(z){aS([Ts(z.children,Yo)],[Ts(this.props.children,Yo)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var z=Ts(this.props.children,Yo);if(z&&typeof z.props.shared=="boolean"){var F=z.props.shared?"axis":"item";return x.indexOf(F)>=0?F:p}return p}},{key:"getMouseInfo",value:function(z){if(!this.container)return null;var F=this.container,Y=F.getBoundingClientRect(),U=qdt(Y),J={chartX:Math.round(z.pageX-U.left),chartY:Math.round(z.pageY-U.top)},K=Y.width/F.offsetWidth||1,rt=this.inRange(J.chartX,J.chartY,K);if(!rt)return null;var gt=this.state,lt=gt.xAxisMap,dt=gt.yAxisMap,mt=this.getTooltipEventType();if(mt!=="axis"&&lt&&dt){var vt=El(lt).scale,Mt=El(dt).scale,Ct=vt&&vt.invert?vt.invert(J.chartX):null,Ot=Mt&&Mt.invert?Mt.invert(J.chartY):null;return Xt(Xt({},J),{},{xValue:Ct,yValue:Ot})}var Rt=B_(this.state,this.props.data,this.props.layout,rt);return Rt?Xt(Xt({},J),Rt):null}},{key:"inRange",value:function(z,F){var Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,U=this.props.layout,J=z/Y,K=F/Y;if(U==="horizontal"||U==="vertical"){var rt=this.state.offset,gt=J>=rt.left&&J<=rt.left+rt.width&&K>=rt.top&&K<=rt.top+rt.height;return gt?{x:J,y:K}:null}var lt=this.state,dt=lt.angleAxisMap,mt=lt.radiusAxisMap;if(dt&&mt){var vt=El(dt);return SL({x:J,y:K},vt)}return null}},{key:"parseEventsOfWrapper",value:function(){var z=this.props.children,F=this.getTooltipEventType(),Y=Ts(z,Yo),U={};Y&&F==="axis"&&(Y.props.trigger==="click"?U={onClick:this.handleClick}:U={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var J=Yy(this.props,this.handleOuterEvent);return Xt(Xt({},J),U)}},{key:"addListener",value:function(){wb.on(Sb,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){wb.removeListener(Sb,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(z,F,Y){for(var U=this.state.formattedGraphicalItems,J=0,K=U.length;J<K;J++){var rt=U[J];if(rt.item===z||rt.props.key===z.key||F===Ga(rt.item.type)&&Y===rt.childIndex)return rt}return null}},{key:"renderClipPath",value:function(){var z=this.clipPathId,F=this.state.offset,Y=F.left,U=F.top,J=F.height,K=F.width;return wt.createElement("defs",null,wt.createElement("clipPath",{id:z},wt.createElement("rect",{x:Y,y:U,height:J,width:K})))}},{key:"getXScales",value:function(){var z=this.state.xAxisMap;return z?Object.entries(z).reduce(function(F,Y){var U=I_(Y,2),J=U[0],K=U[1];return Xt(Xt({},F),{},je({},J,K.scale))},{}):null}},{key:"getYScales",value:function(){var z=this.state.yAxisMap;return z?Object.entries(z).reduce(function(F,Y){var U=I_(Y,2),J=U[0],K=U[1];return Xt(Xt({},F),{},je({},J,K.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(z){var F;return(F=this.state.xAxisMap)===null||F===void 0||(F=F[z])===null||F===void 0?void 0:F.scale}},{key:"getYScaleByAxisId",value:function(z){var F;return(F=this.state.yAxisMap)===null||F===void 0||(F=F[z])===null||F===void 0?void 0:F.scale}},{key:"getItemByXY",value:function(z){var F=this.state,Y=F.formattedGraphicalItems,U=F.activeItem;if(Y&&Y.length)for(var J=0,K=Y.length;J<K;J++){var rt=Y[J],gt=rt.props,lt=rt.item,dt=lt.type.defaultProps!==void 0?Xt(Xt({},lt.type.defaultProps),lt.props):lt.props,mt=Ga(lt.type);if(mt==="Bar"){var vt=(gt.data||[]).find(function(Rt){return S1t(z,Rt)});if(vt)return{graphicalItem:rt,payload:vt}}else if(mt==="RadialBar"){var Mt=(gt.data||[]).find(function(Rt){return SL(z,Rt)});if(Mt)return{graphicalItem:rt,payload:Mt}}else if(m1(rt,U)||y1(rt,U)||qp(rt,U)){var Ct=Txt({graphicalItem:rt,activeTooltipItem:U,itemData:dt.data}),Ot=dt.activeIndex===void 0?Ct:dt.activeIndex;return{graphicalItem:Xt(Xt({},rt),{},{childIndex:Ot}),payload:qp(rt,U)?dt.data[Ct]:rt.props.data[Ct]}}}return null}},{key:"render",value:function(){var z=this;if(!fN(this))return null;var F=this.props,Y=F.children,U=F.className,J=F.width,K=F.height,rt=F.style,gt=F.compact,lt=F.title,dt=F.desc,mt=F_(F,wPt),vt=gn(mt,!1);if(gt)return wt.createElement(w_,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},wt.createElement(uS,Xf({},vt,{width:J,height:K,title:lt,desc:dt}),this.renderClipPath(),gN(Y,this.renderMap)));if(this.props.accessibilityLayer){var Mt,Ct;vt.tabIndex=(Mt=this.props.tabIndex)!==null&&Mt!==void 0?Mt:0,vt.role=(Ct=this.props.role)!==null&&Ct!==void 0?Ct:"application",vt.onKeyDown=function(Rt){z.accessibilityManager.keyboardEvent(Rt)},vt.onFocus=function(){z.accessibilityManager.focus()}}var Ot=this.parseEventsOfWrapper();return wt.createElement(w_,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},wt.createElement("div",Xf({className:mn("recharts-wrapper",U),style:Xt({position:"relative",cursor:"default",width:J,height:K},rt)},Ot,{ref:function(yt){z.container=yt}}),wt.createElement(uS,Xf({},vt,{width:J,height:K,title:lt,desc:dt,style:jPt}),this.renderClipPath(),gN(Y,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(at.Component),je(s,"displayName",a),je(s,"defaultProps",Xt({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},O)),je(s,"getDerivedStateFromProps",function(j,V){var C=j.dataKey,z=j.data,F=j.children,Y=j.width,U=j.height,J=j.layout,K=j.stackOffset,rt=j.margin,gt=V.dataStartIndex,lt=V.dataEndIndex;if(V.updateId===void 0){var dt=$_(j);return Xt(Xt(Xt({},dt),{},{updateId:0},I(Xt(Xt({props:j},dt),{},{updateId:0}),V)),{},{prevDataKey:C,prevData:z,prevWidth:Y,prevHeight:U,prevLayout:J,prevStackOffset:K,prevMargin:rt,prevChildren:F})}if(C!==V.prevDataKey||z!==V.prevData||Y!==V.prevWidth||U!==V.prevHeight||J!==V.prevLayout||K!==V.prevStackOffset||!yc(rt,V.prevMargin)){var mt=$_(j),vt={chartX:V.chartX,chartY:V.chartY,isTooltipActive:V.isTooltipActive},Mt=Xt(Xt({},B_(V,z,J)),{},{updateId:V.updateId+1}),Ct=Xt(Xt(Xt({},mt),vt),Mt);return Xt(Xt(Xt({},Ct),I(Xt({props:j},Ct),V)),{},{prevDataKey:C,prevData:z,prevWidth:Y,prevHeight:U,prevLayout:J,prevStackOffset:K,prevMargin:rt,prevChildren:F})}if(!aS(F,V.prevChildren)){var Ot,Rt,yt,Nt,kt=Ts(F,Hc),At=kt&&(Ot=(Rt=kt.props)===null||Rt===void 0?void 0:Rt.startIndex)!==null&&Ot!==void 0?Ot:gt,It=kt&&(yt=(Nt=kt.props)===null||Nt===void 0?void 0:Nt.endIndex)!==null&&yt!==void 0?yt:lt,$t=At!==gt||It!==lt,ee=!bn(z),ne=ee&&!$t?V.updateId:V.updateId+1;return Xt(Xt({updateId:ne},I(Xt(Xt({props:j},V),{},{updateId:ne,dataStartIndex:At,dataEndIndex:It}),V)),{},{prevChildren:F,dataStartIndex:At,dataEndIndex:It})}return null}),je(s,"renderActiveDot",function(j,V,C){var z;return at.isValidElement(j)?z=at.cloneElement(j,V):sn(j)?z=j(V):z=wt.createElement(Iz,V),wt.createElement(er,{className:"recharts-active-dot",key:C},z)}),s},YPt=XPt({chartName:"BarChart",GraphicalChild:Ql,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:P1},{axisType:"yAxis",AxisComp:jM}],formatAxisMap:qbt});const qPt={light:"",dark:".dark"},AV=at.createContext(null);function CV(){const e=at.useContext(AV);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}const OV=at.forwardRef(({id:e,className:n,children:s,config:a,...h},d)=>{const p=at.useId(),v=`chart-${e||p.replace(/:/g,"")}`;return ot.jsx(AV.Provider,{value:{config:a},children:ot.jsxs("div",{"data-chart":v,ref:d,className:Fn("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",n),...h,children:[ot.jsx(ZPt,{id:v,config:a}),ot.jsx(Udt,{children:s})]})})});OV.displayName="Chart";const ZPt=({id:e,config:n})=>{const s=Object.entries(n).filter(([a,h])=>h.theme||h.color);return s.length?ot.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(qPt).map(([a,h])=>`
${h} [data-chart=${e}] {
${s.map(([d,p])=>{var x;const v=((x=p.theme)==null?void 0:x[a])||p.color;return v?`  --color-${d}: ${v};`:null}).join(`
`)}
}
`).join(`
`)}}):null},JPt=Yo,NV=at.forwardRef(({active:e,payload:n,className:s,indicator:a="dot",hideLabel:h=!1,hideIndicator:d=!1,label:p,labelFormatter:v,labelClassName:x,formatter:S,color:M,nameKey:A,labelKey:O},B)=>{const{config:I}=CV(),j=at.useMemo(()=>{var U;if(h||!(n!=null&&n.length))return null;const[C]=n,z=`${O||C.dataKey||C.name||"value"}`,F=AP(I,C,z),Y=!O&&typeof p=="string"?((U=I[p])==null?void 0:U.label)||p:F==null?void 0:F.label;return v?ot.jsx("div",{className:Fn("font-medium",x),children:v(Y,n)}):Y?ot.jsx("div",{className:Fn("font-medium",x),children:Y}):null},[p,v,n,h,x,I,O]);if(!e||!(n!=null&&n.length))return null;const V=n.length===1&&a!=="dot";return ot.jsxs("div",{ref:B,className:Fn("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",s),children:[V?null:j,ot.jsx("div",{className:"grid gap-1.5",children:n.map((C,z)=>{const F=`${A||C.name||C.dataKey||"value"}`,Y=AP(I,C,F),U=M||C.payload.fill||C.color;return ot.jsx("div",{className:Fn("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",a==="dot"&&"items-center"),children:S&&(C==null?void 0:C.value)!==void 0&&C.name?S(C.value,C.name,C,z,C.payload):ot.jsxs(ot.Fragment,{children:[Y!=null&&Y.icon?ot.jsx(Y.icon,{}):!d&&ot.jsx("div",{className:Fn("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":a==="dot","w-1":a==="line","w-0 border-[1.5px] border-dashed bg-transparent":a==="dashed","my-0.5":V&&a==="dashed"}),style:{"--color-bg":U,"--color-border":U}}),ot.jsxs("div",{className:Fn("flex flex-1 justify-between leading-none",V?"items-end":"items-center"),children:[ot.jsxs("div",{className:"grid gap-1.5",children:[V?j:null,ot.jsx("span",{className:"text-muted-foreground",children:(Y==null?void 0:Y.label)||C.name})]}),C.value&&ot.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:C.value.toLocaleString()})]})]})},C.dataKey)})})]})});NV.displayName="ChartTooltip";const QPt=Wu,EV=at.forwardRef(({className:e,hideIcon:n=!1,payload:s,verticalAlign:a="bottom",nameKey:h},d)=>{const{config:p}=CV();return s!=null&&s.length?ot.jsx("div",{ref:d,className:Fn("flex items-center justify-center gap-4",a==="top"?"pb-3":"pt-3",e),children:s.map(v=>{const x=`${h||v.dataKey||"value"}`,S=AP(p,v,x);return ot.jsxs("div",{className:Fn("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[S!=null&&S.icon&&!n?ot.jsx(S.icon,{}):ot.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:v.color}}),S==null?void 0:S.label]},v.value)})}):null});EV.displayName="ChartLegend";function AP(e,n,s){if(typeof n!="object"||n===null)return;const a="payload"in n&&typeof n.payload=="object"&&n.payload!==null?n.payload:void 0;let h=s;return s in n&&typeof n[s]=="string"?h=n[s]:a&&s in a&&typeof a[s]=="string"&&(h=a[s]),h in e?e[h]:e[s]}const tkt={laki_laki:{label:"Laki-laki",color:"#2563eb"},perempuan:{label:"Perempuan",color:"#60a5fa"}};function ekt(e){const n=[];return e.forEach(s=>{s.rt.forEach(a=>{let h=0,d=0;a.citizens.forEach(p=>{h+=p.total_men,d+=p.total_women}),n.push({key:`rw ${s.rw}/rt ${a.rt}`,laki_laki:h,perempuan:d})})}),n.sort((s,a)=>{const[h,d]=s.key.match(/\d+/g).map(Number),[p,v]=a.key.match(/\d+/g).map(Number);return h===p?d-v:h-p}),n}function nkt({rws:e}){return console.log(e),ot.jsx(al,{children:ot.jsxs("section",{className:"w-full md:w-10/12 lg:w-8/12 mx-auto px-4 md:px-0",children:[ot.jsx("h1",{className:"text-3xl font-bold",children:"Data"}),ot.jsx("div",{className:"mt-4 mb-3",children:ot.jsx("div",{className:"w-full bg-gray-100 px-3 py-2 rounded",children:ot.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:e.map(n=>ot.jsxs("div",{className:"flex flex-col",children:[ot.jsxs("div",{className:"flex items-end justify-between bg-white px-2 py-0.5 rounded-sm",children:[ot.jsxs("h2",{className:"text-lg font-semibold",children:["RW ",n.rw]}),ot.jsxs("h3",{className:"text-sm text-gray-400 font-light",children:[n.total_citizens," KK"]})]}),ot.jsx("div",{className:"flex flex-col mt-2 px-2",children:n.rt.map(s=>ot.jsxs("div",{className:"flex items-center gap-x-2 text-xs md:text-sm text-gray-700",children:[ot.jsxs("span",{children:["RT ",s.rt]}),ot.jsxs("span",{className:"",children:[s.citizens.length," Kepala Keluarga"]})]},s.id))})]},n.id))})})}),ot.jsx("div",{children:ot.jsx(OV,{config:tkt,className:"min-h-[200px] w-full",children:ot.jsxs(YPt,{accessibilityLayer:!0,data:ekt(e),children:[ot.jsx(dV,{vertical:!0}),ot.jsx(P1,{dataKey:"key",tickLine:!1,tickMargin:10,axisLine:!1,tickFormatter:n=>n.toUpperCase()}),ot.jsx(JPt,{labelFormatter:n=>n.toUpperCase(),content:ot.jsx(NV,{})}),ot.jsx(QPt,{content:ot.jsx(EV,{})}),ot.jsx(Ql,{fill:"var(--color-laki_laki)",dataKey:"laki_laki",radius:4}),ot.jsx(Ql,{dataKey:"perempuan",fill:"var(--color-perempuan)",radius:4})]})})})]})})}const ikt=Object.freeze(Object.defineProperty({__proto__:null,default:nkt},Symbol.toStringTag,{value:"Module"}));function rkt(e,n){for(var s=0;s<n.length;s++){var a=n[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function skt(e,n,s){return n&&rkt(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var V_="(prefers-reduced-motion: reduce)",ac=1,okt=2,id=3,Cd=4,Ig=5,ry=6,W0=7,akt={CREATED:ac,MOUNTED:okt,IDLE:id,MOVING:Cd,SCROLLING:Ig,DRAGGING:ry,DESTROYED:W0};function il(e){e.length=0}function fu(e,n,s){return Array.prototype.slice.call(e,n,s)}function Wn(e){return e.bind.apply(e,[null].concat(fu(arguments,1)))}var LV=setTimeout,CP=function(){};function U_(e){return requestAnimationFrame(e)}function T1(e,n){return typeof n===e}function ig(e){return!$M(e)&&T1("object",e)}var BM=Array.isArray,_V=Wn(T1,"function"),tu=Wn(T1,"string"),Fg=Wn(T1,"undefined");function $M(e){return e===null}function DV(e){try{return e instanceof(e.ownerDocument.defaultView||window).HTMLElement}catch{return!1}}function jg(e){return BM(e)?e:[e]}function oo(e,n){jg(e).forEach(n)}function zM(e,n){return e.indexOf(n)>-1}function sy(e,n){return e.push.apply(e,jg(n)),e}function Fa(e,n,s){e&&oo(n,function(a){a&&e.classList[s?"add":"remove"](a)})}function ua(e,n){Fa(e,tu(n)?n.split(" "):n,!0)}function Bg(e,n){oo(n,e.appendChild.bind(e))}function VM(e,n){oo(e,function(s){var a=(n||s).parentNode;a&&a.insertBefore(s,n)})}function rg(e,n){return DV(e)&&(e.msMatchesSelector||e.matches).call(e,n)}function RV(e,n){var s=e?fu(e.children):[];return n?s.filter(function(a){return rg(a,n)}):s}function $g(e,n){return n?RV(e,n)[0]:e.firstElementChild}var sg=Object.keys;function qu(e,n,s){return e&&(s?sg(e).reverse():sg(e)).forEach(function(a){a!=="__proto__"&&n(e[a],a)}),e}function og(e){return fu(arguments,1).forEach(function(n){qu(n,function(s,a){e[a]=n[a]})}),e}function Il(e){return fu(arguments,1).forEach(function(n){qu(n,function(s,a){BM(s)?e[a]=s.slice():ig(s)?e[a]=Il({},ig(e[a])?e[a]:{},s):e[a]=s})}),e}function K_(e,n){oo(n||sg(e),function(s){delete e[s]})}function ha(e,n){oo(e,function(s){oo(n,function(a){s&&s.removeAttribute(a)})})}function We(e,n,s){ig(n)?qu(n,function(a,h){We(e,h,a)}):oo(e,function(a){$M(s)||s===""?ha(a,n):a.setAttribute(n,String(s))})}function bc(e,n,s){var a=document.createElement(e);return n&&(tu(n)?ua(a,n):We(a,n)),s&&Bg(s,a),a}function ko(e,n,s){if(Fg(s))return getComputedStyle(e)[n];$M(s)||(e.style[n]=""+s)}function ag(e,n){ko(e,"display",n)}function IV(e){e.setActive&&e.setActive()||e.focus({preventScroll:!0})}function Ao(e,n){return e.getAttribute(n)}function G_(e,n){return e&&e.classList.contains(n)}function qs(e){return e.getBoundingClientRect()}function lh(e){oo(e,function(n){n&&n.parentNode&&n.parentNode.removeChild(n)})}function FV(e){return $g(new DOMParser().parseFromString(e,"text/html").body)}function Na(e,n){e.preventDefault(),n&&(e.stopPropagation(),e.stopImmediatePropagation())}function jV(e,n){return e&&e.querySelector(n)}function UM(e,n){return n?fu(e.querySelectorAll(n)):[]}function ja(e,n){Fa(e,n,!1)}function OP(e){return e.timeStamp}function Su(e){return tu(e)?e:e?e+"px":""}var zg="splide",KM="data-"+zg;function Yf(e,n){if(!e)throw new Error("["+zg+"] "+(n||""))}var eu=Math.min,H0=Math.max,X0=Math.floor,lg=Math.ceil,as=Math.abs;function BV(e,n,s){return as(e-n)<s}function oy(e,n,s,a){var h=eu(n,s),d=H0(n,s);return a?h<e&&e<d:h<=e&&e<=d}function $h(e,n,s){var a=eu(n,s),h=H0(n,s);return eu(H0(a,e),h)}function NP(e){return+(e>0)-+(e<0)}function EP(e,n){return oo(n,function(s){e=e.replace("%s",""+s)}),e}function GM(e){return e<10?"0"+e:""+e}var W_={};function lkt(e){return""+e+GM(W_[e]=(W_[e]||0)+1)}function $V(){var e=[];function n(p,v,x,S){h(p,v,function(M,A,O){var B="addEventListener"in M,I=B?M.removeEventListener.bind(M,A,x,S):M.removeListener.bind(M,x);B?M.addEventListener(A,x,S):M.addListener(x),e.push([M,A,O,x,I])})}function s(p,v,x){h(p,v,function(S,M,A){e=e.filter(function(O){return O[0]===S&&O[1]===M&&O[2]===A&&(!x||O[3]===x)?(O[4](),!1):!0})})}function a(p,v,x){var S,M=!0;return typeof CustomEvent=="function"?S=new CustomEvent(v,{bubbles:M,detail:x}):(S=document.createEvent("CustomEvent"),S.initCustomEvent(v,M,!1,x)),p.dispatchEvent(S),S}function h(p,v,x){oo(p,function(S){S&&oo(v,function(M){M.split(" ").forEach(function(A){var O=A.split(".");x(S,O[0],O[1])})})})}function d(){e.forEach(function(p){p[4]()}),il(e)}return{bind:n,unbind:s,dispatch:a,destroy:d}}var pu="mounted",LP="ready",rl="move",Od="moved",WM="click",zV="active",VV="inactive",UV="visible",KV="hidden",_i="refresh",Gr="updated",rd="resize",M1="resized",GV="drag",WV="dragging",HV="dragged",A1="scroll",mh="scrolled",ukt="overflow",HM="destroy",XV="arrows:mounted",YV="arrows:updated",qV="pagination:mounted",ZV="pagination:updated",XM="navigation:mounted",YM="autoplay:play",JV="autoplay:playing",qM="autoplay:pause",ZM="lazyload:loaded",QV="sk",t4="sh",Y0="ei";function gi(e){var n=e?e.event.bus:document.createDocumentFragment(),s=$V();function a(d,p){s.bind(n,jg(d).join(" "),function(v){p.apply(p,BM(v.detail)?v.detail:[])})}function h(d){s.dispatch(n,d,fu(arguments,1))}return e&&e.event.on(HM,s.destroy),og(s,{bus:n,on:a,off:Wn(s.unbind,n),emit:h})}function C1(e,n,s,a){var h=Date.now,d,p=0,v,x=!0,S=0;function M(){if(!x){if(p=e?eu((h()-d)/e,1):1,s&&s(p),p>=1&&(n(),d=h(),a&&++S>=a))return O();v=U_(M)}}function A(C){C||I(),d=h()-(C?p*e:0),x=!1,v=U_(M)}function O(){x=!0}function B(){d=h(),p=0,s&&s(p)}function I(){v&&cancelAnimationFrame(v),p=0,v=0,x=!0}function j(C){e=C}function V(){return x}return{start:A,rewind:B,pause:O,cancel:I,set:j,isPaused:V}}function hkt(e){var n=e;function s(h){n=h}function a(h){return zM(jg(h),n)}return{set:s,is:a}}function ckt(e,n){var s=C1(0,e,null,1);return function(){s.isPaused()&&s.start()}}function dkt(e,n,s){var a=e.state,h=s.breakpoints||{},d=s.reducedMotion||{},p=$V(),v=[];function x(){var I=s.mediaQuery==="min";sg(h).sort(function(j,V){return I?+j-+V:+V-+j}).forEach(function(j){M(h[j],"("+(I?"min":"max")+"-width:"+j+"px)")}),M(d,V_),A()}function S(I){I&&p.destroy()}function M(I,j){var V=matchMedia(j);p.bind(V,"change",A),v.push([I,V])}function A(){var I=a.is(W0),j=s.direction,V=v.reduce(function(C,z){return Il(C,z[1].matches?z[0]:{})},{});K_(s),B(V),s.destroy?e.destroy(s.destroy==="completely"):I?(S(!0),e.mount()):j!==s.direction&&e.refresh()}function O(I){matchMedia(V_).matches&&(I?Il(s,d):K_(s,sg(d)))}function B(I,j,V){Il(s,I),j&&Il(Object.getPrototypeOf(s),I),(V||!a.is(ac))&&e.emit(Gr,s)}return{setup:x,destroy:S,reduce:O,set:B}}var O1="Arrow",N1=O1+"Left",E1=O1+"Right",e4=O1+"Up",n4=O1+"Down",H_="rtl",L1="ttb",kb={width:["height"],left:["top","right"],right:["bottom","left"],x:["y"],X:["Y"],Y:["X"],ArrowLeft:[e4,E1],ArrowRight:[n4,N1]};function fkt(e,n,s){function a(d,p,v){v=v||s.direction;var x=v===H_&&!p?1:v===L1?0:-1;return kb[d]&&kb[d][x]||d.replace(/width|left|right/i,function(S,M){var A=kb[S.toLowerCase()][x]||S;return M>0?A.charAt(0).toUpperCase()+A.slice(1):A})}function h(d){return d*(s.direction===H_?1:-1)}return{resolve:a,orient:h}}var Xa="role",wc="tabindex",pkt="disabled",Fo="aria-",Vg=Fo+"controls",i4=Fo+"current",X_=Fo+"selected",to=Fo+"label",JM=Fo+"labelledby",r4=Fo+"hidden",QM=Fo+"orientation",ug=Fo+"roledescription",Y_=Fo+"live",q_=Fo+"busy",Z_=Fo+"atomic",tA=[Xa,wc,pkt,Vg,i4,to,JM,r4,QM,ug],da=zg+"__",gu="is-",Tb=zg,J_=da+"track",gkt=da+"list",_1=da+"slide",s4=_1+"--clone",mkt=_1+"__container",eA=da+"arrows",D1=da+"arrow",o4=D1+"--prev",a4=D1+"--next",R1=da+"pagination",l4=R1+"__page",ykt=da+"progress",vkt=ykt+"__bar",xkt=da+"toggle",bkt=da+"spinner",wkt=da+"sr",Skt=gu+"initialized",uh=gu+"active",u4=gu+"prev",h4=gu+"next",_P=gu+"visible",DP=gu+"loading",c4=gu+"focus-in",d4=gu+"overflow",Pkt=[uh,_P,u4,h4,DP,c4,d4],kkt={slide:_1,clone:s4,arrows:eA,arrow:D1,prev:o4,next:a4,pagination:R1,page:l4,spinner:bkt};function Tkt(e,n){if(_V(e.closest))return e.closest(n);for(var s=e;s&&s.nodeType===1&&!rg(s,n);)s=s.parentElement;return s}var Mkt=5,Q_=200,f4="touchstart mousedown",Mb="touchmove mousemove",Ab="touchend touchcancel mouseup click";function Akt(e,n,s){var a=gi(e),h=a.on,d=a.bind,p=e.root,v=s.i18n,x={},S=[],M=[],A=[],O,B,I;function j(){F(),Y(),z()}function V(){h(_i,C),h(_i,j),h(Gr,z),d(document,f4+" keydown",function(K){I=K.type==="keydown"},{capture:!0}),d(p,"focusin",function(){Fa(p,c4,!!I)})}function C(K){var rt=tA.concat("style");il(S),ja(p,M),ja(O,A),ha([O,B],rt),ha(p,K?rt:["style",ug])}function z(){ja(p,M),ja(O,A),M=J(Tb),A=J(J_),ua(p,M),ua(O,A),We(p,to,s.label),We(p,JM,s.labelledby)}function F(){O=U("."+J_),B=$g(O,"."+gkt),Yf(O&&B,"A track/list element is missing."),sy(S,RV(B,"."+_1+":not(."+s4+")")),qu({arrows:eA,pagination:R1,prev:o4,next:a4,bar:vkt,toggle:xkt},function(K,rt){x[rt]=U("."+K)}),og(x,{root:p,track:O,list:B,slides:S})}function Y(){var K=p.id||lkt(zg),rt=s.role;p.id=K,O.id=O.id||K+"-track",B.id=B.id||K+"-list",!Ao(p,Xa)&&p.tagName!=="SECTION"&&rt&&We(p,Xa,rt),We(p,ug,v.carousel),We(B,Xa,"presentation")}function U(K){var rt=jV(p,K);return rt&&Tkt(rt,"."+Tb)===p?rt:void 0}function J(K){return[K+"--"+s.type,K+"--"+s.direction,s.drag&&K+"--draggable",s.isNavigation&&K+"--nav",K===Tb&&uh]}return og(x,{setup:j,mount:V,destroy:C})}var sd="slide",Nd="loop",Ug="fade";function Ckt(e,n,s,a){var h=gi(e),d=h.on,p=h.emit,v=h.bind,x=e.Components,S=e.root,M=e.options,A=M.isNavigation,O=M.updateOnMove,B=M.i18n,I=M.pagination,j=M.slideFocus,V=x.Direction.resolve,C=Ao(a,"style"),z=Ao(a,to),F=s>-1,Y=$g(a,"."+mkt),U;function J(){F||(a.id=S.id+"-slide"+GM(n+1),We(a,Xa,I?"tabpanel":"group"),We(a,ug,B.slide),We(a,to,z||EP(B.slideLabel,[n+1,e.length]))),K()}function K(){v(a,"click",Wn(p,WM,yt)),v(a,"keydown",Wn(p,QV,yt)),d([Od,t4,mh],dt),d(XM,gt),O&&d(rl,lt)}function rt(){U=!0,h.destroy(),ja(a,Pkt),ha(a,tA),We(a,"style",C),We(a,to,z||"")}function gt(){var Nt=e.splides.map(function(kt){var At=kt.splide.Components.Slides.getAt(n);return At?At.slide.id:""}).join(" ");We(a,to,EP(B.slideX,(F?s:n)+1)),We(a,Vg,Nt),We(a,Xa,j?"button":""),j&&ha(a,ug)}function lt(){U||dt()}function dt(){if(!U){var Nt=e.index;mt(),vt(),Fa(a,u4,n===Nt-1),Fa(a,h4,n===Nt+1)}}function mt(){var Nt=Ct();Nt!==G_(a,uh)&&(Fa(a,uh,Nt),We(a,i4,A&&Nt||""),p(Nt?zV:VV,yt))}function vt(){var Nt=Ot(),kt=!Nt&&(!Ct()||F);if(e.state.is([Cd,Ig])||We(a,r4,kt||""),We(UM(a,M.focusableNodes||""),wc,kt?-1:""),j&&We(a,wc,kt?-1:0),Nt!==G_(a,_P)&&(Fa(a,_P,Nt),p(Nt?UV:KV,yt)),!Nt&&document.activeElement===a){var At=x.Slides.getAt(e.index);At&&IV(At.slide)}}function Mt(Nt,kt,At){ko(At&&Y||a,Nt,kt)}function Ct(){var Nt=e.index;return Nt===n||M.cloneStatus&&Nt===s}function Ot(){if(e.is(Ug))return Ct();var Nt=qs(x.Elements.track),kt=qs(a),At=V("left",!0),It=V("right",!0);return X0(Nt[At])<=lg(kt[At])&&X0(kt[It])<=lg(Nt[It])}function Rt(Nt,kt){var At=as(Nt-n);return!F&&(M.rewind||e.is(Nd))&&(At=eu(At,e.length-At)),At<=kt}var yt={index:n,slideIndex:s,slide:a,container:Y,isClone:F,mount:J,destroy:rt,update:dt,style:Mt,isWithin:Rt};return yt}function Okt(e,n,s){var a=gi(e),h=a.on,d=a.emit,p=a.bind,v=n.Elements,x=v.slides,S=v.list,M=[];function A(){O(),h(_i,B),h(_i,O)}function O(){x.forEach(function(dt,mt){j(dt,mt,-1)})}function B(){U(function(dt){dt.destroy()}),il(M)}function I(){U(function(dt){dt.update()})}function j(dt,mt,vt){var Mt=Ckt(e,mt,vt,dt);Mt.mount(),M.push(Mt),M.sort(function(Ct,Ot){return Ct.index-Ot.index})}function V(dt){return dt?J(function(mt){return!mt.isClone}):M}function C(dt){var mt=n.Controller,vt=mt.toIndex(dt),Mt=mt.hasFocus()?1:s.perPage;return J(function(Ct){return oy(Ct.index,vt,vt+Mt-1)})}function z(dt){return J(dt)[0]}function F(dt,mt){oo(dt,function(vt){if(tu(vt)&&(vt=FV(vt)),DV(vt)){var Mt=x[mt];Mt?VM(vt,Mt):Bg(S,vt),ua(vt,s.classes.slide),rt(vt,Wn(d,rd))}}),d(_i)}function Y(dt){lh(J(dt).map(function(mt){return mt.slide})),d(_i)}function U(dt,mt){V(mt).forEach(dt)}function J(dt){return M.filter(_V(dt)?dt:function(mt){return tu(dt)?rg(mt.slide,dt):zM(jg(dt),mt.index)})}function K(dt,mt,vt){U(function(Mt){Mt.style(dt,mt,vt)})}function rt(dt,mt){var vt=UM(dt,"img"),Mt=vt.length;Mt?vt.forEach(function(Ct){p(Ct,"load error",function(){--Mt||mt()})}):mt()}function gt(dt){return dt?x.length:M.length}function lt(){return M.length>s.perPage}return{mount:A,destroy:B,update:I,register:j,get:V,getIn:C,getAt:z,add:F,remove:Y,forEach:U,filter:J,style:K,getLength:gt,isEnough:lt}}function Nkt(e,n,s){var a=gi(e),h=a.on,d=a.bind,p=a.emit,v=n.Slides,x=n.Direction.resolve,S=n.Elements,M=S.root,A=S.track,O=S.list,B=v.getAt,I=v.style,j,V,C;function z(){F(),d(window,"resize load",ckt(Wn(p,rd))),h([Gr,_i],F),h(rd,Y)}function F(){j=s.direction===L1,ko(M,"maxWidth",Su(s.width)),ko(A,x("paddingLeft"),U(!1)),ko(A,x("paddingRight"),U(!0)),Y(!0)}function Y(yt){var Nt=qs(M);(yt||V.width!==Nt.width||V.height!==Nt.height)&&(ko(A,"height",J()),I(x("marginRight"),Su(s.gap)),I("width",rt()),I("height",gt(),!0),V=Nt,p(M1),C!==(C=Rt())&&(Fa(M,d4,C),p(ukt,C)))}function U(yt){var Nt=s.padding,kt=x(yt?"right":"left");return Nt&&Su(Nt[kt]||(ig(Nt)?0:Nt))||"0px"}function J(){var yt="";return j&&(yt=K(),Yf(yt,"height or heightRatio is missing."),yt="calc("+yt+" - "+U(!1)+" - "+U(!0)+")"),yt}function K(){return Su(s.height||qs(O).width*s.heightRatio)}function rt(){return s.autoWidth?null:Su(s.fixedWidth)||(j?"":lt())}function gt(){return Su(s.fixedHeight)||(j?s.autoHeight?null:lt():K())}function lt(){var yt=Su(s.gap);return"calc((100%"+(yt&&" + "+yt)+")/"+(s.perPage||1)+(yt&&" - "+yt)+")"}function dt(){return qs(O)[x("width")]}function mt(yt,Nt){var kt=B(yt||0);return kt?qs(kt.slide)[x("width")]+(Nt?0:Ct()):0}function vt(yt,Nt){var kt=B(yt);if(kt){var At=qs(kt.slide)[x("right")],It=qs(O)[x("left")];return as(At-It)+(Nt?0:Ct())}return 0}function Mt(yt){return vt(e.length-1)-vt(0)+mt(0,yt)}function Ct(){var yt=B(0);return yt&&parseFloat(ko(yt.slide,x("marginRight")))||0}function Ot(yt){return parseFloat(ko(A,x("padding"+(yt?"Right":"Left"))))||0}function Rt(){return e.is(Ug)||Mt(!0)>dt()}return{mount:z,resize:Y,listSize:dt,slideSize:mt,sliderSize:Mt,totalSize:vt,getPadding:Ot,isOverflow:Rt}}var Ekt=2;function Lkt(e,n,s){var a=gi(e),h=a.on,d=n.Elements,p=n.Slides,v=n.Direction.resolve,x=[],S;function M(){h(_i,A),h([Gr,rd],B),(S=V())&&(I(S),n.Layout.resize(!0))}function A(){O(),M()}function O(){lh(x),il(x),a.destroy()}function B(){var C=V();S!==C&&(S<C||!C)&&a.emit(_i)}function I(C){var z=p.get().slice(),F=z.length;if(F){for(;z.length<C;)sy(z,z);sy(z.slice(-C),z.slice(0,C)).forEach(function(Y,U){var J=U<C,K=j(Y.slide,U);J?VM(K,z[0].slide):Bg(d.list,K),sy(x,K),p.register(K,U-C+(J?0:F),Y.index)})}}function j(C,z){var F=C.cloneNode(!0);return ua(F,s.classes.clone),F.id=e.root.id+"-clone"+GM(z+1),F}function V(){var C=s.clones;if(!e.is(Nd))C=0;else if(Fg(C)){var z=s[v("fixedWidth")]&&n.Layout.slideSize(0),F=z&&lg(qs(d.track)[v("width")]/z);C=F||s[v("autoWidth")]&&e.length||s.perPage*Ekt}return C}return{mount:M,destroy:O}}function _kt(e,n,s){var a=gi(e),h=a.on,d=a.emit,p=e.state.set,v=n.Layout,x=v.slideSize,S=v.getPadding,M=v.totalSize,A=v.listSize,O=v.sliderSize,B=n.Direction,I=B.resolve,j=B.orient,V=n.Elements,C=V.list,z=V.track,F;function Y(){F=n.Transition,h([pu,M1,Gr,_i],U)}function U(){n.Controller.isBusy()||(n.Scroll.cancel(),K(e.index),n.Slides.update())}function J(kt,At,It,$t){kt!==At&&yt(kt>It)&&(dt(),rt(lt(Mt(),kt>It),!0)),p(Cd),d(rl,At,It,kt),F.start(At,function(){p(id),d(Od,At,It,kt),$t&&$t()})}function K(kt){rt(vt(kt,!0))}function rt(kt,At){if(!e.is(Ug)){var It=At?kt:gt(kt);ko(C,"transform","translate"+I("X")+"("+It+"px)"),kt!==It&&d(t4)}}function gt(kt){if(e.is(Nd)){var At=mt(kt),It=At>n.Controller.getEnd(),$t=At<0;($t||It)&&(kt=lt(kt,It))}return kt}function lt(kt,At){var It=kt-Rt(At),$t=O();return kt-=j($t*(lg(as(It)/$t)||1))*(At?1:-1),kt}function dt(){rt(Mt(),!0),F.cancel()}function mt(kt){for(var At=n.Slides.get(),It=0,$t=1/0,ee=0;ee<At.length;ee++){var ne=At[ee].index,Ft=as(vt(ne,!0)-kt);if(Ft<=$t)$t=Ft,It=ne;else break}return It}function vt(kt,At){var It=j(M(kt-1)-Ot(kt));return At?Ct(It):It}function Mt(){var kt=I("left");return qs(C)[kt]-qs(z)[kt]+j(S(!1))}function Ct(kt){return s.trimSpace&&e.is(sd)&&(kt=$h(kt,0,j(O(!0)-A()))),kt}function Ot(kt){var At=s.focus;return At==="center"?(A()-x(kt,!0))/2:+At*x(kt)||0}function Rt(kt){return vt(kt?n.Controller.getEnd():0,!!s.trimSpace)}function yt(kt){var At=j(lt(Mt(),kt));return kt?At>=0:At<=C[I("scrollWidth")]-qs(z)[I("width")]}function Nt(kt,At){At=Fg(At)?Mt():At;var It=kt!==!0&&j(At)<j(Rt(!1)),$t=kt!==!1&&j(At)>j(Rt(!0));return It||$t}return{mount:Y,move:J,jump:K,translate:rt,shift:lt,cancel:dt,toIndex:mt,toPosition:vt,getPosition:Mt,getLimit:Rt,exceededLimit:Nt,reposition:U}}function Dkt(e,n,s){var a=gi(e),h=a.on,d=a.emit,p=n.Move,v=p.getPosition,x=p.getLimit,S=p.toPosition,M=n.Slides,A=M.isEnough,O=M.getLength,B=s.omitEnd,I=e.is(Nd),j=e.is(sd),V=Wn(Mt,!1),C=Wn(Mt,!0),z=s.start||0,F,Y=z,U,J,K;function rt(){gt(),h([Gr,_i,Y0],gt),h(M1,lt)}function gt(){U=O(!0),J=s.perMove,K=s.perPage,F=yt();var Ft=$h(z,0,B?F:U-1);Ft!==z&&(z=Ft,p.reposition())}function lt(){F!==yt()&&d(Y0)}function dt(Ft,he,be){if(!ne()){var te=vt(Ft),le=Rt(te);le>-1&&(he||le!==z)&&(It(le),p.move(te,le,Y,be))}}function mt(Ft,he,be,te){n.Scroll.scroll(Ft,he,be,function(){var le=Rt(p.toIndex(v()));It(B?eu(le,F):le),te&&te()})}function vt(Ft){var he=z;if(tu(Ft)){var be=Ft.match(/([+\-<>])(\d+)?/)||[],te=be[1],le=be[2];te==="+"||te==="-"?he=Ct(z+ +(""+te+(+le||1)),z):te===">"?he=le?Nt(+le):V(!0):te==="<"&&(he=C(!0))}else he=I?Ft:$h(Ft,0,F);return he}function Mt(Ft,he){var be=J||(ee()?1:K),te=Ct(z+be*(Ft?-1:1),z,!(J||ee()));return te===-1&&j&&!BV(v(),x(!Ft),1)?Ft?0:F:he?te:Rt(te)}function Ct(Ft,he,be){if(A()||ee()){var te=Ot(Ft);te!==Ft&&(he=Ft,Ft=te,be=!1),Ft<0||Ft>F?!J&&(oy(0,Ft,he,!0)||oy(F,he,Ft,!0))?Ft=Nt(kt(Ft)):I?Ft=be?Ft<0?-(U%K||K):U:Ft:s.rewind?Ft=Ft<0?F:0:Ft=-1:be&&Ft!==he&&(Ft=Nt(kt(he)+(Ft<he?-1:1)))}else Ft=-1;return Ft}function Ot(Ft){if(j&&s.trimSpace==="move"&&Ft!==z)for(var he=v();he===S(Ft,!0)&&oy(Ft,0,e.length-1,!s.rewind);)Ft<z?--Ft:++Ft;return Ft}function Rt(Ft){return I?(Ft+U)%U||0:Ft}function yt(){for(var Ft=U-(ee()||I&&J?1:K);B&&Ft-- >0;)if(S(U-1,!0)!==S(Ft,!0)){Ft++;break}return $h(Ft,0,U-1)}function Nt(Ft){return $h(ee()?Ft:K*Ft,0,F)}function kt(Ft){return ee()?eu(Ft,F):X0((Ft>=F?U-1:Ft)/K)}function At(Ft){var he=p.toIndex(Ft);return j?$h(he,0,F):he}function It(Ft){Ft!==z&&(Y=z,z=Ft)}function $t(Ft){return Ft?Y:z}function ee(){return!Fg(s.focus)||s.isNavigation}function ne(){return e.state.is([Cd,Ig])&&!!s.waitForTransition}return{mount:rt,go:dt,scroll:mt,getNext:V,getPrev:C,getAdjacent:Mt,getEnd:yt,setIndex:It,getIndex:$t,toIndex:Nt,toPage:kt,toDest:At,hasFocus:ee,isBusy:ne}}var Rkt="http://www.w3.org/2000/svg",Ikt="m15.5 0.932-4.3 4.38 14.5 14.6-14.5 14.5 4.3 4.4 14.6-14.6 4.4-4.3-4.4-4.4-14.6-14.6z",Im=40;function Fkt(e,n,s){var a=gi(e),h=a.on,d=a.bind,p=a.emit,v=s.classes,x=s.i18n,S=n.Elements,M=n.Controller,A=S.arrows,O=S.track,B=A,I=S.prev,j=S.next,V,C,z={};function F(){U(),h(Gr,Y)}function Y(){J(),F()}function U(){var mt=s.arrows;mt&&!(I&&j)&&gt(),I&&j&&(og(z,{prev:I,next:j}),ag(B,mt?"":"none"),ua(B,C=eA+"--"+s.direction),mt&&(K(),dt(),We([I,j],Vg,O.id),p(XV,I,j)))}function J(){a.destroy(),ja(B,C),V?(lh(A?[I,j]:B),I=j=null):ha([I,j],tA)}function K(){h([pu,Od,_i,mh,Y0],dt),d(j,"click",Wn(rt,">")),d(I,"click",Wn(rt,"<"))}function rt(mt){M.go(mt,!0)}function gt(){B=A||bc("div",v.arrows),I=lt(!0),j=lt(!1),V=!0,Bg(B,[I,j]),!A&&VM(B,O)}function lt(mt){var vt='<button class="'+v.arrow+" "+(mt?v.prev:v.next)+'" type="button"><svg xmlns="'+Rkt+'" viewBox="0 0 '+Im+" "+Im+'" width="'+Im+'" height="'+Im+'" focusable="false"><path d="'+(s.arrowPath||Ikt)+'" />';return FV(vt)}function dt(){if(I&&j){var mt=e.index,vt=M.getPrev(),Mt=M.getNext(),Ct=vt>-1&&mt<vt?x.last:x.prev,Ot=Mt>-1&&mt>Mt?x.first:x.next;I.disabled=vt<0,j.disabled=Mt<0,We(I,to,Ct),We(j,to,Ot),p(YV,I,j,vt,Mt)}}return{arrows:z,mount:F,destroy:J,update:dt}}var jkt=KM+"-interval";function Bkt(e,n,s){var a=gi(e),h=a.on,d=a.bind,p=a.emit,v=C1(s.interval,e.go.bind(e,">"),K),x=v.isPaused,S=n.Elements,M=n.Elements,A=M.root,O=M.toggle,B=s.autoplay,I,j,V=B==="pause";function C(){B&&(z(),O&&We(O,Vg,S.track.id),V||F(),J())}function z(){s.pauseOnHover&&d(A,"mouseenter mouseleave",function(gt){I=gt.type==="mouseenter",U()}),s.pauseOnFocus&&d(A,"focusin focusout",function(gt){j=gt.type==="focusin",U()}),O&&d(O,"click",function(){V?F():Y(!0)}),h([rl,A1,_i],v.rewind),h(rl,rt)}function F(){x()&&n.Slides.isEnough()&&(v.start(!s.resetProgress),j=I=V=!1,J(),p(YM))}function Y(gt){gt===void 0&&(gt=!0),V=!!gt,J(),x()||(v.pause(),p(qM))}function U(){V||(I||j?Y(!1):F())}function J(){O&&(Fa(O,uh,!V),We(O,to,s.i18n[V?"play":"pause"]))}function K(gt){var lt=S.bar;lt&&ko(lt,"width",gt*100+"%"),p(JV,gt)}function rt(gt){var lt=n.Slides.getAt(gt);v.set(lt&&+Ao(lt.slide,jkt)||s.interval)}return{mount:C,destroy:v.cancel,play:F,pause:Y,isPaused:x}}function $kt(e,n,s){var a=gi(e),h=a.on;function d(){s.cover&&(h(ZM,Wn(v,!0)),h([pu,Gr,_i],Wn(p,!0)))}function p(x){n.Slides.forEach(function(S){var M=$g(S.container||S.slide,"img");M&&M.src&&v(x,M,S)})}function v(x,S,M){M.style("background",x?'center/cover no-repeat url("'+S.src+'")':"",!0),ag(S,x?"none":"")}return{mount:d,destroy:Wn(p,!1)}}var zkt=10,Vkt=600,Ukt=.6,Kkt=1.5,Gkt=800;function Wkt(e,n,s){var a=gi(e),h=a.on,d=a.emit,p=e.state.set,v=n.Move,x=v.getPosition,S=v.getLimit,M=v.exceededLimit,A=v.translate,O=e.is(sd),B,I,j=1;function V(){h(rl,Y),h([Gr,_i],U)}function C(K,rt,gt,lt,dt){var mt=x();if(Y(),gt&&(!O||!M())){var vt=n.Layout.sliderSize(),Mt=NP(K)*vt*X0(as(K)/vt)||0;K=v.toPosition(n.Controller.toDest(K%vt))+Mt}var Ct=BV(mt,K,1);j=1,rt=Ct?0:rt||H0(as(K-mt)/Kkt,Gkt),I=lt,B=C1(rt,z,Wn(F,mt,K,dt),1),p(Ig),d(A1),B.start()}function z(){p(id),I&&I(),d(mh)}function F(K,rt,gt,lt){var dt=x(),mt=K+(rt-K)*J(lt),vt=(mt-dt)*j;A(dt+vt),O&&!gt&&M()&&(j*=Ukt,as(vt)<zkt&&C(S(M(!0)),Vkt,!1,I,!0))}function Y(){B&&B.cancel()}function U(){B&&!B.isPaused()&&(Y(),z())}function J(K){var rt=s.easingFunc;return rt?rt(K):1-Math.pow(1-K,4)}return{mount:V,destroy:Y,scroll:C,cancel:U}}var zh={passive:!1,capture:!0};function Hkt(e,n,s){var a=gi(e),h=a.on,d=a.emit,p=a.bind,v=a.unbind,x=e.state,S=n.Move,M=n.Scroll,A=n.Controller,O=n.Elements.track,B=n.Media.reduce,I=n.Direction,j=I.resolve,V=I.orient,C=S.getPosition,z=S.exceededLimit,F,Y,U,J,K,rt=!1,gt,lt,dt;function mt(){p(O,Mb,CP,zh),p(O,Ab,CP,zh),p(O,f4,Mt,zh),p(O,"click",Rt,{capture:!0}),p(O,"dragstart",Na),h([pu,Gr],vt)}function vt(){var Yt=s.drag;_t(!Yt),J=Yt==="free"}function Mt(Yt){if(gt=!1,!lt){var ue=le(Yt);te(Yt.target)&&(ue||!Yt.button)&&(A.isBusy()?Na(Yt,!0):(dt=ue?O:window,K=x.is([Cd,Ig]),U=null,p(dt,Mb,Ct,zh),p(dt,Ab,Ot,zh),S.cancel(),M.cancel(),yt(Yt)))}}function Ct(Yt){if(x.is(ry)||(x.set(ry),d(GV)),Yt.cancelable)if(K){S.translate(F+be(ee(Yt)));var ue=ne(Yt)>Q_,Ae=rt!==(rt=z());(ue||Ae)&&yt(Yt),gt=!0,d(WV),Na(Yt)}else At(Yt)&&(K=kt(Yt),Na(Yt))}function Ot(Yt){x.is(ry)&&(x.set(id),d(HV)),K&&(Nt(Yt),Na(Yt)),v(dt,Mb,Ct),v(dt,Ab,Ot),K=!1}function Rt(Yt){!lt&&gt&&Na(Yt,!0)}function yt(Yt){U=Y,Y=Yt,F=C()}function Nt(Yt){var ue=It(Yt),Ae=$t(ue),_e=s.rewind&&s.rewindByDrag;B(!1),J?A.scroll(Ae,0,s.snap):e.is(Ug)?A.go(V(NP(ue))<0?_e?"<":"-":_e?">":"+"):e.is(sd)&&rt&&_e?A.go(z(!0)?">":"<"):A.go(A.toDest(Ae),!0),B(!0)}function kt(Yt){var ue=s.dragMinThreshold,Ae=ig(ue),_e=Ae&&ue.mouse||0,en=(Ae?ue.touch:+ue)||10;return as(ee(Yt))>(le(Yt)?en:_e)}function At(Yt){return as(ee(Yt))>as(ee(Yt,!0))}function It(Yt){if(e.is(Nd)||!rt){var ue=ne(Yt);if(ue&&ue<Q_)return ee(Yt)/ue}return 0}function $t(Yt){return C()+NP(Yt)*eu(as(Yt)*(s.flickPower||600),J?1/0:n.Layout.listSize()*(s.flickMaxPages||1))}function ee(Yt,ue){return he(Yt,ue)-he(Ft(Yt),ue)}function ne(Yt){return OP(Yt)-OP(Ft(Yt))}function Ft(Yt){return Y===Yt&&U||Y}function he(Yt,ue){return(le(Yt)?Yt.changedTouches[0]:Yt)["page"+j(ue?"Y":"X")]}function be(Yt){return Yt/(rt&&e.is(sd)?Mkt:1)}function te(Yt){var ue=s.noDrag;return!rg(Yt,"."+l4+", ."+D1)&&(!ue||!rg(Yt,ue))}function le(Yt){return typeof TouchEvent<"u"&&Yt instanceof TouchEvent}function me(){return K}function _t(Yt){lt=Yt}return{mount:mt,disable:_t,isDragging:me}}var Xkt={Spacebar:" ",Right:E1,Left:N1,Up:e4,Down:n4};function nA(e){return e=tu(e)?e:e.key,Xkt[e]||e}var tD="keydown";function Ykt(e,n,s){var a=gi(e),h=a.on,d=a.bind,p=a.unbind,v=e.root,x=n.Direction.resolve,S,M;function A(){O(),h(Gr,B),h(Gr,O),h(rl,j)}function O(){var C=s.keyboard;C&&(S=C==="global"?window:v,d(S,tD,V))}function B(){p(S,tD)}function I(C){M=C}function j(){var C=M;M=!0,LV(function(){M=C})}function V(C){if(!M){var z=nA(C);z===x(N1)?e.go("<"):z===x(E1)&&e.go(">")}}return{mount:A,destroy:B,disable:I}}var qf=KM+"-lazy",ay=qf+"-srcset",qkt="["+qf+"], ["+ay+"]";function Zkt(e,n,s){var a=gi(e),h=a.on,d=a.off,p=a.bind,v=a.emit,x=s.lazyLoad==="sequential",S=[Od,mh],M=[];function A(){s.lazyLoad&&(O(),h(_i,O))}function O(){il(M),B(),x?C():(d(S),h(S,I),I())}function B(){n.Slides.forEach(function(z){UM(z.slide,qkt).forEach(function(F){var Y=Ao(F,qf),U=Ao(F,ay);if(Y!==F.src||U!==F.srcset){var J=s.classes.spinner,K=F.parentElement,rt=$g(K,"."+J)||bc("span",J,K);M.push([F,z,rt]),F.src||ag(F,"none")}})})}function I(){M=M.filter(function(z){var F=s.perPage*((s.preloadPages||1)+1)-1;return z[1].isWithin(e.index,F)?j(z):!0}),M.length||d(S)}function j(z){var F=z[0];ua(z[1].slide,DP),p(F,"load error",Wn(V,z)),We(F,"src",Ao(F,qf)),We(F,"srcset",Ao(F,ay)),ha(F,qf),ha(F,ay)}function V(z,F){var Y=z[0],U=z[1];ja(U.slide,DP),F.type!=="error"&&(lh(z[2]),ag(Y,""),v(ZM,Y,U),v(rd)),x&&C()}function C(){M.length&&j(M.shift())}return{mount:A,destroy:Wn(il,M),check:I}}function Jkt(e,n,s){var a=gi(e),h=a.on,d=a.emit,p=a.bind,v=n.Slides,x=n.Elements,S=n.Controller,M=S.hasFocus,A=S.getIndex,O=S.go,B=n.Direction.resolve,I=x.pagination,j=[],V,C;function z(){F(),h([Gr,_i,Y0],z);var lt=s.pagination;I&&ag(I,lt?"":"none"),lt&&(h([rl,A1,mh],gt),Y(),gt(),d(qV,{list:V,items:j},rt(e.index)))}function F(){V&&(lh(I?fu(V.children):V),ja(V,C),il(j),V=null),a.destroy()}function Y(){var lt=e.length,dt=s.classes,mt=s.i18n,vt=s.perPage,Mt=M()?S.getEnd()+1:lg(lt/vt);V=I||bc("ul",dt.pagination,x.track.parentElement),ua(V,C=R1+"--"+K()),We(V,Xa,"tablist"),We(V,to,mt.select),We(V,QM,K()===L1?"vertical":"");for(var Ct=0;Ct<Mt;Ct++){var Ot=bc("li",null,V),Rt=bc("button",{class:dt.page,type:"button"},Ot),yt=v.getIn(Ct).map(function(kt){return kt.slide.id}),Nt=!M()&&vt>1?mt.pageX:mt.slideX;p(Rt,"click",Wn(U,Ct)),s.paginationKeyboard&&p(Rt,"keydown",Wn(J,Ct)),We(Ot,Xa,"presentation"),We(Rt,Xa,"tab"),We(Rt,Vg,yt.join(" ")),We(Rt,to,EP(Nt,Ct+1)),We(Rt,wc,-1),j.push({li:Ot,button:Rt,page:Ct})}}function U(lt){O(">"+lt,!0)}function J(lt,dt){var mt=j.length,vt=nA(dt),Mt=K(),Ct=-1;vt===B(E1,!1,Mt)?Ct=++lt%mt:vt===B(N1,!1,Mt)?Ct=(--lt+mt)%mt:vt==="Home"?Ct=0:vt==="End"&&(Ct=mt-1);var Ot=j[Ct];Ot&&(IV(Ot.button),O(">"+Ct),Na(dt,!0))}function K(){return s.paginationDirection||s.direction}function rt(lt){return j[S.toPage(lt)]}function gt(){var lt=rt(A(!0)),dt=rt(A());if(lt){var mt=lt.button;ja(mt,uh),ha(mt,X_),We(mt,wc,-1)}if(dt){var vt=dt.button;ua(vt,uh),We(vt,X_,!0),We(vt,wc,"")}d(ZV,{list:V,items:j},lt,dt)}return{items:j,mount:z,destroy:F,getAt:rt,update:gt}}var Qkt=[" ","Enter"];function tTt(e,n,s){var a=s.isNavigation,h=s.slideFocus,d=[];function p(){e.splides.forEach(function(I){I.isParent||(S(e,I.splide),S(I.splide,e))}),a&&M()}function v(){d.forEach(function(I){I.destroy()}),il(d)}function x(){v(),p()}function S(I,j){var V=gi(I);V.on(rl,function(C,z,F){j.go(j.is(Nd)?F:C)}),d.push(V)}function M(){var I=gi(e),j=I.on;j(WM,O),j(QV,B),j([pu,Gr],A),d.push(I),I.emit(XM,e.splides)}function A(){We(n.Elements.list,QM,s.direction===L1?"vertical":"")}function O(I){e.go(I.index)}function B(I,j){zM(Qkt,nA(j))&&(O(I),Na(j))}return{setup:Wn(n.Media.set,{slideFocus:Fg(h)?a:h},!0),mount:p,destroy:v,remount:x}}function eTt(e,n,s){var a=gi(e),h=a.bind,d=0;function p(){s.wheel&&h(n.Elements.track,"wheel",v,zh)}function v(S){if(S.cancelable){var M=S.deltaY,A=M<0,O=OP(S),B=s.wheelMinThreshold||0,I=s.wheelSleep||0;as(M)>B&&O-d>I&&(e.go(A?"<":">"),d=O),x(A)&&Na(S)}}function x(S){return!s.releaseWheel||e.state.is(Cd)||n.Controller.getAdjacent(S)!==-1}return{mount:p}}var nTt=90;function iTt(e,n,s){var a=gi(e),h=a.on,d=n.Elements.track,p=s.live&&!s.isNavigation,v=bc("span",wkt),x=C1(nTt,Wn(M,!1));function S(){p&&(O(!n.Autoplay.isPaused()),We(d,Z_,!0),v.textContent="â¦",h(YM,Wn(O,!0)),h(qM,Wn(O,!1)),h([Od,mh],Wn(M,!0)))}function M(B){We(d,q_,B),B?(Bg(d,v),x.start()):(lh(v),x.cancel())}function A(){ha(d,[Y_,Z_,q_]),lh(v)}function O(B){p&&We(d,Y_,B?"off":"polite")}return{mount:S,disable:O,destroy:A}}var rTt=Object.freeze({__proto__:null,Media:dkt,Direction:fkt,Elements:Akt,Slides:Okt,Layout:Nkt,Clones:Lkt,Move:_kt,Controller:Dkt,Arrows:Fkt,Autoplay:Bkt,Cover:$kt,Scroll:Wkt,Drag:Hkt,Keyboard:Ykt,LazyLoad:Zkt,Pagination:Jkt,Sync:tTt,Wheel:eTt,Live:iTt}),sTt={prev:"Previous slide",next:"Next slide",first:"Go to first slide",last:"Go to last slide",slideX:"Go to slide %s",pageX:"Go to page %s",play:"Start autoplay",pause:"Pause autoplay",carousel:"carousel",slide:"slide",select:"Select a slide to show",slideLabel:"%s of %s"},oTt={type:"slide",role:"region",speed:400,perPage:1,cloneStatus:!0,arrows:!0,pagination:!0,paginationKeyboard:!0,interval:5e3,pauseOnHover:!0,pauseOnFocus:!0,resetProgress:!0,easing:"cubic-bezier(0.25, 1, 0.5, 1)",drag:!0,direction:"ltr",trimSpace:!0,focusableNodes:"a, button, textarea, input, select, iframe",live:!0,classes:kkt,i18n:sTt,reducedMotion:{speed:0,rewindSpeed:0,autoplay:"pause"}};function aTt(e,n,s){var a=n.Slides;function h(){gi(e).on([pu,_i],d)}function d(){a.forEach(function(v){v.style("transform","translateX(-"+100*v.index+"%)")})}function p(v,x){a.style("transition","opacity "+s.speed+"ms "+s.easing),LV(x)}return{mount:h,start:p,cancel:CP}}function lTt(e,n,s){var a=n.Move,h=n.Controller,d=n.Scroll,p=n.Elements.list,v=Wn(ko,p,"transition"),x;function S(){gi(e).bind(p,"transitionend",function(B){B.target===p&&x&&(A(),x())})}function M(B,I){var j=a.toPosition(B,!0),V=a.getPosition(),C=O(B);as(j-V)>=1&&C>=1?s.useScroll?d.scroll(j,C,!1,I):(v("transform "+C+"ms "+s.easing),a.translate(j,!0),x=I):(a.jump(B),I())}function A(){v(""),d.cancel()}function O(B){var I=s.rewindSpeed;if(e.is(sd)&&I){var j=h.getIndex(!0),V=h.getEnd();if(j===0&&B>=V||j>=V&&B===0)return I}return s.speed}return{mount:S,start:M,cancel:A}}var uTt=function(){function e(s,a){this.event=gi(),this.Components={},this.state=hkt(ac),this.splides=[],this._o={},this._E={};var h=tu(s)?jV(document,s):s;Yf(h,h+" is invalid."),this.root=h,a=Il({label:Ao(h,to)||"",labelledby:Ao(h,JM)||""},oTt,e.defaults,a||{});try{Il(a,JSON.parse(Ao(h,KM)))}catch{Yf(!1,"Invalid JSON")}this._o=Object.create(Il({},a))}var n=e.prototype;return n.mount=function(a,h){var d=this,p=this.state,v=this.Components;Yf(p.is([ac,W0]),"Already mounted!"),p.set(ac),this._C=v,this._T=h||this._T||(this.is(Ug)?aTt:lTt),this._E=a||this._E;var x=og({},rTt,this._E,{Transition:this._T});return qu(x,function(S,M){var A=S(d,v,d._o);v[M]=A,A.setup&&A.setup()}),qu(v,function(S){S.mount&&S.mount()}),this.emit(pu),ua(this.root,Skt),p.set(id),this.emit(LP),this},n.sync=function(a){return this.splides.push({splide:a}),a.splides.push({splide:this,isParent:!0}),this.state.is(id)&&(this._C.Sync.remount(),a.Components.Sync.remount()),this},n.go=function(a){return this._C.Controller.go(a),this},n.on=function(a,h){return this.event.on(a,h),this},n.off=function(a){return this.event.off(a),this},n.emit=function(a){var h;return(h=this.event).emit.apply(h,[a].concat(fu(arguments,1))),this},n.add=function(a,h){return this._C.Slides.add(a,h),this},n.remove=function(a){return this._C.Slides.remove(a),this},n.is=function(a){return this._o.type===a},n.refresh=function(){return this.emit(_i),this},n.destroy=function(a){a===void 0&&(a=!0);var h=this.event,d=this.state;return d.is(ac)?gi(this).on(LP,this.destroy.bind(this,a)):(qu(this._C,function(p){p.destroy&&p.destroy(a)},!0),h.emit(HM),h.destroy(),a&&il(this.splides),d.set(W0)),this},skt(e,[{key:"options",get:function(){return this._o},set:function(a){this._C.Media.set(a,!0,!0)}},{key:"length",get:function(){return this._C.Slides.getLength(!0)}},{key:"index",get:function(){return this._C.Controller.getIndex()}}]),e}(),iA=uTt;iA.defaults={};iA.STATES=akt;var eD=[[pu,"onMounted"],[LP,"onReady"],[rl,"onMove"],[Od,"onMoved"],[WM,"onClick"],[zV,"onActive"],[VV,"onInactive"],[UV,"onVisible"],[KV,"onHidden"],[_i,"onRefresh"],[Gr,"onUpdated"],[rd,"onResize"],[M1,"onResized"],[GV,"onDrag"],[WV,"onDragging"],[HV,"onDragged"],[A1,"onScroll"],[mh,"onScrolled"],[HM,"onDestroy"],[XV,"onArrowsMounted"],[YV,"onArrowsUpdated"],[qV,"onPaginationMounted"],[ZV,"onPaginationUpdated"],[XM,"onNavigationMounted"],[YM,"onAutoplayPlay"],[JV,"onAutoplayPlaying"],[qM,"onAutoplayPause"],[ZM,"onLazyLoadLoaded"]];function rA(...e){return e.filter(Boolean).join(" ")}function q0(e){return e!==null&&typeof e=="object"}function RP(e,n){if(Array.isArray(e)&&Array.isArray(n))return e.length===n.length&&!e.some((s,a)=>!RP(s,n[a]));if(q0(e)&&q0(n)){const s=Object.keys(e),a=Object.keys(n);return s.length===a.length&&!s.some(h=>!Object.prototype.hasOwnProperty.call(n,h)||!RP(e[h],n[h]))}return e===n}function hTt(e,n){return e.length===n.length&&!e.some((s,a)=>s!==n[a])}function cTt(e,n){if(e){const s=Object.keys(e);for(let a=0;a<s.length;a++){const h=s[a];if(h!=="__proto__"&&n(e[h],h)===!1)break}}return e}function IP(e,n){const s=e;return cTt(n,(a,h)=>{Array.isArray(a)?s[h]=a.slice():q0(a)?s[h]=IP(q0(s[h])?s[h]:{},a):s[h]=a}),s}var dTt=({children:e,className:n,...s})=>wt.createElement("div",{className:rA("splide__track",n),...s},wt.createElement("ul",{className:"splide__list"},e)),fTt=class extends wt.Component{constructor(){super(...arguments),this.splideRef=wt.createRef(),this.slides=[]}componentDidMount(){const{options:e,extensions:n,transition:s}=this.props,{current:a}=this.splideRef;a&&(this.splide=new iA(a,e),this.bind(this.splide),this.splide.mount(n,s),this.options=IP({},e||{}),this.slides=this.getSlides())}componentWillUnmount(){this.splide&&(this.splide.destroy(),this.splide=void 0),this.options=void 0,this.slides.length=0}componentDidUpdate(){if(!this.splide)return;const{options:e}=this.props;e&&!RP(this.options,e)&&(this.splide.options=e,this.options=IP({},e));const n=this.getSlides();hTt(this.slides,n)||(this.splide.refresh(),this.slides=n)}sync(e){var n;(n=this.splide)==null||n.sync(e)}go(e){var n;(n=this.splide)==null||n.go(e)}getSlides(){var e;if(this.splide){const n=(e=this.splide.Components.Elements)==null?void 0:e.list.children;return n&&Array.prototype.slice.call(n)||[]}return[]}bind(e){eD.forEach(([n,s])=>{const a=this.props[s];typeof a=="function"&&e.on(n,(...h)=>{a(e,...h)})})}omit(e,n){return n.forEach(s=>{Object.prototype.hasOwnProperty.call(e,s)&&delete e[s]}),e}render(){const{className:e,tag:n="div",hasTrack:s=!0,children:a,...h}=this.props;return wt.createElement(n,{className:rA("splide",e),ref:this.splideRef,...this.omit(h,["options",...eD.map(d=>d[1])])},s?wt.createElement(dTt,null,a):a)}},p4=({children:e,className:n,...s})=>wt.createElement("li",{className:rA("splide__slide",n),...s},e);/*!
 * Splide.js
 * Version  : 4.1.3
 * License  : MIT
 * Copyright: 2022 Naotoshi Fujita
 *//*!
 * @splidejs/splide-extension-auto-scroll
 * Version  : 0.5.3
 * License  : MIT
 * Copyright: 2022 Naotoshi Fujita
 */function pTt(e){e.length=0}function sA(e,n,s){return Array.prototype.slice.call(e,n,s)}function I1(e){return e.bind.apply(e,[null].concat(sA(arguments,1)))}function nD(e){return requestAnimationFrame(e)}function oA(e,n){return typeof n===e}var g4=Array.isArray;I1(oA,"function");I1(oA,"string");I1(oA,"undefined");function m4(e){return g4(e)?e:[e]}function iD(e,n){m4(e).forEach(n)}var gTt=Object.keys;function mTt(e,n,s){if(e){var a=gTt(e);a=a;for(var h=0;h<a.length;h++){var d=a[h];if(d!=="__proto__"&&n(e[d],d)===!1)break}}return e}function yTt(e){return sA(arguments,1).forEach(function(n){mTt(n,function(s,a){e[a]=n[a]})}),e}var vTt=Math.min;function xTt(){var e=[];function n(p,v,x,S){h(p,v,function(M,A,O){var B="addEventListener"in M,I=B?M.removeEventListener.bind(M,A,x,S):M.removeListener.bind(M,x);B?M.addEventListener(A,x,S):M.addListener(x),e.push([M,A,O,x,I])})}function s(p,v,x){h(p,v,function(S,M,A){e=e.filter(function(O){return O[0]===S&&O[1]===M&&O[2]===A&&(!x||O[3]===x)?(O[4](),!1):!0})})}function a(p,v,x){var S,M=!0;return typeof CustomEvent=="function"?S=new CustomEvent(v,{bubbles:M,detail:x}):(S=document.createEvent("CustomEvent"),S.initCustomEvent(v,M,!1,x)),p.dispatchEvent(S),S}function h(p,v,x){iD(p,function(S){S&&iD(v,function(M){M.split(" ").forEach(function(A){var O=A.split(".");x(S,O[0],O[1])})})})}function d(){e.forEach(function(p){p[4]()}),pTt(e)}return{bind:n,unbind:s,dispatch:a,destroy:d}}var rD="move",sD="moved",bTt="updated",oD="drag",wTt="dragged",aD="scroll",lD="scrolled",STt="destroy";function PTt(e){var n=e?e.event.bus:document.createDocumentFragment(),s=xTt();function a(d,p){s.bind(n,m4(d).join(" "),function(v){p.apply(p,g4(v.detail)?v.detail:[])})}function h(d){s.dispatch(n,d,sA(arguments,1))}return e&&e.event.on(STt,s.destroy),yTt(s,{bus:n,on:a,off:I1(s.unbind,n),emit:h})}function y4(e,n,s,a){var h=Date.now,d,p=0,v,x=!0,S=0;function M(){if(!x){if(p=e?vTt((h()-d)/e,1):1,s&&s(p),p>=1&&(n(),d=h(),a&&++S>=a))return O();nD(M)}}function A(C){!C&&I(),d=h()-(C?p*e:0),x=!1,nD(M)}function O(){x=!0}function B(){d=h(),p=0,s&&s(p)}function I(){v&&cancelAnimationFrame(v),p=0,v=0,x=!0}function j(C){e=C}function V(){return x}return{start:A,rewind:B,pause:O,cancel:I,set:j,isPaused:V}}function kTt(e,n){var s;function a(){s||(s=y4(n,function(){e(),s=null},null,1),s.start())}return a}var TTt="is-active",MTt="slide",ATt="fade";function v4(e,n,s){return Array.prototype.slice.call(e,n,s)}function aA(e){return e.bind(null,...v4(arguments,1))}function F1(e,n){return typeof n===e}function FP(e){return!x4(e)&&F1("object",e)}const CTt=Array.isArray;aA(F1,"function");aA(F1,"string");const OTt=aA(F1,"undefined");function x4(e){return e===null}function NTt(e){return CTt(e)?e:[e]}function Z0(e,n){NTt(e).forEach(n)}function ETt(e,n,s){e&&Z0(n,a=>{a&&e.classList[s?"add":"remove"](a)})}const LTt=Object.keys;function b4(e,n,s){if(e){let a=LTt(e);a=a;for(let h=0;h<a.length;h++){const d=a[h];if(d!=="__proto__"&&n(e[d],d)===!1)break}}return e}function uD(e){return v4(arguments,1).forEach(n=>{b4(n,(s,a)=>{e[a]=n[a]})}),e}function _Tt(e,n){Z0(e,s=>{Z0(n,a=>{s&&s.removeAttribute(a)})})}function w4(e,n,s){FP(n)?b4(n,(a,h)=>{w4(e,h,a)}):Z0(e,a=>{x4(s)||s===""?_Tt(a,n):a.setAttribute(n,String(s))})}const{min:hD,max:cD,floor:DAt,ceil:RAt,abs:IAt}=Math;function DTt(e,n,s){const a=hD(n,s),h=cD(n,s);return hD(cD(a,e),h)}const RTt={speed:1,autoStart:!0,pauseOnHover:!0,pauseOnFocus:!0},ITt={startScroll:"Start auto scroll",pauseScroll:"Pause auto scroll"};function FTt(e,n,s){const{on:a,off:h,bind:d,unbind:p}=PTt(e),{translate:v,getPosition:x,toIndex:S,getLimit:M}=n.Move,{setIndex:A,getIndex:O}=n.Controller,{orient:B}=n.Direction,{toggle:I}=n.Elements,{Live:j}=n,{root:V}=e,C=kTt(n.Arrows.update,500);let z={},F,Y,U,J,K,rt;function gt(){const{autoScroll:$t}=s;z=uD({},RTt,FP($t)?$t:{})}function lt(){e.is(ATt)||!F&&s.autoScroll!==!1&&(F=y4(0,yt),mt(),Mt())}function dt(){F&&(F.cancel(),F=null,rt=void 0,h([rD,oD,aD,sD,lD]),p(V,"mouseenter mouseleave focusin focusout"),p(I,"click"))}function mt(){z.pauseOnHover&&d(V,"mouseenter mouseleave",$t=>{U=$t.type==="mouseenter",Rt()}),z.pauseOnFocus&&d(V,"focusin focusout",$t=>{J=$t.type==="focusin",Rt()}),z.useToggleButton&&d(I,"click",()=>{Y?Ct():Ot()}),a(bTt,vt),a([rD,oD,aD],()=>{K=!0,Ot(!1)}),a([sD,wTt,lD],()=>{K=!1,Rt()})}function vt(){const{autoScroll:$t}=s;$t!==!1?(z=uD({},z,FP($t)?$t:{}),lt()):dt(),F&&!OTt(rt)&&v(rt)}function Mt(){z.autoStart&&(document.readyState==="complete"?Ct():d(window,"load",Ct))}function Ct(){It()&&(F.start(!0),j.disable(!0),J=U=Y=!1,At())}function Ot($t=!0){Y||(Y=$t,At(),It()||(F.pause(),j.disable(!1)))}function Rt(){Y||(U||J||K?Ot(!1):Ct())}function yt(){const $t=x(),ee=Nt($t);$t!==ee?(v(ee),kt(rt=x())):(Ot(!1),z.rewind&&e.go(z.speed>0?0:n.Controller.getEnd())),C()}function Nt($t){const ee=z.speed||1;return $t+=B(ee),e.is(MTt)&&($t=DTt($t,M(!1),M(!0))),$t}function kt($t){const{length:ee}=e,ne=(S($t)+ee)%ee;ne!==O()&&(A(ne),n.Slides.update(),n.Pagination.update(),s.lazyLoad==="nearby"&&n.LazyLoad.check())}function At(){if(I){const $t=Y?"startScroll":"pauseScroll";ETt(I,TTt,!Y),w4(I,"aria-label",s.i18n[$t]||ITt[$t])}}function It(){return!F||F.isPaused()}return{setup:gt,mount:lt,destroy:dt,play:Ct,pause:Ot,isPaused:It}}function S4({children:e,options:n}){const[s,a]=at.useState(0);return at.useEffect(()=>{a(window.innerWidth);function h(){a(window.innerWidth)}return window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[]),ot.jsx("section",{className:"w-full pt-2 mt-4",children:ot.jsx(fTt,{extensions:{AutoScroll:FTt},"aria-labelledby":"My marquee",options:{type:(n==null?void 0:n.type)||"loop",arrows:(n==null?void 0:n.arrows)||!1,perPage:s>768?5:3,speed:(n==null?void 0:n.speed)||500,pagination:(n==null?void 0:n.pagination)||!1,pauseOnHover:(n==null?void 0:n.pauseOnHover)||!1,pauseOnFocus:(n==null?void 0:n.pauseOnFocus)||!1,gap:(n==null?void 0:n.gap)||10,...n},children:e})})}function P4({data:e}){return ot.jsx(S4,{options:{direction:"rtl",speed:100},children:e.map(n=>ot.jsx(p4,{children:ot.jsx(Mi,{className:"block w-full h-full border rounded-xl group transition-all duration-300",children:ot.jsxs("div",{className:"w-full  h-40 md:h-56 relative group overflow-hidden text-left",children:[ot.jsx("img",{src:`/storage/${n.image}`,className:"w-full h-full object-cover"}),ot.jsx("div",{className:"absolute -bottom-12 group-hover:bottom-0 left-0 w-full transition-all duration-300 p-0.5",children:ot.jsx("div",{className:"bg-white text-black px-2 py-1 font-medium",children:ot.jsx("p",{className:"line-clamp-1",dir:"ltr",children:n.title})})})]})})},n.id))})}const jTt=Object.freeze(Object.defineProperty({__proto__:null,default:P4},Symbol.toStringTag,{value:"Module"}));function k4({data:e}){return ot.jsx(S4,{children:e.map((n,s)=>ot.jsx(p4,{children:ot.jsxs(Mi,{href:`/berita/${n.slug}`,className:"w-full h-full border rounded-xl px-3 py-4 group transition-all duration-300 flex flex-col justify-between",children:[ot.jsxs("div",{children:[ot.jsx("h1",{className:"line-clamp-1 text-lg md:text-xl font-bold text-gray-400 group-hover:text-gray-700 transition-all duration-300 capitalize",children:n.title}),ot.jsx("p",{className:"mt-2 text-sm line-clamp-2 md:line-clamp-3 text-justify text-gray-300 group-hover:text-gray-600 transition-all duration-300",dangerouslySetInnerHTML:{__html:n.content}})]}),ot.jsx("div",{children:ot.jsx("span",{className:"text-gray-300 group-hover:text-gray-600 mt-4 block text-xs md:text-sm font-medium transition-all duration-300",children:nT(n.created_at)})})]})},s))})}const BTt=Object.freeze(Object.defineProperty({__proto__:null,default:k4},Symbol.toStringTag,{value:"Module"}));function $Tt(e){return Object.prototype.toString.call(e)==="[object Object]"}function dD(e){return $Tt(e)||Array.isArray(e)}function zTt(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function lA(e,n){const s=Object.keys(e),a=Object.keys(n);if(s.length!==a.length)return!1;const h=JSON.stringify(Object.keys(e.breakpoints||{})),d=JSON.stringify(Object.keys(n.breakpoints||{}));return h!==d?!1:s.every(p=>{const v=e[p],x=n[p];return typeof v=="function"?`${v}`==`${x}`:!dD(v)||!dD(x)?v===x:lA(v,x)})}function fD(e){return e.concat().sort((n,s)=>n.name>s.name?1:-1).map(n=>n.options)}function VTt(e,n){if(e.length!==n.length)return!1;const s=fD(e),a=fD(n);return s.every((h,d)=>{const p=a[d];return lA(h,p)})}function uA(e){return typeof e=="number"}function jP(e){return typeof e=="string"}function hA(e){return typeof e=="boolean"}function pD(e){return Object.prototype.toString.call(e)==="[object Object]"}function di(e){return Math.abs(e)}function cA(e){return Math.sign(e)}function Zf(e,n){return di(e-n)}function UTt(e,n){if(e===0||n===0||di(e)<=di(n))return 0;const s=Zf(di(e),di(n));return di(s/e)}function hg(e){return cg(e).map(Number)}function Lo(e){return e[Kg(e)]}function Kg(e){return Math.max(0,e.length-1)}function dA(e,n){return n===Kg(e)}function gD(e,n=0){return Array.from(Array(e),(s,a)=>n+a)}function cg(e){return Object.keys(e)}function T4(e,n){return[e,n].reduce((s,a)=>(cg(a).forEach(h=>{const d=s[h],p=a[h],v=pD(d)&&pD(p);s[h]=v?T4(d,p):p}),s),{})}function BP(e,n){return typeof n.MouseEvent<"u"&&e instanceof n.MouseEvent}function KTt(e,n){const s={start:a,center:h,end:d};function a(){return 0}function h(x){return d(x)/2}function d(x){return n-x}function p(x,S){return jP(e)?s[e](x):e(n,x,S)}return{measure:p}}function dg(){let e=[];function n(h,d,p,v={passive:!0}){let x;if("addEventListener"in h)h.addEventListener(d,p,v),x=()=>h.removeEventListener(d,p,v);else{const S=h;S.addListener(p),x=()=>S.removeListener(p)}return e.push(x),a}function s(){e=e.filter(h=>h())}const a={add:n,clear:s};return a}function GTt(e,n,s,a){const h=dg(),d=1e3/60;let p=null,v=0,x=0;function S(){h.add(e,"visibilitychange",()=>{e.hidden&&I()})}function M(){B(),h.clear()}function A(V){if(!x)return;p||(p=V);const C=V-p;for(p=V,v+=C;v>=d;)s(d),v-=d;const z=v/d;a(z),x&&n.requestAnimationFrame(A)}function O(){x||(x=n.requestAnimationFrame(A))}function B(){n.cancelAnimationFrame(x),p=null,v=0,x=0}function I(){p=null,v=0}return{init:S,destroy:M,start:O,stop:B,update:()=>s(d),render:a}}function WTt(e,n){const s=n==="rtl",a=e==="y",h=a?"y":"x",d=a?"x":"y",p=!a&&s?-1:1,v=M(),x=A();function S(I){const{height:j,width:V}=I;return a?j:V}function M(){return a?"top":s?"right":"left"}function A(){return a?"bottom":s?"left":"right"}function O(I){return I*p}return{scroll:h,cross:d,startEdge:v,endEdge:x,measureSize:S,direction:O}}function hh(e=0,n=0){const s=di(e-n);function a(S){return S<e}function h(S){return S>n}function d(S){return a(S)||h(S)}function p(S){return d(S)?a(S)?e:n:S}function v(S){return s?S-s*Math.ceil((S-n)/s):S}return{length:s,max:n,min:e,constrain:p,reachedAny:d,reachedMax:h,reachedMin:a,removeOffset:v}}function M4(e,n,s){const{constrain:a}=hh(0,e),h=e+1;let d=p(n);function p(O){return s?di((h+O)%h):a(O)}function v(){return d}function x(O){return d=p(O),A}function S(O){return M().set(v()+O)}function M(){return M4(e,v(),s)}const A={get:v,set:x,add:S,clone:M};return A}function HTt(e,n,s,a,h,d,p,v,x,S,M,A,O,B,I,j,V,C,z){const{cross:F,direction:Y}=e,U=["INPUT","SELECT","TEXTAREA"],J={passive:!1},K=dg(),rt=dg(),gt=hh(50,225).constrain(B.measure(20)),lt={mouse:300,touch:400},dt={mouse:500,touch:600},mt=I?43:25;let vt=!1,Mt=0,Ct=0,Ot=!1,Rt=!1,yt=!1,Nt=!1;function kt(_t){if(!z)return;function Yt(Ae){(hA(z)||z(_t,Ae))&&Ft(Ae)}const ue=n;K.add(ue,"dragstart",Ae=>Ae.preventDefault(),J).add(ue,"touchmove",()=>{},J).add(ue,"touchend",()=>{}).add(ue,"touchstart",Yt).add(ue,"mousedown",Yt).add(ue,"touchcancel",be).add(ue,"contextmenu",be).add(ue,"click",te,!0)}function At(){K.clear(),rt.clear()}function It(){const _t=Nt?s:n;rt.add(_t,"touchmove",he,J).add(_t,"touchend",be).add(_t,"mousemove",he,J).add(_t,"mouseup",be)}function $t(_t){const Yt=_t.nodeName||"";return U.includes(Yt)}function ee(){return(I?dt:lt)[Nt?"mouse":"touch"]}function ne(_t,Yt){const ue=A.add(cA(_t)*-1),Ae=M.byDistance(_t,!I).distance;return I||di(_t)<gt?Ae:V&&Yt?Ae*.5:M.byIndex(ue.get(),0).distance}function Ft(_t){const Yt=BP(_t,a);Nt=Yt,yt=I&&Yt&&!_t.buttons&&vt,vt=Zf(h.get(),p.get())>=2,!(Yt&&_t.button!==0)&&($t(_t.target)||(Ot=!0,d.pointerDown(_t),S.useFriction(0).useDuration(0),h.set(p),It(),Mt=d.readPoint(_t),Ct=d.readPoint(_t,F),O.emit("pointerDown")))}function he(_t){if(!BP(_t,a)&&_t.touches.length>=2)return be(_t);const ue=d.readPoint(_t),Ae=d.readPoint(_t,F),_e=Zf(ue,Mt),en=Zf(Ae,Ct);if(!Rt&&!Nt&&(!_t.cancelable||(Rt=_e>en,!Rt)))return be(_t);const qe=d.pointerMove(_t);_e>j&&(yt=!0),S.useFriction(.3).useDuration(.75),v.start(),h.add(Y(qe)),_t.preventDefault()}function be(_t){const ue=M.byDistance(0,!1).index!==A.get(),Ae=d.pointerUp(_t)*ee(),_e=ne(Y(Ae),ue),en=UTt(Ae,_e),qe=mt-10*en,$e=C+en/50;Rt=!1,Ot=!1,rt.clear(),S.useDuration(qe).useFriction($e),x.distance(_e,!I),Nt=!1,O.emit("pointerUp")}function te(_t){yt&&(_t.stopPropagation(),_t.preventDefault(),yt=!1)}function le(){return Ot}return{init:kt,destroy:At,pointerDown:le}}function XTt(e,n){let a,h;function d(A){return A.timeStamp}function p(A,O){const I=`client${(O||e.scroll)==="x"?"X":"Y"}`;return(BP(A,n)?A:A.touches[0])[I]}function v(A){return a=A,h=A,p(A)}function x(A){const O=p(A)-p(h),B=d(A)-d(a)>170;return h=A,B&&(a=A),O}function S(A){if(!a||!h)return 0;const O=p(h)-p(a),B=d(A)-d(a),I=d(A)-d(h)>170,j=O/B;return B&&!I&&di(j)>.1?j:0}return{pointerDown:v,pointerMove:x,pointerUp:S,readPoint:p}}function YTt(){function e(s){const{offsetTop:a,offsetLeft:h,offsetWidth:d,offsetHeight:p}=s;return{top:a,right:h+d,bottom:a+p,left:h,width:d,height:p}}return{measure:e}}function qTt(e){function n(a){return e*(a/100)}return{measure:n}}function ZTt(e,n,s,a,h,d,p){const v=[e].concat(a);let x,S,M=[],A=!1;function O(V){return h.measureSize(p.measure(V))}function B(V){if(!d)return;S=O(e),M=a.map(O);function C(z){for(const F of z){if(A)return;const Y=F.target===e,U=a.indexOf(F.target),J=Y?S:M[U],K=O(Y?e:a[U]);if(di(K-J)>=.5){V.reInit(),n.emit("resize");break}}}x=new ResizeObserver(z=>{(hA(d)||d(V,z))&&C(z)}),s.requestAnimationFrame(()=>{v.forEach(z=>x.observe(z))})}function I(){A=!0,x&&x.disconnect()}return{init:B,destroy:I}}function JTt(e,n,s,a,h,d){let p=0,v=0,x=h,S=d,M=e.get(),A=0;function O(J){const K=J/1e3,rt=x*K,gt=a.get()-e.get(),lt=!x;let dt=0;return lt?(p=0,s.set(a),e.set(a),dt=gt):(s.set(e),p+=gt/rt,p*=S,M+=p,e.add(p*K),dt=M-A),v=cA(dt),A=M,U}function B(){const J=a.get()-n.get();return di(J)<.001}function I(){return x}function j(){return v}function V(){return p}function C(){return F(h)}function z(){return Y(d)}function F(J){return x=J,U}function Y(J){return S=J,U}const U={direction:j,duration:I,velocity:V,seek:O,settled:B,useBaseFriction:z,useBaseDuration:C,useFriction:Y,useDuration:F};return U}function QTt(e,n,s,a,h){const d=h.measure(10),p=h.measure(50),v=hh(.1,.99);let x=!1;function S(){return!(x||!e.reachedAny(s.get())||!e.reachedAny(n.get()))}function M(B){if(!S())return;const I=e.reachedMin(n.get())?"min":"max",j=di(e[I]-n.get()),V=s.get()-n.get(),C=v.constrain(j/p);s.subtract(V*C),!B&&di(V)<d&&(s.set(e.constrain(s.get())),a.useDuration(25).useBaseFriction())}function A(B){x=!B}return{shouldConstrain:S,constrain:M,toggleActive:A}}function tMt(e,n,s,a,h){const d=hh(-n+e,0),p=A(),v=M(),x=O();function S(I,j){return Zf(I,j)<1}function M(){const I=p[0],j=Lo(p),V=p.lastIndexOf(I),C=p.indexOf(j)+1;return hh(V,C)}function A(){return s.map((I,j)=>{const{min:V,max:C}=d,z=d.constrain(I),F=!j,Y=dA(s,j);return F?C:Y||S(V,z)?V:S(C,z)?C:z}).map(I=>parseFloat(I.toFixed(3)))}function O(){if(n<=e+h)return[d.max];if(a==="keepSnaps")return p;const{min:I,max:j}=v;return p.slice(I,j)}return{snapsContained:x,scrollContainLimit:v}}function eMt(e,n,s){const a=n[0],h=s?a-e:Lo(n);return{limit:hh(h,a)}}function nMt(e,n,s,a){const d=n.min+.1,p=n.max+.1,{reachedMin:v,reachedMax:x}=hh(d,p);function S(O){return O===1?x(s.get()):O===-1?v(s.get()):!1}function M(O){if(!S(O))return;const B=e*(O*-1);a.forEach(I=>I.add(B))}return{loop:M}}function iMt(e){const{max:n,length:s}=e;function a(d){const p=d-n;return s?p/-s:0}return{get:a}}function rMt(e,n,s,a,h){const{startEdge:d,endEdge:p}=e,{groupSlides:v}=h,x=A().map(n.measure),S=O(),M=B();function A(){return v(a).map(j=>Lo(j)[p]-j[0][d]).map(di)}function O(){return a.map(j=>s[d]-j[d]).map(j=>-di(j))}function B(){return v(S).map(j=>j[0]).map((j,V)=>j+x[V])}return{snaps:S,snapsAligned:M}}function sMt(e,n,s,a,h,d){const{groupSlides:p}=h,{min:v,max:x}=a,S=M();function M(){const O=p(d),B=!e||n==="keepSnaps";return s.length===1?[d]:B?O:O.slice(v,x).map((I,j,V)=>{const C=!j,z=dA(V,j);if(C){const F=Lo(V[0])+1;return gD(F)}if(z){const F=Kg(d)-Lo(V)[0]+1;return gD(F,Lo(V)[0])}return I})}return{slideRegistry:S}}function oMt(e,n,s,a,h){const{reachedAny:d,removeOffset:p,constrain:v}=a;function x(I){return I.concat().sort((j,V)=>di(j)-di(V))[0]}function S(I){const j=e?p(I):v(I),V=n.map((z,F)=>({diff:M(z-j,0),index:F})).sort((z,F)=>di(z.diff)-di(F.diff)),{index:C}=V[0];return{index:C,distance:j}}function M(I,j){const V=[I,I+s,I-s];if(!e)return I;if(!j)return x(V);const C=V.filter(z=>cA(z)===j);return C.length?x(C):Lo(V)-s}function A(I,j){const V=n[I]-h.get(),C=M(V,j);return{index:I,distance:C}}function O(I,j){const V=h.get()+I,{index:C,distance:z}=S(V),F=!e&&d(V);if(!j||F)return{index:C,distance:I};const Y=n[C]-z,U=I+M(Y,0);return{index:C,distance:U}}return{byDistance:O,byIndex:A,shortcut:M}}function aMt(e,n,s,a,h,d,p){function v(A){const O=A.distance,B=A.index!==n.get();d.add(O),O&&(a.duration()?e.start():(e.update(),e.render(1),e.update())),B&&(s.set(n.get()),n.set(A.index),p.emit("select"))}function x(A,O){const B=h.byDistance(A,O);v(B)}function S(A,O){const B=n.clone().set(A),I=h.byIndex(B.get(),O);v(I)}return{distance:x,index:S}}function lMt(e,n,s,a,h,d,p){let v=0;function x(){d.add(document,"keydown",S,!1),n.forEach(M)}function S(O){O.code==="Tab"&&(v=new Date().getTime())}function M(O){const B=()=>{if(new Date().getTime()-v>10)return;e.scrollLeft=0;const V=n.indexOf(O),C=s.findIndex(z=>z.includes(V));uA(C)&&(h.useDuration(0),a.index(C,0),p.emit("slideFocus"))};d.add(O,"focus",B,{passive:!0,capture:!0})}return{init:x}}function Mf(e){let n=e;function s(){return n}function a(x){n=p(x)}function h(x){n+=p(x)}function d(x){n-=p(x)}function p(x){return uA(x)?x:x.get()}return{get:s,set:a,add:h,subtract:d}}function A4(e,n){const s=e.scroll==="x"?d:p,a=n.style;let h=!1;function d(A){return`translate3d(${A}px,0px,0px)`}function p(A){return`translate3d(0px,${A}px,0px)`}function v(A){h||(a.transform=s(e.direction(A)))}function x(A){h=!A}function S(){h||(a.transform="",n.getAttribute("style")||n.removeAttribute("style"))}return{clear:S,to:v,toggleActive:x}}function uMt(e,n,s,a,h,d,p,v,x){const M=hg(h),A=hg(h).reverse(),O=C().concat(z());function B(K,rt){return K.reduce((gt,lt)=>gt-h[lt],rt)}function I(K,rt){return K.reduce((gt,lt)=>B(gt,rt)>0?gt.concat([lt]):gt,[])}function j(K){return d.map((rt,gt)=>({start:rt-a[gt]+.5+K,end:rt+n-.5+K}))}function V(K,rt,gt){const lt=j(rt);return K.map(dt=>{const mt=gt?0:-s,vt=gt?s:0,Mt=gt?"end":"start",Ct=lt[dt][Mt];return{index:dt,loopPoint:Ct,slideLocation:Mf(-1),translate:A4(e,x[dt]),target:()=>v.get()>Ct?mt:vt}})}function C(){const K=p[0],rt=I(A,K);return V(rt,s,!1)}function z(){const K=n-p[0]-1,rt=I(M,K);return V(rt,-s,!0)}function F(){return O.every(({index:K})=>{const rt=M.filter(gt=>gt!==K);return B(rt,n)<=.1})}function Y(){O.forEach(K=>{const{target:rt,translate:gt,slideLocation:lt}=K,dt=rt();dt!==lt.get()&&(gt.to(dt),lt.set(dt))})}function U(){O.forEach(K=>K.translate.clear())}return{canLoop:F,clear:U,loop:Y,loopPoints:O}}function hMt(e,n,s){let a,h=!1;function d(x){if(!s)return;function S(M){for(const A of M)if(A.type==="childList"){x.reInit(),n.emit("slidesChanged");break}}a=new MutationObserver(M=>{h||(hA(s)||s(x,M))&&S(M)}),a.observe(e,{childList:!0})}function p(){a&&a.disconnect(),h=!0}return{init:d,destroy:p}}function cMt(e,n,s,a){const h={};let d=null,p=null,v,x=!1;function S(){v=new IntersectionObserver(I=>{x||(I.forEach(j=>{const V=n.indexOf(j.target);h[V]=j}),d=null,p=null,s.emit("slidesInView"))},{root:e.parentElement,threshold:a}),n.forEach(I=>v.observe(I))}function M(){v&&v.disconnect(),x=!0}function A(I){return cg(h).reduce((j,V)=>{const C=parseInt(V),{isIntersecting:z}=h[C];return(I&&z||!I&&!z)&&j.push(C),j},[])}function O(I=!0){if(I&&d)return d;if(!I&&p)return p;const j=A(I);return I&&(d=j),I||(p=j),j}return{init:S,destroy:M,get:O}}function dMt(e,n,s,a,h,d){const{measureSize:p,startEdge:v,endEdge:x}=e,S=s[0]&&h,M=I(),A=j(),O=s.map(p),B=V();function I(){if(!S)return 0;const z=s[0];return di(n[v]-z[v])}function j(){if(!S)return 0;const z=d.getComputedStyle(Lo(a));return parseFloat(z.getPropertyValue(`margin-${x}`))}function V(){return s.map((z,F,Y)=>{const U=!F,J=dA(Y,F);return U?O[F]+M:J?O[F]+A:Y[F+1][v]-z[v]}).map(di)}return{slideSizes:O,slideSizesWithGaps:B,startGap:M,endGap:A}}function fMt(e,n,s,a,h,d,p,v,x){const{startEdge:S,endEdge:M,direction:A}=e,O=uA(s);function B(C,z){return hg(C).filter(F=>F%z===0).map(F=>C.slice(F,F+z))}function I(C){return C.length?hg(C).reduce((z,F,Y)=>{const U=Lo(z)||0,J=U===0,K=F===Kg(C),rt=h[S]-d[U][S],gt=h[S]-d[F][M],lt=!a&&J?A(p):0,dt=!a&&K?A(v):0,mt=di(gt-dt-(rt+lt));return Y&&mt>n+x&&z.push(F),K&&z.push(C.length),z},[]).map((z,F,Y)=>{const U=Math.max(Y[F-1]||0);return C.slice(U,z)}):[]}function j(C){return O?B(C,s):I(C)}return{groupSlides:j}}function pMt(e,n,s,a,h,d,p){const{align:v,axis:x,direction:S,startIndex:M,loop:A,duration:O,dragFree:B,dragThreshold:I,inViewThreshold:j,slidesToScroll:V,skipSnaps:C,containScroll:z,watchResize:F,watchSlides:Y,watchDrag:U}=d,J=2,K=YTt(),rt=K.measure(n),gt=s.map(K.measure),lt=WTt(x,S),dt=lt.measureSize(rt),mt=qTt(dt),vt=KTt(v,dt),Mt=!A&&!!z,Ct=A||!!z,{slideSizes:Ot,slideSizesWithGaps:Rt,startGap:yt,endGap:Nt}=dMt(lt,rt,gt,s,Ct,h),kt=fMt(lt,dt,V,A,rt,gt,yt,Nt,J),{snaps:At,snapsAligned:It}=rMt(lt,vt,rt,gt,kt),$t=-Lo(At)+Lo(Rt),{snapsContained:ee,scrollContainLimit:ne}=tMt(dt,$t,It,z,J),Ft=Mt?ee:It,{limit:he}=eMt($t,Ft,A),be=M4(Kg(Ft),M,A),te=be.clone(),le=hg(s),me=({dragHandler:oi,scrollBody:Bn,scrollBounds:_n,options:{loop:mr}},Yr)=>{mr||_n.constrain(oi.pointerDown()),Bn.seek(Yr)},_t=({scrollBody:oi,translate:Bn,location:_n,offsetLocation:mr,scrollLooper:Yr,slideLooper:fs,dragHandler:yr,animation:xe,eventHandler:Rr,scrollBounds:Oe,options:{loop:He}},Xe)=>{const Oi=oi.settled(),yi=!Oe.shouldConstrain(),Ir=He?Oi:Oi&&yi;Ir&&!yr.pointerDown()&&(xe.stop(),Rr.emit("settle")),Ir||Rr.emit("scroll");const Hn=_n.get()*Xe+en.get()*(1-Xe);mr.set(Hn),He&&(Yr.loop(oi.direction()),fs.loop()),Bn.to(mr.get())},Yt=GTt(a,h,oi=>me(Dr,oi),oi=>_t(Dr,oi)),ue=.68,Ae=Ft[be.get()],_e=Mf(Ae),en=Mf(Ae),qe=Mf(Ae),$e=Mf(Ae),yn=JTt(_e,qe,en,$e,O,ue),mi=oMt(A,Ft,$t,he,$e),rr=aMt(Yt,be,te,yn,mi,$e,p),Ki=iMt(he),gr=dg(),uo=cMt(n,s,p,j),{slideRegistry:Ri}=sMt(Mt,z,Ft,ne,kt,le),si=lMt(e,s,Ri,rr,yn,gr,p),Dr={ownerDocument:a,ownerWindow:h,eventHandler:p,containerRect:rt,slideRects:gt,animation:Yt,axis:lt,dragHandler:HTt(lt,e,a,h,$e,XTt(lt,h),_e,Yt,rr,yn,mi,be,p,mt,B,I,C,ue,U),eventStore:gr,percentOfView:mt,index:be,indexPrevious:te,limit:he,location:_e,offsetLocation:qe,previousLocation:en,options:d,resizeHandler:ZTt(n,p,h,s,lt,F,K),scrollBody:yn,scrollBounds:QTt(he,qe,$e,yn,mt),scrollLooper:nMt($t,he,qe,[_e,qe,en,$e]),scrollProgress:Ki,scrollSnapList:Ft.map(Ki.get),scrollSnaps:Ft,scrollTarget:mi,scrollTo:rr,slideLooper:uMt(lt,dt,$t,Ot,Rt,At,Ft,qe,s),slideFocus:si,slidesHandler:hMt(n,p,Y),slidesInView:uo,slideIndexes:le,slideRegistry:Ri,slidesToScroll:kt,target:$e,translate:A4(lt,n)};return Dr}function gMt(){let e={},n;function s(S){n=S}function a(S){return e[S]||[]}function h(S){return a(S).forEach(M=>M(n,S)),x}function d(S,M){return e[S]=a(S).concat([M]),x}function p(S,M){return e[S]=a(S).filter(A=>A!==M),x}function v(){e={}}const x={init:s,emit:h,off:p,on:d,clear:v};return x}const mMt={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0};function yMt(e){function n(d,p){return T4(d,p||{})}function s(d){const p=d.breakpoints||{},v=cg(p).filter(x=>e.matchMedia(x).matches).map(x=>p[x]).reduce((x,S)=>n(x,S),{});return n(d,v)}function a(d){return d.map(p=>cg(p.breakpoints||{})).reduce((p,v)=>p.concat(v),[]).map(e.matchMedia)}return{mergeOptions:n,optionsAtMedia:s,optionsMediaQueries:a}}function vMt(e){let n=[];function s(d,p){return n=p.filter(({options:v})=>e.optionsAtMedia(v).active!==!1),n.forEach(v=>v.init(d,e)),p.reduce((v,x)=>Object.assign(v,{[x.name]:x}),{})}function a(){n=n.filter(d=>d.destroy())}return{init:s,destroy:a}}function J0(e,n,s){const a=e.ownerDocument,h=a.defaultView,d=yMt(h),p=vMt(d),v=dg(),x=gMt(),{mergeOptions:S,optionsAtMedia:M,optionsMediaQueries:A}=d,{on:O,off:B,emit:I}=x,j=dt;let V=!1,C,z=S(mMt,J0.globalOptions),F=S(z),Y=[],U,J,K;function rt(){const{container:me,slides:_t}=F;J=(jP(me)?e.querySelector(me):me)||e.children[0];const ue=jP(_t)?J.querySelectorAll(_t):_t;K=[].slice.call(ue||J.children)}function gt(me){const _t=pMt(e,J,K,a,h,me,x);if(me.loop&&!_t.slideLooper.canLoop()){const Yt=Object.assign({},me,{loop:!1});return gt(Yt)}return _t}function lt(me,_t){V||(z=S(z,me),F=M(z),Y=_t||Y,rt(),C=gt(F),A([z,...Y.map(({options:Yt})=>Yt)]).forEach(Yt=>v.add(Yt,"change",dt)),F.active&&(C.translate.to(C.location.get()),C.animation.init(),C.slidesInView.init(),C.slideFocus.init(),C.eventHandler.init(le),C.resizeHandler.init(le),C.slidesHandler.init(le),C.options.loop&&C.slideLooper.loop(),J.offsetParent&&K.length&&C.dragHandler.init(le),U=p.init(le,Y)))}function dt(me,_t){const Yt=At();mt(),lt(S({startIndex:Yt},me),_t),x.emit("reInit")}function mt(){C.dragHandler.destroy(),C.eventStore.clear(),C.translate.clear(),C.slideLooper.clear(),C.resizeHandler.destroy(),C.slidesHandler.destroy(),C.slidesInView.destroy(),C.animation.destroy(),p.destroy(),v.clear()}function vt(){V||(V=!0,v.clear(),mt(),x.emit("destroy"),x.clear())}function Mt(me,_t,Yt){!F.active||V||(C.scrollBody.useBaseFriction().useDuration(_t===!0?0:F.duration),C.scrollTo.index(me,Yt||0))}function Ct(me){const _t=C.index.add(1).get();Mt(_t,me,-1)}function Ot(me){const _t=C.index.add(-1).get();Mt(_t,me,1)}function Rt(){return C.index.add(1).get()!==At()}function yt(){return C.index.add(-1).get()!==At()}function Nt(){return C.scrollSnapList}function kt(){return C.scrollProgress.get(C.location.get())}function At(){return C.index.get()}function It(){return C.indexPrevious.get()}function $t(){return C.slidesInView.get()}function ee(){return C.slidesInView.get(!1)}function ne(){return U}function Ft(){return C}function he(){return e}function be(){return J}function te(){return K}const le={canScrollNext:Rt,canScrollPrev:yt,containerNode:be,internalEngine:Ft,destroy:vt,off:B,on:O,emit:I,plugins:ne,previousScrollSnap:It,reInit:j,rootNode:he,scrollNext:Ct,scrollPrev:Ot,scrollProgress:kt,scrollSnapList:Nt,scrollTo:Mt,selectedScrollSnap:At,slideNodes:te,slidesInView:$t,slidesNotInView:ee};return lt(n,s),setTimeout(()=>x.emit("init"),0),le}J0.globalOptions=void 0;function fA(e={},n=[]){const s=at.useRef(e),a=at.useRef(n),[h,d]=at.useState(),[p,v]=at.useState(),x=at.useCallback(()=>{h&&h.reInit(s.current,a.current)},[h]);return at.useEffect(()=>{if(zTt()&&p){J0.globalOptions=fA.globalOptions;const S=J0(p,s.current,a.current);return d(S),()=>S.destroy()}else d(void 0)},[p,d]),at.useEffect(()=>{lA(s.current,e)||(s.current=e,x())},[e,x]),at.useEffect(()=>{VTt(a.current,n)||(a.current=n,x())},[n,x]),[v,h]}fA.globalOptions=void 0;const xMt=pj("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),pA=at.forwardRef(({className:e,variant:n,size:s,asChild:a=!1,...h},d)=>{const p=a?_c:"button";return ot.jsx(p,{className:Fn(xMt({variant:n,size:s,className:e})),ref:d,...h})});pA.displayName="Button";const C4=at.createContext(null);function j1(){const e=at.useContext(C4);if(!e)throw new Error("useCarousel must be used within a <Carousel />");return e}const O4=at.forwardRef(({orientation:e="horizontal",opts:n,setApi:s,plugins:a,className:h,children:d,...p},v)=>{const[x,S]=fA({...n,axis:e==="horizontal"?"x":"y"},a),[M,A]=at.useState(!1),[O,B]=at.useState(!1),I=at.useCallback(z=>{z&&(A(z.canScrollPrev()),B(z.canScrollNext()))},[]),j=at.useCallback(()=>{S==null||S.scrollPrev()},[S]),V=at.useCallback(()=>{S==null||S.scrollNext()},[S]),C=at.useCallback(z=>{z.key==="ArrowLeft"?(z.preventDefault(),j()):z.key==="ArrowRight"&&(z.preventDefault(),V())},[j,V]);return at.useEffect(()=>{!S||!s||s(S)},[S,s]),at.useEffect(()=>{if(S)return I(S),S.on("reInit",I),S.on("select",I),()=>{S==null||S.off("select",I)}},[S,I]),ot.jsx(C4.Provider,{value:{carouselRef:x,api:S,opts:n,orientation:e||((n==null?void 0:n.axis)==="y"?"vertical":"horizontal"),scrollPrev:j,scrollNext:V,canScrollPrev:M,canScrollNext:O},children:ot.jsx("div",{ref:v,onKeyDownCapture:C,className:Fn("relative",h),role:"region","aria-roledescription":"carousel",...p,children:d})})});O4.displayName="Carousel";const N4=at.forwardRef(({className:e,...n},s)=>{const{carouselRef:a,orientation:h}=j1();return ot.jsx("div",{ref:a,className:"overflow-hidden",children:ot.jsx("div",{ref:s,className:Fn("flex",h==="horizontal"?"-ml-4":"-mt-4 flex-col",e),...n})})});N4.displayName="CarouselContent";const E4=at.forwardRef(({className:e,...n},s)=>{const{orientation:a}=j1();return ot.jsx("div",{ref:s,role:"group","aria-roledescription":"slide",className:Fn("min-w-0 shrink-0 grow-0 basis-full",a==="horizontal"?"pl-4":"pt-4",e),...n})});E4.displayName="CarouselItem";const bMt=at.forwardRef(({className:e,variant:n="outline",size:s="icon",...a},h)=>{const{orientation:d,scrollPrev:p,canScrollPrev:v}=j1();return ot.jsxs(pA,{ref:h,variant:n,size:s,className:Fn("absolute  h-8 w-8 rounded-full",d==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!v,onClick:p,...a,children:[ot.jsx(GX,{className:"h-4 w-4"}),ot.jsx("span",{className:"sr-only",children:"Previous slide"})]})});bMt.displayName="CarouselPrevious";const wMt=at.forwardRef(({className:e,variant:n="outline",size:s="icon",...a},h)=>{const{orientation:d,scrollNext:p,canScrollNext:v}=j1();return ot.jsxs(pA,{ref:h,variant:n,size:s,className:Fn("absolute h-8 w-8 rounded-full",d==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!v,onClick:p,...a,children:[ot.jsx(WX,{className:"h-4 w-4"}),ot.jsx("span",{className:"sr-only",children:"Next slide"})]})});wMt.displayName="CarouselNext";const SMt={active:!0,breakpoints:{},delay:4e3,jump:!1,playOnInit:!0,stopOnFocusIn:!0,stopOnInteraction:!0,stopOnMouseEnter:!1,stopOnLastSnap:!1,rootNode:null};function gA(e={}){let n,s,a,h=!1,d=!0,p=!1,v=0;function x(Y,U){s=Y;const{mergeOptions:J,optionsAtMedia:K}=U,rt=J(SMt,gA.globalOptions),gt=J(rt,e);if(n=K(gt),s.scrollSnapList().length<=1)return;p=n.jump,a=!1;const{eventStore:lt,ownerDocument:dt}=s.internalEngine(),mt=s.rootNode(),vt=n.rootNode&&n.rootNode(mt)||mt,Mt=s.containerNode();s.on("pointerDown",A),n.stopOnInteraction||s.on("pointerUp",M),n.stopOnMouseEnter&&(lt.add(vt,"mouseenter",()=>{d=!1,A()}),n.stopOnInteraction||lt.add(vt,"mouseleave",()=>{d=!0,M()})),n.stopOnFocusIn&&(lt.add(Mt,"focusin",A),n.stopOnInteraction||lt.add(Mt,"focusout",M)),lt.add(dt,"visibilitychange",O),n.playOnInit&&!B()&&M()}function S(){s.off("pointerDown",A).off("pointerUp",M),A(),a=!0,h=!1}function M(){if(a||!d)return;h||s.emit("autoplay:play");const{ownerWindow:Y}=s.internalEngine();Y.clearInterval(v),v=Y.setInterval(z,n.delay),h=!0}function A(){if(a)return;h&&s.emit("autoplay:stop");const{ownerWindow:Y}=s.internalEngine();Y.clearInterval(v),v=0,h=!1}function O(){if(B())return d=h,A();d&&M()}function B(){const{ownerDocument:Y}=s.internalEngine();return Y.visibilityState==="hidden"}function I(Y){typeof Y<"u"&&(p=Y),d=!0,M()}function j(){h&&A()}function V(){h&&I()}function C(){return h}function z(){const{index:Y}=s.internalEngine(),U=Y.clone().add(1).get(),J=s.scrollSnapList().length-1;n.stopOnLastSnap&&U===J&&A(),s.canScrollNext()?s.scrollNext(p):s.scrollTo(0,p)}return{name:"autoplay",options:e,init:x,destroy:S,play:I,stop:j,reset:V,isPlaying:C}}gA.globalOptions=void 0;const PMt=({image:e})=>ot.jsx("img",{className:"w-full h-full object-cover",src:`/storage/${e.image}`});function L4({data:e}){return ot.jsx(O4,{plugins:[gA({delay:3e3})],children:ot.jsx(N4,{children:e.map((n,s)=>ot.jsx(E4,{children:ot.jsx("div",{className:"w-full md:w-11/12 h-[30rem] mx-auto",children:ot.jsx(PMt,{image:n})})},s))})})}const kMt=Object.freeze(Object.defineProperty({__proto__:null,default:L4},Symbol.toStringTag,{value:"Module"}));(function(){const e=typeof globalThis=="object"&&globalThis||typeof global=="object"&&global.global===global&&global||typeof self=="object"&&self.self===self&&self||{};e.requestAnimationFrame===void 0&&(e.setImmediate===void 0?e.requestAnimationFrame=W=>e.setTimeout(W,0):e.requestAnimationFrame=e.setImmediate);const Un=class Un{static Mk(i,t,r){let o=-1;return function(){const l=this,u=arguments;o!==-1&&Un.Ig(o),o=Un.vh(()=>{o=-1,r||i.apply(l,u)},t),r&&!o&&i.apply(l,u)}}static vh(i,t){return e.setTimeout(i,t)}static Ig(i){e.clearTimeout(i)}static en(i){return e.document.createElement(i)}static o(i){throw new Error(i)}static D(i,t){let r="The object is frozen, so its properties cannot be set: "+i.toString();t!==void 0&&(r+="  to value: "+t),Un.o(r)}static HI(i,t,r,o){}static i(i,t,r,o){}static qI(i,t,r){}static WI(i,t,r){}static xe(i,t,r,o){}static tt(i,t,r,o){let l=Un.SD(r);o!==void 0&&(l+="."+o),Un.o(l+" is not in the range "+t+": "+i)}static Oe(i){}static lr(i,t){}static ri(i){e.console&&e.console.log(i)}static wt(i){return typeof i=="object"&&i!==null}static JI(i,t,r){}static su(i,t,r){Array.isArray(i)?t>=i.length?i.push(r):i.splice(t,0,r):Un.o("Cannot insert an object into an HTMLCollection or NodeList: "+r+" at "+t)}static Qa(i,t){Array.isArray(i)?t>=i.length?i.pop():i.splice(t,1):Un.o("Cannot remove an object from an HTMLCollection or NodeList at "+t)}static rt(){const i=Un.Sk.pop();return i===void 0?[]:i}static it(i){i.length=0,Un.Sk.push(i)}static SD(i){return i===null?"*":typeof i=="string"?i:typeof i=="function"?i.name:""}static sn(i){return typeof i=="function"?i.className?i.className:i.name:Un.wt(i)&&i.constructor?Un.sn(i.constructor):typeof i}static Oh(i,t){return t==null||t===""?null:Un.wt(i)&&t in i||i[t]?i[t]:null}static toString(i){let t=i;return Un.wt(i)&&(i.text?t=i.text:i.name?t=i.name:i.key!==void 0?t=i.key:i.id!==void 0?t=i.id:i.constructor===Object&&(i.Text?t=i.Text:i.Name?t=i.Name:i.Key!==void 0?t=i.Key:i.Id!==void 0?t=i.Id:i.ID!==void 0&&(t=i.ID))),t===void 0?"undefined":t===null?"null":t.toString()}static fw(i,t){if(i.hasOwnProperty(t))return!0;let r=Object.getPrototypeOf(i);for(;r&&r!==Function;){if(r.hasOwnProperty(t))return!0;const o=r.ZI;if(o&&o[t])return!0;r=Object.getPrototypeOf(r)}return!1}static ND(i){const t=[];let r=0;for(r=0;r<256;r++)t[r]=r;let o=0,l=0;for(r=0;r<256;r++)o=(o+t[r]+119)%256,l=t[r],t[r]=t[o],t[o]=l;r=0,o=0;let u="";for(let c=0;c<i.length;c++)r=(r+1)%256,o=(o+t[r])%256,l=t[r],t[r]=t[o],t[o]=l,u+=String.fromCharCode(i.charCodeAt(c)^t[(t[r]+t[o])%256]);return u}static CD(i){const t="0123456789abcdef",r=[];for(let c=0;c<256;c++)r[t.charAt(c>>4)+t.charAt(c&15)]=String.fromCharCode(c);i.length%2&&(i="0"+i);const o=[];let l=0;for(let c=0;c<i.length;c+=2)o[l++]=r[i.substring(c,c+2)];const u=o.join("");return u===""?"0":u}static As(i){return Un.ND(Un.CD(i))}};T(Un,"rr",e.navigator!==void 0&&e.navigator.platform!==void 0&&e.navigator.platform.match(/(iPhone|iPod|iPad|Mac)/i)!==null),T(Un,"Sk",[]),T(Un,"$I",Object.freeze([])),T(Un,"color1","@COLOR1"),T(Un,"color2","@COLOR2"),T(Un,"uw","32ab5ff3b26f42dc0ed90f21402913b5");let n=Un;n.vfo="29e646fdb266";class s{constructor(){T(this,"Nk");this.Nk=[]}toString(){return this.Nk.join("")}add(i){i!==""&&this.Nk.push(i)}}class a{}const Ah=class Ah{constructor(){T(this,"w");T(this,"key");T(this,"value");this.w=[]}[Symbol.iterator](){return this.w.values()}get iterator(){return this}reset(){}next(){return!1}hasNext(){return!1}first(){return null}any(){return!1}all(){return!0}each(){return this}map(i){return this}filter(){return this}get count(){return 0}ml(){}toString(){return"EmptyIterator"}};T(Ah,"instance",new Ah);let h=Ah;class d{constructor(i){T(this,"key");T(this,"value");this.key=-1,this.value=i}[Symbol.iterator](){return[this.value].values()}get iterator(){return this}reset(){this.key=-1}next(){return this.key===-1?(this.key=0,!0):!1}hasNext(){return this.next()}first(){return this.key=0,this.value}any(i){return this.key=-1,i(this.value)}all(i){return this.key=-1,i(this.value)}each(i){return this.key=-1,i(this.value),this}map(i){return new d(i(this.value))}filter(i){return i(this.value)?new d(this.value):h.instance}get count(){return 1}ml(){this.value=null}toString(){return"SingletonIterator("+this.value+")"}}class p{constructor(i){T(this,"qt");T(this,"Ts");T(this,"Yt");T(this,"Dt");T(this,"key");T(this,"value");this.qt=i,this.Ts=null,i.hr=null,this.Yt=i.ct,this.Dt=-1}[Symbol.iterator](){return this.Ts===null?this.qt.r.values():this.qt.r.filter(this.Ts).values()}get iterator(){return this}get predicate(){return this.Ts}set predicate(i){this.Ts=i}reset(){const i=this.qt;i.hr=null,this.Yt=i.ct,this.Dt=-1}next(){const i=this.qt;if(i.ct!==this.Yt&&this.key<0)return!1;const t=i.r,r=t.length;let o=++this.Dt;const l=this.Ts;if(l!==null)for(;o<r;){const u=t[o];if(l(u))return this.Dt=o,this.key=o,this.value=u,!0;o++}else{if(o<r)return this.key=o,this.value=t[o],!0;this.ml()}return!1}hasNext(){return this.next()}first(){const i=this.qt;this.Yt=i.ct,this.Dt=0;const t=i.r,r=t.length,o=this.Ts;if(o!==null){let l=0;for(;l<r;){const u=t[l];if(o(u))return this.Dt=l,this.key=l,this.value=u,u;l++}return null}else if(r>0){const l=t[0];return this.key=0,this.value=l,l}else return null}any(i){const t=this.qt;t.hr=null;const r=t.ct;this.Dt=-1;const o=t.r,l=o.length,u=this.Ts;for(let c=0;c<l;c++){const f=o[c];if(!(u!==null&&!u(f))){if(i(f))return!0;t.ct!==r&&n.Oe(t)}}return!1}all(i){const t=this.qt;t.hr=null;const r=t.ct;this.Dt=-1;const o=t.r,l=o.length,u=this.Ts;for(let c=0;c<l;c++){const f=o[c];if(!(u!==null&&!u(f))){if(!i(f))return!1;t.ct!==r&&n.Oe(t)}}return!0}each(i){const t=this.qt;t.hr=null;const r=t.ct;this.Dt=-1;const o=t.r,l=o.length,u=this.Ts;for(let c=0;c<l;c++){const f=o[c];u!==null&&!u(f)||(i(f),t.ct!==r&&n.Oe(t))}return this}map(i){const t=this.qt;t.hr=null;const r=t.ct;this.Dt=-1;const o=[],l=t.r,u=l.length,c=this.Ts;for(let g=0;g<u;g++){const y=l[g];c!==null&&!c(y)||(o.push(i(y)),t.ct!==r&&n.Oe(t))}const f=new x;return f.r=o,f.Ie(),f.iterator}filter(i){const t=this.qt;t.hr=null;const r=t.ct;this.Dt=-1;const o=[],l=t.r,u=l.length,c=this.Ts;for(let g=0;g<u;g++){const y=l[g];c!==null&&!c(y)||(i(y)&&o.push(y),t.ct!==r&&n.Oe(t))}const f=new x;return f.r=o,f.Ie(),f.iterator}get count(){const i=this.Ts;if(i!==null){let t=0;const r=this.qt.r,o=r.length;for(let l=0;l<o;l++)i(r[l])&&t++;return t}else return this.qt.r.length}ml(){this.key=-1,this.value=null,this.Yt=-1,this.Ts=null,this.qt.hr=this}toString(){return"ListIterator@"+this.Dt+"/"+this.qt.count}}class v{constructor(i){T(this,"qt");T(this,"Yt");T(this,"Dt");T(this,"key");T(this,"value");this.qt=i,i.ar=null,this.Yt=i.ct,this.Dt=i.r.length}[Symbol.iterator](){return this.qt.r.reverse().values()}get iterator(){return this}reset(){const i=this.qt;i.ar=null,this.Yt=i.ct,this.Dt=i.r.length}next(){const i=this.qt;if(i.ct!==this.Yt&&this.key<0)return!1;const t=--this.Dt;return t>=0?(this.key=t,this.value=i.r[t],!0):(this.ml(),!1)}hasNext(){return this.next()}first(){const i=this.qt;this.Yt=i.ct;const t=i.r,r=t.length-1;if(this.Dt=r,r>=0){const o=t[r];return this.key=r,this.value=o,o}else return null}any(i){const t=this.qt;t.ar=null;const r=t.ct,o=t.r,l=o.length;this.Dt=l;for(let u=l-1;u>=0;u--){const c=o[u];if(i(c))return!0;t.ct!==r&&n.Oe(t)}return!1}all(i){const t=this.qt;t.ar=null;const r=t.ct,o=t.r,l=o.length;this.Dt=l;for(let u=l-1;u>=0;u--){const c=o[u];if(!i(c))return!1;t.ct!==r&&n.Oe(t)}return!0}each(i){const t=this.qt;t.ar=null;const r=t.ct,o=t.r,l=o.length;this.Dt=l;for(let u=l-1;u>=0;u--){const c=o[u];i(c),t.ct!==r&&n.Oe(t)}return this}map(i){const t=this.qt;t.ar=null;const r=t.ct,o=[],l=t.r,u=l.length;this.Dt=u;for(let f=u-1;f>=0;f--){const g=l[f];o.push(i(g)),t.ct!==r&&n.Oe(t)}const c=new x;return c.r=o,c.Ie(),c.iterator}filter(i){const t=this.qt;t.ar=null;const r=t.ct,o=[],l=t.r,u=l.length;this.Dt=u;for(let f=u-1;f>=0;f--){const g=l[f];i(g)&&o.push(g),t.ct!==r&&n.Oe(t)}const c=new x;return c.r=o,c.Ie(),c.iterator}get count(){return this.qt.r.length}ml(){this.key=-1,this.value=null,this.Yt=-1,this.qt.ar=this}toString(){return"ListIteratorBackwards("+this.Dt+"/"+this.qt.count+")"}}class x{constructor(i){T(this,"h");T(this,"r");T(this,"ct");T(this,"hr");T(this,"ar");M.Yi(this),this.h=!1,this.r=[],this.ct=0,this.hr=null,this.ar=null,i!==void 0&&this.addAll(i)}[Symbol.iterator](){return this.r.values()}Ie(){let i=this.ct;i++,i>999999999&&(i=0),this.ct=i}g(){return this.h=!0,this}lt(){return this.h=!1,this}toString(){return"List()#"+M.cs(this)}add(i){return this.h&&n.D(this,i),this.r.push(i),this.Ie(),this}push(i){this.add(i)}addAll(i){if(i===null)return this;this.h&&n.D(this);const t=this.r;if(Array.isArray(i)){const r=i.length;for(let o=0;o<r;o++){const l=i[o];t.push(l)}}else{const r=i.iterator;for(;r.next();){const o=r.value;t.push(o)}}return this.Ie(),this}clear(){this.h&&n.D(this),this.r.length=0,this.Ie()}contains(i){return this.has(i)}has(i){return i===null?!1:this.r.indexOf(i)!==-1}indexOf(i){return i===null?-1:this.r.indexOf(i)}elt(i){const t=this.r;return(i<0||i>=t.length)&&n.tt(i,"0 <= i < length",x,"elt:i"),t[i]}get(i){return this.elt(i)}setElt(i,t){const r=this.r;(i<0||i>=r.length)&&n.tt(i,"0 <= i < length",x,"setElt:i"),this.h&&n.D(this,i),r[i]=t}set(i,t){this.setElt(i,t)}first(){const i=this.r;return i.length===0?null:i[0]}last(){const i=this.r,t=i.length;return t>0?i[t-1]:null}pop(){this.h&&n.D(this);const i=this.r;return i.length>0?i.pop():null}any(i){const t=this.r,r=this.ct,o=t.length;for(let l=0;l<o;l++){if(i(t[l]))return!0;this.ct!==r&&n.Oe(this)}return!1}all(i){const t=this.r,r=this.ct,o=t.length;for(let l=0;l<o;l++){if(!i(t[l]))return!1;this.ct!==r&&n.Oe(this)}return!0}each(i){const t=this.r,r=this.ct,o=t.length;for(let l=0;l<o;l++)i(t[l]),this.ct!==r&&n.Oe(this);return this}map(i){const t=new x,r=[],o=this.r,l=this.ct,u=o.length;for(let c=0;c<u;c++)r.push(i(o[c])),this.ct!==l&&n.Oe(this);return t.r=r,t.Ie(),t}filter(i){const t=new x,r=[],o=this.r,l=this.ct,u=o.length;for(let c=0;c<u;c++){const f=o[c];i(f)&&r.push(f),this.ct!==l&&n.Oe(this)}return t.r=r,t.Ie(),t}insertAt(i,t){i<0&&n.tt(i,">= 0",x,"insertAt:i"),this.h&&n.D(this,i);const r=this.r;i>=r.length?r.push(t):r.splice(i,0,t),this.Ie()}remove(i){return this.delete(i)}delete(i){if(i===null)return!1;this.h&&n.D(this,i);const t=this.r,r=t.indexOf(i);return r===-1?!1:(r===t.length-1?t.pop():t.splice(r,1),this.Ie(),!0)}removeAt(i){const t=this.r;(i<0||i>=t.length)&&n.tt(i,"0 <= i < length",x,"removeAt:i"),this.h&&n.D(this,i),i===t.length-1?t.pop():t.splice(i,1),this.Ie()}removeRange(i,t){const r=this.r,o=r.length;if(i<0)i=0;else if(i>=o)return this;if(t<0)return this;if(t>=o&&(t=o-1),i>t)return this;this.h&&n.D(this);let l=i,u=t+1;for(;u<o;)r[l++]=r[u++];return r.length=o-(t-i+1),this.Ie(),this}copy(){const i=new x,t=this.r;return t.length>0&&(i.r=Array.prototype.slice.call(t)),i}toArray(){const i=this.r,t=this.count,r=new Array(t);for(let o=0;o<t;o++)r[o]=i[o];return r}get WN(){return this.r}toSet(){const i=new M,t=this.r,r=this.count;for(let o=0;o<r;o++)i.add(t[o]);return i}sort(i){return this.h&&n.D(this),this.r.sort(i),this.Ie(),this}sortRange(i,t,r){const o=this.r,l=o.length;t===void 0&&(t=0),r===void 0&&(r=l),this.h&&n.D(this);const u=r-t;if(u<=1)return this;if((t<0||t>=l-1)&&n.tt(t,"0 <= from < length",x,"sortRange:from"),u===2){const c=o[t],f=o[t+1];return i(c,f)>0&&(o[t]=f,o[t+1]=c,this.Ie()),this}if(t===0)if(r>=l)o.sort(i);else{const c=o.slice(0,r);c.sort(i);for(let f=0;f<r;f++)o[f]=c[f]}else if(r>=l){const c=o.slice(t);c.sort(i);for(let f=t;f<l;f++)o[f]=c[f-t]}else{const c=o.slice(t,r);c.sort(i);for(let f=t;f<r;f++)o[f]=c[f-t]}return this.Ie(),this}reverse(){return this.h&&n.D(this),this.r.reverse(),this.Ie(),this}get count(){return this.r.length}get size(){return this.r.length}get length(){return this.r.length}get iterator(){if(this.r.length<=0)return h.instance;const i=this.hr;return i!==null?(i.reset(),i):new p(this)}get iteratorBackwards(){if(this.r.length<=0)return h.instance;const i=this.ar;return i!==null?(i.reset(),i):new v(this)}}class S{constructor(i){T(this,"bo");T(this,"ii");T(this,"key");T(this,"value");this.bo=i,this.ii=i.w.values()}[Symbol.iterator](){return this.bo.w.values()}get iterator(){return this}reset(){const i=this.bo;this.ii=i.w.values()}next(){const i=this.ii.next();return this.value=i.value,this.key=i.value,!i.done}hasNext(){return this.next()}first(){return this.bo.w.size===0?null:(this.ii=this.bo.w.values(),this.ii.next().value)}any(i){return this.bo.any(i)}all(i){return this.bo.all(i)}each(i){return this.bo.each(i),this}map(i){const t=new x;return this.bo.w.forEach(r=>t.add(i(r))),t.iterator}filter(i){const t=new x;return this.bo.w.forEach(r=>{i(r)&&t.add(r)}),t.iterator}get count(){return this.bo.count}ml(){this.key=null,this.value=null,this.ii=null}toString(){return"SetIterator"}}const Pi=class Pi{constructor(i){T(this,"h");T(this,"w");this.h=!1,this.w=new Set,i!==void 0&&this.addAll(i)}[Symbol.iterator](){return this.w.values()}values(){return this.w.values()}g(){return this.h=!0,this}lt(){return this.h=!1,this}toString(){return"Set()#"+Pi.cs(this)}add(i){return i===null?this:(this.w.add(i),this)}addAll(i){if(i===null)return this;if(Array.isArray(i)){const t=i.length;for(let r=0;r<t;r++){const o=i[r];o!==null&&this.w.add(o)}}else{const t=i.iterator;for(;t.next();){const r=t.value;r!==null&&this.w.add(r)}}return this}has(i){return this.w.has(i)}contains(i){return this.has(i)}containsAll(i){if(i===null)return!0;const t=i.iterator;for(;t.next();)if(!this.has(t.value))return!1;return!0}containsAny(i){if(i===null)return!0;const t=i.iterator;for(;t.next();)if(this.has(t.value))return!0;return!1}first(){return this.w.size===0?null:this.w.values().next().value}any(i){for(const t of this.w)if(i(t))return!0;return!1}all(i){for(const t of this.w)if(!i(t))return!1;return!0}each(i){for(const t of this.w)i(t);return this}map(i){const t=new Pi;for(const r of this.w)t.add(i(r));return t}filter(i){const t=new Pi;for(const r of this.w)i(r)&&t.add(r);return t}delete(i){return this.h&&n.D(this),this.w.delete(i)}remove(i){return this.delete(i)}removeAll(i){if(i===null)return this;if(this.h&&n.D(this),Array.isArray(i)){const t=i.length;for(let r=0;r<t;r++)this.delete(i[r])}else{const t=i.iterator;for(;t.next();)this.delete(t.value)}return this}retainAll(i){if(i===null)return this;if(this.count===0)return this;this.h&&n.D(this);const t=new Pi;t.addAll(i);const r=[],o=this.iterator;for(;o.next();){const l=o.value;t.has(l)||r.push(l)}return this.removeAll(r),this}clear(){this.h&&n.D(this),this.w.clear()}copy(){const i=new Pi;return this.w.forEach(t=>i.add(t)),i}toArray(){return Array.from(this.w)}toList(){const i=new x;return this.w.forEach(t=>i.add(t)),i}get count(){return this.w.size}get size(){return this.w.size}get iterator(){return this.w.size<=0?h.instance:new S(this)}entries(){return this.w.entries()}keys(){return this.w.keys()}forEach(i,t){return this.w.forEach(i,t)}static Yi(i){i.__gohashid=Pi.nu++}static cs(i){return i.__gohashid}};T(Pi,"nu",1);let M=Pi;class A{constructor(i){T(this,"Z");T(this,"ii");T(this,"key");T(this,"value");this.Z=i,this.ii=i.w.keys()}[Symbol.iterator](){return this.Z.w.keys()}get iterator(){return this}reset(){const i=this.Z;this.ii=i.w.keys()}next(){const i=this.ii.next();return this.value=i.value,this.key=i.value,!i.done}hasNext(){return this.next()}first(){return this.Z.w.size===0?null:(this.ii=this.Z.w.keys(),this.ii.next().value)}any(i){for(const t of this.Z.w)if(i(t[0]))return!0;return!1}all(i){for(const t of this.Z.w)if(!i(t[0]))return!1;return!0}each(i){for(const t of this.Z.w)i(t[0]);return this}map(i){const t=this.Z,r=new x;for(const o of t.w)r.add(i(o[0]));return r.iterator}filter(i){const t=this.Z,r=new x;for(const o of t.w){const l=o[0];i(l)&&r.add(l)}return r.iterator}get count(){return this.Z.size}ml(){this.key=null,this.value=null,this.ii=null}toString(){return"MapKeySetIterator"}}class O extends M{constructor(t){super();T(this,"Z");M.Yi(this),this.h=!0,this.Z=t}[Symbol.iterator](){return this.w.keys()}values(){return this.w.keys()}g(){return this}lt(){return this}toString(){return"MapKeySet("+this.Z.toString()+")"}add(t){n.o("This Set is read-only: "+this.toString())}has(t){return this.Z.has(t)}contains(t){return this.has(t)}delete(t){n.o("This Set is read-only: "+this.toString())}remove(t){return this.delete(t)}clear(){n.o("This Set is read-only: "+this.toString())}first(){return this.Z.w.size===0?null:this.Z.w.keys().next().value}any(t){for(const r of this.Z.w)if(t(r[0]))return!0;return!1}all(t){for(const r of this.Z.w)if(!t(r[0]))return!1;return!0}each(t){for(const r of this.Z.w)t(r[0]);return this}map(t){const r=new M;for(const o of this.Z.w)r.add(t(o[0]));return r}filter(t){const r=new M;for(const o of this.Z.w){const l=o[0];t(l)&&r.add(l)}return r}copy(){return new O(this.Z)}toSet(){const t=new M,r=this.Z.w;for(const o of r)t.add(o[0]);return t}toArray(){const t=this.Z.w,r=new Array(t.size);let o=0;for(const l of t)r[o]=l[0],o++;return r}toList(){const t=new x,r=this.Z.w;for(const o of r)t.add(o[0]);return t}get count(){return this.Z.size}get size(){return this.Z.size}get iterator(){return this.Z.size<=0?h.instance:new A(this.Z)}}class B{constructor(i){T(this,"Z");T(this,"ii");T(this,"key");T(this,"value");this.Z=i,this.ii=i.w.values()}[Symbol.iterator](){return this.Z.w.values()}get iterator(){return this}reset(){const i=this.Z;this.ii=i.w.values()}next(){const i=this.ii.next();return this.value=i.value,this.key=i.value,!i.done}hasNext(){return this.next()}first(){return this.Z.w.size===0?null:(this.ii=this.Z.w.values(),this.ii.next().value)}any(i){for(const t of this.Z.w)if(i(t[1]))return!0;return!1}all(i){for(const t of this.Z.w)if(!i(t[1]))return!1;return!0}each(i){for(const t of this.Z.w)i(t[1]);return this}map(i){const t=this.Z,r=new x;for(const o of t.w)r.add(i(o[1]));return r.iterator}filter(i){const t=this.Z,r=new x;for(const o of t.w){const l=o[1];i(l)&&r.add(l)}return r.iterator}get count(){return this.Z.size}ml(){this.key=null,this.value=null,this.ii=null}toString(){return"MapValueSetIterator"}}class I{constructor(i,t){T(this,"key");T(this,"value");this.key=i,this.value=t}toString(){return"{"+this.key+":"+this.value+"}"}}class j{constructor(i){T(this,"Z");T(this,"ii");T(this,"key");T(this,"value");this.Z=i,this.ii=i.w.entries()}[Symbol.iterator](){return this.Z.w.entries()}get iterator(){return this}reset(){const i=this.Z;this.ii=i.w.entries()}next(){const i=this.ii.next();return i.done?(this.key=null,this.value=null,!1):(this.key=i.value[0],this.value=i.value[1],!0)}hasNext(){return this.next()}first(){if(this.Z.w.size===0)return null;this.ii=this.Z.w.entries();const i=this.ii.next().value;return this.key=i[0],this.value=i[1],new I(i[0],i[1])}any(i){return this.Z.any(i)}all(i){return this.Z.all(i)}each(i){return this.Z.each(i),this}map(i){const t=new x;let r=null;return this.Z.w.forEach((o,l)=>{r===null?r=new I(l,o):(r.key=l,r.value=o),t.add(i(r))}),t.iterator}filter(i){const t=new x;let r=null;return this.Z.w.forEach((o,l)=>{r===null?r=new I(l,o):(r.key=l,r.value=o),i(r)&&(t.add(r),r=null)}),t.iterator}get count(){return this.Z.size}ml(){this.key=null,this.value=null,this.ii=null}toString(){return"MapIterator"}}class V{constructor(i){T(this,"h");T(this,"w");M.Yi(this),this.h=!1,this.w=new Map,i!==void 0&&this.addAll(i)}[Symbol.iterator](){return this.w.entries()}entries(){return this.w.entries()}g(){return this.h=!0,this}lt(){return this.h=!1,this}toString(){return"Map()#"+M.cs(this)}set(i,t){return this.h&&n.D(this,i),this.w.set(i,t),this}add(i,t){return this.set(i,t)}addAll(i){if(i===null)return this;if(this.h&&n.D(this),Array.isArray(i)){const t=i.length;for(let r=0;r<t;r++){const o=i[r];this.set(o.key,o.value)}}else if(i instanceof V){const t=i.iterator;for(;t.next();)this.set(t.key,t.value)}else{const t=i.iterator;for(;t.next();){const r=t.value;this.set(r.key,r.value)}}return this}first(){if(this.w.size===0)return null;const i=this.w.entries().next().value;return new I(i[0],i[1])}any(i){let t=null;for(const[r,o]of this.w)if(t===null?t=new I(r,o):(t.key=r,t.value=o),i(t))return!0;return!1}all(i){let t=null;for(const[r,o]of this.w)if(t===null?t=new I(r,o):(t.key=r,t.value=o),!i(t))return!1;return!0}each(i){let t=null;for(const[r,o]of this.w)t===null?t=new I(r,o):(t.key=r,t.value=o),i(t);return this}map(i){const t=new V;let r=null;for(const[o,l]of this.w)r===null?r=new I(o,l):(r.key=o,r.value=l),t.set(o,i(r));return t}filter(i){const t=new V;let r=null;for(const[o,l]of this.w)r===null?r=new I(o,l):(r.key=o,r.value=l),i(r)&&t.set(o,l);return t}has(i){return this.w.has(i)}contains(i){return this.has(i)}get(i){const t=this.w.get(i);return t===void 0?null:t}getValue(i){return this.get(i)}delete(i){return i===null?!1:(this.h&&n.D(this,i),this.w.delete(i))}remove(i){return this.delete(i)}clear(){this.h&&n.D(this),this.w.clear()}copy(){const i=new V;return i.w=new Map(this.w),i}toArray(){const i=this.w,t=new Array(i.size);let r=0;for(const o of i)t[r]=new I(o[0],o[1]),r++;return t}toKeySet(){return new O(this)}get count(){return this.w.size}get size(){return this.w.size}get iterator(){return this.w.size<=0?h.instance:new j(this)}get iteratorKeys(){return this.count<=0?h.instance:new A(this)}keys(){return this.w.keys()}get iteratorValues(){return this.count<=0?h.instance:new B(this)}values(){return this.w.values()}forEach(i,t){return this.w.forEach(i,t)}}const Pn=class Pn{constructor(i,t){T(this,"b");T(this,"k");T(this,"h");i===void 0?(this.b=0,this.k=0):typeof i=="number"&&typeof t=="number"?(this.b=i,this.k=t):n.o("Invalid arguments to Point constructor: "+i+", "+t),this.h=!1}a(i){return this.b=i.b,this.k=i.k,this}e(i,t){return this.b=i,this.k=t,this}setTo(i,t){return this.b=i,this.k=t,this}set(i){return this.b=i.b,this.k=i.k,this}copy(){const i=new Pn;return i.b=this.b,i.k=this.k,i}et(){return this.h=!0,Object.freeze(this),this}N(){return this.h||Object.isFrozen(this)?this:this.copy().g()}g(){return this.h=!0,this}lt(){return Object.isFrozen(this)&&n.o("cannot thaw constant: "+this),this.h=!1,this}dw(i){}static parse(i){if(typeof i=="string"){const t=i.split(" ");let r=0,o=0;for(;t[r]==="";)r++;let l=t[r++];l&&(o=parseFloat(l));let u=0;for(;t[r]==="";)r++;return l=t[r++],l&&(u=parseFloat(l)),new Pn(o,u)}else return new Pn}static stringify(i){return i.x.toString()+" "+i.y.toString()}static stringifyFixed(i){return t=>t.x.toFixed(i)+" "+t.y.toFixed(i)}toString(){return"Point("+this.x+","+this.y+")"}equals(i){return i instanceof Pn?this.b===i.x&&this.k===i.y:!1}equalTo(i,t){return this.b===i&&this.k===t}equalsApprox(i){return K.u(this.b,i.x)&&K.u(this.k,i.y)}add(i){return this.b+=i.x,this.k+=i.y,this}subtract(i){return this.b-=i.x,this.k-=i.y,this}offset(i,t){return this.b+=i,this.k+=t,this}rotate(i){if(i===0)return this;const t=this.b,r=this.k;if(t===0&&r===0)return this;let o=0,l=0;if(i>=360?i-=360:i<0&&(i+=360),i===90)o=0,l=1;else if(i===180)o=-1,l=0;else if(i===270)o=0,l=-1;else{const u=i*Math.PI/180;o=Math.cos(u),l=Math.sin(u)}return this.b=o*t-l*r,this.k=l*t+o*r,this}scale(i,t){return this.b*=i,this.k*=t,this}distanceSquaredPoint(i){const t=i.x-this.b,r=i.y-this.k;return t*t+r*r}distanceSquared(i,t){const r=i-this.b,o=t-this.k;return r*r+o*o}normalize(){const i=this.b,t=this.k,r=Math.sqrt(i*i+t*t);return r>0&&(this.b=i/r,this.k=t/r),this}directionPoint(i){return this.JN(i.x-this.b,i.y-this.k)}direction(i,t){return this.JN(i-this.b,t-this.k)}JN(i,t){if(i===0)return t>0?90:t<0?270:0;if(t===0)return i>0?0:180;{if(isNaN(i)||isNaN(t))return 0;let r=Math.atan(Math.abs(t/i))*180/Math.PI;return i<0?t<0?r+=180:r=180-r:t<0&&(r=360-r),r}}static compareWithLineSegment(i,t,r,o,l,u){return K.ou(i,t,r,o,l,u)}compareWithLineSegmentPoint(i,t){return K.ou(i.x,i.y,t.x,t.y,this.x,this.y)}static intersectingLineSegments(i,t,r,o,l,u,c,f){return K.ru(i,t,r,o,l,u,c,f)}projectOntoLineSegment(i,t,r,o){return K.pl(i,t,r,o,this.b,this.k,this),this}projectOntoLineSegmentPoint(i,t){return K.pl(i.x,i.y,t.x,t.y,this.b,this.k,this),this}snapToGrid(i,t,r,o){return K.Eg(this.b,this.k,i,t,r,o,this),this}snapToGridPoint(i,t){return K.Eg(this.b,this.k,i.x,i.y,t.width,t.height,this),this}setRectSpot(i,t){return this.b=i.x+t.x*i.width+t.offsetX,this.k=i.y+t.y*i.height+t.offsetY,this}setSpot(i,t,r,o,l){return this.b=i+l.x*r+l.offsetX,this.k=t+l.y*o+l.offsetY,this}L(i){return i.xt(this),this}Ee(i){return i.ts(this),this}static distanceLineSegmentSquared(i,t,r,o,l,u){let c=l-r,f=u-o;const g=c*c+f*f,y=r-i,b=o-t,w=-y*c-b*f;if(w<=0||w>=g)return c=l-i,f=u-t,Math.min(y*y+b*b,c*c+f*f);{const P=c*b-f*y;return P*P/g}}static distanceSquared(i,t,r,o){const l=r-i,u=o-t;return l*l+u*u}static direction(i,t,r,o){const l=r-i,u=o-t;if(l===0)return u>0?90:u<0?270:0;if(u===0)return l>0?0:180;{if(isNaN(l)||isNaN(u))return 0;let c=Math.atan(Math.abs(u/l))*180/Math.PI;return l<0?u<0?c+=180:c=180-c:u<0&&(c=360-c),c}}get x(){return this.b}set x(i){this.b=i}get y(){return this.k}set y(i){this.k=i}isReal(){return isFinite(this.x)&&isFinite(this.y)}static l(){const i=Pn.Lk.pop();return i===void 0?new Pn:i}static X(i,t){const r=Pn.Lk.pop();return r===void 0?new Pn(i,t):(r.x=i,r.y=t,r)}static s(i){Pn.Lk.push(i)}};T(Pn,"ko",new Pn(0,0).et()),T(Pn,"$N",new Pn(-1/0,-1/0).et()),T(Pn,"ZN",new Pn(1/0,1/0).et()),T(Pn,"QN",new Pn(6,6).et()),T(Pn,"Ck",new Pn(NaN,NaN).et()),T(Pn,"Lk",[]);let C=Pn;const On=class On{constructor(i,t){T(this,"H");T(this,"q");T(this,"h");i===void 0?(this.H=0,this.q=0):typeof i=="number"&&(i>=0||isNaN(i))&&typeof t=="number"&&(t>=0||isNaN(t))?(this.H=i,this.q=t):n.o("Invalid arguments to Size constructor: "+i+", "+t),this.h=!1}a(i){return this.H=i.H,this.q=i.q,this}e(i,t){return this.H=i,this.q=t,this}setTo(i,t){return this.H=i,this.q=t,this}set(i){return this.H=i.H,this.q=i.q,this}copy(){const i=new On;return i.H=this.H,i.q=this.q,i}et(){return this.h=!0,Object.freeze(this),this}N(){return this.h||Object.isFrozen(this)?this:this.copy().g()}g(){return this.h=!0,this}lt(){return Object.isFrozen(this)&&n.o("cannot thaw constant: "+this),this.h=!1,this}dw(i){}static parse(i){if(typeof i=="string"){const t=i.split(" ");let r=0,o=0;for(;t[r]==="";)r++;let l=t[r++];l&&(o=parseFloat(l));let u=0;for(;t[r]==="";)r++;return l=t[r++],l&&(u=parseFloat(l)),new On(o,u)}else return new On}static stringify(i){return i.width.toString()+" "+i.height.toString()}static stringifyFixed(i){return t=>t.width.toFixed(i)+" "+t.height.toFixed(i)}toString(){return"Size("+this.width+","+this.height+")"}equals(i){return i instanceof On?this.H===i.width&&this.q===i.height:!1}equalTo(i,t){return this.H===i&&this.q===t}equalsApprox(i){return K.u(this.H,i.width)&&K.u(this.q,i.height)}inflate(i,t){const r=this.width+i;this.H=r>=0?r:0;const o=this.height+t;return this.q=o>=0?o:0,this}get width(){return this.H}set width(i){i<0&&n.tt(i,">= 0",On,"width"),this.H=i}get height(){return this.q}set height(i){i<0&&n.tt(i,">= 0",On,"height"),this.q=i}isReal(){return isFinite(this.width)&&isFinite(this.height)}static l(){const i=On.eC.pop();return i===void 0?new On:i}static s(i){On.eC.push(i)}};T(On,"lu",new On(0,0).et()),T(On,"Ak",new On(1,1).et()),T(On,"_N",new On(6,6).et()),T(On,"hu",new On(8,8).et()),T(On,"tC",new On(10,10).et()),T(On,"iC",new On(1/0,1/0).et()),T(On,"gw",new On(NaN,NaN).et()),T(On,"eC",[]);let z=On;const Nn=class Nn{constructor(i,t,r,o){T(this,"b");T(this,"k");T(this,"H");T(this,"q");T(this,"h");if(i===void 0)this.b=0,this.k=0,this.H=0,this.q=0;else if(typeof i=="number"&&typeof t=="number"&&typeof r=="number"&&(r>=0||isNaN(r))&&typeof o=="number"&&(o>=0||isNaN(o)))this.b=i,this.k=t,this.H=r,this.q=o;else if(i instanceof C){const l=i.x,u=i.y;if(t instanceof C){const c=t.x,f=t.y;this.b=Math.min(l,c),this.k=Math.min(u,f),this.H=Math.abs(l-c),this.q=Math.abs(u-f)}else t instanceof z?(this.b=l,this.k=u,this.H=t.width,this.q=t.height):n.o("Incorrect second argument supplied to Rect constructor "+t)}else n.o("Invalid arguments to Rect constructor: "+i+", "+t+", "+r+", "+o);this.h=!1}a(i){return this.b=i.b,this.k=i.k,this.H=i.H,this.q=i.q,this}e(i,t,r,o){return this.b=i,this.k=t,this.H=r,this.q=o,this}Po(i,t){return this.H=i,this.q=t,this}setTo(i,t,r,o){return this.b=i,this.k=t,this.H=r,this.q=o,this}set(i){return this.b=i.b,this.k=i.k,this.H=i.H,this.q=i.q,this}setPoint(i){return this.b=i.x,this.k=i.y,this}setSize(i){return this.H=i.width,this.q=i.height,this}copy(){const i=new Nn;return i.b=this.b,i.k=this.k,i.H=this.H,i.q=this.q,i}et(){return this.h=!0,Object.freeze(this),this}N(){return this.h||Object.isFrozen(this)?this:this.copy().g()}g(){return this.h=!0,this}lt(){return Object.isFrozen(this)&&n.o("cannot thaw constant: "+this),this.h=!1,this}dw(i){}static parse(i){if(typeof i=="string"){const t=i.split(" ");let r=0,o=0;for(;t[r]==="";)r++;let l=t[r++];l&&(o=parseFloat(l));let u=0;for(;t[r]==="";)r++;l=t[r++],l&&(u=parseFloat(l));let c=0;for(;t[r]==="";)r++;l=t[r++],l&&(c=parseFloat(l));let f=0;for(;t[r]==="";)r++;return l=t[r++],l&&(f=parseFloat(l)),new Nn(o,u,c,f)}else return new Nn}static stringify(i){return i.x.toString()+" "+i.y.toString()+" "+i.width.toString()+" "+i.height.toString()}static stringifyFixed(i){return t=>t.x.toFixed(i)+" "+t.y.toFixed(i)+" "+t.width.toFixed(i)+" "+t.height.toFixed(i)}toString(){return"Rect("+this.x+","+this.y+","+this.width+","+this.height+")"}equals(i){return i instanceof Nn?this.b===i.x&&this.k===i.y&&this.H===i.width&&this.q===i.height:!1}equalTo(i,t,r,o){return this.b===i&&this.k===t&&this.H===r&&this.q===o}equalsApprox(i){return K.u(this.b,i.x)&&K.u(this.k,i.y)&&K.u(this.H,i.width)&&K.u(this.q,i.height)}equalsApproxTo(i,t,r,o){return K.u(this.b,i)&&K.u(this.k,t)&&K.u(this.H,r)&&K.u(this.q,o)}equalsApproxClose(i){return K.Y(this.b,i.x)&&K.Y(this.k,i.y)&&K.Y(this.H,i.width)&&K.Y(this.q,i.height)}containsPoint(i){return this.b<=i.x&&this.b+this.H>=i.x&&this.k<=i.y&&this.k+this.q>=i.y}containsRect(i){return this.b<=i.x&&i.x+i.width<=this.b+this.H&&this.k<=i.y&&i.y+i.height<=this.k+this.q}contains(i,t,r,o){return r===void 0&&(r=0),o===void 0&&(o=0),this.b<=i&&i+r<=this.b+this.H&&this.k<=t&&t+o<=this.k+this.q}offset(i,t){return this.b+=i,this.k+=t,this}inflate(i,t){return this.mw(t,i,t,i)}addMargin(i){return this.mw(i.top,i.right,i.bottom,i.left)}subtractMargin(i){return this.mw(-i.top,-i.right,-i.bottom,-i.left)}grow(i,t,r,o){return this.mw(i,t,r,o)}mw(i,t,r,o){const l=this.H;t+o<=-l?(this.b+=l/2,this.H=0):(this.b-=o,this.H+=t+o);const u=this.q;return i+r<=-u?(this.k+=u/2,this.q=0):(this.k-=i,this.q+=i+r),this}intersectRect(i){return this.sC(i.x,i.y,i.width,i.height)}intersect(i,t,r,o){return this.sC(i,t,r,o)}sC(i,t,r,o){const l=Math.max(this.b,i),u=Math.max(this.k,t),c=Math.min(this.b+this.H,i+r),f=Math.min(this.k+this.q,t+o);return this.b=l,this.k=u,this.H=Math.max(0,c-l),this.q=Math.max(0,f-u),this}intersectsRect(i){return this.intersects(i.x,i.y,i.width,i.height)}intersects(i,t,r,o){let l=this.H;const u=this.b;if(l!==1/0&&r!==1/0&&(l+=u,r+=i,isNaN(r)||isNaN(l)||u>r||i>l))return!1;let c=this.q;const f=this.k;return!(c!==1/0&&o!==1/0&&(c+=f,o+=t,isNaN(o)||isNaN(c)||f>o||t>c))}intersectsRectPlus(i,t){let r=this.H,o=i.width+t+t;const l=this.b,u=i.x-t;if(r+=l,o+=u,l>o||u>r)return!1;let c=this.q,f=i.height+t+t;const g=this.k,y=i.y-t;return c+=g,f+=y,!(g>f||y>c)}unionPoint(i){return this.unionNoCheck(i.x,i.y,0,0)}unionRect(i){return this.unionNoCheck(i.b,i.k,i.H,i.q)}union(i,t,r,o){return r===void 0&&(r=0),o===void 0&&(o=0),this.unionNoCheck(i,t,r,o)}unionNoCheck(i,t,r,o){const l=Math.min(this.b,i),u=Math.min(this.k,t),c=Math.max(this.b+this.H,i+r),f=Math.max(this.k+this.q,t+o);return this.b=l,this.k=u,this.H=c-l,this.q=f-u,this}setSpot(i,t,r){return this.b=i-r.offsetX-r.x*this.H,this.k=t-r.offsetY-r.y*this.q,this}static contains(i,t,r,o,l,u,c,f){return c===void 0&&(c=0),f===void 0&&(f=0),i<=l&&l+c<=i+r&&t<=u&&u+f<=t+o}static intersects(i,t,r,o,l,u,c,f){let g=r,y=c;const b=i,w=l;if(g+=b,y+=w,b>y||w>g)return!1;let P=o,E=f;const N=t,_=u;return P+=N,E+=_,!(N>E||_>P)}static intersectsLineSegment(i,t,r,o,l,u,c,f){return K.nC(i,t,r,o,l,u,c,f)}get x(){return this.b}set x(i){this.b=i}get y(){return this.k}set y(i){this.k=i}get width(){return this.H}set width(i){i<0&&n.tt(i,">= 0",Nn,"width"),this.H=i}get height(){return this.q}set height(i){i<0&&n.tt(i,">= 0",Nn,"height"),this.q=i}get left(){return this.b}set left(i){this.b=i}get top(){return this.k}set top(i){this.k=i}get right(){return this.b+this.H}set right(i){this.b+=i-(this.b+this.H)}get bottom(){return this.k+this.q}set bottom(i){this.k+=i-(this.k+this.q)}get position(){return new C(this.b,this.k)}set position(i){this.b=i.x,this.k=i.y}get size(){return new z(this.H,this.q)}set size(i){this.H=i.width,this.q=i.height}get center(){return new C(this.b+this.H/2,this.k+this.q/2)}set center(i){this.b=i.x-this.H/2,this.k=i.y-this.q/2}get centerX(){return this.b+this.H/2}set centerX(i){this.b=i-this.H/2}get centerY(){return this.k+this.q/2}set centerY(i){this.k=i-this.q/2}isReal(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)}isEmpty(){return this.width===0&&this.height===0}static l(){const i=Nn.Dk.pop();return i===void 0?new Nn:i}static X(i,t,r,o){const l=Nn.Dk.pop();return l===void 0?new Nn(i,t,r,o):l.e(i,t,r,o)}static s(i){Nn.Dk.push(i)}};T(Nn,"Tk",new Nn(0,0,0,0).et()),T(Nn,"LD",new Nn(NaN,NaN,NaN,NaN).et()),T(Nn,"Dk",[]);let F=Nn;const Ni=class Ni{constructor(i,t,r,o){T(this,"nn");T(this,"on");T(this,"rn");T(this,"ln");T(this,"h");i===void 0?(this.nn=0,this.on=0,this.rn=0,this.ln=0):t===void 0?(t=i,r=i,o=i,this.top=i,this.right=t,this.bottom=r,this.left=o):r===void 0?(r=i,o=t,this.top=i,this.right=t,this.bottom=r,this.left=o):o!==void 0?(this.top=i,this.right=t,this.bottom=r,this.left=o):n.o("Invalid arguments to Margin constructor: "+i+", "+t+", "+r+", "+o),this.h=!1}a(i){return this.nn=i.nn,this.on=i.on,this.rn=i.rn,this.ln=i.ln,this}setTo(i,t,r,o){return this.nn=i,this.on=t,this.rn=r,this.ln=o,this}set(i){return this.nn=i.nn,this.on=i.on,this.rn=i.rn,this.ln=i.ln,this}copy(){const i=new Ni;return i.nn=this.nn,i.on=this.on,i.rn=this.rn,i.ln=this.ln,i}et(){return this.h=!0,Object.freeze(this),this}N(){return this.h||Object.isFrozen(this)?this:this.copy().g()}g(){return this.h=!0,this}lt(){return Object.isFrozen(this)&&n.o("cannot thaw constant: "+this),this.h=!1,this}dw(i){}static parse(i){if(typeof i=="string"){const t=i.split(" ");let r=0,o=NaN;for(;t[r]==="";)r++;let l=t[r++];if(l&&(o=parseFloat(l)),isNaN(o))return new Ni;let u=NaN;for(;t[r]==="";)r++;if(l=t[r++],l&&(u=parseFloat(l)),isNaN(u))return new Ni(o);let c=NaN;for(;t[r]==="";)r++;if(l=t[r++],l&&(c=parseFloat(l)),isNaN(c))return new Ni(o,u);let f=NaN;for(;t[r]==="";)r++;return l=t[r++],l&&(f=parseFloat(l)),isNaN(f)?new Ni(o,u):new Ni(o,u,c,f)}else return new Ni}static stringify(i){return i.top.toString()+" "+i.right.toString()+" "+i.bottom.toString()+" "+i.left.toString()}static stringifyFixed(i){return t=>t.top.toFixed(i)+" "+t.right.toFixed(i)+" "+t.bottom.toFixed(i)+" "+t.left.toFixed(i)}toString(){return"Margin("+this.top+","+this.right+","+this.bottom+","+this.left+")"}equals(i){return i instanceof Ni?this.nn===i.top&&this.on===i.right&&this.rn===i.bottom&&this.ln===i.left:!1}equalTo(i,t,r,o){return this.nn===i&&this.on===t&&this.rn===r&&this.ln===o}equalsApprox(i){return K.u(this.nn,i.top)&&K.u(this.on,i.right)&&K.u(this.rn,i.bottom)&&K.u(this.ln,i.left)}get top(){return this.nn}set top(i){this.nn=i}get right(){return this.on}set right(i){this.on=i}get bottom(){return this.rn}set bottom(i){this.rn=i}get left(){return this.ln}set left(i){this.ln=i}isReal(){return isFinite(this.top)&&isFinite(this.right)&&isFinite(this.bottom)&&isFinite(this.left)}static l(){const i=Ni.rC.pop();return i===void 0?new Ni:i}static s(i){Ni.rC.push(i)}};T(Ni,"Ug",new Ni(0,0,0,0).et()),T(Ni,"oC",new Ni(2,2,2,2).et()),T(Ni,"rC",[]);let Y=Ni;const zt=class zt{constructor(i,t,r,o){T(this,"b");T(this,"k");T(this,"Ds");T(this,"Fs");T(this,"h");i===void 0?(this.b=0,this.k=0,this.Ds=0,this.Fs=0):(t===void 0&&(t=0),r===void 0&&(r=0),o===void 0&&(o=0),this.x=i,this.y=t,this.offsetX=r,this.offsetY=o),this.h=!1}a(i){return this.b=i.b,this.k=i.k,this.Ds=i.Ds,this.Fs=i.Fs,this}setTo(i,t,r,o){return this.b=i,this.k=t,this.Ds=r,this.Fs=o,this}set(i){return this.b=i.b,this.k=i.k,this.Ds=i.Ds,this.Fs=i.Fs,this}copy(){const i=new zt;return i.b=this.b,i.k=this.k,i.Ds=this.Ds,i.Fs=this.Fs,i}et(){return this.h=!0,Object.freeze(this),this}N(){return this.h||Object.isFrozen(this)?this:this.copy().g()}g(){return this.h=!0,this}lt(){return Object.isFrozen(this)&&n.o("cannot thaw constant: "+this),this.h=!1,this}dw(i){}Ue(i){return this.b=NaN,this.k=NaN,this.Ds=i,this}QI(i,t){(isNaN(i)||i>1||i<0)&&n.tt(i,"0 <= "+t+" <= 1",zt,t)}_I(i,t){(isNaN(i)||i===1/0||i===-1/0)&&n.tt(i,"real number, not NaN or Infinity",zt,t)}static parse(i){if(typeof i=="string"){if(i=i.trim(),i==="None")return zt.None;if(i==="TopLeft")return zt.TopLeft;if(i==="Top"||i==="TopCenter"||i==="MiddleTop")return zt.TopCenter;if(i==="TopRight")return zt.TopRight;if(i==="Left"||i==="LeftCenter"||i==="MiddleLeft")return zt.LeftCenter;if(i==="Center")return zt.Center;if(i==="Right"||i==="RightCenter"||i==="MiddleRight")return zt.RightCenter;if(i==="BottomLeft")return zt.BottomLeft;if(i==="Bottom"||i==="BottomCenter"||i==="MiddleBottom")return zt.BottomCenter;if(i==="BottomRight")return zt.BottomRight;if(i==="TopSide")return zt.TopSide;if(i==="LeftSide")return zt.LeftSide;if(i==="RightSide")return zt.RightSide;if(i==="BottomSide")return zt.BottomSide;if(i==="TopBottomSides")return zt.TopBottomSides;if(i==="LeftRightSides")return zt.LeftRightSides;if(i==="TopLeftSides")return zt.TopLeftSides;if(i==="TopRightSides")return zt.TopRightSides;if(i==="BottomLeftSides")return zt.BottomLeftSides;if(i==="BottomRightSides")return zt.BottomRightSides;if(i==="NotTopSide")return zt.NotTopSide;if(i==="NotLeftSide")return zt.NotLeftSide;if(i==="NotRightSide")return zt.NotRightSide;if(i==="NotBottomSide")return zt.NotBottomSide;if(i==="AllSides")return zt.AllSides;if(i==="Default")return zt.Default;const t=i.split(" ");let r=0,o=0;for(;t[r]==="";)r++;let l=t[r++];l!==void 0&&l.length>0&&(o=parseFloat(l));let u=0;for(;t[r]==="";)r++;l=t[r++],l!==void 0&&l.length>0&&(u=parseFloat(l));let c=0;for(;t[r]==="";)r++;l=t[r++],l!==void 0&&l.length>0&&(c=parseFloat(l));let f=0;for(;t[r]==="";)r++;return l=t[r++],l!==void 0&&l.length>0&&(f=parseFloat(l)),new zt(o,u,c,f)}else return new zt}static stringify(i){return i.isSpot()?i.x.toString()+" "+i.y.toString()+" "+i.offsetX.toString()+" "+i.offsetY.toString():i.toString()}static stringifyFixed(i){return t=>t.x.toFixed(i)+" "+t.y.toFixed(i)+" "+t.offsetX.toFixed(i)+" "+t.offsetY.toFixed(i)}toString(){return this.isSpot()?this.Ds===0&&this.Fs===0?"Spot("+this.x+","+this.y+")":"Spot("+this.x+","+this.y+","+this.offsetX+","+this.offsetY+")":this.equals(zt.None)?"None":this.equals(zt.TopLeft)?"TopLeft":this.equals(zt.TopCenter)?"Top":this.equals(zt.TopRight)?"TopRight":this.equals(zt.LeftCenter)?"Left":this.equals(zt.Center)?"Center":this.equals(zt.RightCenter)?"Right":this.equals(zt.BottomLeft)?"BottomLeft":this.equals(zt.BottomCenter)?"Bottom":this.equals(zt.BottomRight)?"BottomRight":this.equals(zt.TopSide)?"TopSide":this.equals(zt.LeftSide)?"LeftSide":this.equals(zt.RightSide)?"RightSide":this.equals(zt.BottomSide)?"BottomSide":this.equals(zt.TopBottomSides)?"TopBottomSides":this.equals(zt.LeftRightSides)?"LeftRightSides":this.equals(zt.TopLeftSides)?"TopLeftSides":this.equals(zt.TopRightSides)?"TopRightSides":this.equals(zt.BottomLeftSides)?"BottomLeftSides":this.equals(zt.BottomRightSides)?"BottomRightSides":this.equals(zt.NotTopSide)?"NotTopSide":this.equals(zt.NotLeftSide)?"NotLeftSide":this.equals(zt.NotRightSide)?"NotRightSide":this.equals(zt.NotBottomSide)?"NotBottomSide":this.equals(zt.AllSides)?"AllSides":this.equals(zt.Default)?"Default":"None"}equals(i){return i instanceof zt?(this.b===i.x||isNaN(this.b)&&isNaN(i.x))&&(this.k===i.y||isNaN(this.k)&&isNaN(i.y))&&this.Ds===i.offsetX&&this.Fs===i.offsetY:!1}opposite(){return new zt(.5-(this.b-.5),.5-(this.k-.5),-this.Ds,-this.Fs)}includesSide(i){if(!this.isSide())return!1;if(!i.isSide())if(i.equals(zt.Left))i=zt.LeftSide;else if(i.equals(zt.Right))i=zt.RightSide;else if(i.equals(zt.Top))i=zt.TopSide;else if(i.equals(zt.Bottom))i=zt.BottomSide;else return!1;const t=this.Fs,r=i.offsetY;return(t&r)===r}get x(){return this.b}set x(i){this.b=i}get y(){return this.k}set y(i){this.k=i}get offsetX(){return this.Ds}set offsetX(i){this.Ds=i}get offsetY(){return this.Fs}set offsetY(i){this.Fs=i}isSpot(){return!isNaN(this.x)&&!isNaN(this.y)}isNoSpot(){return isNaN(this.x)||isNaN(this.y)}isSide(){return isNaN(this.x)&&isNaN(this.y)&&this.offsetX===1&&this.offsetY!==0}isNone(){return isNaN(this.x)&&isNaN(this.y)&&this.offsetX===0&&this.offsetY===0}isDefault(){return isNaN(this.x)&&isNaN(this.y)&&this.offsetX===-1&&this.offsetY===0}static l(){const i=zt.lC.pop();return i===void 0?new zt:i}static s(i){zt.lC.push(i)}};T(zt,"None",new zt(0,0,0,0).Ue(0).et()),T(zt,"Default",new zt(0,0,-1,0).Ue(-1).et()),T(zt,"TopLeft",new zt(0,0,0,0).et()),T(zt,"TopCenter",new zt(.5,0,0,0).et()),T(zt,"TopRight",new zt(1,0,0,0).et()),T(zt,"LeftCenter",new zt(0,.5,0,0).et()),T(zt,"Center",new zt(.5,.5,0,0).et()),T(zt,"RightCenter",new zt(1,.5,0,0).et()),T(zt,"BottomLeft",new zt(0,1,0,0).et()),T(zt,"BottomCenter",new zt(.5,1,0,0).et()),T(zt,"BottomRight",new zt(1,1,0,0).et()),T(zt,"MiddleTop",zt.TopCenter),T(zt,"MiddleLeft",zt.LeftCenter),T(zt,"MiddleRight",zt.RightCenter),T(zt,"MiddleBottom",zt.BottomCenter),T(zt,"Top",zt.TopCenter),T(zt,"Left",zt.LeftCenter),T(zt,"Right",zt.RightCenter),T(zt,"Bottom",zt.BottomCenter),T(zt,"TopSide",new zt(0,0,1,1).Ue(1).et()),T(zt,"LeftSide",new zt(0,0,1,2).Ue(1).et()),T(zt,"RightSide",new zt(0,0,1,4).Ue(1).et()),T(zt,"BottomSide",new zt(0,0,1,8).Ue(1).et()),T(zt,"TopBottomSides",new zt(0,0,1,9).Ue(1).et()),T(zt,"LeftRightSides",new zt(0,0,1,6).Ue(1).et()),T(zt,"TopLeftSides",new zt(0,0,1,3).Ue(1).et()),T(zt,"TopRightSides",new zt(0,0,1,5).Ue(1).et()),T(zt,"BottomLeftSides",new zt(0,0,1,10).Ue(1).et()),T(zt,"BottomRightSides",new zt(0,0,1,12).Ue(1).et()),T(zt,"NotTopSide",new zt(0,0,1,14).Ue(1).et()),T(zt,"NotLeftSide",new zt(0,0,1,13).Ue(1).et()),T(zt,"NotRightSide",new zt(0,0,1,11).Ue(1).et()),T(zt,"NotBottomSide",new zt(0,0,1,7).Ue(1).et()),T(zt,"AllSides",new zt(0,0,1,15).Ue(1).et()),T(zt,"Fk",new zt(.156,.156).et()),T(zt,"Rk",new zt(.844,.844).et()),T(zt,"lC",[]);let U=zt;const Ko=class Ko{constructor(){T(this,"m11");T(this,"m12");T(this,"m21");T(this,"m22");T(this,"dx");T(this,"dy");this.m11=1,this.m12=0,this.m21=0,this.m22=1,this.dx=0,this.dy=0}set(i){return this.m11=i.m11,this.m12=i.m12,this.m21=i.m21,this.m22=i.m22,this.dx=i.dx,this.dy=i.dy,this}setTo(i,t,r,o,l,u){return this.m11=i,this.m12=t,this.m21=r,this.m22=o,this.dx=l,this.dy=u,this}copy(){const i=new Ko;return i.m11=this.m11,i.m12=this.m12,i.m21=this.m21,i.m22=this.m22,i.dx=this.dx,i.dy=this.dy,i}toString(){return"Transform("+this.m11+","+this.m12+","+this.m21+","+this.m22+","+this.dx+","+this.dy+")"}equals(i){return this.m11===i.m11&&this.m12===i.m12&&this.m21===i.m21&&this.m22===i.m22&&this.dx===i.dx&&this.dy===i.dy}vk(){return this.dx===0&&this.dy===0&&this.m11===1&&this.m12===0&&this.m21===0&&this.m22===1}Jt(){return this.m11=1,this.m12=0,this.m21=0,this.m22=1,this.dx=0,this.dy=0,this}_a(i){const t=this.m11*i.m11+this.m21*i.m12,r=this.m12*i.m11+this.m22*i.m12,o=this.m11*i.m21+this.m21*i.m22,l=this.m12*i.m21+this.m22*i.m22;return this.dx=this.m11*i.dx+this.m21*i.dy+this.dx,this.dy=this.m12*i.dx+this.m22*i.dy+this.dy,this.m11=t,this.m12=r,this.m21=o,this.m22=l,this}hC(i){const t=1/(i.m11*i.m22-i.m12*i.m21),r=i.m22*t,o=-i.m12*t,l=-i.m21*t,u=i.m11*t,c=t*(i.m21*i.dy-i.m22*i.dx),f=t*(i.m12*i.dx-i.m11*i.dy),g=this.m11*r+this.m21*o,y=this.m12*r+this.m22*o,b=this.m11*l+this.m21*u,w=this.m12*l+this.m22*u;return this.dx=this.m11*c+this.m21*f+this.dx,this.dy=this.m12*c+this.m22*f+this.dy,this.m11=g,this.m12=y,this.m21=b,this.m22=w,this}pw(){const i=1/(this.m11*this.m22-this.m12*this.m21),t=this.m22*i,r=-this.m12*i,o=-this.m21*i,l=this.m11*i,u=i*(this.m21*this.dy-this.m22*this.dx),c=i*(this.m12*this.dx-this.m11*this.dy);return this.m11=t,this.m12=r,this.m21=o,this.m22=l,this.dx=u,this.dy=c,this}fs(i,t,r){if(i>=360?i-=360:i<0&&(i+=360),i===0)return this;this.Zi(t,r);let o=0,l=0;if(i===90)o=0,l=1;else if(i===180)o=-1,l=0;else if(i===270)o=0,l=-1;else{const y=i*Math.PI/180;o=Math.cos(y),l=Math.sin(y)}const u=this.m11*o+this.m21*l,c=this.m12*o+this.m22*l,f=this.m11*-l+this.m21*o,g=this.m12*-l+this.m22*o;return this.m11=u,this.m12=c,this.m21=f,this.m22=g,this.Zi(-t,-r),this}Zi(i,t){return this.dx+=this.m11*i+this.m21*t,this.dy+=this.m12*i+this.m22*t,this}K(i,t){return t===void 0&&(t=i),this.m11*=i,this.m12*=i,this.m21*=t,this.m22*=t,this}AD(){if(this.m11===1&&this.m12===0)return 0;let i=Math.atan2(this.m12,this.m11)*180/Math.PI;return i<0&&(i+=360),i}xt(i){const t=i.x,r=i.y;return i.e(t*this.m11+r*this.m21+this.dx,t*this.m12+r*this.m22+this.dy)}ts(i){const t=1/(this.m11*this.m22-this.m12*this.m21),r=this.m22*t,o=-this.m12*t,l=-this.m21*t,u=this.m11*t,c=i.x-this.dx,f=i.y-this.dy;return i.e(c*r+f*l,c*o+f*u)}yw(i){const t=1/(this.m11*this.m22-this.m12*this.m21),r=this.m22*t,o=-this.m12*t,l=-this.m21*t,u=this.m11*t,c=t*(this.m21*this.dy-this.m22*this.dx),f=t*(this.m12*this.dx-this.m11*this.dy),g=i.x*1.25,y=i.y*1.2;return i.e(g*r+y*l+c,g*o+y*u+f)}ww(i){const t=i.x,r=i.y,o=t+i.width,l=r+i.height,u=this.m11,c=this.m12,f=this.m21,g=this.m22,y=this.dx,b=this.dy,w=t*u+r*f+y,P=t*c+r*g+b,E=o*u+r*f+y,N=o*c+r*g+b,_=t*u+l*f+y,R=t*c+l*g+b,$=o*u+l*f+y,q=o*c+l*g+b;let X=w,H=w,tt=P,Q=P;return X=Math.min(X,E),H=Math.max(H,E),tt=Math.min(tt,N),Q=Math.max(Q,N),X=Math.min(X,_),H=Math.max(H,_),tt=Math.min(tt,R),Q=Math.max(Q,R),X=Math.min(X,$),H=Math.max(H,$),tt=Math.min(tt,q),Q=Math.max(Q,q),i.e(X,tt,H-X,Q-tt),i}static l(){const i=Ko.aC.pop();return i===void 0?new Ko:i}static s(i){Ko.aC.push(i)}};T(Ko,"aC",[]),T(Ko,"Ok","54a702f3e53909c447824c6706603faf4c");let J=Ko;const K={TD:"7da71ca0ad381e90",En:4*((Math.sqrt(2)-1)/3),cC:null,xw:W=>{if(W<=0)return 0;let i=K.cC;if(i===null){i=[];for(let t=0;t<=2e3;t++)i[t]=Math.sqrt(t);K.cC=i}if(W<1){const t=1/W;return t<=2e3?1/i[t|0]:Math.sqrt(W)}else return W<=2e3?i[W|0]:Math.sqrt(W)},u:(W,i)=>{const t=W-i;return t<.5&&t>-.5},Y:(W,i)=>{const t=W-i;return t<5e-8&&t>-5e-8},vi:(W,i,t,r,o,l,u)=>{o<=0&&(o=1e-6);let c=0,f=0,g=0,y=0;if(W<t?(f=W,c=t):(f=t,c=W),i<r?(y=i,g=r):(y=r,g=i),W===t)return y<=u&&u<=g&&W-o<=l&&l<=W+o;if(i===r)return f<=l&&l<=c&&i-o<=u&&u<=i+o;const b=c+o,w=f-o;if(w<=l&&l<=b){const P=g+o,E=y-o;if(E<=u&&u<=P)if(b-w>P-E)if(W-t>o||t-W>o){const N=(r-i)/(t-W)*(l-W)+i;if(N-o<=u&&u<=N+o)return!0}else return!0;else if(i-r>o||r-i>o){const N=(t-W)/(r-i)*(u-i)+W;if(N-o<=l&&l<=N+o)return!0}else return!0}return!1},bw:(W,i,t,r,o,l,u,c,f,g,y,b)=>{if(!K.vi(W,i,u,c,b,t,r)||!K.vi(W,i,u,c,b,o,l)){const w=(W+t)/2,P=(i+r)/2,E=(t+o)/2,N=(r+l)/2,_=(o+u)/2,R=(l+c)/2,$=(w+E)/2,q=(P+N)/2,X=(E+_)/2,H=(N+R)/2,tt=($+X)/2,Q=(q+H)/2;return K.bw(W,i,w,P,$,q,tt,Q,f,g,y,b)||K.bw(tt,Q,X,H,_,R,u,c,f,g,y,b)}else return K.vi(W,i,u,c,b,g,y)},fC:(W,i,t,r,o,l,u,c,f)=>{const g=(W+t)/2,y=(i+r)/2,b=(t+o)/2,w=(r+l)/2,P=(o+u)/2,E=(l+c)/2,N=(g+b)/2,_=(y+w)/2,R=(b+P)/2,$=(w+E)/2;return f.e((N+R)/2,(_+$)/2),f},DD:(W,i,t,r,o,l,u,c)=>{const f=(W+t)/2,g=(i+r)/2,y=(t+o)/2,b=(r+l)/2,w=(o+u)/2,P=(l+c)/2,E=(f+y)/2,N=(g+b)/2,_=(y+w)/2,R=(b+P)/2;return C.direction(E,N,_,R)},au:(W,i,t,r,o,l,u,c,f,g)=>{if(!K.vi(W,i,u,c,f,t,r)||!K.vi(W,i,u,c,f,o,l)){const y=(W+t)/2,b=(i+r)/2,w=(t+o)/2,P=(r+l)/2,E=(o+u)/2,N=(l+c)/2,_=(y+w)/2,R=(b+P)/2,$=(w+E)/2,q=(P+N)/2,X=(_+$)/2,H=(R+q)/2;K.au(W,i,y,b,_,R,X,H,f,g),K.au(X,H,$,q,E,N,u,c,f,g)}else g.unionNoCheck(W,i,0,0),g.unionNoCheck(u,c,0,0);return g},Un:(W,i,t,r,o,l,u,c,f,g)=>{if(!K.vi(W,i,u,c,f,t,r)||!K.vi(W,i,u,c,f,o,l)){const y=(W+t)/2,b=(i+r)/2,w=(t+o)/2,P=(r+l)/2,E=(o+u)/2,N=(l+c)/2,_=(y+w)/2,R=(b+P)/2,$=(w+E)/2,q=(P+N)/2,X=(_+$)/2,H=(R+q)/2;K.Un(W,i,y,b,_,R,X,H,f,g),K.Un(X,H,$,q,E,N,u,c,f,g)}else g.length===0&&(g.push(W),g.push(i)),g.push(u),g.push(c);return g},Ik:(W,i,t,r,o,l,u,c,f,g)=>{if(K.vi(W,i,o,l,g,t,r))return K.vi(W,i,o,l,g,c,f);{const y=(W+t)/2,b=(i+r)/2,w=(t+o)/2,P=(r+l)/2,E=(y+w)/2,N=(b+P)/2;return K.Ik(W,i,y,b,E,N,u,c,f,g)||K.Ik(E,N,w,P,o,l,u,c,f,g)}},tE:(W,i,t,r,o,l,u)=>{const c=(W+t)/2,f=(i+r)/2,g=(t+o)/2,y=(r+l)/2;return u.e((c+g)/2,(f+y)/2),u},Ek:(W,i,t,r,o,l,u,c)=>{if(K.vi(W,i,o,l,u,t,r))c.unionNoCheck(W,i,0,0),c.unionNoCheck(o,l,0,0);else{const f=(W+t)/2,g=(i+r)/2,y=(t+o)/2,b=(r+l)/2,w=(f+y)/2,P=(g+b)/2;K.Ek(W,i,f,g,w,P,u,c),K.Ek(w,P,y,b,o,l,u,c)}return c},Bg:(W,i,t,r,o,l,u,c)=>{if(K.vi(W,i,o,l,u,t,r))c.length===0&&(c.push(W),c.push(i)),c.push(o),c.push(l);else{const f=(W+t)/2,g=(i+r)/2,y=(t+o)/2,b=(r+l)/2,w=(f+y)/2,P=(g+b)/2;K.Bg(W,i,f,g,w,P,u,c),K.Bg(w,P,y,b,o,l,u,c)}return c},Vg:(W,i,t,r,o,l,u,c,f,g,y,b,w,P)=>{if(!K.vi(W,i,u,c,w,t,r)||!K.vi(W,i,u,c,w,o,l)){const E=(W+t)/2,N=(i+r)/2,_=(t+o)/2,R=(r+l)/2,$=(o+u)/2,q=(l+c)/2,X=(E+_)/2,H=(N+R)/2,tt=(_+$)/2,Q=(R+q)/2,nt=(X+tt)/2,ht=(H+Q)/2;let it=1/0,st=!1,ct=0,ut=0;if(K.Vg(W,i,E,N,X,H,nt,ht,f,g,y,b,w,P)){const pt=(P.x-f)*(P.x-f)+(P.y-g)*(P.y-g);pt<it&&(it=pt,st=!0,ct=P.x,ut=P.y)}if(K.Vg(nt,ht,tt,Q,$,q,u,c,f,g,y,b,w,P)){const pt=(P.x-f)*(P.x-f)+(P.y-g)*(P.y-g);pt<it&&(it=pt,st=!0,ct=P.x,ut=P.y)}return st&&(P.x=ct,P.y=ut),st}else{if(!K.ru(W,i,u,c,f,g,y,b))return!1;const E=(W-u)*(g-b)-(i-c)*(f-y);if(E===0)return!1;const N=((W*c-i*u)*(f-y)-(W-u)*(f*b-g*y))/E,_=((W*c-i*u)*(g-b)-(i-c)*(f*b-g*y))/E;return P.e(N,_),!0}},zg:(W,i,t,r,o,l,u,c,f,g,y,b,w)=>{let P=0;if(!K.vi(W,i,u,c,w,t,r)||!K.vi(W,i,u,c,w,o,l)){const E=(W+t)/2,N=(i+r)/2,_=(t+o)/2,R=(r+l)/2,$=(o+u)/2,q=(l+c)/2,X=(E+_)/2,H=(N+R)/2,tt=(_+$)/2,Q=(R+q)/2,nt=(X+tt)/2,ht=(H+Q)/2;P+=K.zg(W,i,E,N,X,H,nt,ht,f,g,y,b,w),P+=K.zg(nt,ht,tt,Q,$,q,u,c,f,g,y,b,w)}else{const E=(W-u)*(g-b)-(i-c)*(f-y);if(E===0)return P;const N=((W*c-i*u)*(f-y)-(W-u)*(f*b-g*y))/E,_=((W*c-i*u)*(g-b)-(i-c)*(f*b-g*y))/E;if(N>=y)return P;let R=0,$=0;if((f>y?f-y:y-f)<(g>b?g-b:b-g)){if(i<c?(R=i,$=c):(R=c,$=i),_<R||_>$)return P}else if(W<u?(R=W,$=u):(R=u,$=W),N<R||N>$)return P;E>0?P++:E<0&&P--}return P},pl:(W,i,t,r,o,l,u)=>{if(K.Y(W,t)){let c=0,f=0;i<r?(c=i,f=r):(c=r,f=i);const g=l;return g<c?(u.e(W,c),!1):g>f?(u.e(W,f),!1):(u.e(W,g),!0)}else if(K.Y(i,r)){let c=0,f=0;W<t?(c=W,f=t):(c=t,f=W);const g=o;return g<c?(u.e(c,i),!1):g>f?(u.e(f,i),!1):(u.e(g,i),!0)}else{const c=(t-W)*(t-W)+(r-i)*(r-i),f=((W-o)*(W-t)+(i-l)*(i-r))/c;if(f<-5e-6)return u.e(W,i),!1;if(f>1.000005)return u.e(t,r),!1;{const g=W+f*(t-W),y=i+f*(r-i);return u.e(g,y),!0}}},Bn:(W,i,t,r,o,l,u,c,f)=>{if(K.u(W,t)&&K.u(i,r))return f.e(W,i),!1;if(K.Y(o,u)){if(K.Y(W,t))return K.pl(W,i,t,r,o,l,f),!1;{const g=(r-i)/(t-W)*(o-W)+i;return K.pl(W,i,t,r,o,g,f)}}else{const g=(c-l)/(u-o);if(K.Y(W,t)){const y=g*(W-o)+l;let b=0,w=0;return i<r?(b=i,w=r):(b=r,w=i),y<b?(f.e(W,b),!1):y>w?(f.e(W,w),!1):(f.e(W,y),!0)}else{const y=(r-i)/(t-W);if(K.Y(g,y))return K.pl(W,i,t,r,o,l,f),!1;{const b=(y*W-g*o+l-i)/(y-g);if(K.Y(y,0)){let w=0,P=0;return W<t?(w=W,P=t):(w=t,P=W),b<w?(f.e(w,i),!1):b>P?(f.e(P,i),!1):(f.e(b,i),!0)}else{const w=y*(b-W)+i;return K.pl(W,i,t,r,b,w,f)}}}}},iE:(W,i,t,r,o)=>K.Bn(t.x,t.y,r.x,r.y,W.x,W.y,i.x,i.y,o),eE:(W,i,t,r,o,l,u,c,f,g)=>{let y=1/0;function b(tt,Q){const nt=(tt-W)*(tt-W)+(Q-i)*(Q-i);nt<y&&(y=nt,f.e(tt,Q))}b(f.x,f.y);let w=0,P=0,E=0,N=0;o<u?(w=o,P=u):(w=u,P=o),l<c?(E=o,N=u):(E=u,N=o);const _=P-w,R=N-E,$=_/2+g,q=R/2+g,X=(o+u)/2,H=(l+c)/2;if($===0||q===0)return f;if((t>W?t-W:W-t)<.5){const tt=1-(t-X)*(t-X)/($*$);if(tt<0)return f;const Q=Math.sqrt(tt),nt=q*Q+H,ht=-q*Q+H;b(t,nt),b(t,ht)}else{const tt=(r-i)/(t-W),Q=1/($*$)+tt*tt/(q*q),nt=2*tt*(i-tt*W)/(q*q)-2*tt*H/(q*q)-2*X/($*$),ht=2*tt*W*H/(q*q)-2*i*H/(q*q)+H*H/(q*q)+X*X/($*$)-1+(i-tt*W)*(i-tt*W)/(q*q),it=nt*nt-4*Q*ht;if(it<0)return f;const st=Math.sqrt(it),ct=(-nt+st)/(2*Q);b(ct,tt*ct-tt*W+i);const ut=(-nt-st)/(2*Q);b(ut,tt*ut-tt*W+i)}return f},yl:(W,i,t,r,o,l,u,c,f)=>{let g=1e21,y=W,b=i;if(K.Bn(W,i,W,r,o,l,u,c,f)){const w=(f.x-o)*(f.x-o)+(f.y-l)*(f.y-l);w<g&&(g=w,y=f.x,b=f.y)}if(K.Bn(t,i,t,r,o,l,u,c,f)){const w=(f.x-o)*(f.x-o)+(f.y-l)*(f.y-l);w<g&&(g=w,y=f.x,b=f.y)}if(K.Bn(W,i,t,i,o,l,u,c,f)){const w=(f.x-o)*(f.x-o)+(f.y-l)*(f.y-l);w<g&&(g=w,y=f.x,b=f.y)}if(K.Bn(W,r,t,r,o,l,u,c,f)){const w=(f.x-o)*(f.x-o)+(f.y-l)*(f.y-l);w<g&&(g=w,y=f.x,b=f.y)}return f.e(y,b),g<1e21},kw:(W,i,t)=>K.nC(W.x,W.y,W.width,W.height,i.x,i.y,t.x,t.y),nC:(W,i,t,r,o,l,u,c)=>{const f=W,g=W+t,y=i,b=i+r;if(o===u){let w=0,P=0;return l<c?(w=l,P=c):(w=c,P=l),f<=o&&o<=g&&w<=b&&P>=y}if(l===c){let w=0,P=0;return o<u?(w=o,P=u):(w=u,P=o),y<=l&&l<=b&&w<=g&&P>=f}return!!(F.contains(W,i,t,r,o,l)||F.contains(W,i,t,r,u,c)||K.ru(f,y,g,y,o,l,u,c)||K.ru(g,y,g,b,o,l,u,c)||K.ru(g,b,f,b,o,l,u,c)||K.ru(f,b,f,y,o,l,u,c))},ru:(W,i,t,r,o,l,u,c)=>W===t&&i===r&&o===u&&l===c?W===o&&i===l:K.ou(W,i,t,r,o,l)*K.ou(W,i,t,r,u,c)<=0&&K.ou(o,l,u,c,W,i)*K.ou(o,l,u,c,t,r)<=0,ou:(W,i,t,r,o,l)=>{const u=t-W,c=r-i;let f=o-W,g=l-i,y=f*c-g*u;return y===0&&(y=f*u+g*c,y>0&&(f-=u,g-=c,y=f*u+g*c,y<0&&(y=0))),y},Xg:W=>(W<0&&(W+=360),W>=360&&(W-=360),W),uC:(W,i,t,r,o,l)=>{const u=Math.PI;l||(r=r*(u/180),o=o*(u/180));const c=r>o?-1:1,f=1e-5,g=u*2,y=[],b=u/2;let w=r,P=Math.min(g,Math.abs(o-r));if(P<f){const E=w+c*Math.min(P,b),N=W+t*Math.cos(w),_=i+t*Math.sin(w),R=W+t*Math.cos(E),$=i+t*Math.sin(E),q=(N+R)/2,X=(_+$)/2;return y.push([N,_,q,X,q,X,R,$]),y}for(;P>f;){const E=w+c*Math.min(P,b);y.push(K.FD(t,w,E,W,i)),P-=Math.abs(E-w),w=E}return y},FD:(W,i,t,r,o)=>{const l=(t-i)/2,u=W*Math.cos(l),c=W*Math.sin(l),f=u,g=-c,y=f*f+g*g,b=y+f*u+g*c,w=4/3*(Math.sqrt(2*y*b)-b)/(f*c-g*u),P=f-w*g,E=g+w*f,N=P,_=-E,R=l+i,$=Math.cos(R),q=Math.sin(R);return[r+W*Math.cos(i),o+W*Math.sin(i),r+P*$-E*q,o+P*q+E*$,r+N*$-_*q,o+N*q+_*$,r+W*Math.cos(t),o+W*Math.sin(t)]},Eg:(W,i,t,r,o,l,u)=>{const c=o,f=l,g=Math.floor((W-t)/c)*c+t,y=Math.floor((i-r)/f)*f+r;let b=g;g+c-W<c/2&&(b=g+c);let w=y;return y+f-i<f/2&&(w=y+f),u.e(b,w),u},dC:(W,i)=>{let t=Math.max(W,i),r=Math.min(W,i),o=1,l=1;do o=t%r,l=r,t=r,r=o;while(o>0);return l},RD:(W,i,t,r)=>{const o=t<0,l=r<0;let u=0,c=0,f=0;W<i?(c=1,f=0):(c=0,f=1);let g=0,y=0,b=0,w=0;return u=c,g=u===0?W:i,b=u===0?t:r,(u===0?o:l)&&(b=-b),u=f,y=u===0?W:i,w=u===0?t:r,(u===0?o:l)&&(w=-w),K.vD(g,y,b,w,0,0)},vD:(W,i,t,r,o,l)=>{let u=0;if(r>0)if(t>0){const c=W*W,f=i*i,g=W*t,y=i*r;let b=-f+y,w=-f+Math.sqrt(g*g+y*y),P=b;const E=9999999999;for(let R=0;R<E&&(P=.5*(b+w),!(P===b||P===w));++R){const $=g/(P+c),q=y/(P+f),X=$*$+q*q-1;if(X>0)b=P;else if(X<0)w=P;else break}o=c*t/(P+c),l=f*r/(P+f);const N=o-t,_=l-r;u=Math.sqrt(N*N+_*_)}else o=0,l=i,u=Math.abs(r-i);else{const c=W*W-i*i,f=W*t;if(f<c){const g=f/c,y=g*g;o=W*g,l=i*Math.sqrt(Math.abs(1-y));const b=o-t;u=Math.sqrt(b*b+l*l)}else o=W,l=0,u=Math.abs(t-W)}return u},Mo:new a,Kg:new a,cr:new a,fr:0,Yg:100};K.za=K.TD;var rt=(W=>(W[W.Line=1]="Line",W[W.Rectangle=2]="Rectangle",W[W.Ellipse=3]="Ellipse",W[W.Path=4]="Path",W))(rt||{}),gt=(W=>(W[W.None=0]="None",W[W.Default=1]="Default",W[W.Fill=2]="Fill",W[W.Uniform=6]="Uniform",W))(gt||{});const Yn=class Yn{constructor(i){T(this,"n");T(this,"Gg");T(this,"jg");T(this,"tc");T(this,"cu");T(this,"fu");T(this,"Vn");T(this,"zn");T(this,"Xn");T(this,"_");T(this,"be");T(this,"ke");T(this,"Qi");T(this,"_i");T(this,"Rs");T(this,"ic");T(this,"ec");M.Yi(this),this.n=2,i===void 0&&(i=4),this._=i,this.be=0,this.ke=0,this.Qi=0,this._i=0,i===4?this.Rs=new x:this.Rs=Yn.Pw,this.Gg=this.Rs.ct,this.jg=new F().g(),this.tc=null,this.cu=null,this.fu=NaN,this.Vn=U.TopLeft,this.zn=U.BottomRight,this.ic=NaN,this.ec=NaN,this.Xn=2}copy(){const i=new Yn;if(i.n=this.n&-2,i._=this._,i.be=this.be,i.ke=this.ke,i.Qi=this.Qi,i._i=this._i,this._===4){const t=this.Rs.r,r=i.Rs;for(let o=0;o<t.length;o++){const l=t[o];r.add(l.copy())}i.Rs=r}else i.Rs=this.Rs;return i.Gg=this.Gg,i.jg.a(this.jg),i.tc=this.tc,i.cu=this.cu,i.fu=this.fu,i.Vn=this.Vn.N(),i.zn=this.zn.N(),i.ic=this.ic,i.ec=this.ec,i.Xn=this.Xn,i}get h(){return(this.n&1)!==0}set h(i){i?this.n|=1:this.n&=-2}get bt(){return(this.n&2)!==0}set bt(i){i?this.n|=2:this.n&=-3}et(){return this.g(),Object.freeze(this),this}g(){if(this.h=!0,this.type!==4)return this;const i=this.figures;i.g();for(const t of i)t.g();return this}lt(){if(Object.isFrozen(this)&&n.o("cannot thaw constant: "+this),this.h=!1,this.type!==4)return this;const i=this.figures;i.lt();for(const t of i)t.lt();return this}equalsApprox(i){if(!(i instanceof Yn))return!1;if(this.type!==i.type)return this.type===1&&i.type===4?this.gC(i):i.type===1&&this.type===4?i.gC(this):!1;if(this.type===4){const t=this.figures.r,r=i.figures.r,o=t.length;if(o!==r.length)return!1;for(let l=0;l<o;l++){const u=t[l],c=r[l];if(!u.equalsApprox(c))return!1}return!0}else return K.u(this.startX,i.startX)&&K.u(this.startY,i.startY)&&K.u(this.endX,i.endX)&&K.u(this.endY,i.endY)}gC(i){if(this.type!==1||i.type!==4)return!1;if(i.figures.count===1){const t=i.figures.elt(0);if(t.segments.count===1&&K.u(this.startX,t.startX)&&K.u(this.startY,t.startY)){const r=t.segments.elt(0);if(r.type===2&&K.u(this.endX,r.endX)&&K.u(this.endY,r.endY))return!0}}return!1}static stringify(i){return i.toString()}static stringifyFixed(i){return t=>t.toString(i)}li(i){i in rt?this.type=i:n.lr(this,i)}toString(i){i===void 0&&(i=-1);const t=o=>o===0?"0":o.toFixed(i);let r;switch(this.type){case 1:return i<0?"M"+this.startX.toString()+" "+this.startY.toString()+"L"+this.endX.toString()+" "+this.endY.toString():"M"+t(this.startX)+" "+t(this.startY)+"L"+t(this.endX)+" "+t(this.endY);case 2:return r=new F(this.startX,this.startY,0,0),r.union(this.endX,this.endY,0,0),i<0?"M"+r.x.toString()+" "+r.y.toString()+"H"+r.right.toString()+"V"+r.bottom.toString()+"H"+r.left.toString()+"z":"M"+t(r.x)+" "+t(r.y)+"H"+t(r.right)+"V"+t(r.bottom)+"H"+t(r.left)+"z";case 3:if(r=new F(this.startX,this.startY,0,0),r.union(this.endX,this.endY,0,0),i<0){const c=r.left.toString()+" "+(r.y+r.height/2).toString(),f=r.right.toString()+" "+(r.y+r.height/2).toString();return"M"+c+"A"+(r.width/2).toString()+" "+(r.height/2).toString()+" 0 0 1 "+f+"A"+(r.width/2).toString()+" "+(r.height/2).toString()+" 0 0 1 "+c}else{const c=t(r.left)+" "+t(r.y+r.height/2),f=t(r.right)+" "+t(r.y+r.height/2);return"M"+c+"A"+t(r.width/2)+" "+t(r.height/2)+" 0 0 1 "+f+"A"+t(r.width/2)+" "+t(r.height/2)+" 0 0 1 "+c}case 4:let o="";const l=this.figures.r,u=l.length;for(let c=0;c<u;c++){const f=l[c];c>0&&(o+=" x "),f.isFilled&&(o+="F "),o+=f.toString(i)}return o;default:return rt[this.type]}}static fillPath(i){const t=i.split(/[Xx]/),r=t.length;let o="";for(let l=0;l<r;l++){const u=t[l];if(u.match(/[Ff]/)!==null){l===0?o+=u:o+="X"+(u[0]===" "?"":" ")+u;continue}o+=(l===0?"":"X ")+"F"+(u[0]===" "?"":" ")+u}return o}static parse(i,t){t===void 0&&(t=!1);const r=new RegExp("(["+Yn.Hg+"])(["+Yn.Hg+"])","gm"),o=new RegExp("(["+Yn.Hg+"])([^s])","gm"),l=new RegExp("([^s])(["+Yn.Hg+"])","gm");i=i.replace(/,/gm," "),i=i.replace(r,"$1 $2"),i=i.replace(r,"$1 $2"),i=i.replace(o,"$1 $2"),i=i.replace(l,"$1 $2"),i=i.replace(/([0-9])([+\-])/gm,"$1 $2"),i=i.replace(/[\s\r\t\n]+/gm," "),i=i.replace(/^\s+|\s+$/g,"");const u=i.split(" ");for(let ut=0;ut<u.length;ut++){const pt=u[ut];if(pt.match(/(\.[0-9]*)(\.)/gm)!==null){const Tt=n.rt();let Et="",m=!1;for(let k=0;k<pt.length;k++){const D=pt[k];D==="."&&!m?(m=!0,Et+=D):D==="."?(Tt.push(Et),Et="."):Et+=D}Tt.push(Et),u.splice(ut,1);for(let k=0;k<Tt.length;k++)u.splice(ut+k,0,Tt[k]);ut+=Tt.length-1,n.it(Tt)}}let c=-1,f="",g="";const y=new C(0,0),b=new C(0,0),w=new C(0,0);let P=!0;function E(){return c>=X-1||u[c+1].match(st)!==null?!0:(P=!1,!1)}function N(){return c++,u[c]}function _(ut){let pt=parseFloat(N()),Tt=parseFloat(N());f===f.toLowerCase()&&(pt=w.x+pt,Tt=w.y+Tt),ut.e(pt,Tt)}function R(){return _(w),w}function $(){return _(b),b}function q(){const ut=g.toLowerCase();return ut==="c"||ut==="s"||ut==="q"||ut==="t"?new C(2*w.x-b.x,2*w.y-b.y):new C(w.x,w.y)}const X=u.length,H=jo.mC(null);let tt=!1,Q=!1,nt=!1,ht=!0,it=null;const st=new RegExp("["+Yn.Hg+"]");for(;!(c>=X-1);){if(g=f,f=N(),f==="")continue;P=!0;let ut=!1;switch(f.toUpperCase()){case"X":ht=!0,tt=!1,Q=!1;break;case"M":for(it=R(),H.Mi===null||ht===!0?(H.uu(it.x,it.y,tt,!1,!Q,nt),ht=!1):H.OD(it.x,it.y),y.a(w);!E();)it=R(),H.ur(it.x,it.y);break;case"L":for(;!E();)it=R(),H.ur(it.x,it.y);P&&(ut=!0);break;case"H":for(;!E();)w.e((f===f.toLowerCase()?w.x:0)+parseFloat(N()),w.y),H.ur(w.x,w.y);break;case"V":for(;!E();)w.e(w.x,(f===f.toLowerCase()?w.y:0)+parseFloat(N())),H.ur(w.x,w.y);P&&(ut=!0);break;case"C":for(;!E();){const pt=new C;_(pt);const Tt=$(),Et=R();H.dr(pt.x,pt.y,Tt.x,Tt.y,Et.x,Et.y)}P&&(ut=!0);break;case"S":for(;!E();){const pt=q(),Tt=$(),Et=R();H.dr(pt.x,pt.y,Tt.x,Tt.y,Et.x,Et.y)}P&&(ut=!0);break;case"Q":for(;!E();){const pt=$(),Tt=R();H.Mw(pt.x,pt.y,Tt.x,Tt.y)}P&&(ut=!0);break;case"T":for(;!E();){const pt=q();b.a(pt);const Tt=R();H.Mw(pt.x,pt.y,Tt.x,Tt.y),b.a(Tt)}P&&(ut=!0);break;case"B":for(;!E();){const pt=parseFloat(N()),Tt=parseFloat(N());let Et=parseFloat(N()),m=parseFloat(N());const k=parseFloat(N());let D=k,G=!1;E()||(D=parseFloat(N()),E()||(G=parseFloat(N())!==0)),f===f.toLowerCase()&&(Et+=w.x,m+=w.y),H.ID(pt,Tt,Et,m,k,D,G)}P&&(ut=!0);break;case"A":for(;!E();){const pt=Math.abs(parseFloat(N())),Tt=Math.abs(parseFloat(N())),Et=parseFloat(N());let m=!1,k=!1,D=0,G=0;const Z=N();Z.length===1?(m=!!parseFloat(Z),k=!!parseFloat(N()),D=parseFloat(N()),G=parseFloat(N())):Z.length===2?(m=!!parseFloat(Z[0]),k=!!parseFloat(Z[1]),D=parseFloat(N()),G=parseFloat(N())):(m=!!parseFloat(Z[0]),k=!!parseFloat(Z[1]),D=parseFloat(Z.slice(2)),G=parseFloat(N())),f===f.toLowerCase()&&(D=w.x+D,G=w.y+G),w.e(D,G),H.ED(pt,Tt,Et,m,k,D,G)}P&&(ut=!0);break;case"Z":H.UD(),w.a(y);break;case"F":{let pt="",Tt=1;for(;u[c+Tt];){if(u[c+Tt]==="0"){nt=!0,Tt++;continue}if(u[c+Tt].match(/[Uu]/)!==null){Tt++;continue}if(u[c+Tt].match(st)===null){Tt++;continue}pt=u[c+Tt];break}pt.match(/[Mm]/)?tt=!0:H.BD();break}case"U":{let pt="",Tt=1;for(;u[c+Tt];){if(u[c+Tt].match(/[Ff]/)!==null){Tt++;continue}if(u[c+Tt].match(st)===null){Tt++;continue}pt=u[c+Tt];break}pt.match(/[Mm]/)?Q=!0:H.VD(!1);break}default:if(f==="0"||f==="1")break;n.ri("Unknown geometry command: "+f);break}if(ut){n.ri(`Bad geometry command: ${f}, next token: ${N()},
string: ${i}`);break}}const ct=H.qg;if(jo.pC(H),t){const ut=ct.figures.iterator;for(;ut.next();){const pt=ut.value;pt.isFilled=!0}}return ct}static yC(i,t){const r=i.length,o=C.l();for(let l=0;l<r;l++){const u=i[l];o.x=u[0],o.y=u[1],t.xt(o),u[0]=o.x,u[1]=o.y,o.x=u[2],o.y=u[3],t.xt(o),u[2]=o.x,u[3]=o.y,o.x=u[4],o.y=u[5],t.xt(o),u[4]=o.x,u[5]=o.y,o.x=u[6],o.y=u[7],t.xt(o),u[6]=o.x,u[7]=o.y}C.s(o)}Uk(){if(this.bt)return!0;if(this.type===4){const i=this.figures;if(this.Gg!==i.ct)return!0;const t=this.figures.r,r=t.length;for(let o=0;o<r;o++)if(t[o].Uk())return!0}return!1}Sw(){if(this.bt=!1,this.tc=null,this.cu=null,this.fu=NaN,this.type===4){const t=this.figures;this.Gg=t.ct;const r=this.figures.r,o=r.length;for(let l=0;l<o;l++)r[l].zD()}const i=this.jg;i.lt(),isNaN(this.ic)||isNaN(this.ec)?i.e(0,0,0,0):i.e(0,0,this.ic,this.ec),this.wC(i,!1),i.unionNoCheck(0,0,0,0),i.g()}computeBoundsWithoutOrigin(){const i=new F;return this.wC(i,!0),i}wC(i,t){switch(this.type){case 1:case 2:case 3:t?i.e(this.be,this.ke,0,0):i.unionNoCheck(this.be,this.ke,0,0),i.unionNoCheck(this.Qi,this._i,0,0);break;case 4:const r=this.figures,o=r.r,l=r.length;for(let u=0;u<l;u++){const c=o[u];t&&u===0?i.e(c.startX,c.startY,0,0):i.unionNoCheck(c.startX,c.startY,0,0);const f=c.segments.r,g=f.length;let y=c.startX,b=c.startY;for(let w=0;w<g;w++){const P=f[w];switch(P.type){case 2:case 1:y=P.endX,b=P.endY,i.unionNoCheck(y,b,0,0);break;case 3:K.au(y,b,P.point1X,P.point1Y,P.point2X,P.point2Y,P.endX,P.endY,.5,i),y=P.endX,b=P.endY;break;case 4:K.Ek(y,b,P.point1X,P.point1Y,P.endX,P.endY,.5,i),y=P.endX,b=P.endY;break;case 5:case 6:const E=P.type===5?P.So(c):P.Ih(c,y,b),N=E.length;if(N===0){y=P.type===5?P.centerX:P.endX,b=P.type===5?P.centerY:P.endY,i.unionNoCheck(y,b,0,0);break}let _=null;for(let R=0;R<N;R++)_=E[R],K.au(_[0],_[1],_[2],_[3],_[4],_[5],_[6],_[7],.5,i);_!==null&&(y=_[6],b=_[7]);break;default:n.o("Unknown Segment type: "+P.type)}}}break;default:n.o("Unknown Geometry type: "+this.type)}}XD(i,t){const r=this.bounds;let o=i/r.width,l=t/r.height;return isFinite(o)||(o=1),isFinite(l)||(l=1),o===1&&l===1?this:this.copy().scale(o,l)}normalize(){this.h&&n.D(this);const i=this.computeBoundsWithoutOrigin();return this.offset(-i.x,-i.y),new C(-i.x,-i.y)}offset(i,t){return this.h&&n.D(this),this.L(1,0,0,1,i,t),this}scale(i,t){return this.h&&n.D(this),this.L(i,0,0,t,0,0),this}rotate(i,t,r){this.h&&n.D(this),t===void 0&&(t=0),r===void 0&&(r=0);const o=J.l();return o.Jt(),o.fs(i,t,r),this.L(o.m11,o.m12,o.m21,o.m22,o.dx,o.dy),J.s(o),this}L(i,t,r,o,l,u){let c=0,f=0;switch(this.type){case 1:case 2:case 3:c=this.be,f=this.ke,this.be=c*i+f*r+l,this.ke=c*t+f*o+u,c=this.Qi,f=this._i,this.Qi=c*i+f*r+l,this._i=c*t+f*o+u;break;case 4:const g=this.figures.r,y=g.length;for(let b=0;b<y;b++){const w=g[b];c=w.startX,f=w.startY,w.startX=c*i+f*r+l,w.startY=c*t+f*o+u;const P=w.segments.r,E=P.length;for(let N=0;N<E;N++){const _=P[N];switch(_.type){case 2:case 1:c=_.endX,f=_.endY,_.endX=c*i+f*r+l,_.endY=c*t+f*o+u;break;case 3:c=_.point1X,f=_.point1Y,_.point1X=c*i+f*r+l,_.point1Y=c*t+f*o+u,c=_.point2X,f=_.point2Y,_.point2X=c*i+f*r+l,_.point2Y=c*t+f*o+u,c=_.endX,f=_.endY,_.endX=c*i+f*r+l,_.endY=c*t+f*o+u;break;case 4:c=_.point1X,f=_.point1Y,_.point1X=c*i+f*r+l,_.point1Y=c*t+f*o+u,c=_.endX,f=_.endY,_.endX=c*i+f*r+l,_.endY=c*t+f*o+u;break;case 5:if(c=_.centerX,f=_.centerY,_.centerX=c*i+f*r+l,_.centerY=c*t+f*o+u,t!==0){let R=Math.atan2(t,i)*180/Math.PI;R<0&&(R+=360),_.startAngle+=R}i<0&&(_.startAngle=180-_.startAngle,_.sweepAngle=-_.sweepAngle),o<0&&(_.startAngle=-_.startAngle,_.sweepAngle=-_.sweepAngle),_.radiusX*=Math.sqrt(i*i+r*r),_.radiusY!==void 0&&(_.radiusY*=Math.sqrt(t*t+o*o));break;case 6:if(c=_.endX,f=_.endY,_.endX=c*i+f*r+l,_.endY=c*t+f*o+u,_.radiusX===0||_.radiusY===0)break;if(t!==0){let R=Math.atan2(t,i)*180/Math.PI;R<0&&(R+=360),_.xAxisRotation+=R}i<0&&(_.xAxisRotation=180-_.xAxisRotation,_.isClockwiseArc=!_.isClockwiseArc),o<0&&(_.xAxisRotation=-_.xAxisRotation,_.isClockwiseArc=!_.isClockwiseArc),_.radiusX*=Math.sqrt(i*i+r*r),_.radiusY*=Math.sqrt(t*t+o*o);break;default:n.o("Unknown Segment type: "+_.type)}}}break}return this.bt=!0,this}containsPoint(i,t){t===void 0&&(t=0);const r=this.be,o=this.ke,l=this.Qi,u=this._i;switch(this.type){case 1:return K.vi(r,o,l,u,t,i.x,i.y);case 2:{const c=Math.min(r,l)-t,f=Math.min(o,u)-t,g=Math.abs(l-r)+t*2,y=Math.abs(u-o)+t*2,b=F.X(c,f,g,y),w=b.containsPoint(i);return F.s(b),w}case 3:{let c=Math.min(r,l)-t,f=Math.min(o,u)-t;const g=Math.abs(l-r)+t*2,y=Math.abs(u-o)+t*2,b=g/2,w=y/2;return b<=0||w<=0?!1:(c=i.x-(c+b),f=i.y-(f+w),c*c/(b*b)+f*f/(w*w)<=1)}case 4:return this.Bk(i,t,!0,!1);default:return!1}}Bk(i,t,r,o){const l=i.x,u=i.y,c=this.bounds.x-20,f=u;let g=0,y=0,b=0,w=0,P=0,E=0;const N=this.figures.r,_=N.length;for(let R=0;R<_;R++){const $=N[R],q=!$.isEvenOdd;if($.isFilled){if(r&&$.Vk(l,u,t))return!0}else{if($.Vk(l,u,o?t:t+2))return!0;continue}const X=$.segments;y=$.startX,b=$.startY;let H=y,tt=b;const Q=X.r;for(let nt=0;nt<=X.length;nt++){let ht,it;switch(nt!==X.length?(ht=Q[nt],it=ht.type,P=ht.endX,E=ht.endY):(it=2,P=H,E=tt),it){case 1:{const st=this.Nw(l,u,c,f,y,b,H,tt);if(isNaN(st))return!0;g+=st,H=P,tt=E;break}case 2:{const st=this.Nw(l,u,c,f,y,b,P,E);if(isNaN(st))return!0;g+=st;break}case 3:w=K.zg(y,b,ht.point1X,ht.point1Y,ht.point2X,ht.point2Y,P,E,c,f,l,u,.5),g+=w;break;case 4:{const st=(y+2*ht.point1X)/3,ct=(b+2*ht.point1Y)/3,ut=(ht.point1X*2+P)/3,pt=(ht.point1Y*2+E)/3;w=K.zg(y,b,st,ct,ut,pt,P,E,c,f,l,u,.5),g+=w;break}case 5:case 6:{const st=ht.type===5?ht.So($):ht.Ih($,y,b),ct=st.length;if(ct===0){const pt=this.Nw(l,u,c,f,y,b,ht.type===5?ht.centerX:ht.endX,ht.type===5?ht.centerY:ht.endY);if(isNaN(pt))return!0;g+=pt;break}let ut=null;for(let pt=0;pt<ct;pt++){if(ut=st[pt],pt===0){const Tt=this.Nw(l,u,c,f,y,b,ut[0],ut[1]);if(isNaN(Tt))return!0;g+=Tt}w=K.zg(ut[0],ut[1],ut[2],ut[3],ut[4],ut[5],ut[6],ut[7],c,f,l,u,.5),g+=w}ut!==null&&(P=ut[6],E=ut[7]);break}default:n.o("Unknown Segment type: "+ht.type)}y=P,b=E}if(q){if(g!==0)return!0}else if(g%2!==0)return!0;g=0}return!1}Nw(i,t,r,o,l,u,c,f){if(K.vi(l,u,c,f,.05,i,t))return NaN;const g=(i-r)*(u-f);if(g===0)return 0;const y=((i*o-t*r)*(l-c)-(i-r)*(l*f-u*c))/g,b=(i*o-t*r)*(u-f)/g;if(y>=i)return 0;if((l>c?l-c:c-l)<(u>f?u-f:f-u)){if(u<f){if(b<u||b>f)return 0}else if(b<f||b>u)return 0}else if(l<c){if(y<l||y>c)return 0}else if(y<c||y>l)return 0;return g>0?1:-1}xC(i,t,r){const o=this.figures.r,l=o.length;for(let u=0;u<l;u++)if(o[u].Vk(i,t,r))return!0;return!1}getPointAlongPath(i,t){if(i<0?i=0:i>1&&(i=1),t===void 0&&(t=new C),this.type===1)return t.e(this.startX+i*(this.endX-this.startX),this.startY+i*(this.endY-this.startY)),t;const r=this.flattenedSegments,o=this.flattenedLengths,l=this.flattenedTotalLength,u=r.length,c=l*i;let f=0;for(let g=0;g<u;g++){const y=o[g],b=y.length;for(let w=0;w<b;w++){const P=y[w];if(f+P>=c){const E=c-f,N=P===0?0:E/P,_=r[g],R=_[w*2],$=_[w*2+1],q=_[w*2+2],X=_[w*2+3];return t.e(R+(q-R)*N,$+(X-$)*N),t}f+=P}}return t}getAngleAlongPath(i){if(i<0?i=0:i>1&&(i=1),this.type===1)return Math.atan2(this.endY-this.startY,this.endX-this.startX)*180/Math.PI;const t=this.flattenedSegments,r=this.flattenedLengths,o=this.flattenedTotalLength,l=t.length,u=o*i;let c=0;for(let f=0;f<l;f++){const g=r[f],y=g.length;for(let b=0;b<y;b++){const w=g[b];if(c+w>=u){const P=t[f],E=P[b*2],N=P[b*2+1],_=P[b*2+2],R=P[b*2+3];return Math.abs(_-E)<1&&Math.abs(R-N)<1?0:Math.abs(_-E)<1?R-N>=0?90:270:Math.abs(R-N)<1?_-E>=0?0:180:Math.atan2(R-N,_-E)*180/Math.PI}c+=w}}return NaN}getPointAndAngleAlongPath(i,t){if(i<0?i=0:i>1&&(i=1),t===void 0&&(t=[]),t.length=3,this.type===1)return t[0]=this.startX+i*(this.endX-this.startX),t[1]=this.startY+i*(this.endY-this.startY),t[2]=Math.atan2(this.endY-this.startY,this.endX-this.startX)*180/Math.PI,t;const r=this.flattenedSegments,o=this.flattenedLengths,l=this.flattenedTotalLength,u=r.length,c=l*i;let f=0;for(let g=0;g<u;g++){const y=o[g],b=y.length;for(let w=0;w<b;w++){const P=y[w];if(f+P>=c){const E=c-f,N=P===0?0:E/P,_=r[g],R=_[w*2],$=_[w*2+1],q=_[w*2+2],X=_[w*2+3];t[0]=R+(q-R)*N,t[1]=$+(X-$)*N;let H;return Math.abs(q-R)<1&&Math.abs(X-$)<1?H=0:Math.abs(q-R)<1?H=X-$>=0?90:270:Math.abs(X-$)<1?H=q-R>=0?0:180:H=Math.atan2(X-$,q-R)*180/Math.PI,t[2]=H,t}f+=P}}return t}getFractionForPoint(i){if(this.type===1){const t=this.startX,r=this.startY,o=this.endX,l=this.endY;if(t===o&&r===l)return 0;{const u=i.x,c=i.y;let f=0,g=0;if(t===o)return r<l?(f=r,g=l):(f=l,g=r),c<=f?f===r?0:1:c>=g?g===r?0:1:Math.abs(c-r)/(g-f);if(r===l)return t<o?(f=t,g=o):(f=o,g=t),u<=f?f===t?0:1:u>=g?g===t?0:1:Math.abs(u-t)/(g-f);{const y=(o-t)*(o-t)+(l-r)*(l-r),b=C.l();K.pl(t,r,o,l,u,c,b);const w=b.x,P=b.y;return C.s(b),Math.sqrt(((w-t)*(w-t)+(P-r)*(P-r))/y)}}}else if(this.type===2){const t=this.startX,r=this.startY,o=this.endX,l=this.endY;if(t===o&&r===l)return 0;{const u=o-t,c=l-r,f=u*2+c*2;let g=i.x,y=i.y;g=Math.min(Math.max(g,t),o),y=Math.min(Math.max(y,r),l);const b=Math.abs(g-t),w=Math.abs(g-o),P=Math.abs(y-r),E=Math.abs(y-l),N=Math.min(b,w,P,E);if(N===P)return g/f;if(N===w)return(u+y)/f;if(N===E)return(u*2+c-g)/f;if(N===b)return(u*2+c*2-y)/f}}else{const t=this.flattenedSegments,r=this.flattenedLengths,o=this.flattenedTotalLength,l=C.l();let u=1/0,c=0,f=0;const g=t.length;let y=0,b=0;for(let P=0;P<g;P++){const E=t[P],N=r[P],_=E.length;for(let R=0;R<_;R+=2){const $=E[R],q=E[R+1];if(R===0){y=$,b=q;continue}K.pl(y,b,$,q,i.x,i.y,l);const X=(l.x-i.x)*(l.x-i.x)+(l.y-i.y)*(l.y-i.y);X<u&&(u=X,c=f,c+=Math.sqrt((l.x-y)*(l.x-y)+(l.y-b)*(l.y-b))),f+=N[(R-2)/2],y=$,b=q}}C.s(l);const w=c/o;return w<0?0:w>1?1:w}return 0}get flattenedSegments(){return this.bC(),this.tc}bC(){if(this.tc===null){const i=this.tc=[],t=this.cu=[];this.KD(i,t)}}get flattenedLengths(){return this.bC(),this.cu}get flattenedTotalLength(){let i=this.fu;if(isNaN(i)){if(this.type===1){const t=Math.abs(this.endX-this.startX),r=Math.abs(this.endY-this.startY);i=Math.sqrt(t*t+r*r)}else if(this.type===2){const t=Math.abs(this.endX-this.startX),r=Math.abs(this.endY-this.startY);i=t*2+r*2}else{const t=this.flattenedLengths,r=t.length;i=0;for(let o=0;o<r;o++){const l=t[o],u=l.length;for(let c=0;c<u;c++)i+=l[c]}}this.fu=i}return i}zk(i){const t=[];let r=0,o=0;const l=i.length;for(let u=0;u<l;u+=2){const c=i[u],f=i[u+1];if(u===0){r=c,o=f;continue}const g=Math.sqrt(C.distanceSquared(r,o,c,f));t.push(g),r=c,o=f}return t}KD(i,t){let r=[];const o=[];if(this.type===1)r.push(this.startX),r.push(this.startY),r.push(this.endX),r.push(this.endY),i.push(r),o.push(Math.sqrt((this.startX-this.endX)*(this.startX-this.endX)+(this.startY-this.endY)*(this.startY-this.endY))),t.push(o);else if(this.type===2)r.push(this.startX),r.push(this.startY),r.push(this.endX),r.push(this.startY),r.push(this.endX),r.push(this.endY),r.push(this.startX),r.push(this.endY),r.push(this.startX),r.push(this.startY),i.push(r),o.push(Math.abs(this.startX-this.endX)),o.push(Math.abs(this.startY-this.endY)),o.push(Math.abs(this.startX-this.endX)),o.push(Math.abs(this.startY-this.endY)),t.push(o);else if(this.type===3){const l=new dt;l.startX=this.endX,l.startY=(this.startY+this.endY)/2;const u=new vt(5);u.startAngle=0,u.sweepAngle=360,u.centerX=(this.startX+this.endX)/2,u.centerY=(this.startY+this.endY)/2,u.radiusX=Math.abs(this.startX-this.endX)/2,u.radiusY=Math.abs(this.startY-this.endY)/2,l.add(u);const c=u.So(l),f=c.length;if(f===0)r.push(u.centerX),r.push(u.centerY);else{let g=l.startX,y=l.startY;for(let b=0;b<f;b++){const w=c[b];K.Un(g,y,w[2],w[3],w[4],w[5],w[6],w[7],.5,r),g=w[6],y=w[7]}}i.push(r),t.push(this.zk(r))}else{const l=this.figures.iterator;for(;l.next();){const u=l.value;r=[],r.push(u.startX),r.push(u.startY);let c=u.startX,f=u.startY,g=c,y=f;const b=u.segments.r,w=b.length;for(let P=0;P<w;P++){const E=b[P];switch(E.type){case 1:r.length>=4&&(i.push(r),t.push(this.zk(r))),r=[],r.push(E.endX),r.push(E.endY),c=E.endX,f=E.endY,g=c,y=f;break;case 2:r.push(E.endX),r.push(E.endY),c=E.endX,f=E.endY;break;case 3:K.Un(c,f,E.point1X,E.point1Y,E.point2X,E.point2Y,E.endX,E.endY,.5,r),c=E.endX,f=E.endY;break;case 4:K.Bg(c,f,E.point1X,E.point1Y,E.endX,E.endY,.5,r),c=E.endX,f=E.endY;break;case 5:{const N=E.So(u),_=N.length;if(_===0){r.push(E.centerX),r.push(E.centerY),c=E.centerX,f=E.centerY;break}for(let R=0;R<_;R++){const $=N[R];K.Un(c,f,$[2],$[3],$[4],$[5],$[6],$[7],.5,r),c=$[6],f=$[7]}break}case 6:{const N=E.Ih(u,c,f),_=N.length,R=E.endX,$=E.endY;if(_===0){r.push(R),r.push($),c=R,f=$;break}for(let q=0;q<_;q++){const X=N[q];K.Un(c,f,X[2],X[3],X[4],X[5],X[6],X[7],.5,r),c=X[6],f=X[7]}break}default:n.o("Segment not of valid type: "+E.type)}E.isClosed&&(r.push(g),r.push(y))}r.length>=4&&(i.push(r),t.push(this.zk(r)))}}}get type(){return this._}set type(i){this._!==i&&(this.h&&n.D(this,i),this._=i,i===4?this.Rs=new x:(Yn.Pw===null&&(Yn.Pw=new x().g()),this.Rs=Yn.Pw),this.bt=!0)}get startX(){return this.be}set startX(i){this.be!==i&&(this.h&&n.D(this,i),this.be=i,this.bt=!0)}get startY(){return this.ke}set startY(i){this.ke!==i&&(this.h&&n.D(this,i),this.ke=i,this.bt=!0)}get endX(){return this.Qi}set endX(i){this.Qi!==i&&(this.h&&n.D(this,i),this.Qi=i,this.bt=!0)}get endY(){return this._i}set endY(i){this._i!==i&&(this.h&&n.D(this,i),this._i=i,this.bt=!0)}get figures(){return this.Rs}set figures(i){this.Rs!==i&&(this.h&&n.D(this,i),this.Rs=i,this.bt=!0)}add(i){return this.Rs.add(i),this}setSpots(i,t,r,o,l,u,c,f){return this.h&&n.D(this),this.Vn=new U(i,t,l,u).g(),this.zn=new U(r,o,c,f).g(),this}get spot1(){return this.Vn}set spot1(i){this.h&&n.D(this,i),this.Vn=i.N()}get spot2(){return this.zn}set spot2(i){this.h&&n.D(this,i),this.zn=i.N()}get defaultStretch(){return this.Xn}set defaultStretch(i){this.Xn=i}get bounds(){return this.Uk()&&this.Sw(),this.jg}};T(Yn,"Line",1),T(Yn,"Rectangle",2),T(Yn,"Ellipse",3),T(Yn,"Path",4),T(Yn,"Pw",new x().g()),T(Yn,"Hg","UuBbMmZzLlHhVvCcSsQqTtAaFfXx");let lt=Yn;lt.stringify=lt.stringify,lt.stringifyFixed=lt.stringifyFixed,lt.fillPath=lt.fillPath,lt.parse=lt.parse;class dt{constructor(i,t,r,o,l){T(this,"n");T(this,"be");T(this,"ke");T(this,"sc");T(this,"Wg");T(this,"Be");r===void 0&&(r=!0),o===void 0&&(o=!0),l===void 0&&(l=!1),this.n=2|(r?4:0)|(o?8:0)|(l?16:0),i!==void 0?this.be=i:this.be=0,t!==void 0?this.ke=t:this.ke=0,this.sc=new x,this.Wg=this.sc.ct,this.Be=null}copy(){const i=new dt;i.n=this.n&-2,i.be=this.be,i.ke=this.ke;const t=this.sc.r,r=t.length,o=i.sc;for(let l=0;l<r;l++){const u=t[l].copy();o.add(u)}return i.Wg=this.Wg,i.Be=this.Be,i}equalsApprox(i){if(!(i instanceof dt)||!K.u(this.startX,i.startX)||!K.u(this.startY,i.startY))return!1;const t=this.segments.r,r=i.segments.r,o=t.length;if(o!==r.length)return!1;for(let l=0;l<o;l++){const u=t[l],c=r[l];if(!u.equalsApprox(c))return!1}return!0}toString(i){i===void 0&&(i=-1);let t="";if(i<0)t="M"+this.startX.toString()+" "+this.startY.toString();else{const l=u=>u===0?"0":u.toFixed(i);t="M"+l(this.startX)+" "+l(this.startY)}const r=this.segments.r,o=r.length;for(let l=0;l<o;l++){const u=r[l];t+=" "+u.toString(i)}return t}get h(){return(this.n&1)!==0}set h(i){i?this.n|=1:this.n&=-2}get bt(){return(this.n&2)!==0}set bt(i){i?this.n|=2:this.n&=-3}g(){this.h=!0;const i=this.segments;i.g();const t=i.r,r=i.length;for(let o=0;o<r;o++)t[o].g();return this}lt(){this.h=!1;const i=this.segments;i.lt();const t=i.r,r=t.length;for(let o=0;o<r;o++)t[o].lt();return this}Uk(){if(this.bt)return!0;const i=this.segments;if(this.Wg!==i.ct)return!0;for(const t of i)if(t.bt)return!0;return!1}zD(){this.bt=!1,this.Be=null;const i=this.segments;this.Wg=i.ct;for(const t of i)t.bt=!1,t.vs=null}get isFilled(){return(this.n&4)!==0}set isFilled(i){this.h&&n.D(this,i),i?this.n|=4:this.n&=-5}get isShadowed(){return(this.n&8)!==0}set isShadowed(i){this.h&&n.D(this,i),i?this.n|=8:this.n&=-9}get isEvenOdd(){return(this.n&16)!==0}set isEvenOdd(i){this.h&&n.D(this,i),i?this.n|=16:this.n&=-17}get startX(){return this.be}set startX(i){this.h&&n.D(this,i),this.be=i,this.Be=null,this.bt=!0}get startY(){return this.ke}set startY(i){this.h&&n.D(this,i),this.ke=i,this.Be=null,this.bt=!0}get segments(){return this.sc}set segments(i){this.h&&n.D(this,i),this.sc=i,this.Be=null,this.bt=!0}add(i){return this.sc.add(i),this.Be=null,this}Vk(i,t,r){const o=this;let l=o.startX,u=o.startY,c=l,f=u;const g=o.segments.r,y=g.length;for(let b=0;b<y;b++){const w=g[b];switch(w.type){case 1:c=w.endX,f=w.endY,l=w.endX,u=w.endY;break;case 2:if(K.vi(l,u,w.endX,w.endY,r,i,t))return!0;l=w.endX,u=w.endY;break;case 3:if(K.bw(l,u,w.point1X,w.point1Y,w.point2X,w.point2Y,w.endX,w.endY,.5,i,t,r))return!0;l=w.endX,u=w.endY;break;case 4:if(K.Ik(l,u,w.point1X,w.point1Y,w.endX,w.endY,.5,i,t,r))return!0;l=w.endX,u=w.endY;break;case 5:case 6:const P=w.type===5?w.So(o):w.Ih(o,l,u),E=P.length,N=w.type===5?w.centerX:w.endX,_=w.type===5?w.centerY:w.endY;if(E===0){if(K.vi(l,u,N,_,r,i,t))return!0;l=N,u=_;break}let R=null;for(let $=0;$<E;$++)if(R=P[$],$===0&&K.vi(l,u,R[0],R[1],r,i,t)||K.bw(R[0],R[1],R[2],R[3],R[4],R[5],R[6],R[7],.5,i,t,r))return!0;R!==null&&(l=R[6],u=R[7]);break;default:n.o("Unknown Segment type: "+w.type)}if(w.isClosed&&(l!==c||u!==f)&&K.vi(l,u,c,f,r,i,t))return!0}return!1}}var mt=(W=>(W[W.Move=1]="Move",W[W.Line=2]="Line",W[W.Bezier=3]="Bezier",W[W.QuadraticBezier=4]="QuadraticBezier",W[W.Arc=5]="Arc",W[W.SvgArc=6]="SvgArc",W))(mt||{});const Br=class Br{constructor(i,t,r,o,l,u,c,f){T(this,"_");T(this,"n");T(this,"Qi");T(this,"_i");T(this,"hn");T(this,"wl");T(this,"xl");T(this,"gr");T(this,"vs");if(M.Yi(this),i===void 0&&(i=2),this._=i,this.n=2,t!==void 0?this.Qi=t:this.Qi=0,r!==void 0?this._i=r:this._i=0,o===void 0&&(o=0),l===void 0&&(l=0),u===void 0&&(u=0),c===void 0&&(c=0),i===6){let g=u;g=g%360,g<0&&(g+=360),this.hn=g,this.wl=0,this.xl=Math.max(o,0),this.gr=Math.max(l,0),typeof c=="boolean"?c&&(this.isLargeArc=!0):typeof c=="number"&&c&&(this.isLargeArc=!0),f&&(this.isClockwiseArc=!0)}else this.hn=o,this.wl=l,i===5&&(u=Math.max(u,0)),this.xl=u,typeof c=="number"?(i===5&&(c=Math.max(c,0)),this.gr=c):this.gr=0;this.vs=null}copy(){const i=new Br;return i._=this._,i.n=this.n&-2,i.Qi=this.Qi,i._i=this._i,i.hn=this.hn,i.wl=this.wl,i.xl=this.xl,i.gr=this.gr,i}equalsApprox(i){if(!(i instanceof Br)||this.type!==i.type||this.isClosed!==i.isClosed)return!1;switch(this.type){case 1:case 2:return K.u(this.endX,i.endX)&&K.u(this.endY,i.endY);case 3:return K.u(this.endX,i.endX)&&K.u(this.endY,i.endY)&&K.u(this.point1X,i.point1X)&&K.u(this.point1Y,i.point1Y)&&K.u(this.point2X,i.point2X)&&K.u(this.point2Y,i.point2Y);case 4:return K.u(this.endX,i.endX)&&K.u(this.endY,i.endY)&&K.u(this.point1X,i.point1X)&&K.u(this.point1Y,i.point1Y);case 5:return K.u(this.startAngle,i.startAngle)&&K.u(this.sweepAngle,i.sweepAngle)&&K.u(this.centerX,i.centerX)&&K.u(this.centerY,i.centerY)&&K.u(this.radiusX,i.radiusX)&&K.u(this.radiusY,i.radiusY);case 6:return this.isClockwiseArc===i.isClockwiseArc&&this.isLargeArc===i.isLargeArc&&K.u(this.xAxisRotation,i.xAxisRotation)&&K.u(this.endX,i.endX)&&K.u(this.endY,i.endY)&&K.u(this.radiusX,i.radiusX)&&K.u(this.radiusY,i.radiusY);default:return!1}}li(i){i in mt?this.type=i:n.lr(this,i)}toString(i){i===void 0&&(i=-1);const t=o=>o===0?"0":o.toFixed(i);let r="";switch(this.type){case 1:i<0?r="M"+this.endX.toString()+" "+this.endY.toString():r="M"+t(this.endX)+" "+t(this.endY);break;case 2:i<0?r="L"+this.endX.toString()+" "+this.endY.toString():r="L"+t(this.endX)+" "+t(this.endY);break;case 3:i<0?r="C"+this.point1X.toString()+" "+this.point1Y.toString()+" "+this.point2X.toString()+" "+this.point2Y.toString()+" "+this.endX.toString()+" "+this.endY.toString():r="C"+t(this.point1X)+" "+t(this.point1Y)+" "+t(this.point2X)+" "+t(this.point2Y)+" "+t(this.endX)+" "+t(this.endY);break;case 4:i<0?r="Q"+this.point1X.toString()+" "+this.point1Y.toString()+" "+this.endX.toString()+" "+this.endY.toString():r="Q"+t(this.point1X)+" "+t(this.point1Y)+" "+t(this.endX)+" "+t(this.endY);break;case 5:i<0?r="B"+this.startAngle.toString()+" "+this.sweepAngle.toString()+" "+this.centerX.toString()+" "+this.centerY.toString()+" "+this.radiusX.toString()+" "+this.radiusY.toString():r="B"+t(this.startAngle)+" "+t(this.sweepAngle)+" "+t(this.centerX)+" "+t(this.centerY)+" "+t(this.radiusX)+" "+t(this.radiusY);break;case 6:i<0?r="A"+this.radiusX.toString()+" "+this.radiusY.toString()+" "+this.xAxisRotation.toString()+" "+(this.isLargeArc?1:0)+" "+(this.isClockwiseArc?1:0)+" "+this.endX.toString()+" "+this.endY.toString():r="A"+t(this.radiusX)+" "+t(this.radiusY)+" "+t(this.xAxisRotation)+" "+(this.isLargeArc?1:0)+" "+(this.isClockwiseArc?1:0)+" "+t(this.endX)+" "+t(this.endY);break;default:r=mt[this.type]}return r+(this.isClosed?"z":"")}get h(){return(this.n&1)!==0}set h(i){i?this.n|=1:this.n&=-2}get bt(){return(this.n&2)!==0}set bt(i){i?this.n|=2:this.n&=-3}g(){return this.h=!0,this}lt(){return this.h=!1,this}close(){return this.isClosed=!0,this}So(i){if(this.vs!==null&&i.bt===!1)return this.vs;const t=this.radiusX;let r=this.radiusY;if(r===void 0&&(r=t),t===0||r===0)return this.vs=[],this.vs;const o=this.hn,l=this.wl,u=K.uC(0,0,t<r?t:r,this.startAngle,this.startAngle+this.sweepAngle,!1);if(t!==r){const f=J.l();f.Jt(),t<r?f.K(1,r/t):f.K(t/r,1),lt.yC(u,f),J.s(f)}const c=u.length;for(let f=0;f<c;f++){const g=u[f];g[0]+=o,g[1]+=l,g[2]+=o,g[3]+=l,g[4]+=o,g[5]+=l,g[6]+=o,g[7]+=l}return this.vs=u,this.vs}Ih(i,t,r){if(this.vs!==null&&i.bt===!1)return this.vs;if(this.radiusX===0||this.radiusY===0)return this.vs=[],this.vs;const o=t,l=r;let u=this.xl,c=this.gr;u===0&&(u=1e-4),c===0&&(c=1e-4);const f=this.hn*(Math.PI/180),g=this.isLargeArc,y=this.isClockwiseArc,b=this.Qi,w=this._i,P=Math.cos(f),E=Math.sin(f),N=P*(o-b)/2+E*(l-w)/2,_=-E*(o-b)/2+P*(l-w)/2,R=N*N/(u*u)+_*_/(c*c);R>1&&(u*=Math.sqrt(R),c*=Math.sqrt(R));let $=(g===y?-1:1)*Math.sqrt((u*u*c*c-u*u*_*_-c*c*N*N)/(u*u*_*_+c*c*N*N));isNaN($)&&($=0);let q=$*u*_/c,X=$*-c*N/u;isNaN(q)&&(q=0),isNaN(X)&&(X=0);const H=(o+b)/2+P*q-E*X,tt=(l+w)/2+E*q+P*X,Q=(et,ft)=>Math.sqrt(et*et+ft*ft),nt=(et,ft,bt,Pt)=>(et*bt+ft*Pt)/(Q(et,ft)*Q(bt,Pt)),ht=(et,ft,bt,Pt)=>(et*Pt<ft*bt?-1:1)*Math.acos(nt(et,ft,bt,Pt)),it=ht(1,0,(N-q)/u,(_-X)/c),st=(N-q)/u,ct=(_-X)/c,ut=(-N-q)/u,pt=(-_-X)/c;let Tt=ht(st,ct,ut,pt);const Et=nt(st,ct,ut,pt);Et<=-1?Tt=Math.PI:Et>=1&&(Tt=0),!y&&Tt>0&&(Tt=Tt-2*Math.PI),y&&Tt<0&&(Tt=Tt+2*Math.PI);const m=u>c?u:c,k=u>c?1:u/c,D=u>c?c/u:1,G=K.uC(0,0,m,it,it+Tt,!0),Z=J.l();return Z.Jt(),Z.Zi(H,tt),Z.fs(this.hn,0,0),Z.K(k,D),lt.yC(G,Z),J.s(Z),this.vs=G,this.vs}get isClosed(){return(this.n&8)!==0}set isClosed(i){this.isClosed!==i&&(i?this.n|=8:this.n&=-9,this.bt=!0)}get type(){return this._}set type(i){this.h&&n.D(this,i),this._=i,this.bt=!0}get endX(){return this.Qi}set endX(i){this.h&&n.D(this,i),this.Qi=i,this.bt=!0}get endY(){return this._i}set endY(i){this.h&&n.D(this,i),this._i=i,this.bt=!0}get point1X(){return this.hn}set point1X(i){this.h&&n.D(this,i),this.hn=i,this.bt=!0}get point1Y(){return this.wl}set point1Y(i){this.h&&n.D(this,i),this.wl=i,this.bt=!0}get point2X(){return this.xl}set point2X(i){this.h&&n.D(this,i),this.xl=i,this.bt=!0}get point2Y(){return this.gr}set point2Y(i){this.h&&n.D(this,i),this.gr=i,this.bt=!0}get centerX(){return this.hn}set centerX(i){this.h&&n.D(this,i),this.hn=i,this.bt=!0}get centerY(){return this.wl}set centerY(i){this.h&&n.D(this,i),this.wl=i,this.bt=!0}get radiusX(){return this.xl}set radiusX(i){i<0&&n.tt(i,">= zero",Br,"radiusX"),this.h&&n.D(this,i),this.xl=i,this.bt=!0}get radiusY(){return this.gr}set radiusY(i){i<0&&n.tt(i,">= zero",Br,"radiusY"),this.h&&n.D(this,i),this.gr=i,this.bt=!0}get startAngle(){return this.Qi}set startAngle(i){this.h&&n.D(this,i),i=i%360,i<0&&(i+=360),this.Qi=i,this.bt=!0}get sweepAngle(){return this._i}set sweepAngle(i){this.h&&n.D(this,i),i>360&&(i=360),i<-360&&(i=-360),this._i=i,this.bt=!0}get isClockwiseArc(){return(this.n&4)!==0}set isClockwiseArc(i){this.h&&n.D(this,i),i?this.n|=4:this.n&=-5,this.bt=!0}get isLargeArc(){return(this.n&16)!==0}set isLargeArc(i){this.h&&n.D(this,i),i?this.n|=16:this.n&=-17,this.bt=!0}get xAxisRotation(){return this.hn}set xAxisRotation(i){this.h&&n.D(this,i),i=i%360,i<0&&(i+=360),this.hn=i,this.bt=!0}};T(Br,"Move",1),T(Br,"Line",2),T(Br,"Bezier",3),T(Br,"QuadraticBezier",4),T(Br,"Arc",5),T(Br,"SvgArc",6);let vt=Br;class Mt{constructor(){T(this,"p");T(this,"Cw");T(this,"Lw");T(this,"Jg");T(this,"$g");T(this,"Zg");T(this,"Qg");T(this,"_g");T(this,"tm");T(this,"im");T(this,"em");T(this,"sm");T(this,"nm");T(this,"om");T(this,"No");T(this,"rm");T(this,"lm");T(this,"hm");T(this,"Pe");this.p=null,this.Cw=new C(0,0).g(),this.Lw=new C(0,0).g(),this.Jg=0,this.$g=0,this.Zg=1,this.Qg="",this._g="",this.tm=!1,this.im=!1,this.em=0,this.sm=0,this.nm=!1,this.om=!1,this.No=!1,this.rm=null,this.lm=0,this.hm=null,this.Pe=null}copy(){const i=new Mt;return this.clone(i)}clone(i){return i.p=this.p,i.Cw.a(this.viewPoint),i.Lw.a(this.documentPoint),i.Jg=this.Jg,i.$g=this.$g,i.Zg=this.Zg,i.Qg=this.Qg,i._g=this._g,i.tm=this.tm,i.im=this.im,i.em=this.em,i.sm=this.sm,i.nm=this.nm,i.om=this.om,i.No=this.No,i.rm=this.rm,i.lm=this.lm,i.hm=this.hm,i.Pe=this.Pe,i}toString(){let i="^";return this.modifiers!==0&&(i+="M:"+this.modifiers),this.button!==0&&(i+="B:"+this.button),this.key!==""&&(i+="K:"+this.key),this.clickCount!==0&&(i+="C:"+this.clickCount),this.delta!==0&&(i+="D:"+this.delta),this.handled&&(i+="h"),this.bubbles&&(i+="b"),this.documentPoint!==null&&(i+="@"+this.documentPoint.toString()),i}get diagram(){return this.p}set diagram(i){this.p=i}get viewPoint(){return this.Cw}set viewPoint(i){this.Cw.a(i)}get documentPoint(){return this.Lw}set documentPoint(i){this.Lw.a(i)}getMultiTouchViewPoint(i,t){const r=this.diagram;return r===null||r.kC(this.event,i,t),t}getMultiTouchDocumentPoint(i,t){const r=this.diagram;return r===null||(r.kC(this.event,i,t),t.a(r.transformViewToDoc(t))),t}get modifiers(){return this.Jg}set modifiers(i){this.Jg=i}get button(){return this.$g}set button(i){if(this.$g=i,this.event===null)switch(i){case 0:this.buttons=1;return;case 1:this.buttons=4;return;case 2:this.buttons=2;return}}get buttons(){return this.Zg}set buttons(i){this.Zg=i}get key(){return this.Qg}set key(i){this.Qg=i}get code(){return this._g}set code(i){this._g=i}get down(){return this.tm}set down(i){this.tm=i}get up(){return this.im}set up(i){this.im=i}get clickCount(){return this.em}set clickCount(i){this.em=i}get delta(){return this.sm}set delta(i){this.sm=i}get isMultiTouch(){return this.nm}set isMultiTouch(i){this.nm=i}get handled(){return this.om}set handled(i){this.om=i}get bubbles(){return this.No}set bubbles(i){this.No=i}get event(){return this.rm}set event(i){this.rm=i}get isTouchEvent(){const i=this.event;return i===null?!1:i.pointerType==="touch"||i.pointerType==="pen"}get timestamp(){return this.lm}set timestamp(i){this.lm=i}get targetDiagram(){return this.hm}set targetDiagram(i){this.hm=i}get targetObject(){return this.Pe}set targetObject(i){this.Pe=i}get control(){return(this.modifiers&1)!==0}set control(i){this.modifiers=i?this.modifiers|1:this.modifiers&-2}get shift(){return(this.modifiers&4)!==0}set shift(i){this.modifiers=i?this.modifiers|4:this.modifiers&-5}get alt(){return(this.modifiers&2)!==0}set alt(i){this.modifiers=i?this.modifiers|2:this.modifiers&-3}get meta(){return(this.modifiers&8)!==0}set meta(i){this.modifiers=i?this.modifiers|8:this.modifiers&-9}get left(){const i=this.event;return i!==null&&(i.type==="mousedown"||i.type==="mouseup"||i.type==="pointerdown"||i.type==="pointerup")?this.button===0:(this.buttons&1)!==0}set left(i){i?this.buttons|=1:this.buttons&=-2}get right(){const i=this.event;return i!==null&&(i.type==="mousedown"||i.type==="mouseup"||i.type==="pointerdown"||i.type==="pointerup")?this.button===2:(this.buttons&2)!==0}set right(i){i?this.buttons|=2:this.buttons&=-3}get middle(){const i=this.event;return i!==null&&(i.type==="mousedown"||i.type==="mouseup"||i.type==="pointerdown"||i.type==="pointerup")?this.button===1:(this.buttons&4)!==0}set middle(i){i?this.buttons|=4:this.buttons&=-5}get commandKey(){const i=this.code,t=this.key;return"cxvyzagCXVYZAG".includes(t)?t.toLowerCase():i==="KeyC"?"c":i==="KeyX"?"x":i==="KeyV"?"v":i==="KeyY"?"y":i==="KeyZ"?"z":i==="KeyA"?"a":i==="KeyG"?"g":i!==""?i:t}}class Ct{constructor(){T(this,"p");T(this,"St");T(this,"am");T(this,"cm");this.p=null,this.St="",this.am=null,this.cm=null}copy(){const i=new Ct;return i.p=this.p,i.St=this.St,i.am=this.am,i.cm=this.cm,i}toString(){let i="*"+this.name;return this.subject!==null&&(i+=":"+this.subject.toString()),this.parameter!==null&&(i+="("+this.parameter.toString()+")"),i}get diagram(){return this.p}set diagram(i){this.p=i}get name(){return this.St}set name(i){this.St=i}get subject(){return this.am}set subject(i){this.am=i}get parameter(){return this.cm}set parameter(i){this.cm=i}}var Ot=(W=>(W[W.Transaction=1]="Transaction",W[W.Property=2]="Property",W[W.Insert=3]="Insert",W[W.Remove=4]="Remove",W))(Ot||{});const zs=class zs{constructor(){T(this,"du");T(this,"fm");T(this,"an");T(this,"Si");T(this,"p");T(this,"gu");T(this,"nc");T(this,"oc");T(this,"rc");T(this,"lc");this.du=2,this.fm="",this.an="",this.Si=null,this.p=null,this.gu=null,this.nc=null,this.oc=null,this.rc=null,this.lc=null}clear(){this.Si=null,this.p=null,this.gu=null,this.nc=null,this.oc=null,this.rc=null,this.lc=null}copy(){const i=new zs;i.du=this.du,i.fm=this.fm,i.an=this.an,i.Si=this.Si,i.p=this.p,i.gu=this.gu;let t=this.nc;return n.wt(t)&&typeof t.copyFrozen=="function"?i.nc=t.copyFrozen():i.nc=t,t=this.oc,n.wt(t)&&typeof t.copyFrozen=="function"?i.oc=t.copyFrozen():i.oc=t,t=this.rc,n.wt(t)&&typeof t.copyFrozen=="function"?i.rc=t.copyFrozen():i.rc=t,t=this.lc,n.wt(t)&&typeof t.copyFrozen=="function"?i.lc=t.copyFrozen():i.lc=t,i}li(i){i in Ot?this.change=i:n.lr(this,i)}toString(){let i="";return this.change===1?i+="* ":this.change===2?i+=this.model!==null?"!m":"!d":i+=(this.model!==null?"!m":"!d")+this.change,this.propertyName&&typeof this.propertyName=="string"&&(i+=" "+this.propertyName),this.modelChange&&this.modelChange!==this.propertyName&&(i+=" "+this.modelChange),i+=": ",this.change===1?this.oldValue!==null&&(i+=" "+this.oldValue):(this.object!==null&&(i+=n.toString(this.object)),this.oldValue!==null&&(i+="  old: "+n.toString(this.oldValue)),this.oldParam!==null&&(i+=" "+this.oldParam),this.newValue!==null&&(i+="  new: "+n.toString(this.newValue)),this.newParam!==null&&(i+=" "+this.newParam)),i}getValue(i){return i?this.oldValue:this.newValue}getParam(i){return i?this.oldParam:this.newParam}canUndo(){return this.model!==null||this.diagram!==null}undo(){this.canUndo()&&(this.model!==null?this.model.changeState(this,!0):this.diagram!==null&&this.diagram.PC(this,!0))}canRedo(){return this.model!==null||this.diagram!==null}redo(){this.canRedo()&&(this.model!==null?this.model.changeState(this,!1):this.diagram!==null&&this.diagram.PC(this,!1))}get model(){return this.Si}set model(i){this.Si=i}get diagram(){return this.p}set diagram(i){this.p=i}get change(){return this.du}set change(i){this.du=i}get modelChange(){return this.fm}set modelChange(i){this.fm=i}get propertyName(){return this.an}set propertyName(i){this.an=i}get isTransactionFinished(){return this.du===1&&(this.an==="CommittedTransaction"||this.an==="FinishedUndo"||this.an==="FinishedRedo")}get object(){return this.gu}set object(i){this.gu=i}get oldValue(){return this.nc}set oldValue(i){this.nc=i}get oldParam(){return this.oc}set oldParam(i){this.oc=i}get newValue(){return this.rc}set newValue(i){this.rc=i}get newParam(){return this.lc}set newParam(i){this.lc=i}};T(zs,"Transaction",1),T(zs,"Property",2),T(zs,"Insert",3),T(zs,"Remove",4);let Rt=zs;class yt{constructor(){T(this,"MC");T(this,"St");T(this,"Xk");this.MC=new x().g(),this.St="",this.Xk=!1}toString(i){let t="Transaction: "+this.name+" "+this.changes.count.toString()+(this.isComplete?"":", incomplete");if(i!==void 0&&i>0){const r=this.changes.count;for(let o=0;o<r;o++){const l=this.changes.elt(o);l!==null&&(t+=`
  `+l.toString())}}return t}clear(){const i=this.changes;i.lt();for(let t=i.count-1;t>=0;t--){const r=i.elt(t);r!==null&&r.clear()}i.clear(),i.g()}canUndo(){return this.isComplete}undo(){if(this.canUndo())for(let i=this.changes.count-1;i>=0;i--){const t=this.changes.elt(i);t!==null&&t.undo()}}canRedo(){return this.isComplete}redo(){if(!this.canRedo())return;const i=this.changes.count;for(let t=0;t<i;t++){const r=this.changes.elt(t);r!==null&&r.redo()}}YD(i){const t=this.changes;for(let r=t.count-1;r>=i;r--){const o=t.elt(r);o!==null&&o.undo(),t.lt(),t.removeAt(r)}t.g()}optimize(){if(!this.isComplete)return;const i=this.changes;i.lt();const t=new V;for(let o=0;o<i.count;o++){const l=i.elt(o);if(l===null||l.change!==2||!l.object)continue;let u=t.get(l.object);u||(u=new V,t.set(l.object,u));const c=u.get(l.propertyName);c===null?u.set(l.propertyName,-1):(c>0&&i.setElt(c,null),u.set(l.propertyName,o))}let r=0;for(let o=0;o<i.count;o++){const l=i.elt(o);l!==null&&(o>r&&i.setElt(r,l),r++)}for(;i.length>r;)i.pop();i.g()}get changes(){return this.MC}get name(){return this.St}set name(i){this.St=i}get isComplete(){return this.Xk}set isComplete(i){this.Xk=i}}class Nt{constructor(i){T(this,"Aw");T(this,"Oi");T(this,"SC");T(this,"Os");T(this,"Kk");T(this,"um");T(this,"Kn");T(this,"Yk");T(this,"Gk");T(this,"cn");T(this,"hc");T(this,"Tw");T(this,"Is");T(this,"Dw");T(this,"Fw");T(this,"dm");T(this,"Rw");this.Aw=new M,this.Oi=!1,this.SC=new x().g(),this.Os=-1,this.Kk=999,this.Is=!1,this.um=null,this.Kn=0,this.Yk=!1,this.Gk=23,this.cn=new x().g(),this.hc=new x,this.Tw=!0,this.Dw=!1,this.Fw=!1,this.dm=!1,this.Rw=!1,i&&Object.assign(this,i)}toString(i){let t="UndoManager "+this.historyIndex+"<"+this.history.count+"<="+this.maxHistoryLength;t+="[";let r=this.nestedTransactionNames.count;for(let o=0;o<r;o++)o>0&&(t+=" "),t+=this.nestedTransactionNames.elt(o);if(t+="]",i!==void 0&&i>0){r=this.history.count;for(let o=0;o<r;o++)t+=`
 `+this.history.elt(o).toString(i-1)}return t}clear(){const i=this.history;i.lt();for(let t=i.count-1;t>=0;t--){const r=i.elt(t);r!==null&&r.clear()}i.clear(),this.Os=-1,i.g(),this.Is=!1,this.um=null,this.Kn=0,this.cn.lt(),this.cn.clear(),this.cn.g(),this.hc.clear(),this.Dw=!1,this.Fw=!1,this.dm=!1,this.Rw=!1}copyProperties(i){this.isEnabled=i.isEnabled,this.maxHistoryLength=i.maxHistoryLength,this.gm=i.gm}addModel(i){this.Aw.add(i)}removeModel(i){this.Aw.delete(i)}startTransaction(i){if(i===void 0&&(i=""),i===null&&(i=""),this.isUndoingRedoing)return!1;this.Tw===!0&&(this.Tw=!1,this.Kn++,this.bl||this.t("StartingFirstTransaction",i,this.currentTransaction),this.Kn>0&&this.Kn--),this.isEnabled&&(this.cn.lt(),this.cn.add(i),this.cn.g(),this.currentTransaction===null?this.hc.add(0):this.hc.add(this.currentTransaction.changes.count)),this.Kn++;const t=this.transactionLevel===1;return t&&(this.bl||this.t("StartedTransaction",i,this.currentTransaction)),t}commitTransaction(i){return i===void 0&&(i=""),this.NC(!0,i)}rollbackTransaction(){return this.NC(!1,"")}NC(i,t){if(this.isUndoingRedoing)return!1;this.gm&&this.transactionLevel<1&&n.ri("Ending transaction without having started a transaction: "+t);const r=this.transactionLevel===1;let o=this.currentTransaction;r&&i&&(this.bl||this.t("CommittingTransaction",t,o));let l=0;if(this.transactionLevel>0&&(this.Kn--,this.isEnabled)){const u=this.cn.count;u>0&&(t===""&&(t=this.cn.elt(0)),this.cn.lt(),this.cn.removeAt(u-1),this.cn.g());const c=this.hc.count;c>0&&(l=this.hc.elt(c-1),this.hc.removeAt(c-1))}if(r){if(i){if(this.dm=!1,o===null&&t!==""&&(o=this.currentTransaction),this.isEnabled&&o!==null){const u=o;u.isComplete||(u.isComplete=!0,u.name=t),this.discardHistoryAfterIndex();const c=this.history;c.lt();const f=this.maxHistoryLength;if(f>=0){if(f===0)c.clear();else if(c.count>=f){const g=c.elt(0);g!==null&&g.clear(),c.removeAt(0),this.Os--}}f!==0&&(c.count===0||c.get(c.count-1)!==u)&&(c.add(u),this.Os++),c.g(),o=u}this.bl||this.t("CommittedTransaction",t,o)}else{this.Is=!0;try{this.isEnabled&&o!==null&&(o.isComplete=!0,o.undo())}finally{this.bl||this.t("RolledBackTransaction",t,o),this.Is=!1}o!==null&&o.clear()}return this.um=null,this.vw&&this.clear(),this.vw=!1,this.Ow=!1,!0}else return this.isEnabled&&!i&&o!==null&&o.YD(l),!1}discardHistoryAfterIndex(){if(this.isUndoingRedoing||!this.canRedo())return;const i=this.history;i.lt();for(let t=i.count-1;t>this.historyIndex;t--){const r=i.elt(t);r!==null&&r.clear(),i.removeAt(t),this.dm=!0}i.g()}sE(i){this.Kn+=i,this.Kn<0&&(this.Kn=0)}canUndo(){if(!this.isEnabled||this.transactionLevel>0)return!1;const i=this.transactionToUndo;return!!(i!==null&&i.canUndo())}undo(){if(!this.canUndo())return;const i=this.transactionToUndo;try{this.Is=!0,this.t("StartingUndo","Undo",i),this.Os--,i.undo()}catch(t){n.ri("undo error: "+t.toString())}finally{this.t("FinishedUndo","Undo",i),this.Is=!1}}canRedo(){if(!this.isEnabled||this.transactionLevel>0)return!1;const i=this.transactionToRedo;return!!(i!==null&&i.canRedo())}redo(){if(!this.canRedo())return;const i=this.transactionToRedo;try{this.Is=!0,this.t("StartingRedo","Redo",i),this.Os++,i.redo()}catch(t){n.ri("redo error: "+t.toString())}finally{this.t("FinishedRedo","Redo",i),this.Is=!1}}t(i,t,r){r===void 0&&(r=null);const o=new Rt;o.change=1,o.propertyName=i,o.object=r,o.oldValue=t;const l=this.models;for(;l.next();){const u=l.value;o.model=u,u.Iw(o)}}handleChanged(i){if(this.isEnabled&&!this.isUndoingRedoing&&!this.skipsEvent(i)){let t=this.currentTransaction;t===null&&(t=new yt,this.um=t);const r=i.copy(),o=t.changes;if(o.lt(),o.add(r),o.g(),this.gm&&this.Gk>0&&this.transactionLevel<=0&&!this.Tw){const l=i.diagram;if(l!==null&&l.Eh===!1)return;n.ri("Change not within a transaction: "+r.toString()),this.Gk--}}}skipsEvent(i){if(i===null||i.change===1)return!0;const t=i.object;if(t===null)return!1;if(t.layer!==void 0){const r=t.layer;if(r!==null&&r.isTemporary)return!0}else if(t.isTemporary)return!0;return!1}get models(){return this.Aw.iterator}get isEnabled(){return this.Oi}set isEnabled(i){this.Oi=i}get transactionToUndo(){return this.historyIndex>=0&&this.historyIndex<=this.history.count-1?this.history.elt(this.historyIndex):null}get transactionToRedo(){return this.historyIndex<this.history.count-1?this.history.elt(this.historyIndex+1):null}get isUndoingRedoing(){return this.Is}get history(){return this.SC}get maxHistoryLength(){return this.Kk}set maxHistoryLength(i){this.Kk=i}get historyIndex(){return this.Os}get currentTransaction(){return this.um}get transactionLevel(){return this.Kn}get isInTransaction(){return this.Kn>0}get gm(){return this.Yk}set gm(i){this.Yk=i}get nestedTransactionNames(){return this.cn}get vw(){return this.Dw}set vw(i){this.Dw=i}get Ow(){return this.Fw}set Ow(i){this.Fw=i}get bl(){return this.Rw}set bl(i){this.Rw=i}get isJustDiscarded(){return this.dm}}class kt{constructor(){T(this,"p");T(this,"St");T(this,"Oi");T(this,"jk");T(this,"Hk");T(this,"mm");T(this,"CC");M.Yi(this),this.p=xe.pm(),this.St="",this.Oi=!0,this.jk=!1,this.Hk=null,this.CC=new Mt,this.mm=-1}get diagram(){return this.p}set diagram(i){i instanceof xe&&(this.p=i)}toString(){return this.name!==""?this.name+" Tool":n.sn(this.constructor)}updateAdornments(i){}canStart(){return this.isEnabled}doStart(){}doActivate(){this.isActive=!0}doDeactivate(){this.isActive=!1}doStop(){}doCancel(){this.transactionResult=null,this.stopTool()}stopTool(){const i=this.diagram;i.currentTool===this&&(i.currentTool=null,i.currentCursor="")}doMouseDown(){!this.isActive&&this.canStart()&&this.doActivate()}doMouseMove(){}doMouseUp(){this.stopTool()}doMouseWheel(){}canStartMultiTouch(){return!0}standardPinchZoomStart(){const i=this.diagram,t=i.lastInput,r=t.getMultiTouchViewPoint(0,C.X(NaN,NaN)),o=t.getMultiTouchViewPoint(1,C.X(NaN,NaN));if(!r.isReal()||!o.isReal()){C.s(r),C.s(o);return}if(this.doCancel(),i.getInputOption("hasGestureZoom")){i.qk=i.scale;const l=o.x-r.x,u=o.y-r.y,c=Math.sqrt(l*l+u*u);i.Wk=c,t.bubbles=!1}C.s(r),C.s(o)}standardPinchZoomMove(){const i=this.diagram,t=i.lastInput,r=t.getMultiTouchViewPoint(0,C.X(NaN,NaN)),o=t.getMultiTouchViewPoint(1,C.X(NaN,NaN));if(!r.isReal()||!o.isReal()){C.s(r),C.s(o);return}if(this.doCancel(),i.getInputOption("hasGestureZoom")){const l=o.x-r.x,u=o.y-r.y,c=Math.sqrt(l*l+u*u)/i.Wk,f=new C((Math.min(o.x,r.x)+Math.max(o.x,r.x))/2,(Math.min(o.y,r.y)+Math.max(o.y,r.y))/2),g=i.qk*c,y=i.commandHandler;if(g!==i.scale&&y.canResetZoom(g)){const b=i.zoomPoint;i.zoomPoint=f,y.resetZoom(g),i.zoomPoint=b}t.bubbles=!1}C.s(r),C.s(o)}doKeyDown(){this.diagram.lastInput.code==="Escape"&&this.doCancel()}doKeyUp(){}startTransaction(i){return i===void 0&&(i=this.name),this.transactionResult=null,this.diagram.startTransaction(i)}stopTransaction(){const i=this.diagram;return this.transactionResult===null?i.rollbackTransaction():i.commitTransaction(this.transactionResult)}standardMouseSelect(){const i=this.diagram;if(!i.allowSelect)return;const t=i.lastInput,r=i.findPartAt(t.documentPoint,!1);if(r!==null){if(n.rr?t.meta:t.control){i.v("ChangingSelection",i.selection);let o=r;for(;o!==null&&!o.canSelect();)o=o.containingGroup;o!==null&&(o.isSelected=!o.isSelected),i.v("ChangedSelection",i.selection)}else if(t.shift){if(!r.isSelected){i.v("ChangingSelection",i.selection);let o=r;for(;o!==null&&!o.canSelect();)o=o.containingGroup;o!==null&&(o.isSelected=!0),i.v("ChangedSelection",i.selection)}}else if(!r.isSelected){let o=r;for(;o!==null&&!o.canSelect();)o=o.containingGroup;o!==null&&i.select(o)}}else t.left&&!(n.rr?t.meta:t.control)&&!t.shift&&i.clearSelection()}standardMouseClick(i,t){i===void 0&&(i=null),t===void 0&&(t=u=>!u.layer.isTemporary);const r=this.diagram,o=r.lastInput,l=r.findObjectAt(o.documentPoint,i,t);return o.targetObject=l,this.GD(l,o,r),o.handled}GD(i,t,r){if(t.handled=!1,i!==null&&!i.isEnabledObject())return;let o=0;t.left?t.clickCount===1?o=1:t.clickCount===2?o=2:o=1:t.right&&t.clickCount===1&&(o=3);let l="ObjectSingleClicked";if(i!==null){switch(o){case 1:l="ObjectSingleClicked";break;case 2:l="ObjectDoubleClicked";break;case 3:l="ObjectContextClicked";break}o!==0&&r.v(l,i)}else{switch(o){case 1:l="BackgroundSingleClicked";break;case 2:l="BackgroundDoubleClicked";break;case 3:l="BackgroundContextClicked";break}o!==0&&r.v(l)}if(i!==null)for(;i!==null;){let u=null;switch(o){case 1:u=i.click;break;case 2:u=i.doubleClick?i.doubleClick:i.click;break;case 3:u=i.contextClick;break}if(u!==null&&(u(t,i),t.handled))break;i=i.panel}else{let u=null;switch(o){case 1:u=r.click;break;case 2:u=r.doubleClick?r.doubleClick:r.click;break;case 3:u=r.contextClick;break}u!==null&&u(t)}}standardMouseOver(){const i=this.diagram,t=i.lastInput;if(i.animationManager.xi===!0)return;const r=i.skipsUndoManager;i.skipsUndoManager=!0;let o=i.viewportBounds.containsPoint(t.documentPoint)?i.findObjectAt(t.documentPoint,null,null):null;t.event&&(t.event.type==="pointercancel"||t.event.type==="pointerout")&&(o=null),t.targetObject=o;let l=!1;if(o!==i.ac){let u=i.ac;const c=u;for(i.ac=o,this.doCurrentObjectChanged(u,o),t.handled=!1;u!==null;){const f=u.mouseLeave;if(f!==null&&(o===u||o!==null&&o.isContainedBy(u)||(f(t,u,o),l=!0,t.handled)))break;u=u.panel}for(u=c,t.handled=!1;o!==null;){const f=o.mouseEnter;if(f!==null&&(u===o||u!==null&&u.isContainedBy(o)||(f(t,o,u),l=!0,t.handled)))break;o=o.panel}o=i.ac}if(o!==null){let u=o,c="";for(;u!==null&&(c=u.cursor,c==="");)u=u.panel;for(i.currentCursor=c,t.handled=!1,u=o;u!==null;){const f=u.mouseOver;if(f!==null&&(f(t,u),l=!0,t.handled))break;u=u.panel}}else{this.doUpdateCursor(null);const u=i.mouseOver;u!==null&&(u(t),l=!0)}l&&i.requestUpdate(),i.skipsUndoManager=r}doUpdateCursor(i){const t=this.diagram;t&&(t.currentCursor="")}doCurrentObjectChanged(i,t){}standardMouseWheel(){const i=this.diagram,t=i.lastInput;let r=t.delta;if(r===0||!i.documentBounds.isReal())return;const o=i.commandHandler,l=i.toolManager.mouseWheelBehavior;if(o!==null&&(l===2&&!t.shift||l===1&&t.control)){if(r>0?o.canIncreaseZoom():o.canDecreaseZoom()){const u=i.zoomPoint;i.zoomPoint=t.viewPoint,r>0?o.increaseZoom():o.decreaseZoom(),i.zoomPoint=u}t.bubbles=!1}else if(l===2&&t.shift||l===1&&!t.control){const u=i.position.copy(),c=t.event,f=c.deltaMode;let g=c.deltaX,y=c.deltaY,b="pixel";if((g!==0||y!==0)&&!t.shift){switch(f){case 0:b="pixel";break;case 1:b="line";break;case 2:b="page";break}if(g!==0&&i.allowHorizontalScroll){const w=i.scrollHorizontalLineChange;g=g*(w/16),i.scroll(b,g>0?"right":"left",Math.abs(g))}if(y!==0&&i.allowVerticalScroll){const w=i.scrollVerticalLineChange;y=y*(w/16),i.scroll(b,y>0?"down":"up",Math.abs(y))}}else!t.shift&&i.allowVerticalScroll?(r=r*3*i.scrollVerticalLineChange,i.scroll(b,r>0?"up":"down",Math.abs(r))):t.shift&&i.allowHorizontalScroll&&(r=r*3*i.scrollHorizontalLineChange,i.scroll(b,r>0?"left":"right",Math.abs(r)));this.doWheelChange(i,u,t)}}doWheelChange(i,t,r){(!i.position.equals(t)||r.event.wheelDeltaX!==0)&&(r.bubbles=!1)}standardWaitAfter(i,t){t===void 0&&(t=this.diagram.lastInput),this.cancelWaitAfter();const r=this,o=t.clone(this.CC);this.mm=n.vh(()=>r.doWaitAfter(o),i)}cancelWaitAfter(){this.mm!==-1&&n.Ig(this.mm),this.mm=-1}doWaitAfter(i){}findToolHandleAt(i,t){const r=this.diagram.findObjectAt(i,o=>{for(;o!==null&&!(o.panel instanceof ye);)o=o.panel;return o});return r===null?null:r.part.category===t?r:null}isBeyondDragSize(i,t){const r=this.diagram;i===void 0&&(i=r.firstInput.viewPoint),t===void 0&&(t=r.lastInput.viewPoint);const o=r.toolManager.dragSize;let l=o.width,u=o.height;return r.firstInput.isTouchEvent&&(l+=6,u+=6),Math.abs(t.x-i.x)>l||Math.abs(t.y-i.y)>u}get name(){return this.St}set name(i){this.St=i}get isEnabled(){return this.Oi}set isEnabled(i){this.Oi=i}get isActive(){return this.jk}set isActive(i){this.jk=i}get transactionResult(){return this.Hk}set transactionResult(i){this.Hk=i}}var At=(W=>(W[W.Scroll=1]="Scroll",W[W.Zoom=2]="Zoom",W[W.None=3]="None",W))(At||{}),It=(W=>(W[W.Zoom=1]="Zoom",W[W.Cancel=2]="Cancel",W[W.None=3]="None",W))(It||{});class $t extends kt{constructor(t){super();T(this,"LC");T(this,"AC");T(this,"TC");T(this,"Jk");T(this,"$k");T(this,"Zk");T(this,"Qk");T(this,"_k");T(this,"tP");T(this,"iP");T(this,"ym");T(this,"Uh");this.name="ToolManager",this.LC=new x,this.AC=new x,this.TC=new x,this.Jk=850,this.$k=850,this.Zk=new z(2,2).et(),this.Qk=5e3,this._k=1,this.tP=1,this.iP=null,this.ym=null,this.Uh=-1,t&&Object.assign(this,t)}get mouseWheelBehavior(){return this._k}set mouseWheelBehavior(t){this._k=t}get gestureBehavior(){return this.tP}set gestureBehavior(t){this.tP=t}initializeStandardTools(){}updateAdornments(t){const r=this.currentToolTip;if(r instanceof ye&&this.ym===t){const o=r.adornedObject;(t!==null?o.part===t:o===null)?this.showToolTip(r,o):this.hideToolTip()}}doMouseDown(){const t=this.diagram,r=t.lastInput;if(r.isTouchEvent&&this.gestureBehavior===2&&(r.bubbles=!1),r.isMultiTouch){if(this.cancelWaitAfter(),this.gestureBehavior===3){r.bubbles=!0;return}if(this.gestureBehavior===2)return;if(t.currentTool.canStartMultiTouch()){t.currentTool.standardPinchZoomStart();return}}t.undoManager;const o=this.mouseDownTools.length;for(let l=0;l<o;l++){const u=this.mouseDownTools.elt(l);if(u.diagram=this.diagram,u.canStart()){t.doFocus(),t.currentTool=u,t.currentTool===u&&(u.isActive||u.doActivate(),u.doMouseDown());return}}t.lastInput.button===1&&(this.mouseWheelBehavior===1?this.mouseWheelBehavior=2:this.mouseWheelBehavior===2&&(this.mouseWheelBehavior=1)),this.doActivate(),this.standardWaitAfter(this.holdDelay,r)}doMouseMove(){const t=this.diagram,r=t.lastInput;if(r.isMultiTouch){if(this.gestureBehavior===3){r.bubbles=!0;return}if(this.gestureBehavior===2)return;if(t.currentTool.canStartMultiTouch()){t.currentTool.standardPinchZoomMove();return}}if(this.isActive){const l=this.mouseMoveTools.length;for(let u=0;u<l;u++){const c=this.mouseMoveTools.elt(u);if(c.diagram=this.diagram,c.canStart()){t.doFocus(),t.currentTool=c,t.currentTool===c&&(c.isActive||c.doActivate(),c.doMouseMove());return}}}this.standardMouseActivity(t);const o=r.event;o!==null&&(o.type==="pointermove"||!o.cancelable)&&(r.bubbles=!0)}standardMouseActivity(t){this.standardMouseOver(),this.isBeyondDragSize()&&this.standardWaitAfter(this.isActive?this.holdDelay:this.hoverDelay,t.lastInput)}doCurrentObjectChanged(t,r){const o=this.currentToolTip;o!==null&&(r!==null&&o instanceof ye&&(r===o||r.isContainedBy(o))||this.hideToolTip())}doWaitAfter(t){const r=this.diagram;if(r.jD()&&(this.doMouseHover(),this.isActive||this.doToolTip(),t.isTouchEvent&&!r.lastInput.handled)){const o=t.copy();o.button=2,r.lastInput=o,r.Ew=!0,r.doMouseUp();return}}doMouseHover(){const t=this.diagram,r=t.lastInput;r.targetObject===null&&(r.targetObject=t.findObjectAt(r.documentPoint,null,null));let o=r.targetObject;if(o!==null)for(r.handled=!1;o!==null;){const l=this.isActive?o.mouseHold:o.mouseHover;if(l!==null&&(l(r,o),r.handled))break;o=o.panel}else{const l=this.isActive?t.mouseHold:t.mouseHover;l!==null&&l(r)}}doToolTip(){const t=this.diagram,r=t.lastInput;r.targetObject===null&&(r.targetObject=t.findObjectAt(r.documentPoint,null,null));let o=r.targetObject;if(o!==null){const l=this.currentToolTip;if(l instanceof ye&&(o===l||o.isContainedBy(l)))return;for(;o!==null;){const u=o.toolTip;if(u!==null){this.showToolTip(u,o);return}o=o.panel}this.hideToolTip()}else{const l=t.toolTip;l!==null?this.showToolTip(l,null):this.hideToolTip()}}showToolTip(t,r){const o=this.diagram;if(t!==this.currentToolTip&&this.hideToolTip(),t instanceof ye){t.layerName="Tool",t.selectable=!1,t.scale=1/o.scale,t.category="ToolTip",t.hasPlaceholder()&&(t.placeholder.scale=o.scale);const u=t.diagram;u!==null&&u!==o&&u.remove(t),o.add(t),r!==null?t.adornedObject=r:t.data=o.model,t.ensureBounds(),this.positionToolTip(t,r)}else t instanceof qe&&t!==this.currentToolTip&&t.show(r,o,this);this.currentToolTip=t,this.Uh!==-1&&(n.Ig(this.Uh),this.Uh=-1);const l=this.toolTipDuration;if(l>0&&l!==1/0){const u=this;this.Uh=n.vh(()=>u.hideToolTip(),l)}}positionToolTip(t,r){if(t.hasPlaceholder())return;const o=t,l=this.diagram,u=l.lastInput.documentPoint.copy(),c=o.measuredBounds,f=l.viewportBounds;l.lastInput.isTouchEvent&&(u.x-=c.width),u.x+c.width>f.right&&(u.x-=c.width+5/l.scale),u.x<f.x&&(u.x=f.x),u.y+20/l.scale+c.height>f.bottom?u.y-=c.height+5/l.scale:u.y+=20/l.scale,u.y<f.y&&(u.y=f.y),o.position=u}hideToolTip(){this.Uh!==-1&&(n.Ig(this.Uh),this.Uh=-1);const t=this.diagram,r=this.currentToolTip;r!==null&&(r instanceof ye?(t.remove(r),this.ym!==null&&this.ym.removeAdornment(r.category),r.data=null,r.adornedObject=null):r instanceof qe&&r.hide!==null&&r.hide(t,this),this.currentToolTip=null)}get currentToolTip(){return this.iP}set currentToolTip(t){this.iP=t,this.ym=t!==null&&t instanceof ye?t.adornedPart:null}doMouseUp(){this.cancelWaitAfter();const t=this.diagram;if(this.isActive){const r=this.mouseUpTools.length;for(let o=0;o<r;o++){const l=this.mouseUpTools.elt(o);if(l.diagram=this.diagram,l.canStart()){t.doFocus(),t.currentTool=l,t.currentTool===l&&(l.isActive||l.doActivate(),l.doMouseUp());return}}}t.doFocus(),this.doDeactivate()}doMouseWheel(){this.standardMouseWheel()}doKeyDown(){const t=this.diagram;t.commandHandler!==null&&t.commandHandler.doKeyDown()}doKeyUp(){const t=this.diagram;t.commandHandler!==null&&t.commandHandler.doKeyUp()}findTool(t){let r=this.mouseDownTools.length;for(let o=0;o<r;o++){const l=this.mouseDownTools.elt(o);if(l.name===t)return l}r=this.mouseMoveTools.length;for(let o=0;o<r;o++){const l=this.mouseMoveTools.elt(o);if(l.name===t)return l}r=this.mouseUpTools.length;for(let o=0;o<r;o++){const l=this.mouseUpTools.elt(o);if(l.name===t)return l}return null}replaceTool(t,r){r!==null&&(r.diagram=this.diagram);let o=this.mouseDownTools.length;for(let l=0;l<o;l++){const u=this.mouseDownTools.elt(l);if(u.name===t)return r!==null?this.mouseDownTools.setElt(l,r):this.mouseDownTools.removeAt(l),u}o=this.mouseMoveTools.length;for(let l=0;l<o;l++){const u=this.mouseMoveTools.elt(l);if(u.name===t)return r!==null?this.mouseMoveTools.setElt(l,r):this.mouseMoveTools.removeAt(l),u}o=this.mouseUpTools.length;for(let l=0;l<o;l++){const u=this.mouseUpTools.elt(l);if(u.name===t)return r!==null?this.mouseUpTools.setElt(l,r):this.mouseUpTools.removeAt(l),u}return null}replaceStandardTool(t,r,o){this.$t(t,r,o)}$t(t,r,o){r!==null&&(r.name=t,r.diagram=this.diagram),this.findTool(t)?this.replaceTool(t,r):r!==null&&o.add(r)}get mouseDownTools(){return this.LC}get mouseMoveTools(){return this.AC}get mouseUpTools(){return this.TC}get hoverDelay(){return this.Jk}set hoverDelay(t){this.Jk=t}get holdDelay(){return this.$k}set holdDelay(t){this.$k=t}get dragSize(){return this.Zk}set dragSize(t){this.Zk=t.N()}get toolTipDuration(){return this.Qk}set toolTipDuration(t){this.Qk=t}get actionTool(){return this.findTool("Action")}set actionTool(t){this.$t("Action",t,this.mouseDownTools)}get relinkingTool(){return this.findTool("Relinking")}set relinkingTool(t){this.$t("Relinking",t,this.mouseDownTools)}get linkReshapingTool(){return this.findTool("LinkReshaping")}set linkReshapingTool(t){this.$t("LinkReshaping",t,this.mouseDownTools)}get resizingTool(){return this.findTool("Resizing")}set resizingTool(t){this.$t("Resizing",t,this.mouseDownTools)}get rotatingTool(){return this.findTool("Rotating")}set rotatingTool(t){this.$t("Rotating",t,this.mouseDownTools)}get linkingTool(){return this.findTool("Linking")}set linkingTool(t){this.$t("Linking",t,this.mouseMoveTools)}get draggingTool(){return this.findTool("Dragging")}set draggingTool(t){this.$t("Dragging",t,this.mouseMoveTools)}get dragSelectingTool(){return this.findTool("DragSelecting")}set dragSelectingTool(t){this.$t("DragSelecting",t,this.mouseMoveTools)}get panningTool(){return this.findTool("Panning")}set panningTool(t){this.$t("Panning",t,this.mouseMoveTools)}get contextMenuTool(){return this.findTool("ContextMenu")}set contextMenuTool(t){this.$t("ContextMenu",t,this.mouseUpTools)}get textEditingTool(){return this.findTool("TextEditing")}set textEditingTool(t){this.$t("TextEditing",t,this.mouseUpTools)}get clickCreatingTool(){return this.findTool("ClickCreating")}set clickCreatingTool(t){this.$t("ClickCreating",t,this.mouseUpTools)}get clickSelectingTool(){return this.findTool("ClickSelecting")}set clickSelectingTool(t){this.$t("ClickSelecting",t,this.mouseUpTools)}}T($t,"WheelScroll",1),T($t,"WheelZoom",2),T($t,"WheelNone",3),T($t,"GestureZoom",1),T($t,"GestureCancel",2),T($t,"GestureNone",3);const Ve=class Ve extends kt{constructor(t){super();T(this,"eP");T(this,"sP");T(this,"fn");T(this,"nP");T(this,"oP");T(this,"rP");T(this,"lP");T(this,"cc");T(this,"wm");T(this,"hP");T(this,"Bh");T(this,"mr");T(this,"DC");T(this,"aP");T(this,"mu");T(this,"pu");T(this,"cP");T(this,"fP");T(this,"uP");T(this,"dP");this.name="Dragging",this.eP=!0,this.dP=!0,this.sP=!0,this.fn=null,this.nP=null,this.oP=null,this.rP=null,this.lP=!1,this.mu=!1,this.cc=new C(NaN,NaN),this.wm=new C,this.hP=!0,this.Bh=100,this.mr=[],this.DC=new M().g(),this.aP=new Xe,this.pu=null,this.cP="copy",this.fP="",this.uP="no-drop",t&&Object.assign(this,t)}get isCopyEnabled(){return this.eP}set isCopyEnabled(t){this.eP=t}get copiesEffectiveCollection(){return this.sP}set copiesEffectiveCollection(t){this.sP=t}get dragOptions(){return this.aP}set dragOptions(t){this.aP=t}get isGridSnapEnabled(){return this.dragOptions.isGridSnapEnabled}set isGridSnapEnabled(t){this.dragOptions.isGridSnapEnabled=t}get isComplexRoutingRealtime(){return this.hP}set isComplexRoutingRealtime(t){this.hP=t;const r=this.diagram.findRouter("AvoidsLinks");r!==null&&(r.isRealtime=t)}get isGridSnapRealtime(){return this.dragOptions.isGridSnapRealtime}set isGridSnapRealtime(t){this.dragOptions.isGridSnapRealtime=t}get gridSnapCellSize(){return this.dragOptions.gridSnapCellSize}set gridSnapCellSize(t){this.dragOptions.gridSnapCellSize.equals(t)||(t=t.N(),this.dragOptions.gridSnapCellSize=t)}get gridSnapCellSpot(){return this.dragOptions.gridSnapCellSpot}set gridSnapCellSpot(t){this.dragOptions.gridSnapCellSpot.equals(t)||(t=t.N(),this.dragOptions.gridSnapCellSpot=t)}get gridSnapOrigin(){return this.dragOptions.gridSnapOrigin}set gridSnapOrigin(t){this.dragOptions.gridSnapOrigin.equals(t)||(t=t.N(),this.dragOptions.gridSnapOrigin=t)}get dragsLink(){return this.dragOptions.dragsLink}set dragsLink(t){this.dragOptions.dragsLink=t}get dragsTree(){return this.dragOptions.dragsTree}set dragsTree(t){this.dragOptions.dragsTree=t}get copyCursor(){return this.cP}set copyCursor(t){this.cP=t}get moveCursor(){return this.fP}set moveCursor(t){this.fP=t}get nodropCursor(){return this.uP}set nodropCursor(t){this.uP=t}get currentPart(){return this.nP}set currentPart(t){this.nP=t}get copiedParts(){return this.rP}set copiedParts(t){this.rP=t}get draggedParts(){return this.oP}set draggedParts(t){this.oP=t}get draggingParts(){return this.copiedParts!==null?this.copiedParts.toKeySet():this.draggedParts!==null?this.draggedParts.toKeySet():this.DC}get draggedLink(){return this.diagram.draggedLink}set draggedLink(t){this.diagram.draggedLink=t}get isDragOutStarted(){return this.lP}set isDragOutStarted(t){this.lP=t}get startPoint(){return this.wm}set startPoint(t){this.wm.equals(t)||this.wm.a(t)}get delay(){return this.Bh}set delay(t){this.Bh=t}canStart(){if(!this.isEnabled)return!1;const t=this.diagram;if(t===null||t.isReadOnly&&!t.allowDragOut||!t.allowMove&&!t.allowCopy&&!t.allowDragOut||!t.allowSelect)return!1;const r=t.lastInput;return!r.left||t.currentTool!==this&&(!this.isBeyondDragSize()||r.isTouchEvent&&r.timestamp-t.firstInput.timestamp<this.Bh)?!1:this.findDraggablePart()!==null}findDraggablePart(){const t=this.diagram;let r=t.findPartAt(t.firstInput.documentPoint,!1);if(r===null)return null;for(;r!==null&&!r.canSelect();)r=r.containingGroup;return r!==null&&(r.canMove()||r.canCopy())?r:null}standardMouseSelect(){const t=this.diagram;if(!t.allowSelect)return;let r=t.findPartAt(t.firstInput.documentPoint,!1);if(r!==null){for(;r!==null&&!r.canSelect();)r=r.containingGroup;if(this.currentPart=r,this.currentPart!==null&&!this.currentPart.isSelected){t.v("ChangingSelection",t.selection);const o=t.lastInput;!(n.rr?o.meta:o.control)&&!o.shift&&t.clearSelection(!0),this.currentPart.isSelected=!0,t.v("ChangedSelection",t.selection)}}}doActivate(){const t=this.diagram;this.pu=null,this.currentPart===null&&this.standardMouseSelect();const r=this.currentPart;if(r===null||!r.canMove()&&!r.canCopy())return;t.cacheGroupExternalLinks(!0),Ve.yt=null,this.isActive=!0,this.cc.set(t.position),this.gP(t.selection),this.mr.length=0,t.animationManager.stopAnimation();const o=this.computeEffectiveCollection(t.selection,this.dragOptions);this.draggedParts=o,this.dP=this.diagram.layout.isRealtime,this.diagram.layout.isRealtime=!1,t.fc=!0,t.getRenderingHint("temporaryPixelRatio")===!0&&t.avgSpf>30&&t.Uw(),t.Bw(this.draggedParts),t.yu=!0,this.startTransaction("Drag"),this.startPoint=t.firstInput.documentPoint,t.isMouseCaptured=!0,t.allowDragOut&&this.HD()}gP(t){if(this.dragsLink){const r=this.diagram;if(!r.allowRelink)return;r.model.uc()&&t.count===1&&t.first()instanceof se?(this.draggedLink=t.first(),this.draggedLink.canRelinkFrom()&&this.draggedLink.canRelinkTo()&&this.draggedLink.clearAdornments(),this.fn=r.toolManager.findTool("Relinking"),this.fn===null&&(this.fn=new be,this.fn.diagram=r),this.fn.originalLink=this.draggedLink):(this.draggedLink=null,this.fn=null)}}computeEffectiveCollection(t,r){return this.diagram.commandHandler.computeEffectiveCollection(t,r)}Es(t){return t===void 0?new Oe(C.ko):this.isGridSnapEnabled?new Oe(new C(Math.round(t.x*1e3)/1e3,Math.round(t.y*1e3)/1e3)):new Oe(t.copy())}doDeactivate(){this.isActive=!1;const t=this.diagram;this.diagram.layout.isRealtime=this.dP,t.yu=!1,t.kl=!0,t.cacheGroupExternalLinks(!1),t.stopAutoScroll(),this.mP(),t.xm(this.draggedParts),this.pu=null,this.currentPart=null,this.draggedParts=null,this.isDragOutStarted=!1,this.mu=!1,Ve.qD(),this.FC(),this.cc.e(NaN,NaN),Ve.Vh!==null&&(Ve.Vh.currentCursor=""),Ve.Vh=null,Ve.yt=null,this.Pl(),t.isMouseCaptured=!1,t.currentCursor="",t.fc=!1,this.stopTransaction(),t.pP(!0)}stopTransaction(){const t=this.diagram,r=super.stopTransaction();return r&&t.undoManager.transactionToUndo!==null&&t.undoManager.transactionToUndo.optimize(),r}mP(){const t=this.diagram,r=t.skipsUndoManager;t.skipsUndoManager=!0;const o=t.lastInput;this.RC(o,null),t.skipsUndoManager=r,this.mr.length=0}vC(){this.Pl(),this.yP();const t=this.diagram;this.cc.isReal()&&(t.position=this.cc),t.stopAutoScroll()}doCancel(){this.Pl(),this.yP();const t=this.diagram;this.cc.isReal()&&(t.position=this.cc),this.stopTool()}doKeyDown(){const t=this.diagram,r=t.lastInput;this.isActive&&(r.code==="Escape"?this.doCancel():r.code!==t.previousInput.code&&this.doMouseMove())}doKeyUp(){this.isActive&&this.doMouseMove()}WD(t,r){let o=1/0,l=1/0,u=-1/0,c=-1/0;const f=t.iterator;for(;f.next();){const g=f.value;if(!g.isVisible())continue;const y=g.location,b=y.x,w=y.y;isNaN(b)||isNaN(w)||(b<o&&(o=b),w<l&&(l=w),b>u&&(u=b),w>c&&(c=w))}return o===1/0?r.e(0,0,0,0):r.e(o,l,u-o,c-l),r}wP(t){if(this.copiedParts!==null)return;const r=this.diagram;if(t&&(r.isReadOnly||r.isModelReadOnly)||this.draggedParts===null)return;const o=r.undoManager;o.isEnabled&&o.isInTransaction?o.currentTransaction!==null&&o.currentTransaction.changes.count>0&&(r.undoManager.rollbackTransaction(),r.startTransaction("Drag")):this.yP(),r.skipsUndoManager=!t,r.partManager.addsToTemporaryLayer=!t,this.startPoint=r.firstInput.documentPoint;const l=this.copiesEffectiveCollection?this.draggedParts.toKeySet():r.selection,u=r.copyParts(l,r,!0),c=new V,f=this.draggedParts.iterator;for(;f.next();){const y=f.key;if(y.Me()&&y.canCopy()){const b=u.get(y);if(b===null)continue;b.location=y.location,b.ensureBounds(),c.set(b,this.Es(b.location))}}const g=u.iterator;for(;g.next();){const y=g.value;y instanceof se&&y.canCopy()&&c.set(y,this.Es())}if(this.copiedParts=c,this.gP(c.toKeySet()),this.draggedLink!==null){const y=this.draggedLink,b=y.routeBounds;y.pr(this.startPoint.x-(b.x+b.width/2),this.startPoint.y-(b.y+b.height/2))}this.doUpdateCursor(null)}Pl(){const t=this.diagram;if(this.copiedParts!==null){if(t.removeParts(this.copiedParts.toKeySet(),!1),this.copiedParts=null,this.draggedParts!==null){const r=this.draggedParts.iterator;for(;r.next();)if(r.key instanceof se){const o=r.value;o.point=new C(0,0)}}this.doUpdateCursor(null)}t.skipsUndoManager=!1,t.partManager.addsToTemporaryLayer=!1,this.startPoint=t.firstInput.documentPoint}FC(){this.draggedLink!==null&&(this.dragsLink&&this.fn!==null&&(this.fn.stopDraggingMouseMove(),this.fn.originalLink=null),this.draggedLink=null,this.fn=null)}dc(t,r){const o=this.diagram,l=this.startPoint,u=C.l();u.a(o.lastInput.documentPoint),this.moveParts(t,u.subtract(l),r),C.s(u),o.getRenderingHint("temporaryPixelRatio")===!0&&o.Ml===null&&o.avgSpf>30&&(o.Uw(),o.wu())}moveParts(t,r,o){o===void 0&&(o=!1);const l=this.diagram;l!==null&&l.xP(t,r,this.dragOptions,o)}yP(){if(this.draggedParts===null)return;const t=this.diagram;let r=this.draggedParts.iterator;for(;r.next();){const o=r.key;o.Me()&&(o.location=r.value.point)}for(r=this.draggedParts.iterator;r.next();){const o=r.key;if(o instanceof se&&o.suspendsRouting){const l=r.value.point;this.draggedParts.set(o,this.Es()),o.pr(-l.x,-l.y)}}t.maybeUpdate()}JD(t){if(t===null)return!0;const r=t.part;return!!(r===null||r instanceof ye||r.layer.isTemporary||this.draggedParts&&this.draggedParts.has(r)||this.copiedParts&&this.copiedParts.has(r))}bP(t){const r=this.diagram;this.dragsLink&&(this.draggedLink!==null&&(this.draggedLink.fromNode=null,this.draggedLink.toNode=null),this.OC(!1));const o=this.findDragOverObject(t),l=r.lastInput;l.targetObject=o,this.doUpdateCursor(o);const u=r.skipsUndoManager;let c=!1;try{if(r.skipsUndoManager=!0,c=this.RC(l,o),!this.isActive&&Ve.yt===null)return;const f=o!==null?o.part:null;if(f===null||r.handlesDragDropForTopLevelParts&&f.isTopLevel&&!(f instanceof Ut)){const g=r.mouseDragOver;g!==null&&(g(l),c=!0)}if(!this.isActive&&Ve.yt===null||(this.doDragOver(t,o),!this.isActive&&Ve.yt===null))return}finally{r.skipsUndoManager=u,c&&r.maybeUpdate()}this.pu=o,!r.isReadOnly&&(r.allowMove||r.allowCopy)&&(r.allowHorizontalScroll||r.allowVerticalScroll)&&r.doAutoScroll(l.viewPoint)}findDragOverObject(t){return this.diagram.kP(t,null,r=>!this.JD(r))}doUpdateCursor(t){const r=this.diagram;(t===null||this.pu!==t)&&(!this.diagram.currentTool.isActive||this.mayCopy()?r.currentCursor=this.copyCursor:this.mayMove()?r.currentCursor=this.moveCursor:this.mayDragOut()&&(r.currentCursor=this.nodropCursor))}RC(t,r){let o=!1,l=this.mr.length;const u=l>0?this.mr[0]:null;if(r===u)return!1;t.handled=!1;for(let f=0;f<l;f++){const g=this.mr[f],y=g.mouseDragLeave;if(y!==null&&(y(t,g,r),o=!0,t.handled))break}if(this.mr.length=0,!this.isActive&&Ve.yt===null||r===null)return o;t.handled=!1;let c=r;for(;c!==null;)this.mr.push(c),c=this.IC(c);l=this.mr.length;for(let f=0;f<l;f++){const g=this.mr[f],y=g.mouseDragEnter;if(y!==null&&(y(t,g,u),o=!0,t.handled))break}return o}nE(t,r){return t===null?!1:!!(t===r||t.isContainedBy(r)||r instanceof Ut&&!(t instanceof Ut)&&r.handlesDragDropForMembers&&t.part.isMemberOf(r))}IC(t){const r=t.panel;if(r!==null)return r;if(t instanceof Le&&!(t instanceof Ut)){const o=t.containingGroup;if(o!==null&&o.handlesDragDropForMembers)return o}return null}EC(t,r){const o=this.diagram,l=this.fn;if(l===null)return null;const u=l.portGravity,c=o.findObjectsNear(t,u,b=>l.findValidLinkablePort(b,r)),f=C.l();let g=1/0,y=null;for(const b=c.iterator;b.next();){const w=b.value;if(w.part===null)continue;const P=w.getDocumentPoint(U.Center,f),E=t.distanceSquaredPoint(P);E<g&&(y=w,g=E)}return C.s(f),y}OC(t){const r=this.draggedLink;if(r!==null){if(r.pointsCount<2)return;const o=this.diagram;if(o.isReadOnly)return;const l=this.fn;if(l===null)return;let u=null,c=null;r.fromNode===null&&(u=this.EC(r.getPoint(0),!1),u!==null&&(c=u.part));let f=null,g=null;r.toNode===null&&(f=this.EC(r.getPoint(r.pointsCount-1),!0),f!==null&&(g=f.part)),l.isValidLink(c,u,g,f)?t?(r.defaultFromPoint=r.getPoint(0),r.defaultToPoint=r.getPoint(r.pointsCount-1),r.suspendsRouting=!1,r.fromNode=c,u!==null&&(r.fromPortId=u.portId),r.toNode=g,f!==null&&(r.toPortId=f.portId),r.fromPort!==o.PP&&o.v("LinkRelinked",r,o.PP),r.toPort!==o.MP&&o.v("LinkRelinked",r,o.MP)):l.doDraggingMouseMove(c,u,g,f):l.doDraggingMouseMove(null,null,null,null)}}doDragOver(t,r){}UC(t){const r=this.diagram;this.dragsLink&&this.OC(!0),this.mP();const o=this.findDragOverObject(t),l=r.lastInput;if(l.targetObject=o,o!==null){l.handled=!1;let g=o;for(;g!==null;){const y=g.mouseDrop;if(y!==null&&(y(l,g),l.handled))break;this.$D(l,g),g=this.IC(g)}}else{const g=r.mouseDrop;g!==null&&g(l)}if(!this.isActive&&Ve.yt===null)return;const u=(this.copiedParts||this.draggedParts).iterator;for(;u.next();){const g=u.key;g instanceof Jt&&g.linksConnected.each(y=>y.suspendsRouting=!1)}if(this.doDropOnto(t,o),!this.isActive&&Ve.yt===null)return;const c=F.l(),f=r.selection.iterator;for(;f.next();){const g=f.value;g instanceof Jt&&this.ZD(r,g,c)}F.s(c)}$D(t,r){const o=this.diagram,l=r.part;if(o.handlesDragDropForTopLevelParts&&l.isTopLevel&&!(l instanceof Ut)){const u=o.mouseDrop;u!==null&&u(t)}}ZD(t,r,o){if(!r.canAvoid())return;let l=!1;o=r.getAvoidableRect(o),t.viewportBounds.containsRect(o)&&(l=!0);const u=this.copiedParts||this.draggedParts,c=t.SP(o,g=>g.part,g=>g instanceof se,!0,g=>g instanceof se,l);if(c.count===0)return;const f=c.iterator;for(;f.next();){const g=f.value;u.has(g)&&u.has(r)||!g.isMemberOf(r)&&g.isAvoiding&&g.invalidateRoute()}}doDropOnto(t,r){}doMouseMove(){if(!this.isActive)return;const t=this.diagram,r=t.lastInput;this.simulatedMouseMove(r.event,r.documentPoint,r.targetDiagram)||this.currentPart!==null&&this.draggedParts!==null&&(this.mayCopy()?(this.wP(!1),t.Bw(this.copiedParts),this.dc(this.copiedParts,!1),t.xm(this.copiedParts)):this.mayMove()?(this.Pl(),this.dc(this.draggedParts,!0)):this.mayDragOut()?(this.wP(!1),this.dc(this.copiedParts,!1)):this.Pl(),this.bP(t.lastInput.documentPoint))}doMouseUp(){if(!this.isActive)return;const t=this.diagram,r=t.lastInput;if(this.simulatedMouseUp(r.event,r.documentPoint,r.targetDiagram))return;let o=!1;const l=this.mayCopy();if(l&&this.copiedParts!==null?(this.Pl(),this.wP(!0),t.Bw(this.copiedParts),this.dc(this.copiedParts,!1),t.xm(this.copiedParts),this.copiedParts!==null&&(t.v("ChangingSelection",t.selection),t.clearSelection(!0),this.copiedParts.iteratorKeys.each(u=>{u.isSelected=!0}))):(o=!0,this.Pl(),this.mayMove()&&(this.dc(this.draggedParts,!0),this.bP(t.lastInput.documentPoint))),this.mu=!0,this.UC(t.lastInput.documentPoint),this.isActive){const u=l?this.copiedParts.toKeySet():this.draggedParts.toKeySet();this.copiedParts=null,o&&this.QD(),t.invalidateDocumentBounds(),t.xm(this.draggedParts),this.transactionResult=l?"Copy":"Move",t.v(l?"SelectionCopied":"SelectionMoved",u)}this.stopTool(),l&&t.v("ChangedSelection",t.selection)}simulatedMouseMove(t,r,o){if(Ve.yt===null)return!1;const l=Ve.yt.diagram;o instanceof xe||(o=null);const u=Ve.Vh;if(o!==u){if(u!==null&&u!==l){u.stopAutoScroll(),Ve.yt.isDragOutStarted=!1;const f=u.toolManager.findTool("Dragging");f!==null&&f.doSimulatedDragLeave()}if(Ve.Vh=o,o!==null&&o!==l){Ve.yt.vC();const f=o.toolManager.findTool("Dragging");f!==null&&(f.BC(),f.doSimulatedDragEnter())}this.doUpdateCursor(null)}if(o===null||o===l||!o.allowDrop||o.isReadOnly||!o.allowInsert)return!1;const c=o.toolManager.findTool("Dragging");if(c!==null){let f=r;t!==null&&(t.targetTouches!==void 0&&(t.targetTouches.length>0?t=t.targetTouches[0]:t.changedTouches.length>0&&(t=t.changedTouches[0])),f=o.getMouse(t)),o.lastInput.documentPoint=f,o.lastInput.viewPoint=o.transformDocToView(f),o.lastInput.down=!1,o.lastInput.up=!1,c.doSimulatedDragOver()}return!0}simulatedMouseUp(t,r,o){if(Ve.yt===null)return!1;const l=Ve.Vh,u=Ve.yt.diagram;if(o===null)return Ve.yt.doCancel(),!0;if(o!==l){const c=l.toolManager.findTool("Dragging");if(l!==null&&l!==u&&c!==null)return l.stopAutoScroll(),Ve.yt.isDragOutStarted=!1,c.doSimulatedDragLeave(),!1;Ve.Vh=o;const f=o.toolManager.findTool("Dragging");f!==null&&(Ve.yt.vC(),f.BC(),f.doSimulatedDragEnter())}if(o!==this.diagram){let c=r;t!==null?(t.targetTouches!==void 0&&(t.targetTouches.length>0?t=t.targetTouches[0]:t.changedTouches.length>0&&(t=t.changedTouches[0])),c=o.getMouse(t)):c===null&&(c=new C),o.lastInput.documentPoint=c,o.lastInput.viewPoint=o.transformDocToView(c),o.lastInput.down=!1,o.lastInput.up=!0;const f=o.toolManager.findTool("Dragging");f!==null&&f.doSimulatedDrop();const g=Ve.yt;if(g!==null){const y=g.mayCopy();g.transactionResult=y?"Copy":"Move",g.stopTool()}return!0}return!1}QD(){if(this.draggedParts===null)return;const t=this.draggedParts.iterator;for(;t.next();){const r=t.key;if(r instanceof Jt){const o=r.containingGroup;o!==null&&o.hasPlaceholder()&&!this.draggedParts.has(o)&&o.placeholder.c()}}}mayCopy(){if(!this.isCopyEnabled)return!1;const t=this.diagram;if(t.isReadOnly||t.isModelReadOnly||!t.allowInsert||!t.allowCopy||!(n.rr?t.lastInput.alt:t.lastInput.control))return!1;const r=t.selection.iterator;for(;r.next();)if(r.value.canCopy())return!0;return!!(this.draggedLink!==null&&this.dragsLink&&this.draggedLink.canCopy())}mayDragOut(){if(!this.isCopyEnabled)return!1;const t=this.diagram;if(!t.allowDragOut||!t.allowCopy||t.allowMove)return!1;const r=t.selection.iterator;for(;r.next();)if(r.value.canCopy())return!0;return!!(this.draggedLink!==null&&this.dragsLink&&this.draggedLink.canCopy())}mayMove(){const t=this.diagram;if(t.isReadOnly||!t.allowMove)return!1;const r=t.selection.iterator;for(;r.next();)if(r.value.canMove())return!0;return!!(this.draggedLink!==null&&this.dragsLink&&this.draggedLink.canMove())}BC(){Ve.Vw.has(this)||Ve.Vw.add(this)}static qD(){if(Ve.Vw.count>0){const t=Ve.Vw,r=t.length;for(let o=0;o<r;o++){const l=t.elt(o);l.FC(),l.Pl(),l.mP(),l.diagram.stopAutoScroll()}t.clear()}}computeBorder(t,r,o){return!this.mu&&this.draggedParts!==null&&!this.draggedParts.has(t)?o.a(r):null}getDraggingSource(){return Ve.yt}mayDragIn(){const t=this.diagram;if(!t.allowDrop||t.isReadOnly||t.isModelReadOnly||!t.allowInsert)return!1;const r=Ve.yt;return!(r===null||r.diagram.model.dataFormat!==t.model.dataFormat)}doSimulatedDragEnter(){if(!this.mayDragIn())return;const t=this.diagram;t.animationManager.stopAnimation(),t.yr(),t.animationManager.stopAnimation();const r=Ve.yt;r!==null&&(this.diagram.fc=!0,t.lastInput.event===null&&(t.lastInput.event=r.diagram.lastInput.event)),this.doUpdateCursor(null)}doSimulatedDragLeave(){const t=Ve.yt;t!==null&&t.doSimulatedDragOut(),this.diagram.fc=!1,this.doCancel()}doSimulatedDragOver(){const t=this.diagram;t.animationManager.xu=!0;const r=Ve.yt;if(r!==null&&r.draggedParts!==null){if(!this.mayDragIn())return;this.VC(r.draggedParts.toKeySet(),!1,t.firstInput),this.dc(this.copiedParts,!1),this.bP(t.lastInput.documentPoint)}t.animationManager.xu=!1}doSimulatedDrop(){const t=this.diagram,r=Ve.yt;if(r!==null){const o=r.diagram;if(r.mu=!0,this.Pl(),!this.mayDragIn())return;t.animationManager.xu=!0,t.v("ChangingSelection",t.selection),this.startTransaction("Drop"),this.VC(r.draggedParts.toKeySet(),!0,t.lastInput),this.dc(this.copiedParts,!1);const l=new M;this.copiedParts!==null&&(t.clearSelection(!0),this.copiedParts.iteratorKeys.each(u=>{u.isSelected=!0,l.add(u)})),this.UC(t.lastInput.documentPoint),t.invalidateDocumentBounds(),this.copiedParts!==null&&(this.transactionResult="ExternalCopy"),this.copiedParts=null,t.doFocus(),t.fc=!1,t.v("ExternalObjectsDropped",l,o),this.stopTransaction(),t.v("ChangedSelection",t.selection)}t.animationManager.xu=!1}VC(t,r,o){if(this.copiedParts!==null)return;const l=this.diagram;if(l.isReadOnly||l.isModelReadOnly)return;l.skipsUndoManager=!r,l.partManager.addsToTemporaryLayer=!r,this.startPoint=o.documentPoint;const u=l.copyParts(t,l,!0),c=F.l();this.WD(t,c);const f=c.x+c.width/2,g=c.y+c.height/2;F.s(c);const y=this.wm,b=new V,w=C.l(),P=t.iterator;for(;P.next();){const N=P.value;if(N instanceof se&&N.canCopy()){const _=u.get(N);if(_===null)continue;_.points=N.points,_.pr(y.x-f,y.y-g),_.suspendsRouting=!0,b.set(_,this.Es())}}const E=t.iterator;for(;E.next();){const N=E.value;if(N.Me()&&N.canCopy()){const _=u.get(N);if(_===null)continue;const R=N.location;w.e(y.x-(f-R.x),y.y-(g-R.y)),_.location=w,_.ensureBounds(),b.set(_,this.Es(w))}}if(C.s(w),this.copiedParts=b,this.gP(b.toKeySet()),this.draggedLink!==null){const N=this.draggedLink,_=N.routeBounds;N.pr(this.startPoint.x-(_.x+_.width/2),this.startPoint.y-(_.y+_.height/2))}this.doUpdateCursor(null)}HD(){this.isDragOutStarted=!0,this.mu=!1,Ve.yt=this,Ve.Vh=this.diagram,this.doSimulatedDragOut()}doSimulatedDragOut(){const t=this.diagram;t.fc=!1,!this.mayCopy()&&!this.mayMove()?t.currentCursor=this.nodropCursor:t.currentCursor="",this.pu=null}computeMove(t,r,o,l){const u=this.diagram;return u!==null?u.computeMove(t,r,this.dragOptions,l):new C}};T(Ve,"Vw",new x),T(Ve,"yt",null),T(Ve,"Vh",null);let ee=Ve;$t.prototype.doCancel=function(){ee.yt!==null&&ee.yt.doCancel(),kt.prototype.doCancel.call(this)};class ne extends kt{constructor(){super();T(this,"NP");T(this,"CP");T(this,"Sl");T(this,"LP");T(this,"AP");T(this,"zh");T(this,"TP");T(this,"Xh");T(this,"DP");T(this,"FP");T(this,"RP");T(this,"vP");T(this,"OP");T(this,"IP");T(this,"zC");T(this,"EP");T(this,"Nl");T(this,"UP");this.NP=100,this.CP=!1,this.Sl="pointer",this.LP=new se({layerName:"Tool"}).add(new fe({isPanelMain:!0,stroke:"blue"}).theme("stroke","tempLink"),new fe({toArrow:"Standard",fill:"blue",stroke:"blue"}).theme("fill","tempLink").theme("stroke","tempLink")).hi(),this.zh=new fe("Rectangle",{portId:"",fill:null,stroke:"magenta",strokeWidth:2,desiredSize:z.Ak}).theme("stroke","tempPort"),this.AP=new Jt({selectable:!1,layerName:"Tool"}).add(this.zh).hi(),this.Xh=new fe("Rectangle",{portId:"",fill:null,stroke:"magenta",strokeWidth:2,desiredSize:z.Ak}).theme("stroke","tempPort"),this.TP=new Jt({selectable:!1,layerName:"Tool"}).add(this.Xh).hi(),this.DP=null,this.FP=null,this.RP=null,this.vP=null,this.OP=null,this.IP=!0,this.zC=new V,this.EP=null,this.Nl=null,this.UP=null}doStop(){this.diagram.stopAutoScroll(),this.originalLink=null,this.originalFromNode=null,this.originalFromPort=null,this.originalToNode=null,this.originalToPort=null,this.validPortsCache.clear(),this.targetPort=null}get portGravity(){return this.NP}set portGravity(t){t>=0&&(this.NP=t)}get isUnconnectedLinkValid(){return this.CP}set isUnconnectedLinkValid(t){this.CP=t}get linkingCursor(){return this.Sl}set linkingCursor(t){this.Sl=t}get temporaryLink(){return this.LP}set temporaryLink(t){t.hi(),this.LP=t}get temporaryFromNode(){return this.AP}set temporaryFromNode(t){t.hi(),this.AP=t,t&&(this.zh=t.port)}get temporaryFromPort(){return this.zh}set temporaryFromPort(t){if(this.zh!==null){const r=this.zh.panel;if(r!==null){const o=r.T.indexOf(this.zh);r.removeAt(o),r.insertAt(o,t)}}this.zh=t}get temporaryToNode(){return this.TP}set temporaryToNode(t){t.hi(),this.TP=t,t&&(this.Xh=t.port)}get temporaryToPort(){return this.Xh}set temporaryToPort(t){if(this.Xh!==null){const r=this.Xh.panel;if(r!==null){const o=r.T.indexOf(this.Xh);r.removeAt(o),r.insertAt(o,t)}}this.Xh=t}get originalLink(){return this.DP}set originalLink(t){this.DP=t}get originalFromNode(){return this.FP}set originalFromNode(t){this.FP=t}get originalFromPort(){return this.RP}set originalFromPort(t){this.RP=t}get originalToNode(){return this.vP}set originalToNode(t){this.vP=t}get originalToPort(){return this.OP}set originalToPort(t){this.OP=t}get isForwards(){return this.IP}set isForwards(t){this.IP=t}get validPortsCache(){return this.zC}get targetPort(){return this.EP}set targetPort(t){this.EP=t}copyPortProperties(t,r,o,l,u){if(t===null||r===null||o===null||l===null)return;const c=r.getDocumentScale(),f=z.l();f.width=r.naturalBounds.width*c,f.height=r.naturalBounds.height*c,l.desiredSize=f,z.s(f),u?(l.toSpot=r.toSpot,l.toEndSegmentLength=r.toEndSegmentLength):(l.fromSpot=r.fromSpot,l.fromEndSegmentLength=r.fromEndSegmentLength),o.locationSpot=U.Center;const g=C.l();o.location=r.getDocumentPoint(U.Center,g),C.s(g),l.angle=r.getDocumentAngle(),this.portTargeted!==null&&this.portTargeted(t,r,o,l,u)}setNoTargetPortProperties(t,r,o){r!==null&&(r.desiredSize=z.Ak,r.fromSpot=U.None,r.toSpot=U.None),t!==null&&(t.location=this.diagram.lastInput.documentPoint),this.portTargeted!==null&&this.portTargeted(null,null,t,r,o)}doMouseDown(){this.isActive&&this.doMouseMove()}doMouseMove(){if(this.isActive){const t=this.diagram;if(this.targetPort=this.findTargetPort(this.isForwards),this.targetPort!==null&&this.targetPort.part instanceof Jt){const r=this.targetPort.part;this.isForwards?this.copyPortProperties(r,this.targetPort,this.temporaryToNode,this.temporaryToPort,!0):this.copyPortProperties(r,this.targetPort,this.temporaryFromNode,this.temporaryFromPort,!1)}else this.isForwards?this.setNoTargetPortProperties(this.temporaryToNode,this.temporaryToPort,!0):this.setNoTargetPortProperties(this.temporaryFromNode,this.temporaryFromPort,!1);(t.allowHorizontalScroll||t.allowVerticalScroll)&&t.doAutoScroll(t.lastInput.viewPoint)}}findValidLinkablePort(t,r){if(t===null)return null;const o=t.part;if(!(o instanceof Jt))return null;for(;t!==null;){const l=r?t.toLinkable:t.fromLinkable;if(l===!0&&(t.portId!==null||t instanceof Jt)&&(r?this.isValidTo(o,t):this.isValidFrom(o,t)))return t;if(l===!1)return null;t=t.panel}return null}findTargetPort(t){const r=this.diagram,o=r.lastInput.documentPoint;let l=this.portGravity;l<=0&&(l=.1);const u=this,c=r.findObjectsNear(o,l,b=>u.findValidLinkablePort(b,t),null,!0);let f=1/0,g=null;const y=c.iterator;for(;y.next();){const b=y.value,w=b.part;if(!(w instanceof Jt))continue;const P=b.getDocumentPoint(U.Center,C.l()),E=o.x-P.x,N=o.y-P.y;C.s(P);const _=E*E+N*N;if(_<f){const R=this.validPortsCache.get(b);R!==null?R&&(g=b,f=_):t&&this.isValidLink(this.originalFromNode,this.originalFromPort,w,b)||!t&&this.isValidLink(w,b,this.originalToNode,this.originalToPort)?(this.validPortsCache.set(b,!0),g=b,f=_):this.validPortsCache.set(b,!1)}}if(g!==null){const b=g.part;if(b instanceof Jt&&(b.layer===null||b.layer.allowLink))return g}return null}isValidFrom(t,r){if(t===null||r===null)return this.isUnconnectedLinkValid;if(this.diagram.currentTool===this&&(t.layer!==null&&!t.layer.allowLink||r.fromLinkable!==!0))return!1;const o=r.fromMaxLinks;if(o<1/0){if(this.originalLink!==null&&t===this.originalFromNode&&r===this.originalFromPort)return!0;let l=r.portId;if(l===null&&(l=""),t.findLinksOutOf(l).count>=o)return!1}return!0}isValidTo(t,r){if(t===null||r===null)return this.isUnconnectedLinkValid;if(this.diagram.currentTool===this&&(t.layer!==null&&!t.layer.allowLink||r.toLinkable!==!0))return!1;const o=r.toMaxLinks;if(o<1/0){if(this.originalLink!==null&&t===this.originalToNode&&r===this.originalToPort)return!0;let l=r.portId;if(l===null&&(l=""),t.findLinksInto(l).count>=o)return!1}return!0}isInSameNode(t,r){if(t===null||r===null)return!1;if(t===r)return!0;const o=t.part,l=r.part;return o!==null&&o===l}isLinked(t,r){if(t===null||r===null)return!1;const o=t.part;if(!(o instanceof Jt))return!1;let l=t.portId;l===null&&(l="");const u=r.part;if(!(u instanceof Jt))return!1;let c=r.portId;c===null&&(c="");const f=u.findLinksInto(c);for(;f.next();){const g=f.value;if(g.fromNode===o&&g.fromPortId===l)return!0}return!1}isValidLink(t,r,o,l){if(!this.isValidFrom(t,r)||!this.isValidTo(o,l)||r!==null&&l!==null&&(!(r.fromLinkableSelfNode&&l.toLinkableSelfNode)&&this.isInSameNode(r,l)||!(r.fromLinkableDuplicates&&l.toLinkableDuplicates)&&this.isLinked(r,l))||this.originalLink!==null&&(t!==null&&this.isLabelDependentOnLink(t,this.originalLink)||o!==null&&this.isLabelDependentOnLink(o,this.originalLink))||t!==null&&o!==null&&(t.data===null&&o.data!==null||t.data!==null&&o.data===null)||!this.isValidCycle(t,o,this.originalLink))return!1;let u;return t!==null&&(u=t.linkValidation,u!==null&&!u(t,r,o,l,this.originalLink))||o!==null&&(u=o.linkValidation,u!==null&&!u(t,r,o,l,this.originalLink))?!1:(u=this.linkValidation,u!==null?u(t,r,o,l,this.originalLink):!0)}isLabelDependentOnLink(t,r){if(t===null)return!1;const o=t.labeledLink;if(o===null)return!1;if(o===r)return!0;const l=new M;return l.add(t),this.BP(o,r,l)}BP(t,r,o){if(t===r)return!0;const l=t.fromNode;if(l!==null&&l.isLinkLabel&&(o.add(l),this.BP(l.labeledLink,r,o)))return!0;const u=t.toNode;return!!(u!==null&&u.isLinkLabel&&(o.add(u),this.BP(u.labeledLink,r,o)))}isValidCycle(t,r,o){if(o===void 0&&(o=null),t===null||r===null)return this.isUnconnectedLinkValid;const l=this.diagram;let u=1;if(l&&(l.model.gc()?u=l.isTreePathToChildren?5:6:u=l.validCycle),u===1)return!0;if(u===5){const c=o||this.temporaryLink;if(c!==null&&!c.isTreeLink)return!0;const f=r.linksConnected;for(;f.next();){const g=f.value;if(g!==o&&g.isTreeLink&&g.toNode===r)return!1}return!this.bu(t,r,o,!0)}else if(u===6){const c=o||this.temporaryLink;if(c!==null&&!c.isTreeLink)return!0;const f=t.linksConnected;for(;f.next();){const g=f.value;if(g!==o&&g.isTreeLink&&g.fromNode===t)return!1}return!this.bu(t,r,o,!0)}else{if(u===2)return!this._D(t,r,o);if(u===3)return!this.bu(t,r,o,!1);if(u===4)return!this.tF(t,r,o)}return!0}bu(t,r,o,l){if(t===r)return!0;if(t===null||r===null)return!1;const u=t.linksConnected;for(;u.next();){const c=u.value;if(c===o||l&&!c.isTreeLink||c.toNode!==t)continue;const f=c.fromNode;if(f!==t&&this.bu(f,r,o,l))return!0}return!1}_D(t,r,o){if(t===r)return!0;const l=new M;return l.add(r),this.XC(l,t,r,o)}XC(t,r,o,l){if(r===o)return!0;if(r===null||o===null||t.has(r))return!1;t.add(r);const u=r.linksConnected;for(;u.next();){const c=u.value;if(c===l||c.toNode!==r)continue;const f=c.fromNode;if(f!==r&&this.XC(t,f,o,l))return!0}return!1}tF(t,r,o){if(t===r)return!0;const l=new M;return l.add(r),this.KC(l,t,r,o)}KC(t,r,o,l){if(r===o)return!0;if(r===null||o===null||t.has(r))return!1;t.add(r);const u=r.linksConnected;for(;u.next();){const c=u.value;if(c===l)continue;const f=c.fromNode,g=c.toNode,y=f===r?g:f;if(y!==r&&this.KC(t,y,o,l))return!0}return!1}get linkValidation(){return this.Nl}set linkValidation(t){this.Nl=t}get portTargeted(){return this.UP}set portTargeted(t){this.UP=t}}var Ft=(W=>(W[W.Either=1]="Either",W[W.ForwardsOnly=2]="ForwardsOnly",W[W.BackwardsOnly=3]="BackwardsOnly",W))(Ft||{});class he extends ne{constructor(t){super();T(this,"VP");T(this,"zP");T(this,"S");T(this,"XP");this.name="Linking",this.VP={},this.zP=null,this.S=1,this.XP=null,t&&Object.assign(this,t)}get archetypeLinkData(){return this.VP}set archetypeLinkData(t){this.VP=t}get archetypeLabelNodeData(){return this.zP}set archetypeLabelNodeData(t){this.zP=t}get direction(){return this.S}set direction(t){this.S=t}get startObject(){return this.XP}set startObject(t){this.XP=t}canStart(){if(!this.isEnabled)return!1;const t=this.diagram;return t.isReadOnly||t.isModelReadOnly||!t.allowLink||!t.model.zw()||!t.lastInput.left||t.currentTool!==this&&!this.isBeyondDragSize()?!1:this.findLinkablePort()!==null}findLinkablePort(){const t=this.diagram;let r=this.startObject;if(r===null&&(r=t.findObjectAt(t.firstInput.documentPoint,null,null)),r===null)return null;const o=r.part;if(!(o instanceof Jt))return null;const l=this.direction;if(l===1||l===2){const u=this.findValidLinkablePort(r,!1);if(u!==null)return this.isForwards=!0,u;if(this.startObject===o){const c=o.port;if(this.findValidLinkablePort(c,!1))return this.isForwards=!0,c}}if(l===1||l===3){const u=this.findValidLinkablePort(r,!0);if(u!==null)return this.isForwards=!1,u;if(this.startObject===o){const c=o.port;if(this.findValidLinkablePort(c,!0))return this.isForwards=!1,c}}return null}doActivate(){const t=this.diagram,r=this.findLinkablePort();if(r===null){this.stopTool();return}if(this.startTransaction(this.name),t.isMouseCaptured=!0,t.currentCursor=this.linkingCursor,this.isForwards){this.temporaryToNode!==null&&(this.temporaryToNode.location=t.lastInput.documentPoint),this.originalFromPort=r;const o=this.originalFromPort.part;o instanceof Jt&&(this.originalFromNode=o),this.copyPortProperties(this.originalFromNode,this.originalFromPort,this.temporaryFromNode,this.temporaryFromPort,!1)}else{this.temporaryFromNode!==null&&(this.temporaryFromNode.location=t.lastInput.documentPoint),this.originalToPort=r;const o=this.originalToPort.part;o instanceof Jt&&(this.originalToNode=o),this.copyPortProperties(this.originalToNode,this.originalToPort,this.temporaryToNode,this.temporaryToPort,!0)}t.add(this.temporaryFromNode),this.temporaryFromNode&&this.temporaryFromNode.ensureBounds(),t.add(this.temporaryToNode),this.temporaryToNode&&this.temporaryToNode.ensureBounds(),this.temporaryLink!==null&&(this.temporaryFromNode!==null&&(this.temporaryLink.fromNode=this.temporaryFromNode),this.temporaryToNode!==null&&(this.temporaryLink.toNode=this.temporaryToNode),this.temporaryLink.isTreeLink=this.isNewTreeLink(),this.temporaryLink.invalidateRoute(),t.add(this.temporaryLink)),this.isActive=!0}doDeactivate(){this.isActive=!1;const t=this.diagram;t.remove(this.temporaryLink),t.remove(this.temporaryFromNode),t.remove(this.temporaryToNode),t.isMouseCaptured=!1,t.currentCursor="",this.stopTransaction()}doStop(){super.doStop(),this.startObject=null}doMouseUp(){if(this.isActive){const t=this.diagram;this.transactionResult=null;let r=null,o=null,l=null,u=null,c=null;try{this.targetPort=this.findTargetPort(this.isForwards);const f=this.targetPort;if(f!==null){const g=f.part;g instanceof Jt&&(this.isForwards?(this.originalFromNode!==null&&(r=this.originalFromNode,o=this.originalFromPort),l=g,u=f):(r=g,o=f,this.originalToNode!==null&&(l=this.originalToNode,u=this.originalToPort)))}else this.isForwards?this.originalFromNode!==null&&this.isUnconnectedLinkValid&&(r=this.originalFromNode,o=this.originalFromPort):this.originalToNode!==null&&this.isUnconnectedLinkValid&&(l=this.originalToNode,u=this.originalToPort);r!==null||l!==null?(c=this.insertLink(r,o,l,u),c!==null?(f===null&&(this.isForwards?c.defaultToPoint=t.lastInput.documentPoint:c.defaultFromPoint=t.lastInput.documentPoint),t.allowSelect&&(t.v("ChangingSelection",t.selection),t.clearSelection(!0),c.isSelected=!0),this.transactionResult=this.name,t.v("LinkDrawn",c)):this.doNoLink(r,o,l,u)):this.isForwards?this.doNoLink(this.originalFromNode,this.originalFromPort,null,null):this.doNoLink(null,null,this.originalToNode,this.originalToPort)}finally{this.stopTool(),c&&t.allowSelect&&t.v("ChangedSelection",t.selection)}}}isNewTreeLink(){const t=this.archetypeLinkData;if(t===null)return!0;if(t instanceof se)return t.isTreeLink;const r=this.diagram;if(r===null)return!0;const o=r.partManager.getLinkCategoryForData(t),l=r.partManager.findLinkTemplateForCategory(o);return l!==null?l.isTreeLink:!0}insertLink(t,r,o,l){return this.diagram.partManager.insertLink(t,r,o,l)}doNoLink(t,r,o,l){}}T(he,"Either",1),T(he,"ForwardsOnly",2),T(he,"BackwardsOnly",3);class be extends ne{constructor(t){super();T(this,"KP");T(this,"YP");T(this,"us");T(this,"GP");this.name="Relinking",this.KP=new fe("Diamond",{desiredSize:z.hu,fill:"lightblue",stroke:"dodgerblue",cursor:this.linkingCursor,segmentIndex:0}).theme("fill","adornmentFill").theme("stroke","adornmentStroke"),this.YP=new fe("Diamond",{desiredSize:z.hu,fill:"lightblue",stroke:"dodgerblue",cursor:this.linkingCursor,segmentIndex:-1}).theme("fill","adornmentFill").theme("stroke","adornmentStroke"),this.us=null,this.GP=new F,t&&Object.assign(this,t)}updateAdornments(t){if(t===null||!(t instanceof se))return;let r="RelinkFrom",o=null;if(t.isSelected&&!this.diagram.isReadOnly){const l=t.selectionObject;l!==null&&t.canRelinkFrom()&&t.actualBounds.isReal()&&t.isVisible()&&l.actualBounds.isReal()&&l.isVisibleObject()&&(o=t.findAdornment(r),o===null&&(o=this.makeAdornment(l,!1),t.addAdornment(r,o)))}if(o===null&&t.removeAdornment(r),r="RelinkTo",o=null,t.isSelected&&!this.diagram.isReadOnly){const l=t.selectionObject;l!==null&&t.canRelinkTo()&&t.actualBounds.isReal()&&t.isVisible()&&l.actualBounds.isReal()&&l.isVisibleObject()&&(o=t.findAdornment(r),o===null?(o=this.makeAdornment(l,!0),t.addAdornment(r,o)):o.c())}o===null&&t.removeAdornment(r)}makeAdornment(t,r){const o=new ye;o.type=re.Link;const l=r?this.toHandleArchetype:this.fromHandleArchetype;return l!==null&&o.add(l.copy().bm()),o.adornedObject=t,o}get fromHandleArchetype(){return this.KP}set fromHandleArchetype(t){this.KP=t}get toHandleArchetype(){return this.YP}set toHandleArchetype(t){this.YP=t}get handle(){return this.us}set handle(t){if(t!==null&&!(t.part instanceof ye))throw new Error("new handle is not in an Adornment: "+t);this.us=t}canStart(){if(!this.isEnabled)return!1;const t=this.diagram;if(t.isReadOnly||t.isModelReadOnly||!t.allowRelink||!t.model.zw()||!t.lastInput.left)return!1;let r=this.findToolHandleAt(t.firstInput.documentPoint,"RelinkFrom");return r===null&&(r=this.findToolHandleAt(t.firstInput.documentPoint,"RelinkTo")),r!==null}doActivate(){const t=this.diagram;if(this.originalLink===null){let r=this.handle;if(r===null&&(r=this.findToolHandleAt(t.firstInput.documentPoint,"RelinkFrom"),r===null&&(r=this.findToolHandleAt(t.firstInput.documentPoint,"RelinkTo"))),r===null)return;const o=r.part;if(!(o instanceof ye)||!(o.adornedPart instanceof se))return;this.handle=r,this.isForwards=o===null||o.category==="RelinkTo",this.originalLink=o.adornedPart}this.startTransaction(this.name),t.isMouseCaptured=!0,t.currentCursor=this.linkingCursor,this.originalFromPort=this.originalLink.fromPort,this.originalFromNode=this.originalLink.fromNode,this.originalToPort=this.originalLink.toPort,this.originalToNode=this.originalLink.toNode,this.GP.set(this.originalLink.actualBounds),this.originalLink!==null&&this.originalLink.pointsCount>0&&(this.originalLink.fromNode===null&&(this.temporaryFromPort!==null&&(this.temporaryFromPort.desiredSize=z.lu),this.temporaryFromNode!==null&&(this.temporaryFromNode.location=this.originalLink.getPoint(0))),this.originalLink.toNode===null&&(this.temporaryToPort!==null&&(this.temporaryToPort.desiredSize=z.lu),this.temporaryToNode!==null&&(this.temporaryToNode.location=this.originalLink.getPoint(this.originalLink.pointsCount-1)))),this.copyPortProperties(this.originalFromNode,this.originalFromPort,this.temporaryFromNode,this.temporaryFromPort,!1),this.copyPortProperties(this.originalToNode,this.originalToPort,this.temporaryToNode,this.temporaryToPort,!0),t.add(this.temporaryFromNode),t.add(this.temporaryToNode),this.temporaryLink!==null&&(this.temporaryFromNode!==null&&(this.temporaryLink.fromNode=this.temporaryFromNode),this.temporaryToNode!==null&&(this.temporaryLink.toNode=this.temporaryToNode),this.copyLinkProperties(this.originalLink,this.temporaryLink),this.temporaryLink.invalidateRoute(),t.add(this.temporaryLink)),this.isActive=!0}copyLinkProperties(t,r){if(t===null||r===null)return;r.adjusting=t.adjusting,r.corner=t.corner;let o=t.curve;(o===11||o===10)&&(o=0),r.curve=o,r.curviness=t.curviness,r.isTreeLink=t.isTreeLink,r.points=t.points,r.routing=t.routing,r.smoothness=t.smoothness,r.fromSpot=t.fromSpot,r.fromEndSegmentLength=t.fromEndSegmentLength,r.fromShortLength=t.fromShortLength,r.toSpot=t.toSpot,r.toEndSegmentLength=t.toEndSegmentLength,r.toShortLength=t.toShortLength}doDeactivate(){this.isActive=!1;const t=this.diagram;t.remove(this.temporaryLink),t.remove(this.temporaryFromNode),t.remove(this.temporaryToNode),t.isMouseCaptured=!1,t.currentCursor="",this.stopTransaction()}doStop(){super.doStop(),this.handle=null}doMouseUp(){if(this.isActive){const t=this.diagram;this.transactionResult=null;let r=this.originalFromNode,o=this.originalFromPort,l=this.originalToNode,u=this.originalToPort,c=this.originalLink;try{if(this.targetPort=this.findTargetPort(this.isForwards),this.targetPort!==null){const f=this.targetPort.part;f instanceof Jt&&(this.isForwards?(l=f,u=this.targetPort):(r=f,o=this.targetPort))}else this.isUnconnectedLinkValid?this.isForwards?(l=null,u=null):(r=null,o=null):c=null;c!==null?(this.reconnectLink(c,this.isForwards?l:r,this.isForwards?u:o,this.isForwards),this.targetPort===null&&(this.isForwards?c.defaultToPoint=t.lastInput.documentPoint:c.defaultFromPoint=t.lastInput.documentPoint,c.invalidateRoute()),this.transactionResult=this.name,t.v("LinkRelinked",c,this.isForwards?this.originalToPort:this.originalFromPort)):this.doNoRelink(this.originalLink,this.isForwards),this.originalLink.invalidateOtherJumpOvers(this.GP)}finally{this.stopTool()}}}reconnectLink(t,r,o,l){const u=o!==null&&o.portId!==null?o.portId:"";return l?(t.toNode=r,t.toPortId=u):(t.fromNode=r,t.fromPortId=u),!0}doNoRelink(t,r){}doDraggingMouseMove(t,r,o,l){t!==null?(this.copyPortProperties(t,r,this.temporaryFromNode,this.temporaryFromPort,!1),this.diagram.add(this.temporaryFromNode)):this.diagram.remove(this.temporaryFromNode),o!==null?(this.copyPortProperties(o,l,this.temporaryToNode,this.temporaryToPort,!0),this.diagram.add(this.temporaryToNode)):this.diagram.remove(this.temporaryToNode)}stopDraggingMouseMove(){this.diagram.remove(this.temporaryFromNode),this.diagram.remove(this.temporaryToNode)}}var te=(W=>(W[W.None=0]="None",W[W.Horizontal=1]="Horizontal",W[W.Vertical=2]="Vertical",W[W.All=3]="All",W))(te||{});class le extends kt{constructor(t){super();T(this,"Co");T(this,"jP");T(this,"HP");T(this,"us");T(this,"Xw");T(this,"qP");T(this,"km");this.name="LinkReshaping",this.Co=new fe("Rectangle",{desiredSize:z._N,fill:"lightblue",stroke:"dodgerblue"}).theme("fill","adornmentFill").theme("stroke","adornmentStroke"),this.jP=new fe("Diamond",{desiredSize:z.hu,fill:"lightblue",stroke:"dodgerblue",cursor:"move"}).theme("fill","adornmentFill").theme("stroke","adornmentStroke"),this.HP=3,this.us=null,this.Xw=null,this.qP=new C,this.km=new x,t&&Object.assign(this,t)}getReshapingBehavior(t){return t?t.wr:0}setReshapingBehavior(t,r){t.wr=r}updateAdornments(t){if(t===null||!(t instanceof se))return;let r=null;if(t.isSelected&&!this.diagram.isReadOnly){const o=t.path;o!==null&&t.canReshape()&&t.actualBounds.isReal()&&t.isVisible()&&o.actualBounds.isReal()&&o.isVisibleObject()&&(r=t.findAdornment(this.name),(r===null||r.WP!==t.pointsCount||r.JP!==t.resegmentable)&&(r=this.makeAdornment(o),r!==null&&(r.WP=t.pointsCount,r.JP=t.resegmentable,t.addAdornment(this.name,r))))}r===null&&t.removeAdornment(this.name)}makeAdornment(t){const r=t.part,o=r.points,l=r.pointsCount,u=r.isOrthogonal;let c=null;if(o!==null&&l>1){c=new ye,c.type=re.Link;const f=r.firstPickIndex,g=r.lastPickIndex,y=u?1:0;if(r.resegmentable&&r.computeCurve()!==9)for(let b=f+y;b<g-y;b++){const w=this.makeResegmentHandle(t,b);w!==null&&(w.segmentIndex=b,w.segmentFraction=.5,w.fromMaxLinks=999,c.add(w))}for(let b=f+1;b<g;b++){const w=this.makeHandle(t,b);if(w!==null){if(w.segmentIndex=b,b!==f)if(b===f+1&&u){const P=r.getPoint(f);let E=r.getPoint(f+1);K.u(P.x,E.x)&&K.u(P.y,E.y)?(E=r.getPoint(f-1),K.u(P.x,E.x)?(this.setReshapingBehavior(w,2),w.cursor="n-resize"):K.u(P.y,E.y)&&(this.setReshapingBehavior(w,1),w.cursor="w-resize")):K.u(P.x,E.x)?(this.setReshapingBehavior(w,2),w.cursor="n-resize"):K.u(P.y,E.y)&&(this.setReshapingBehavior(w,1),w.cursor="w-resize")}else if(b===g-1&&u){let P=r.getPoint(g-1);const E=r.getPoint(g);K.u(P.x,E.x)&&K.u(P.y,E.y)?(P=r.getPoint(g+1),K.u(P.x,E.x)?(this.setReshapingBehavior(w,2),w.cursor="n-resize"):K.u(P.y,E.y)&&(this.setReshapingBehavior(w,1),w.cursor="w-resize")):K.u(P.x,E.x)?(this.setReshapingBehavior(w,2),w.cursor="n-resize"):K.u(P.y,E.y)&&(this.setReshapingBehavior(w,1),w.cursor="w-resize")}else b===g||(this.setReshapingBehavior(w,3),w.cursor="move");c.add(w)}}c.adornedObject=t}return c}makeHandle(t,r){const o=this.handleArchetype;return o===null?null:o.copy().bm()}get handleArchetype(){return this.Co}set handleArchetype(t){this.Co=t}makeResegmentHandle(t,r){const o=this.midHandleArchetype;return o===null?null:o.copy().bm()}get midHandleArchetype(){return this.jP}set midHandleArchetype(t){this.jP=t}get handle(){return this.us}set handle(t){if(t!==null&&!(t.part instanceof ye))throw new Error("new handle is not in an Adornment: "+t);this.us=t}get adornedLink(){return this.Xw}canStart(){if(!this.isEnabled)return!1;const t=this.diagram;return t.isReadOnly||!t.allowReshape||!t.lastInput.left?!1:this.findToolHandleAt(t.firstInput.documentPoint,this.name)!==null}doActivate(){const t=this.diagram;if(this.handle===null&&(this.handle=this.findToolHandleAt(t.firstInput.documentPoint,this.name)),this.handle===null)return;const r=this.handle.part.adornedPart;if(r instanceof se){if(this.Xw=r,t.isMouseCaptured=!0,this.startTransaction(this.name),r.resegmentable&&this.handle.fromMaxLinks===999){const o=r.points.copy(),l=this.getResegmentingPoint();if(o.insertAt(this.handle.segmentIndex+1,l),r.isOrthogonal&&o.insertAt(this.handle.segmentIndex+1,l),r.points=o,r.invalidateAdornments(),r.updateAdornments(),this.handle=this.findToolHandleAt(t.firstInput.documentPoint,this.name),this.handle===null){this.doDeactivate();return}}this.qP=r.getPoint(this.handle.segmentIndex),this.km=r.points.copy(),this.isActive=!0}}doDeactivate(){this.stopTransaction(),this.handle=null,this.Xw=null;const t=this.diagram;t.isMouseCaptured=!1,this.isActive=!1}stopTransaction(){const t=this.diagram,r=super.stopTransaction();return r&&t.undoManager.transactionToUndo!==null&&t.undoManager.transactionToUndo.optimize(),r}doCancel(){const t=this.adornedLink;t!==null&&(t.points=this.km),this.stopTool()}getResegmentingPoint(){return this.handle.getDocumentPoint(U.Center)}doMouseMove(){const t=this.diagram;if(this.isActive){const r=this.computeReshape(t.lastInput.documentPoint);this.reshape(r)}}doMouseUp(){const t=this.diagram;if(this.isActive){const r=this.computeReshape(t.lastInput.documentPoint);this.reshape(r);const o=this.adornedLink;if(o!==null&&o.resegmentable){const l=this.handle.segmentIndex,u=o.getPoint(l-1),c=o.getPoint(l),f=o.getPoint(l+1);if(o.isOrthogonal){if(l>o.firstPickIndex+1&&l<o.lastPickIndex-1){let g=o.getPoint(l-2);if(this.isWithinResegmentingDistance(u,c)&&(this.isInLineOrtho(g,u,c,f,!0)||this.isInLineOrtho(g,u,c,f,!1))){const y=o.points.copy();this.isInLineOrtho(g,u,c,f,!0)?(y.setElt(l-2,new C(g.x,(f.y+g.y)/2)),y.setElt(l+1,new C(f.x,(f.y+g.y)/2))):(y.setElt(l-2,new C((f.x+g.x)/2,g.y)),y.setElt(l+1,new C((f.x+g.x)/2,f.y))),y.removeAt(l),y.removeAt(l-1),o.points=y,o.invalidateAdornments()}else if(g=o.getPoint(l+2),this.isWithinResegmentingDistance(c,f)&&(this.isInLineOrtho(u,c,f,g,!0)||this.isInLineOrtho(u,c,f,g,!1))){const y=o.points.copy();this.isInLineOrtho(u,c,f,g,!0)?(y.setElt(l-1,new C(u.x,(u.y+g.y)/2)),y.setElt(l+2,new C(g.x,(u.y+g.y)/2))):(y.setElt(l-1,new C((u.x+g.x)/2,u.y)),y.setElt(l+2,new C((u.x+g.x)/2,g.y))),y.removeAt(l+1),y.removeAt(l),o.points=y,o.invalidateAdornments()}}}else{const g=C.l();if(K.pl(u.x,u.y,f.x,f.y,c.x,c.y,g)&&g.distanceSquaredPoint(c)<this.resegmentingDistance*this.resegmentingDistance){const y=o.points.copy();y.removeAt(l),o.points=y,o.invalidateAdornments()}C.s(g)}}t.invalidateDocumentBounds(),this.transactionResult=this.name,t.v("LinkReshaped",this.adornedLink,this.km)}this.stopTool()}isWithinResegmentingDistance(t,r){return Math.abs(t.x-r.x)<this.resegmentingDistance&&Math.abs(t.y-r.y)<this.resegmentingDistance}isInLineOrtho(t,r,o,l,u){return u?Math.abs(t.y-r.y)<this.resegmentingDistance&&Math.abs(r.y-o.y)<this.resegmentingDistance&&Math.abs(o.y-l.y)<this.resegmentingDistance:Math.abs(t.x-r.x)<this.resegmentingDistance&&Math.abs(r.x-o.x)<this.resegmentingDistance&&Math.abs(o.x-l.x)<this.resegmentingDistance}get resegmentingDistance(){return this.HP}set resegmentingDistance(t){this.HP=t}reshape(t){const r=this.adornedLink;r.startRoute();let o=this.handle.segmentIndex;const l=this.getReshapingBehavior(this.handle);if(r.isOrthogonal)if(o===r.firstPickIndex+1){const u=r.firstPickIndex+1;l===2?(r.setPointAt(u,r.getPoint(u-1).x,t.y),r.setPointAt(u+1,r.getPoint(u+2).x,t.y)):l===1&&(r.setPointAt(u,t.x,r.getPoint(u-1).y),r.setPointAt(u+1,t.x,r.getPoint(u+2).y))}else if(o===r.lastPickIndex-1){const u=r.lastPickIndex-1;l===2?(r.setPointAt(u-1,r.getPoint(u-2).x,t.y),r.setPointAt(u,r.getPoint(u+1).x,t.y)):l===1&&(r.setPointAt(u-1,t.x,r.getPoint(u-2).y),r.setPointAt(u,t.x,r.getPoint(u+1).y))}else{let u=o;const c=r.getPoint(u),f=r.getPoint(u-1),g=r.getPoint(u+1);K.u(f.x,c.x)&&K.u(c.y,g.y)?(K.u(f.x,r.getPoint(u-2).x)&&!K.u(f.y,r.getPoint(u-2).y)?(r.insertPointAt(u,t.x,f.y),o++,u++):r.setPointAt(u-1,t.x,f.y),K.u(g.y,r.getPoint(u+2).y)&&!K.u(g.x,r.getPoint(u+2).x)?r.insertPointAt(u+1,g.x,t.y):r.setPointAt(u+1,g.x,t.y)):K.u(f.y,c.y)&&K.u(c.x,g.x)?(K.u(f.y,r.getPoint(u-2).y)&&!K.u(f.x,r.getPoint(u-2).x)?(r.insertPointAt(u,f.x,t.y),o++,u++):r.setPointAt(u-1,f.x,t.y),K.u(g.x,r.getPoint(u+2).x)&&!K.u(g.y,r.getPoint(u+2).y)?r.insertPointAt(u+1,t.x,g.y):r.setPointAt(u+1,t.x,g.y)):K.u(f.x,c.x)&&K.u(c.x,g.x)?(K.u(f.x,r.getPoint(u-2).x)&&!K.u(f.y,r.getPoint(u-2).y)?(r.insertPointAt(u,t.x,f.y),o++,u++):r.setPointAt(u-1,t.x,f.y),K.u(g.x,r.getPoint(u+2).x)&&!K.u(g.y,r.getPoint(u+2).y)?r.insertPointAt(u+1,t.x,g.y):r.setPointAt(u+1,t.x,g.y)):K.u(f.y,c.y)&&K.u(c.y,g.y)&&(K.u(f.y,r.getPoint(u-2).y)&&!K.u(f.x,r.getPoint(u-2).x)?(r.insertPointAt(u,f.x,t.y),o++,u++):r.setPointAt(u-1,f.x,t.y),K.u(g.y,r.getPoint(u+2).y)&&!K.u(g.x,r.getPoint(u+2).x)?r.insertPointAt(u+1,g.x,t.y):r.setPointAt(u+1,g.x,t.y)),r.setPointAt(o,t.x,t.y)}else{r.setPointAt(o,t.x,t.y);let u=r.fromNode,c=r.fromPort;if(u!==null){const y=u.findVisibleNode();y!==null&&y!==u&&(u=y,c=u.port)}if(o===1&&r.computeSpot(!0,c).isNoSpot()){const y=c.getDocumentPoint(U.Center,C.l()),b=r.getLinkPointFromPoint(u,c,y,t,!0,C.l());r.setPointAt(0,b.x,b.y),C.s(y),C.s(b)}let f=r.toNode,g=r.toPort;if(f!==null){const y=f.findVisibleNode();y!==null&&y!==f&&(f=y,g=f.port)}if(o===r.pointsCount-2&&r.computeSpot(!1,g).isNoSpot()){const y=g.getDocumentPoint(U.Center,C.l()),b=r.getLinkPointFromPoint(f,g,y,t,!1,C.l());r.setPointAt(r.pointsCount-1,b.x,b.y),C.s(y),C.s(b)}}r.commitRoute()}computeReshape(t){const r=this.adornedLink,o=this.handle.segmentIndex;switch(this.getReshapingBehavior(this.handle)){case 3:return t;case 2:{const l=r.getPoint(o);return new C(l.x,t.y)}case 1:{const l=r.getPoint(o);return new C(t.x,l.y)}default:case 0:return r.getPoint(o)}}get originalPoint(){return this.qP}get originalPoints(){return this.km}}T(le,"None",0),T(le,"Horizontal",1),T(le,"Vertical",2),T(le,"All",3);class me extends kt{constructor(t){super();T(this,"xr");T(this,"br");T(this,"Lo");T(this,"mc");T(this,"$P");T(this,"ds");T(this,"Co");T(this,"us");T(this,"Pm");T(this,"ZP");T(this,"pc");T(this,"Kw");T(this,"Yw");T(this,"Gw");this.name="Resizing",this.xr=new z(1,1).g(),this.br=new z(9999,9999).g(),this.Lo=new z(NaN,NaN).g(),this.mc=!1,this.$P=!0,this.ds=null,this.Co=new fe("Rectangle",{alignmentFocus:U.Center,desiredSize:z._N,fill:"lightblue",stroke:"dodgerblue",strokeWidth:1,cursor:"pointer"}).theme("fill","adornmentFill").theme("stroke","adornmentStroke"),this.us=null,this.Pm=new C,this.ZP=new z,this.pc=new C,this.Kw=new z(0,0),this.Yw=new z(1/0,1/0),this.Gw=new z(1,1),t&&Object.assign(this,t)}updateAdornments(t){if(!(t===null||t instanceof se)){if(t.isSelected&&!this.diagram.isReadOnly){const r=t.resizeObject;let o=t.findAdornment(this.name);if(r!==null&&t.canResize()&&t.actualBounds.isReal()&&t.isVisible()&&r.actualBounds.isReal()&&r.isVisibleObject()&&((o===null||o.adornedObject!==r)&&(o=this.makeAdornment(r)),o!==null)){const l=r.getDocumentAngle();t.Cl()&&this.updateResizeHandles(o,l),t.addAdornment(this.name,o);return}}t.removeAdornment(this.name)}}makeAdornment(t){let r=null;const o=t.part.resizeAdornmentTemplate;if(o===null){r=new ye,r.type=re.Spot,r.locationSpot=U.Center;const l=new zn;l.isPanelMain=!0,r.add(l),r.add(this.makeHandle(t,U.TopLeft)),r.add(this.makeHandle(t,U.TopRight)),r.add(this.makeHandle(t,U.BottomRight)),r.add(this.makeHandle(t,U.BottomLeft)),r.add(this.makeHandle(t,U.MiddleTop)),r.add(this.makeHandle(t,U.MiddleRight)),r.add(this.makeHandle(t,U.MiddleBottom)),r.add(this.makeHandle(t,U.MiddleLeft))}else if(o.hi(),r=o.copy(),r===null)return null;return r.adornedObject=t,r}makeHandle(t,r){const o=this.handleArchetype;if(o===null)return null;const l=o.copy().bm();return l.alignment=r,l}updateResizeHandles(t,r){if(t!==null){if(!t.alignment.isDefault()&&(t.cursor==="pointer"||t.cursor.indexOf("resize")>0))this.iF(t,r);else if(t instanceof re){const o=t.elements;for(;o.next();){const l=o.value;this.updateResizeHandles(l,r)}}}}iF(t,r){let o=t.alignment;o.isNoSpot()&&(o=U.Center);let l=r;if(o.x<=0)o.y<=0?l+=225:o.y>=1?l+=135:l+=180;else if(o.x>=1)o.y<=0?l+=315:o.y>=1&&(l+=45);else if(o.y<=0)l+=270;else if(o.y>=1)l+=90;else return;l<0?l+=360:l>=360&&(l-=360),l<22.5?t.cursor="e-resize":l<67.5?t.cursor="se-resize":l<112.5?t.cursor="s-resize":l<157.5?t.cursor="sw-resize":l<202.5?t.cursor="w-resize":l<247.5?t.cursor="nw-resize":l<292.5?t.cursor="n-resize":l<337.5?t.cursor="ne-resize":t.cursor="e-resize"}get handleArchetype(){return this.Co}set handleArchetype(t){this.Co=t}get handle(){return this.us}set handle(t){if(t!==null&&!(t.part instanceof ye))throw new Error("new handle is not in an Adornment: "+t);this.us=t}get adornedObject(){return this.ds}set adornedObject(t){if(t!==null&&t.part instanceof ye)throw new Error("new handle must not be in an Adornment: "+t);this.ds=t}canStart(){if(!this.isEnabled)return!1;const t=this.diagram;return t.isReadOnly||!t.allowResize||!t.lastInput.left?!1:this.findToolHandleAt(t.firstInput.documentPoint,this.name)!==null}doActivate(){const t=this.diagram;this.handle===null&&(this.handle=this.findToolHandleAt(t.firstInput.documentPoint,this.name)),this.handle!==null&&(this.adornedObject=this.handle.part.adornedObject,this.adornedObject!==null&&(t.isMouseCaptured=!0,t.animationManager.stopAnimation(),t.yu=!0,this.startTransaction(this.name),this.Pm.set(this.adornedObject.getDocumentPoint(this.handle.alignment.opposite())),this.pc.set(this.adornedObject.part.location),this.ZP.set(this.adornedObject.desiredSize),this.Gw=this.computeCellSize(),this.Kw=this.computeMinSize(),this.Yw=this.computeMaxSize(),this.isActive=!0))}doDeactivate(){const t=this.diagram;t.yu=!1,t.kl=!0,this.stopTransaction(),this.handle=null,this.ds=null,t.isMouseCaptured=!1,this.isActive=!1}stopTransaction(){const t=this.diagram,r=super.stopTransaction();return r&&t.undoManager.transactionToUndo!==null&&t.undoManager.transactionToUndo.optimize(),r}doCancel(){this.adornedObject!==null&&(this.adornedObject.desiredSize=this.originalDesiredSize,this.adornedObject.part.location=this.originalLocation),this.stopTool()}doMouseMove(){const t=this.diagram;if(!this.isActive)return;const r=this.Kw,o=this.Yw,l=this.Gw,u=t.lastInput.documentPoint,c=this.adornedObject.getLocalPoint(u,C.l()),f=this.computeReshape(),g=this.computeResize(c,this.handle.alignment,r,o,l,f);this.resize(g),t.maybeUpdate(),C.s(c)}doMouseUp(){const t=this.diagram;if(this.isActive){const r=this.Kw,o=this.Yw,l=this.Gw,u=this.adornedObject.getLocalPoint(t.lastInput.documentPoint,C.l()),c=this.computeReshape(),f=this.computeResize(u,this.handle.alignment,r,o,l,c);this.resize(f),C.s(u),t.invalidateDocumentBounds(),this.transactionResult=this.name,t.v("PartResized",this.adornedObject,this.originalDesiredSize)}this.stopTool()}resize(t){const r=this.diagram,o=this.adornedObject;if(o===null)return;o.desiredSize=t.size;const l=o.part;l.ensureBounds();const u=o.getDocumentPoint(this.handle.alignment.opposite());if(l instanceof Ut){const c=new x;c.add(l);let f;!this.dragsMembers&&!l.hasPlaceholder()&&(f=new Xe,f.dragsMembers=!1),r.moveParts(c,this.oppositePoint.copy().subtract(u),!0,f)}else l.location=l.location.copy().subtract(u).add(this.oppositePoint);r.maybeUpdate()}computeResize(t,r,o,l,u,c){r.isNoSpot()&&(r=U.Center);const f=this.adornedObject.naturalBounds,g=f.x,y=f.y,b=f.x+f.width,w=f.y+f.height;let P=1;if(!c){let _=f.width,R=f.height;_<=0&&(_=1),R<=0&&(R=1),P=R/_}const E=C.l();K.Eg(t.x,t.y,g,y,u.width,u.height,E);const N=f.copy();return r.x<=0?r.y<=0?(N.x=Math.max(E.x,b-l.width),N.x=Math.min(N.x,b-o.width),N.width=Math.max(b-N.x,o.width),N.y=Math.max(E.y,w-l.height),N.y=Math.min(N.y,w-o.height),N.height=Math.max(w-N.y,o.height),c||(N.height/N.width>=1?(N.height=Math.max(Math.min(P*N.width,l.height),o.height),N.width=N.height/P):(N.width=Math.max(Math.min(N.height/P,l.width),o.width),N.height=P*N.width),N.x=b-N.width,N.y=w-N.height)):r.y>=1?(N.x=Math.max(E.x,b-l.width),N.x=Math.min(N.x,b-o.width),N.width=Math.max(b-N.x,o.width),N.height=Math.max(Math.min(E.y-y,l.height),o.height),c||(N.height/N.width>=1?(N.height=Math.max(Math.min(P*N.width,l.height),o.height),N.width=N.height/P):(N.width=Math.max(Math.min(N.height/P,l.width),o.width),N.height=P*N.width),N.x=b-N.width)):(N.x=Math.max(E.x,b-l.width),N.x=Math.min(N.x,b-o.width),N.width=b-N.x,c||(N.height=Math.max(Math.min(P*N.width,l.height),o.height),N.width=N.height/P,N.y=y+.5*(w-y-N.height))):r.x>=1?r.y<=0?(N.width=Math.max(Math.min(E.x-g,l.width),o.width),N.y=Math.max(E.y,w-l.height),N.y=Math.min(N.y,w-o.height),N.height=Math.max(w-N.y,o.height),c||(N.height/N.width>=1?(N.height=Math.max(Math.min(P*N.width,l.height),o.height),N.width=N.height/P):(N.width=Math.max(Math.min(N.height/P,l.width),o.width),N.height=P*N.width),N.y=w-N.height)):r.y>=1?(N.width=Math.max(Math.min(E.x-g,l.width),o.width),N.height=Math.max(Math.min(E.y-y,l.height),o.height),c||(N.height/N.width>=1?(N.height=Math.max(Math.min(P*N.width,l.height),o.height),N.width=N.height/P):(N.width=Math.max(Math.min(N.height/P,l.width),o.width),N.height=P*N.width))):(N.width=Math.max(Math.min(E.x-g,l.width),o.width),c||(N.height=Math.max(Math.min(P*N.width,l.height),o.height),N.width=N.height/P,N.y=y+.5*(w-y-N.height))):r.y<=0?(N.y=Math.max(E.y,w-l.height),N.y=Math.min(N.y,w-o.height),N.height=w-N.y,c||(N.width=Math.max(Math.min(N.height/P,l.width),o.width),N.height=P*N.width,N.x=g+.5*(b-g-N.width))):r.y>=1&&(N.height=Math.max(Math.min(E.y-y,l.height),o.height),c||(N.width=Math.max(Math.min(N.height/P,l.width),o.width),N.height=P*N.width,N.x=g+.5*(b-g-N.width))),C.s(E),N}computeReshape(){let t=0;return this.adornedObject instanceof fe&&(t=this.adornedObject.QP()),!(t===6||this.diagram.lastInput.shift)}computeMinSize(){const t=this.adornedObject.minSize.copy(),r=this.minSize;return!isNaN(r.width)&&r.width>t.width&&(t.width=r.width),!isNaN(r.height)&&r.height>t.height&&(t.height=r.height),t}computeMaxSize(){const t=this.adornedObject.maxSize.copy(),r=this.maxSize;return!isNaN(r.width)&&r.width<t.width&&(t.width=r.width),!isNaN(r.height)&&r.height<t.height&&(t.height=r.height),t}computeCellSize(){const t=new z(NaN,NaN),r=this.adornedObject.part;if(r!==null){const u=r.resizeCellSize;!isNaN(u.width)&&u.width>0&&(t.width=u.width),!isNaN(u.height)&&u.height>0&&(t.height=u.height)}let o=this.cellSize;isNaN(t.width)&&!isNaN(o.width)&&o.width>0&&(t.width=o.width),isNaN(t.height)&&!isNaN(o.height)&&o.height>0&&(t.height=o.height);const l=this.diagram;if((isNaN(t.width)||isNaN(t.height))&&l){const u=l.grid;u!==null&&u.visible&&this.isGridSnapEnabled&&(o=u.gridCellSize,isNaN(t.width)&&!isNaN(o.width)&&o.width>0&&(t.width=o.width),isNaN(t.height)&&!isNaN(o.height)&&o.height>0&&(t.height=o.height))}return(isNaN(t.width)||t.width===0||t.width===1/0)&&(t.width=1),(isNaN(t.height)||t.height===0||t.height===1/0)&&(t.height=1),t}get minSize(){return this.xr}set minSize(t){if(!this.xr.equals(t)){let r=t.width;isNaN(r)&&(r=0);let o=t.height;isNaN(o)&&(o=0),this.xr.e(r,o)}}get maxSize(){return this.br}set maxSize(t){if(!this.br.equals(t)){let r=t.width;isNaN(r)&&(r=1/0);let o=t.height;isNaN(o)&&(o=1/0),this.br.e(r,o)}}get cellSize(){return this.Lo}set cellSize(t){this.Lo.equals(t)||this.Lo.a(t)}get isGridSnapEnabled(){return this.mc}set isGridSnapEnabled(t){this.mc=t}get dragsMembers(){return this.$P}set dragsMembers(t){this.$P=t}get oppositePoint(){return this.Pm}set oppositePoint(t){this.Pm.equals(t)||this.Pm.a(t)}get originalDesiredSize(){return this.ZP}get originalLocation(){return this.pc}}class _t extends kt{constructor(t){super();T(this,"_P");T(this,"tM");T(this,"ds");T(this,"Co");T(this,"us");T(this,"iM");T(this,"Mm");T(this,"pc");T(this,"eM");T(this,"sM");this.name="Rotating",this._P=45,this.tM=2,this.pc=new C,this.ds=null,this.Co=new fe("Ellipse",{desiredSize:z.hu,fill:"lightblue",stroke:"dodgerblue",strokeWidth:1,cursor:"pointer"}).theme("fill","adornmentFill").theme("stroke","adornmentStroke"),this.us=null,this.iM=0,this.Mm=new C(NaN,NaN),this.eM=0,this.sM=50,t&&Object.assign(this,t)}updateAdornments(t){if(t!==null){if(t.Ll()){const r=t.rotateObject;if(r===t||r===t.path||r.isPanelMain)return}if(t.isSelected&&!this.diagram.isReadOnly){const r=t.rotateObject;if(r!==null&&t.canRotate()&&t.actualBounds.isReal()&&t.isVisible()&&r.actualBounds.isReal()&&r.isVisibleObject()){let o=t.findAdornment(this.name);if((o===null||o.adornedObject!==r)&&(o=this.makeAdornment(r)),o!==null){o.angle=r.getDocumentAngle(),o.hasPlaceholder()||(o.location=this.computeAdornmentLocation(r)),t.addAdornment(this.name,o);return}}}t.removeAdornment(this.name)}}makeAdornment(t){let r=null;const o=t.part.rotateAdornmentTemplate;if(o===null){r=new ye,r.type=re.Position,r.locationSpot=U.Center;const l=this.handleArchetype;l!==null&&r.add(l.copy().bm())}else if(o.hi(),r=o.copy(),r===null)return null;return r.adornedObject=t,r}get handleArchetype(){return this.Co}set handleArchetype(t){this.Co=t}get handle(){return this.us}set handle(t){if(t!==null&&!(t.part instanceof ye))throw new Error("new handle is not in an Adornment: "+t);this.us=t}get adornedObject(){return this.ds}set adornedObject(t){if(t!==null&&t.part instanceof ye)throw new Error("new handle must not be in an Adornment: "+t);this.ds=t}canStart(){if(!this.isEnabled)return!1;const t=this.diagram;return t.isReadOnly||!t.allowRotate||!t.lastInput.left?!1:this.findToolHandleAt(t.firstInput.documentPoint,this.name)!==null}doActivate(){const t=this.diagram;if(this.adornedObject===null){if(this.handle===null&&(this.handle=this.findToolHandleAt(t.firstInput.documentPoint,this.name)),this.handle===null)return;this.adornedObject=this.handle.part.adornedObject}this.adornedObject!==null&&(t.isMouseCaptured=!0,t.delaysLayout=!0,this.startTransaction(this.name),this.iM=this.adornedObject.angle,this.Mm=this.computeRotationPoint(this.adornedObject),this.pc=this.adornedObject.part.location.copy(),this.isActive=!0)}computeRotationPoint(t){const r=t.part,o=r.locationObject;return r.rotationSpot.isSpot()?t.getDocumentPoint(r.rotationSpot):t===r||t===o?o.getDocumentPoint(r.locationSpot):t.getDocumentPoint(U.Center)}computeAdornmentLocation(t){let r=this.rotationPoint;r.isReal()||(r=this.computeRotationPoint(t));const o=t.getLocalPoint(r);let l=this.handleAngle;l<0?l+=360:l>=360&&(l-=360),l=Math.round(Math.round(l/45)*45);const u=this.handleDistance;return l===0?o.x=t.naturalBounds.width+u:l===45?(o.x=t.naturalBounds.width+u,o.y=t.naturalBounds.height+u):l===90?o.y=t.naturalBounds.height+u:l===135?(o.x=-u,o.y=t.naturalBounds.height+u):l===180?o.x=-u:l===225?(o.x=-u,o.y=-u):l===270?o.y=-u:l===315&&(o.x=t.naturalBounds.width+u,o.y=-u),t.getDocumentPoint(o)}doDeactivate(){const t=this.diagram;this.stopTransaction(),this.handle=null,this.ds=null,this.Mm=new C(NaN,NaN),t.isMouseCaptured=!1,this.isActive=!1}stopTransaction(){const t=this.diagram,r=super.stopTransaction();return r&&t.undoManager.transactionToUndo!==null&&t.undoManager.transactionToUndo.optimize(),r}doCancel(){const t=this.diagram;t.delaysLayout=!1,this.rotate(this.originalAngle),this.stopTool()}doMouseMove(){const t=this.diagram;if(this.isActive){const r=this.computeRotate(t.lastInput.documentPoint);this.rotate(r)}}doMouseUp(){const t=this.diagram;if(this.isActive){t.delaysLayout=!1;const r=this.computeRotate(t.lastInput.documentPoint);this.rotate(r),t.invalidateDocumentBounds(),this.transactionResult=this.name,t.v("PartRotated",this.adornedObject,this.originalAngle)}this.stopTool()}rotate(t){const r=this.adornedObject;if(r===null)return;r.angle=t;const o=r.part;o.ensureBounds();const l=o.locationObject,u=o.rotateObject;if(l===u||l.isContainedBy(u)){const c=this.pc.copy();o.location=c.subtract(this.rotationPoint).rotate(t-this.originalAngle).add(this.rotationPoint)}this.diagram.maybeUpdate()}computeRotate(t){let r=this.rotationPoint.directionPoint(t)-this.handleAngle;const o=this.adornedObject.panel;o!==null&&(r-=o.getDocumentAngle()),r>=360?r-=360:r<0&&(r+=360);const l=Math.min(Math.abs(this.snapAngleMultiple),180),u=Math.min(Math.abs(this.snapAngleEpsilon),l/2);return!this.diagram.lastInput.shift&&l>0&&u>0&&(r%l<u?r=Math.floor(r/l)*l:r%l>l-u&&(r=(Math.floor(r/l)+1)*l)),r>=360?r-=360:r<0&&(r+=360),r}get snapAngleMultiple(){return this._P}set snapAngleMultiple(t){this._P=t}get snapAngleEpsilon(){return this.tM}set snapAngleEpsilon(t){this.tM=t}get originalAngle(){return this.iM}get rotationPoint(){return this.Mm}set rotationPoint(t){this.Mm=t.copy()}get handleAngle(){return this.eM}set handleAngle(t){this.eM=t}get handleDistance(){return this.sM}set handleDistance(t){this.sM=t}}class Yt extends kt{constructor(i){super(),this.name="ClickSelecting",i&&Object.assign(this,i)}canStart(){return!(!this.isEnabled||this.isBeyondDragSize())}doMouseUp(){this.isActive&&(this.standardMouseSelect(),this.standardMouseClick()||this.diagram.lastInput.isTouchEvent&&this.diagram.toolManager.doToolTip()),this.stopTool()}}class ue extends kt{constructor(t){super();T(this,"yc");this.name="Action",this.yc=null,t&&Object.assign(this,t)}canStart(){if(!this.isEnabled)return!1;const t=this.diagram,r=t.lastInput,o=t.findObjectAt(r.documentPoint,l=>{for(;l.panel!==null;){if(l.isActionable)return l;l=l.panel}return l});return o!==null&&o.isActionable?(this.yc=o,t.ac=t.findObjectAt(r.documentPoint,null,null),!0):!1}doMouseDown(){if(!this.isActive)this.canStart()&&this.doActivate();else{const t=this.diagram.lastInput,r=this.yc;if(r===null)return;t.targetObject=r,r.actionDown!==null&&r.actionDown(t,r)}}doMouseMove(){if(this.isActive){const t=this.diagram.lastInput,r=this.yc;if(r===null)return;t.targetObject=r,r.actionMove!==null&&r.actionMove(t,r)}}doMouseUp(){if(this.isActive){const t=this.diagram.lastInput,r=this.yc;if(r===null)return;t.targetObject=r,r.actionUp!==null&&r.actionUp(t,r),this.standardMouseClick(o=>{for(;o.panel!==null;){if(o.isActionable&&o===r)return o;o=o.panel}return o},o=>o===r)}this.stopTool()}doCancel(){const t=this.diagram.lastInput,r=this.yc;r!==null&&(t.targetObject=r,r.actionCancel!==null&&r.actionCancel(t,r),this.stopTool())}doStop(){this.yc=null}}class Ae extends kt{constructor(t){super();T(this,"Al");T(this,"nM");T(this,"mc");T(this,"oM");this.name="ClickCreating",this.Al=null,this.nM=!0,this.mc=!1,this.oM=new C(0,0),t&&Object.assign(this,t)}canStart(){if(!this.isEnabled||this.archetypeNodeData===null)return!1;const t=this.diagram;if(t.isReadOnly||t.isModelReadOnly||!t.allowInsert||!t.lastInput.left||this.isBeyondDragSize())return!1;if(this.isDoubleClick){if(t.lastInput.clickCount===1&&(this.oM=t.lastInput.viewPoint.copy()),t.lastInput.clickCount!==2||this.isBeyondDragSize(this.oM))return!1}else if(t.lastInput.clickCount!==1)return!1;return!(t.currentTool!==this&&t.findPartAt(t.lastInput.documentPoint,!0)!==null)}doMouseUp(){const t=this.diagram;this.isActive&&this.insertPart(t.lastInput.documentPoint),this.stopTool()}insertPart(t){const r=this.diagram,o=this.archetypeNodeData;if(o===null)return null;let l=null;try{if(r.v("ChangingSelection",r.selection),this.startTransaction(this.name),o instanceof Le)o.Me()&&(o.hi(),l=o.copy(),l!==null&&r.add(l));else if(o!==null){const u=r.model.copyNodeData(o);n.wt(u)&&(r.model.addNodeData(u),l=r.findPartForData(u))}if(l!==null){const u=C.X(t.x,t.y);this.isGridSnapEnabled&&this.diagram.rM(l,t,u),l.location=u,r.allowSelect&&(r.clearSelection(!0),l.isSelected=!0),C.s(u)}r.invalidateDocumentBounds(),this.transactionResult=this.name,r.v("PartCreated",l)}finally{this.stopTransaction(),r.v("ChangedSelection",r.selection)}return l}get archetypeNodeData(){return this.Al}set archetypeNodeData(t){this.Al=t}get isDoubleClick(){return this.nM}set isDoubleClick(t){this.nM=t}get isGridSnapEnabled(){return this.mc}set isGridSnapEnabled(t){this.mc=t}}class _e extends kt{constructor(t){super();T(this,"Bh");T(this,"lM");T(this,"Tl");this.name="DragSelecting",this.Bh=175,this.lM=!1,this.Tl=new Le({layerName:"Tool",selectable:!1}).add(new fe("Rectangle",{name:"SHAPE",fill:null,stroke:"magenta"}).theme("stroke","dragSelect")).hi(),t&&Object.assign(this,t)}canStart(){if(!this.isEnabled)return!1;const t=this.diagram;if(!t.allowSelect)return!1;const r=t.lastInput;return!(!r.left||t.currentTool!==this&&(!this.isBeyondDragSize()||r.timestamp-t.firstInput.timestamp<this.delay||t.findPartAt(r.documentPoint,!0)!==null))}doActivate(){const t=this.diagram;this.isActive=!0,t.isMouseCaptured=!0,t.skipsUndoManager=!0,t.add(this.box),this.doMouseMove()}doDeactivate(){const t=this.diagram;t.stopAutoScroll(),t.remove(this.box),t.skipsUndoManager=!1,t.isMouseCaptured=!1,this.isActive=!1}doMouseMove(){const t=this.diagram;if(this.isActive&&this.box!==null){const r=this.computeBoxBounds();let o=this.box.findObject("SHAPE");o===null&&(o=this.box.findMainElement());const l=z.l().e(r.width,r.height);o.desiredSize=l,this.box.wc(r.x,r.y,!1),z.s(l),(t.allowHorizontalScroll||t.allowVerticalScroll)&&t.doAutoScroll(t.lastInput.viewPoint)}}doMouseUp(){if(this.isActive){const t=this.diagram;t.remove(this.box);try{t.currentCursor="wait",t.v("ChangingSelection",t.selection),this.selectInRect(this.computeBoxBounds()),t.v("ChangedSelection",t.selection)}finally{t.currentCursor=""}}this.stopTool()}computeBoxBounds(){const t=this.diagram;return new F(t.firstInput.documentPoint,t.lastInput.documentPoint)}selectInRect(t){const r=this.diagram,o=r.lastInput,l=r.findPartsIn(t,this.isPartialInclusion);if(n.rr?o.meta:o.control)if(o.shift){const u=l.iterator;for(;u.next();){const c=u.value;c.isSelected&&(c.isSelected=!1)}}else{const u=l.iterator;for(;u.next();){const c=u.value;c.isSelected=!c.isSelected}}else if(o.shift){const u=l.iterator;for(;u.next();){const c=u.value;c.isSelected||(c.isSelected=!0)}}else{const u=new x,c=r.selection.iterator;for(;c.next();){const y=c.value;l.has(y)||u.add(y)}const f=u.iterator;for(;f.next();){const y=f.value;y.isSelected=!1}const g=l.iterator;for(;g.next();){const y=g.value;y.isSelected||(y.isSelected=!0)}}}get delay(){return this.Bh}set delay(t){this.Bh=t}get isPartialInclusion(){return this.lM}set isPartialInclusion(t){this.lM=t}get box(){return this.Tl}set box(t){t!==null&&t.hi(),this.Tl=t}}class en extends kt{constructor(t){super();T(this,"jw");T(this,"YC");T(this,"No");T(this,"hM");this.name="Panning",this.jw=new C,this.YC=new C,this.No=!1;const r=this;this.hM=()=>{const o=r.diagram;o!==null&&o.Ni(e.document,"scroll",r.hM,!1),r.stopTool()},t&&Object.assign(this,t)}canStart(){if(!this.isEnabled)return!1;const t=this.diagram;return!(!t.allowHorizontalScroll&&!t.allowVerticalScroll||!t.lastInput.left||t.currentTool!==this&&!this.isBeyondDragSize())}doActivate(){const t=this.diagram;this.No?(t.lastInput.bubbles=!0,t.Vt(e.document,"scroll",this.hM,!1)):(t.currentCursor="move",t.isMouseCaptured=!0,this.jw.a(t.position)),this.isActive=!0}doDeactivate(){const t=this.diagram;t.currentCursor="",t.isMouseCaptured=!1,this.isActive=!1}doCancel(){const t=this.diagram;t.position=this.jw,t.isMouseCaptured=!1,this.stopTool()}doMouseMove(){this.GC()}doMouseUp(){this.GC(),this.stopTool()}GC(){const t=this.diagram;if(this.isActive&&t){if(this.No){t.lastInput.bubbles=!0;return}const r=t.position,o=t.firstInput.documentPoint,l=t.lastInput.documentPoint;let u=r.x+o.x-l.x,c=r.y+o.y-l.y;t.allowHorizontalScroll||(u=r.x),t.allowVerticalScroll||(c=r.y),t.position=this.YC.e(u,c)}}get bubbles(){return this.No}set bubbles(t){this.No=t}get originalPosition(){return this.jw}}class qe{constructor(i){T(this,"Hw");T(this,"qw");T(this,"aM");T(this,"cM");this.Hw=null,this.qw=null,this.aM=null,this.cM=null,i&&Object.assign(this,i)}get mainElement(){return this.aM}set mainElement(i){this.aM=i}get show(){return this.Hw}set show(i){this.Hw!==i&&(this.Hw=i)}get hide(){return this.qw}set hide(i){this.qw!==i&&(this.qw=i)}get valueFunction(){return this.cM}set valueFunction(i){this.cM=i}}class $e{constructor(i,t,r){T(this,"ai");T(this,"Sm");T(this,"xc");this.ai=i,this.Sm=t,this.xc=r}}const Qe=class Qe extends kt{constructor(t){super();T(this,"fM");T(this,"Ww");T(this,"uM");T(this,"dM");T(this,"Jw");T(this,"$w");T(this,"Nm");this.name="ContextMenu",this.fM=null,this.Ww=null,this.uM=null,this.dM=new C,this.Jw=null,this.Nm=!1;const r=this;this.$w=()=>r.stopTool(),t&&Object.assign(this,t)}eF(){const t=new qe;t.show=(f,g,y)=>y.showDefaultContextMenu(),t.hide=(f,g)=>g.hideDefaultContextMenu(),Qe.ku=t;const r=this;this.$w=()=>r.stopTool();const o=n.en("div"),l=n.en("div");o.style.cssText="top: 0px;z-index:10002;position: fixed;display: none;text-align: center;left: 25%;width: 50%;background-color: #F5F5F5;padding: 16px;border: 16px solid #444;border-radius: 10px;margin-top: 10px",l.style.cssText="z-index:10001;position: fixed;display: none;top: 0;left: 0;width: 100%;height: 100%;background-color: black;opacity: 0.8;";const u=n.en("style");e.document.getElementsByTagName("head")[0].appendChild(u),u.sheet.insertRule(".goCXul { list-style: none; }",0),u.sheet.insertRule(".goCXli {font:700 1.5em Helvetica, Arial, sans-serif;position: relative;min-width: 60px; }",0),u.sheet.insertRule(".goCXa {color: #444;display: inline-block;padding: 4px;text-decoration: none;margin: 2px;border: 1px solid gray;border-radius: 10px; }",0);const c=this.diagram;c!==null&&(c.Vt(o,"contextmenu",Qe.Kh,!1),c.Vt(o,"selectstart",Qe.Kh,!1),c.Vt(l,"contextmenu",Qe.Kh,!1)),o.className="goCXforeground",l.className="goCXbackground",e.document.body&&(e.document.body.appendChild(o),e.document.body.appendChild(l)),Qe.Cm=o,Qe.Lm=l,Qe.gM=!0}static Kh(t){return t.preventDefault(),!1}canStart(){if(!this.isEnabled)return!1;const t=this.diagram;return this.isBeyondDragSize()||!t.lastInput.right||t.lastInput.clickCount>1?!1:!!(t.lastInput.isTouchEvent&&this.defaultTouchContextMenu!==null||this.findObjectWithContextMenu()!==null)}doStart(){const t=this.diagram;this.dM.set(t.firstInput.documentPoint)}doStop(){this.hideContextMenu(),this.currentObject=null,this.Nm=!1}findObjectWithContextMenu(t){t===void 0&&(t=null);const r=this.diagram,o=r.lastInput;let l=null;if(t instanceof xe||(t instanceof dn?l=t:l=r.findObjectAt(o.documentPoint,null,u=>!u.layer.isTemporary)),l!==null){let u=l;for(;u!==null;){if(u.contextMenu!==null)return u;u=u.panel}if(r.lastInput.isTouchEvent&&this.defaultTouchContextMenu)return l.part}else if(r.contextMenu!==null)return r;return null}doActivate(){}doMouseDown(){if(super.doMouseDown(),this.isActive&&this.currentContextMenu instanceof ye){const t=this.diagram.toolManager.findTool("Action");t!==null&&t.canStart()&&(t.doActivate(),t.doMouseDown(),t.doDeactivate())}this.diagram.toolManager.mouseDownTools.has(this)&&this.doContextClick()}doMouseUp(){if(this.isActive&&this.currentContextMenu instanceof ye){const t=this.diagram.toolManager.findTool("Action");t!==null&&t.canStart()&&(t.doActivate(),t.doCancel(),t.doDeactivate())}this.doContextClick()}doContextClick(){const t=this.diagram;if(!this.isActive)this.canStart()&&(this.openMenu(!0),this.isActive||this.stopTool());else{const r=this.currentContextMenu;if(r===null)return;let o=null;r instanceof qe||(o=t.findObjectAt(t.lastInput.documentPoint,null,null),o!==null&&o.isContainedBy(r)&&this.standardMouseClick(null,null)),this.maybeStopTool(o)}}maybeStopTool(t){this.stopTool(),this.canStart()&&(this.diagram.currentTool=this,this.doMouseUp())}openMenu(t,r){if(r===void 0&&(r=null),this.Nm)return;this.Nm=!0,t&&this.standardMouseSelect();const o=this.standardMouseClick();if(this.Nm=!1,!o){this.isActive=!0;const l=Qe.ku;if(r===null&&(r=this.findObjectWithContextMenu()),r!==null){const u=r.contextMenu;u!==null?(this.currentObject=r instanceof dn?r:null,this.showContextMenu(u,this.currentObject)):l!==null&&this.showContextMenu(l,this.currentObject)}else l!==null&&this.showContextMenu(l,null);this.currentContextMenu instanceof ye&&!this.currentContextMenu.visible&&this.stopTool()}}doMouseMove(){const t=this.diagram.toolManager.findTool("Action");t!==null&&t.doMouseMove(),this.isActive&&this.diagram.toolManager.doMouseMove()}showContextMenu(t,r){const o=this.diagram;if(t!==this.currentContextMenu&&this.hideContextMenu(),t instanceof ye){const l=t;l.layerName="Tool",l.selectable=!1,l.scale=1/o.scale,l.category=this.name,l.hasPlaceholder()&&(l.placeholder.scale=o.scale);const u=l.diagram;u!==null&&u!==o&&u.remove(l),o.add(l),r!==null?l.adornedObject=r:l.data=o.model,l.ensureBounds(),this.positionContextMenu(l,r)}else t instanceof qe&&t.show(r,o,this);this.currentContextMenu=t}positionContextMenu(t,r){if(t.hasPlaceholder())return;const o=t,l=this.diagram,u=l.lastInput.documentPoint.copy(),c=o.measuredBounds,f=l.viewportBounds;l.lastInput.isTouchEvent&&(u.x-=c.width),u.x+c.width>f.right&&(u.x-=c.width+5/l.scale),u.x<f.x&&(u.x=f.x),u.y+c.height>f.bottom&&(u.y-=c.height+5/l.scale),u.y<f.y&&(u.y=f.y),o.position=u}hideContextMenu(){const t=this.diagram,r=this.currentContextMenu;r!==null&&(r instanceof ye?(t.remove(r),this.Ww!==null&&this.Ww.removeAdornment(r.category),r.data=null,r.adornedObject=null):r instanceof qe&&(r.hide!==null?r.hide(t,this):r.mainElement!==null&&(r.mainElement.style.display="none")),this.currentContextMenu=null,this.standardMouseOver())}sF(){const t=this,r=new x;return r.add(new $e("Copy",o=>o.commandHandler.copySelection(),o=>o.commandHandler.canCopySelection())),r.add(new $e("Cut",o=>o.commandHandler.cutSelection(),o=>o.commandHandler.canCutSelection())),r.add(new $e("Delete",o=>o.commandHandler.deleteSelection(),o=>o.commandHandler.canDeleteSelection())),r.add(new $e("Paste",o=>o.commandHandler.pasteSelection(t.mouseDownPoint),o=>o.commandHandler.canPasteSelection(t.mouseDownPoint))),r.add(new $e("Select All",o=>o.commandHandler.selectAll(),o=>o.commandHandler.canSelectAll())),r.add(new $e("Undo",o=>o.commandHandler.undo(),o=>o.commandHandler.canUndo())),r.add(new $e("Redo",o=>o.commandHandler.redo(),o=>o.commandHandler.canRedo())),r.add(new $e("Scroll To Part",o=>o.commandHandler.scrollToPart(),o=>o.commandHandler.canScrollToPart())),r.add(new $e("Zoom To Fit",o=>o.commandHandler.zoomToFit(),o=>o.commandHandler.canZoomToFit())),r.add(new $e("Reset Zoom",o=>o.commandHandler.resetZoom(),o=>o.commandHandler.canResetZoom())),r.add(new $e("Group Selection",o=>o.commandHandler.groupSelection(),o=>o.commandHandler.canGroupSelection())),r.add(new $e("Ungroup Selection",o=>o.commandHandler.ungroupSelection(),o=>o.commandHandler.canUngroupSelection())),r.add(new $e("Edit Text",o=>o.commandHandler.editTextBlock(),o=>o.commandHandler.canEditTextBlock())),r}showDefaultContextMenu(){const t=this.diagram;this.Jw===null&&(this.Jw=this.sF()),Qe.Cm.innerHTML="",Qe.Lm.addEventListener("pointerdown",this.$w,!1);const r=this,o=n.en("ul");o.className="goCXul",Qe.Cm.appendChild(o),o.innerHTML="";const l=this.Jw.iterator;for(;l.next();){const u=l.value,c=u.Sm,f=u.xc;if(typeof c!="function"||typeof f=="function"&&!f(t))continue;const g=n.en("li");g.className="goCXli";const y=n.en("a");y.className="goCXa",y.href="#",y.Sm=u.Sm,y.addEventListener("pointerdown",function(b){return this.Sm(t),r.stopTool(),b.preventDefault(),!1},!1),y.textContent=u.ai,g.appendChild(y),o.appendChild(g)}Qe.Cm.style.display="block",Qe.Lm.style.display="block"}hideDefaultContextMenu(){if(this.currentContextMenu===null||this.currentContextMenu!==Qe.ku)return;Qe.Cm.style.display="none",Qe.Lm.style.display="none";const t=this.diagram;t!==null&&t.Ni(Qe.Lm,"pointerdown",this.$w,!1),this.currentContextMenu=null}get currentContextMenu(){return this.fM}set currentContextMenu(t){this.fM=t,this.Ww=t instanceof ye?t.adornedPart:null}get defaultTouchContextMenu(){return Qe.gM===!1&&Qe.ku===null&&xe.isUsingDOM()&&this.eF(),Qe.ku}set defaultTouchContextMenu(t){t===null&&(Qe.gM=!0),Qe.ku=t}get currentObject(){return this.uM}set currentObject(t){this.uM=t}get mouseDownPoint(){return this.dM}};T(Qe,"ku",null),T(Qe,"gM",!1),T(Qe,"Lm",null),T(Qe,"Cm",null);let yn=Qe;var mi=(W=>(W[W.LostFocus=1]="LostFocus",W[W.MouseDown=2]="MouseDown",W[W.Tab=3]="Tab",W[W.Enter=4]="Enter",W))(mi||{}),rr=(W=>(W[W.SingleClick=1]="SingleClick",W[W.SingleClickSelected=2]="SingleClickSelected",W[W.DoubleClick=3]="DoubleClick",W))(rr||{}),Ki=(W=>(W[W.None=1]="None",W[W.Active=2]="Active",W[W.Editing=3]="Editing",W[W.Validating=4]="Validating",W[W.Invalid=5]="Invalid",W[W.Validated=6]="Validated",W))(Ki||{});const kn=class kn extends kt{constructor(t){super();T(this,"Se");T(this,"mM");T(this,"pM");T(this,"Dl");T(this,"Yt");T(this,"yM");T(this,"wM");T(this,"xM");T(this,"Zw");T(this,"Qw");this.name="TextEditing",this.Se=new on,this.mM=null,this.pM=2,this.Dl=null,this.Yt=1,this.yM=1,this.wM=!0,this.xM=null,this.Zw=new qe,this.Qw=null,this.nF(this.Zw),t&&Object.assign(this,t)}nF(t){if(!xe.isUsingDOM())return;const r=n.en("textarea");this.Qw=r;const o=this;r.addEventListener("input",function(l){if(o.textBlock===null)return;const u=o.measureTemporaryTextBlock(this.value),c=this.textScale;this.style.width=20+Math.max(o.textBlock.measuredBounds.width,u.measuredBounds.width)*c+"px",this.rows=Math.max(o.textBlock.lineCount,u.lineCount)},!1),r.addEventListener("keydown",function(l){if(l.isComposing||o.textBlock===null)return;const u=l.key;if(u==="Enter"){o.textBlock.isMultiline===!1&&l.preventDefault(),o.acceptText(4);return}else if(u==="Tab"){o.acceptText(3),l.preventDefault();return}else u==="Escape"&&(o.doCancel(),o.diagram!==null&&o.diagram.doFocus())},!1),r.addEventListener("focus",function(l){o.oF(l)},!1),r.addEventListener("blur",function(l){o.rF(l)},!1),t.valueFunction=()=>r.value,t.mainElement=r,t.show=(l,u,c)=>{if(!(l instanceof on&&c instanceof kn))return;if(c.state===5){r.style.border="3px solid red",r.focus();return}const f=l.getDocumentPoint(U.Center),g=u.position,y=u.scale;let b=l.getDocumentScale()*y;b<c.minimumEditorScale&&(b=c.minimumEditorScale);const w=l.naturalBounds.width*b+6,P=l.naturalBounds.height*b+2,E=(f.x-g.x)*y,N=(f.y-g.y)*y,_=l.verticalAlignment,R=(l.lineHeight+l.spacingAbove+l.spacingBelow)*l.lineCount*b,$=.5*P-.5*R,q=_.y*P-_.y*R+_.offsetY-$-R/2;r.value=l.text,u.div.style.font=l.font;const X=1;r.style.position="absolute",r.style.zIndex="100",r.style.font="inherit",r.style.fontSize=b*100+"%",r.style.lineHeight="normal",r.style.width=w+"px",r.style.left=(E-w/2|0)-X+"px",r.style.top=(N+q|0)-X+"px",r.style.textAlign=l.textAlign,r.style.margin="0",r.style.padding=X+"px",r.style.border="0",r.style.outline="none",r.style.whiteSpace="pre-wrap",r.style.overflow="hidden",r.rows=l.lineCount,r.textScale=b,r.className="goTXarea",u.div.appendChild(r),r.focus(),c.selectsTextOnActivate&&(r.select(),r.setSelectionRange(0,9999))},t.hide=(l,u)=>{l.div.removeChild(r)}}get textBlock(){return this.mM}set textBlock(t){this.mM=t}get currentTextEditor(){return this.xM}set currentTextEditor(t){this.xM=t}get defaultTextEditor(){return this.Zw}set defaultTextEditor(t){this.Zw=t}get starting(){return this.pM}set starting(t){this.pM=t}canStart(){if(!this.isEnabled)return!1;const t=this.diagram;if(t===null||t.isReadOnly||kn.bc&&kn.bc!==this&&(kn.bc.acceptText(2),kn.bc&&kn.bc!==this)||!t.lastInput.left||this.isBeyondDragSize())return!1;const r=t.lastInput.documentPoint,o=t.findObjectAt(r);if(o===null||!(o instanceof on)||!o.editable||!o.part.canEdit())return!1;const l=o.part;return!(l===null||this.starting===2&&!l.isSelected||this.starting===3&&t.lastInput.clickCount<2)}doStart(){kn.bc=this,this.textBlock!==null&&this.doActivate()}doActivate(){if(this.isActive)return;const t=this.diagram;if(t===null)return;let r=this.textBlock;if(r===null&&(r=t.findObjectAt(t.lastInput.documentPoint)),r===null||!(r instanceof on)||(this.textBlock=r,r.part===null))return;t.animationManager.stopAnimation(),this.isActive=!0,this.Yt=2;let o=this.defaultTextEditor;r.textEditor!==null&&(o=r.textEditor),this.Se=this.textBlock.copy();const l=new F(this.textBlock.getDocumentPoint(U.TopLeft),this.textBlock.getDocumentPoint(U.BottomRight));t.scrollToRect(l),o.show(r,t,this),this.currentTextEditor=o}doCancel(){this.stopTool()}doMouseUp(){this.canStart()&&this.doActivate()}doMouseDown(){this.isActive&&this.acceptText(2)}acceptText(t){switch(t){case 2:this.Yt===6?this.currentTextEditor instanceof HTMLElement&&this.currentTextEditor.focus():(this.Yt===2||this.Yt===5||this.Yt===3)&&(this.Yt=4,this.jC());break;case 1:case 4:case 3:if(t===4&&this.textBlock.isMultiline===!0)return;(this.Yt===2||this.Yt===5||this.Yt===3)&&(this.Yt=4,this.jC());break}}jC(){const t=this.textBlock,r=this.diagram,o=this.currentTextEditor;if(t!==null&&o!==null){const l=t.text;let u="";if(o.valueFunction!==null&&(u=o.valueFunction()),!this.isValidText(t,l,u)){this.Yt=5,this.doError(l,u);return}this.startTransaction(this.name),this.Yt=6,this.transactionResult=this.name,t.text=u,this.doSuccess(l,u),r!==null&&r.v("TextEdited",t,l),this.stopTransaction(),this.stopTool(),r!==null&&r.doFocus()}}doError(t,r){const o=this.textBlock;o.errorFunction!==null&&o.errorFunction(this,t,r);const l=this.currentTextEditor;l&&l.show(o,this.diagram,this)}doSuccess(t,r){const o=this.textBlock;o.textEdited!==null&&o.textEdited(o,t,r)}doDeactivate(){const t=this.diagram;t!==null&&(this.Yt=1,this.currentTextEditor!==null&&this.currentTextEditor.hide(t,this),this.textBlock=null,this.isActive=!1)}doStop(){kn.bc=null}oF(t){if(this.currentTextEditor===null||this.state===1)return;const r=this.Qw;this.Yt===2&&(this.Yt=3),typeof r.select=="function"&&this.selectsTextOnActivate&&(r.select(),r.setSelectionRange(0,9999))}rF(t){if(this.currentTextEditor===null||this.state===1)return;const r=this.Qw;typeof r.focus=="function"&&r.focus(),typeof r.select=="function"&&this.selectsTextOnActivate&&(r.select(),r.setSelectionRange(0,9999))}isValidText(t,r,o){const l=this.textValidation;if(l!==null&&!l(t,r,o))return!1;const u=t.textValidation;return!(u!==null&&!u(t,r,o))}get textValidation(){return this.Dl}set textValidation(t){this.Dl=t}get minimumEditorScale(){return this.yM}set minimumEditorScale(t){this.yM=t}get selectsTextOnActivate(){return this.wM}set selectsTextOnActivate(t){this.wM=t}get state(){return this.Yt}set state(t){this.Yt!==t&&(this.Yt=t)}measureTemporaryTextBlock(t){const r=this.Se;return r.text=t,r.ut(this.textBlock.Fl,1/0),r}};T(kn,"LostFocus",1),T(kn,"MouseDown",2),T(kn,"Tab",3),T(kn,"Enter",4),T(kn,"SingleClick",1),T(kn,"SingleClickSelected",2),T(kn,"DoubleClick",3),T(kn,"StateNone",1),T(kn,"StateActive",2),T(kn,"StateEditing",3),T(kn,"StateValidating",4),T(kn,"StateInvalid",5),T(kn,"StateValidated",6),T(kn,"bc",null);let gr=kn;var uo=(W=>(W[W.Default=1]="Default",W[W.AnimateLocations=2]="AnimateLocations",W[W.None=3]="None",W))(uo||{});const Qr=class Qr{constructor(i){T(this,"p");T(this,"Ci");T(this,"Oi");T(this,"kr");T(this,"Yn");T(this,"Ao");T(this,"bM");T(this,"kM");T(this,"Am");T(this,"xi");T(this,"kc");T(this,"un");T(this,"Tm");T(this,"Yh");T(this,"_w");T(this,"Dm");T(this,"tx");T(this,"Pc");T(this,"xu");T(this,"Fm");this.p=xe.pm(),this.Ci=!1,this.Am=!1,this.xi=!1,this.kc=!1,this.tx=!0,this.Pc=1,this.xu=!1,this.Oi=!0,this.kr=!0,this.Ao=600,this.bM=!1,this.kM=!1,this.Yn=new M,this.un=new si,this.Tm=new si,this.un.gs=this,this.Yh=new M,this._w=new M,this.Dm=new M,this.Fm=new M,i&&Object.assign(this,i)}To(i){this.p=i}oE(){return this.p}canStart(i){return!0}Rl(i){return!this.Oi||!this.canStart(i)?!1:(this.Yn.add(i),this.defaultAnimation.isAnimating&&this.stopAnimation(),this.p.Li(),this.xi=!0,!0)}getBundleAnimation(){return this.Tm}PM(){if(!this.Oi||(this.Tm.ce.count>0&&this.Tm.start(),!this.xi))return;const i=this.un,t=this.p,r=this.Yn.has("Model");if(r&&(this.kc=!0,this.Pc===1?(i.isViewportUnconstrained=!0,i.ce.clear(),i.add(t,"position",t.position.copy().offset(0,-200),t.position),i.add(t,"opacity",0,1)):this.Pc===3&&i.ce.clear(),this.Pc===2&&t.ix.equals(t.st)?this.tx=!0:this.tx=!1,t.v("InitialAnimationStarting",this)),r&&!this.kr||i.ce.count===0){this.Yn.clear(),this.xi=!1,i.ce.clear(),i.ex(t),this.kc=!1,t.C();return}this.Yn.clear(),t.Pr=!1;const o=i.ce.get(t);t.autoScale!==1&&o!==null&&(delete o.ei.scale,delete o.ms.scale);const l=this;e.requestAnimationFrame(()=>{l.xi===!1||i.Ci||(t.getRenderingHint("temporaryPixelRatio")&&t.Uw(),t.MM(),l.xi=!1,i.start(),i.Ci&&(l.Pu(),t.invalidateDocumentBounds(),i.HC(0),t.yr(!0),l.Mu(),t.v("AnimationStarting",l)))})}SM(){return this.Yn.has("Trigger")&&this.Yn.count===1}qC(i,t,r,o){this.isTicking||this.SM()||i instanceof se&&(i.fromNode!==null||i.toNode!==null)||this.un.add(i,"position",t,r,o)}sx(i){return this.un.sx(i)}NM(i){return this.un.NM(i)}lF(i){const t=this.Yh,r=this;function o(){if(r.Dm.count>0&&(t.addAll(r.Dm),r.Dm.clear(),r.Ci=!0),r.Ci===!1||t.count===0)return;r._w.addAll(t);const l=r._w.iterator;for(;l.next();){const u=l.value;u.Ci!==!1&&(u.hF()?u.WC(!1):u.Mc=!0)}if(r._w.clear(),r.Ci===!1){e.requestAnimationFrame(o);return}r.Pu(),r.p.yr(),r.Mu(),e.requestAnimationFrame(o)}this.Ci?this.aF(i):(this.Ci=!0,t.add(i),e.requestAnimationFrame(()=>o()))}aF(i){this.Dm.add(i)}cF(){const i=this.Yh.iterator;for(;i.next();)i.value.Mc=!1}Pu(){if(this.Am)return;const i=this.p;this.bM=i.skipsUndoManager,this.kM=i.fe,i.skipsUndoManager=!0,i.fe=!0,this.Am=!0}Mu(){const i=this.p;i.skipsUndoManager=this.bM,i.fe=this.kM,this.Am=!1}stopAnimation(i){const t=this.un;if(this.xi===!0&&(this.xi=!1,this.kc=!1,this.Yn.clear(),t.fF()&&this.p.requestUpdate()),!this.Ci){t.ce.clear(),t.ex(this.p);return}if(t.Su(!0),t.ex(null),i===!0){const r=this.Yh.toArray();for(let o=0;o<r.length;o++)r[o].Su(!0)}}Su(i){this.Yh.delete(i),this.Yh.count===0&&(this.Ci=!1,this.p.requestUpdate()),i===this.defaultAnimation&&this.p.v("AnimationFinished",this)}Sc(i,t){this.xi&&(!this.Yn.has("Expand Tree")&&!this.Yn.has("Expand SubGraph")||(this.un.Sc(i,t),this.JC(i)))}Nc(i,t){this.xi&&(!this.Yn.has("Collapse Tree")&&!this.Yn.has("Collapse SubGraph")||(this.un.Nc(i,t),this.un.CM(t,"position",t.position,t.position),this.JC(i)))}$C(i,t){!this.xi||i.equals(t)||this.SM()||(this.p.Eh||(i=t.copy()),this.un.CM(this.p,"position",i,t))}ZC(i,t){this.xi&&(this.SM()||this.un.add(this.p,"scale",i,t))}LM(i,t){i.Ne&&(i.Mr=t,this.Fm.add(i))}JC(i){const t=i.findLinksConnected();for(;t.next();){const r=t.value;r.Ne&&(r.Mr=r.points.copy(),this.Fm.add(r))}}get isEnabled(){return this.Oi}set isEnabled(i){this.Oi=i,i&&this.Yh.each(t=>{!t.isAnimating&&t.runCount===1/0&&t.start()})}get duration(){return this.Ao}set duration(i){i<1&&n.tt(i,">= 1",Qr,"duration"),this.Ao=i}get isAnimating(){return this.Ci}get isTicking(){return this.Am}get isInitial(){return this.kr}set isInitial(i){this.kr=i}get defaultAnimation(){return this.un}get activeAnimations(){return this.Yh}get initialAnimationStyle(){return this.Pc}set initialAnimationStyle(i){this.Pc=i}static defineAnimationEffect(i,t){Qr.nx.set(i,t)}static AM(i,t,r,o,l){i===null&&(i=[0,0,0,0]),t===null&&(t=[0,0,0,0]);let u=i[0],c=i[1];const f=i[2],g=i[3];let y=t[0],b=t[1];const w=t[2],P=t[3];f===0||f===100?(u=y,c=b):(w===0||w===100)&&(y=u,b=c),Math.abs(y-u)>180&&(y>u?u+=360:y+=360);const E=l(r,u,y-u,o)%360,N=l(r,c,b-c,o),_=l(r,f,w-f,o),R=l(r,g,P-g,o);return"hsla("+E+", "+N+"%, "+_+"%, "+R+")"}};T(Qr,"nx",new V),(()=>{const i=Qr.nx,t=(r,o,l,u,c,f)=>{r.position=new C(u(c,o.x,l.x-o.x,f),u(c,o.y,l.y-o.y,f))};i.set("position:diagram",t),i.set("position",t),i.set("position:part",(r,o,l,u,c,f)=>{c<f?r.wc(u(c,o.x,l.x-o.x,f),u(c,o.y,l.y-o.y,f),!1):r.position=new C(u(c,o.x,l.x-o.x,f),u(c,o.y,l.y-o.y,f))}),i.set("location",(r,o,l,u,c,f)=>{c<f?r.wc(u(c,o.x,l.x-o.x,f),u(c,o.y,l.y-o.y,f),!0):r.location=new C(u(c,o.x,l.x-o.x,f),u(c,o.y,l.y-o.y,f))}),i.set("position:placeholder",(r,o,l,u,c,f)=>{c<f?r.wc(u(c,o.x,l.x-o.x,f),u(c,o.y,l.y-o.y,f),!1):r.position=new C(u(c,o.x,l.x-o.x,f),u(c,o.y,l.y-o.y,f))}),i.set("position:nodeCollapse",(r,o,l,u,c,f)=>{const g=r.actualBounds,y=l.actualBounds,b=y.x+y.width/2-g.width/2,w=y.y+y.height/2-g.height/2;c<f?r.wc(u(c,o.x,b-o.x,f),u(c,o.y,w-o.y,f),!1):r.position=new C(u(c,o.x,b-o.x,f),u(c,o.y,w-o.y,f))}),i.set("desiredSize",(r,o,l,u,c,f)=>{r.desiredSize=new z(u(c,o.width,l.width-o.width,f),u(c,o.height,l.height-o.height,f))}),i.set("width",(r,o,l,u,c,f)=>{r.width=u(c,o,l-o,f)}),i.set("height",(r,o,l,u,c,f)=>{r.height=u(c,o,l-o,f)}),i.set("fill",(r,o,l,u,c,f)=>{r.fill=Qr.AM(o,l,c,f,u)}),i.set("stroke",(r,o,l,u,c,f)=>{r.stroke=Qr.AM(o,l,c,f,u)}),i.set("strokeWidth",(r,o,l,u,c,f)=>{r.strokeWidth=u(c,o,l-o,f)}),i.set("strokeDashOffset",(r,o,l,u,c,f)=>{r.strokeDashOffset=u(c,o,l-o,f)}),i.set("background",(r,o,l,u,c,f)=>{r.background=Qr.AM(o,l,c,f,u)}),i.set("opacity",(r,o,l,u,c,f)=>{r.opacity=u(c,o,l-o,f)}),i.set("scale",(r,o,l,u,c,f)=>{r.scale=u(c,o,l-o,f)}),i.set("angle",(r,o,l,u,c,f)=>{r.angle=u(c,o,l-o,f)})})(),T(Qr,"Default",1),T(Qr,"AnimateLocations",2),T(Qr,"None",3);let Ri=Qr;const Yi=class Yi{constructor(i){T(this,"ox");T(this,"Rm");T(this,"Ci");T(this,"Nu");T(this,"Ao");T(this,"ps");T(this,"QC");T(this,"Cc");T(this,"ce");T(this,"rx");T(this,"ei");T(this,"Gn");T(this,"Cu");T(this,"Lc");T(this,"lx");T(this,"hx");T(this,"Mc");T(this,"TM");T(this,"ax");T(this,"gs");T(this,"p");T(this,"DM");T(this,"FM");T(this,"RM");this.p=null,this.gs=null,this.TM=null,this.ax=null,this.DM=!1,this.Ci=!1,this.Mc=!1,this.ei=0,this.Gn=0,this.ox=Yi.EaseInOutQuad,this.Rm=Yi.EaseInOutQuad,this.Cu=!1,this.Lc=!1,this.lx=1,this.hx=0,this.Ao=NaN,this.ps=NaN,this.FM=0,this.Nu=null,this.QC=C.ko,this.ce=new V,this.rx=new V,this.Cc=new M,this.RM=1,i&&Object.assign(this,i)}suspend(){this.Mc=!0}advanceTo(i,t){t&&(this.Mc=!1),this.Cu&&i>=this.ps&&(this.Lc=!0,i=i-this.ps),this.FM=i,this.WC(!0),this.gs.Pu(),this.p.yr(),this.gs.Mu(),this.p.redraw()}ex(i){if(this.rx.clear(),this.Lc=!1,this.hx=0,this.ps=NaN,this.Cc.count>0&&this.Cc.clear(),i!==null){const t=i.links;for(;t.next();)t.value.Mr=null}}fF(){return this.ce.count>0}start(){if(this.ce.count===0)return this;if(this.Ci)return this;let i=this.p;const t=this.ce.iterator;for(;t.next();){const o=t.key;i===null&&(o instanceof xe?i=o:o instanceof dn&&(i=o.diagram))}if(i!==null)this.p=i,this.gs=i.animationManager;else return this;const r=this.gs;return r.isEnabled===!1?this:(this.ps=isNaN(this.Ao)?r.duration:this.Ao,this.Rm=this.ox,r.kc&&r.Pc===1&&this===r.defaultAnimation&&(this.Rm=Yi.EaseOutExpo,this.ps=isNaN(this.Ao)?r.duration===600?900:r.duration:this.Ao),this.RM=i.scrollMode,this.isViewportUnconstrained&&(i.Gh=2),r.Pu(),this.Cc.each(o=>{o.data=null,i.add(o)}),r.Mu(),this.Ci=!0,this.ei=+new Date,this.Gn=this.ei+this.ps,r.lF(this),this)}addTemporaryPart(i,t){return i.Me()?(this.Cc.add(i),this.p=t,this):this}add(i,t,r,o,l){if(this.p===null&&(i instanceof xe?this.p=i:i instanceof dn&&i.diagram!==null&&(this.p=i.diagram)),i instanceof Le){if(!i.isAnimated)return this;t==="position"&&(t="position:part")}return this.CM(i,t,r,o,l),this}CM(i,t,r,o,l){const u=this.ce;let c,f,g;if(i instanceof xe&&t==="position"&&(t="position:diagram"),(t==="fill"||t==="stroke"||t==="background")&&(ze.Do(r),ze.vM(),r=[ze.Ii.n0,ze.Ii.n1,ze.Ii.n2,ze.Ii.n3],ze.Do(o),ze.vM(),o=[ze.Ii.n0,ze.Ii.n1,ze.Ii.n2,ze.Ii.n3]),u.has(i))c=u.get(i),f=c.ei,g=c.ms,f[t]===void 0&&(f[t]=this.Lu(r)),g[t]=this.Lu(o);else{if(t==="position"&&r.equalsApprox(o))return;f={},g={},f[t]=this.Lu(r),g[t]=this.Lu(o),c=new Dr(f,g,l),u.set(i,c)}const y=f[t];y instanceof C&&!y.isReal()&&y.a(this.QC),l&&t.indexOf("position:")===0&&i instanceof Le?c.cx.location=this.Lu(i.location):l&&(c.cx[t]=this.Lu(r))}Lu(i){return i instanceof C||i instanceof z?i.copy():i}uF(i){const t=this.ce;if(t.has(i)){const r=t.get(i);r.fx=!0}}sx(i){if(!this.Ci)return!1;const t=this.ce.get(i);return t!==null&&t.fx}NM(i){if(!this.Ci)return!1;const t=this.ce.get(i);return t!==null&&!!(t.ei.position||t.ei["position:part"]||t.ei.location)}hF(){if(this.Cc.count>0)return!0;const i=this.ce.iterator;for(;i.next();){const t=i.key;if(t instanceof dn&&t.diagram!==null||t instanceof xe)return!0}return!1}WC(i){if(this.Mc&&!i)return;const t=this.gs;if(this.Ci===!1)return;const r=+new Date;let o=r>this.Gn?this.ps:r-this.ei;i&&(o=this.FM,o<this.ps?(this.ei=+new Date-o,this.Gn=this.ei+this.ps):o=this.ps),t.Pu(),this.HC(o),this.p.yr(!0),t.Mu(),r>this.Gn&&(this.Cu&&!this.Lc?(this.ei=+new Date,this.Gn=this.ei+this.ps,this.Lc=!0):this.Su(!1))}HC(i){const t=this.ps,r=this.ce.iterator,o=this.Lc;for(;r.next();){const l=r.key;if(l instanceof dn&&l.diagram===null)continue;const u=r.value,c=o?u.ms:u.ei,f=o?u.ei:u.ms,g=Ri.nx;for(const y in f)y==="position"&&(f["position:placeholder"]||f["position:nodeCollapse"])||g.get(y)!==null&&g.get(y)(l,c[y],f[y],this.Rm,i,t,this)}}stop(){return this.Ci?(this.Su(!0),this):this}Su(i){if(this.ax!==null&&this.ax.dF(this.TM),!this.Ci)return;const t=this.p,r=this.gs;r.kc=!1,this.Ci=!1,this.Mc=!1,r.Pu();const o=this.ce,l=this.Cc.iterator;for(;l.next();)t.remove(l.value);const u=this.Cu,c=o.iterator,f=Ri.nx;for(;c.next();){const y=c.key,b=c.value,w=u?b.ms:b.ei,P=u?b.ei:b.ms,E=b.cx;for(const N in P)if(f.get(N)!==null){let _=N;b.ux&&(_==="position:nodeCollapse"||_==="position:placeholder")&&(_="position"),f.get(_)(y,w[N],E[N]!==void 0?E[N]:b.ux?w[N]:P[N],this.Rm,this.ps,this.ps,this)}b.ux&&E.location!==void 0&&y instanceof Le&&(y.location=E.location),b.fx&&y instanceof Le&&y.Ei(!1)}this.hx++;const g=!i&&this.lx>this.hx;if(!g&&(this===r.Tm||this===r.defaultAnimation)&&this.ce.clear(),t.gx.clear(),t.pP(!1),t.invalidateDocumentBounds(),t.C(),t.yr(!0),r.defaultAnimation===this){const y=r.Fm.iterator;for(;y.next();)y.value.gF();r.Fm.clear()}if(t.yr(!0),this.isViewportUnconstrained&&(t.scrollMode=this.RM),r.Mu(),g){this.Lc=!1,this.start();return}this.ex(null),r.Su(this),this.Nu&&this.Nu(this),t.requestUpdate()}Sc(i,t){const r=t.actualBounds;let o=null;if(t instanceof Ut&&(o=t.placeholder),o!==null&&o.visible){const l=o.getDocumentPoint(U.TopLeft),u=o.padding;l.x+=u.left,l.y+=u.top,this.add(i,"position",l,i.position,!1)}else this.add(i,"position",new C(r.x+r.width/2,r.y+r.height/2),i.position,!1);this.add(i,"scale",.01,i.scale,!1),i instanceof Ut&&this.mF(i,t)}mF(i,t){const r=i.memberParts;for(;r.next();){const o=r.value;o instanceof Jt&&this.Sc(o,t)}}Nc(i,t){if(!i.isVisible())return;let r=null;if(t instanceof Ut&&(r=t.placeholder),r!==null&&r.visible){const o=r.getDocumentPoint(U.TopLeft),l=r.padding;o.x+=l.left,o.y+=l.top,this.add(i,"position:placeholder",i.position,o,!0)}else this.add(i,"position:nodeCollapse",i.position,t,!0);this.add(i,"scale",i.scale,.01,!0),this.uF(i),i instanceof Ut&&this.pF(i,t)}pF(i,t){const r=i.memberParts;for(;r.next();){const o=r.value;o instanceof Jt&&this.Nc(o,t)}}get duration(){return this.Ao}set duration(i){n.i(i,"number",Yi,"duration"),i<1&&n.tt(i,">= 1",Yi,"duration"),this.Ao=i}get reversible(){return this.Cu}set reversible(i){this.Cu=i}get runCount(){return this.lx}set runCount(i){i>0?this.lx=i:n.o("Animation.runCount value must be a positive integer.")}get finished(){return this.Nu}set finished(i){this.Nu!==i&&(i!==null&&n.i(i,"function",Yi,"finished"),this.Nu=i)}get easing(){return this.ox}set easing(i){this.ox=i}get isViewportUnconstrained(){return this.DM}set isViewportUnconstrained(i){this.DM=i}get isAnimating(){return this.Ci}getTemporaryState(i){let t=this.rx.get(i);return t===null&&(t={},this.rx.set(i,t)),t}};T(Yi,"EaseLinear",(i,t,r,o)=>r*i/o+t),T(Yi,"EaseInOutQuad",(i,t,r,o)=>(i/=o/2,i<1?r/2*i*i+t:-r/2*(--i*(i-2)-1)+t)),T(Yi,"EaseInQuad",(i,t,r,o)=>r*(i/=o)*i+t),T(Yi,"EaseOutQuad",(i,t,r,o)=>-r*(i/=o)*(i-2)+t),T(Yi,"EaseInExpo",(i,t,r,o)=>i===0?t:r*Math.pow(2,10*(i/o-1))+t),T(Yi,"EaseOutExpo",(i,t,r,o)=>i===o?t+r:r*(-Math.pow(2,-10*i/o)+1)+t);let si=Yi;class Dr{constructor(i,t,r){T(this,"ei");T(this,"ms");T(this,"cx");T(this,"ux");T(this,"fx");this.ei=i,this.ms=t,this.cx={},this.ux=r,this.fx=!1}}var oi=(W=>(W[W.Default=1]="Default",W[W.Immediate=2]="Immediate",W[W.Bundled=3]="Bundled",W))(oi||{});const vl=class vl{constructor(i,t,r){T(this,"Pe");T(this,"an");T(this,"Au");T(this,"Ac");this.Pe=null,this.an=i,this.Au=r||1,this.Ac=null,t!==void 0&&(this.Ac=t,r===void 0&&(this.Au=2))}copy(){const i=new vl(this.an);i.Au=this.Au;const t=this.Ac;if(t!==null){const r={};t.duration!==void 0&&(r.duration=t.duration),t.finished!==void 0&&(r.finished=t.finished),t.easing!==void 0&&(r.easing=t.easing),i.Ac=r}return i}get propertyName(){return this.an}set propertyName(i){this.an=i}get animationSettings(){return this.Ac}set animationSettings(i){this.Ac=i}yF(i){const t=this.Ac;t!==null&&(t.duration&&(i.duration=t.duration),t.finished&&(i.finished=t.finished),t.easing&&(i.easing=t.easing))}get startCondition(){return this.Au}set startCondition(i){this.Au=i}};T(vl,"Default",1),T(vl,"Immediate",2),T(vl,"Bundled",3);let Bn=vl;class _n{constructor(i){T(this,"p");T(this,"St");T(this,"Wt");T(this,"Sr");T(this,"vl");T(this,"Ol");T(this,"Il");T(this,"El");T(this,"Ul");T(this,"Bl");T(this,"Vl");T(this,"zl");T(this,"Xl");T(this,"Kl");T(this,"Yl");T(this,"Gl");T(this,"xc");T(this,"jl");T(this,"mx");T(this,"vm");T(this,"Tu");T(this,"At");M.Yi(this),this.p=null,this.At=new x,this.St="",this.Wt=1,this.Sr=!1,this.vl=!0,this.Ol=!0,this.Il=!0,this.El=!0,this.Ul=!0,this.Bl=!0,this.Vl=!0,this.zl=!0,this.Xl=!0,this.Kl=!0,this.Yl=!0,this.Gl=!0,this.xc=!0,this.jl=!0,this.mx=!0,this.vm=!1,this.Tu=[],i&&Object.assign(this,i)}wF(){const i=this.At;for(let t=0;t<i.length;t++)i.r[t].OM(null);i.clear(),this.Tu.length=0}To(i){this.p=i}toString(i){i===void 0&&(i=0);const t='Layer "'+this.name+'"';if(i<=0)return t;let r=0,o=0,l=0,u=0,c=0;const f=this.At.iterator;for(;f.next();){const y=f.value;y instanceof Ut?l++:y instanceof Jt?o++:y instanceof se?u++:y instanceof ye?c++:r++}let g="";if(r>0&&(g+=r+" Parts "),o>0&&(g+=o+" Nodes "),l>0&&(g+=l+" Groups "),u>0&&(g+=u+" Links "),c>0&&(g+=c+" Adornments "),i>1){const y=this.At.iterator;for(;y.next();){const b=y.value;g+=`
    `+b.toString();const w=b.data;w!==null&&M.cs(w)&&(g+=" #"+M.cs(w)),b instanceof Jt?g+=" "+n.toString(w):b instanceof se&&(g+=" "+n.toString(b.fromNode)+" "+n.toString(b.toNode))}}return t+" "+this.At.count+": "+g}findObjectAt(i,t,r){if(t===void 0&&(t=null),r===void 0&&(r=null),this.jl===!1)return null;let o=!1;this.diagram!==null&&this.diagram.viewportBounds.containsPoint(i)&&(o=!0);const l=C.l(),u=this.At.r,c=u.length;for(let f=c;f--;){const g=u[f];if(o===!0&&g.Cl()===!1||!g.isVisible())continue;l.a(i),l.Ee(g.ys);let y=g._C(l,t,r);if(y!==null&&(t!==null&&(y=t(y)),y!==null&&(r===null||r(y))))return C.s(l),y}return C.s(l),null}findObjectsAt(i,t,r,o){if(t===void 0&&(t=null),r===void 0&&(r=null),!(o instanceof x)&&!(o instanceof M)&&(o=new M),this.jl===!1)return o;let l=!1;this.diagram!==null&&this.diagram.viewportBounds.containsPoint(i)&&(l=!0);const u=C.l(),c=this.At.r,f=c.length;for(let g=f;g--;){const y=c[g];if(l===!0&&y.Cl()===!1||!y.isVisible())continue;u.a(i),u.Ee(y.ys);let b=y;y.tL(u,t,r,o)&&(t!==null&&(b=t(b)),b!==null&&(r===null||r(b))&&o.add(b))}return C.s(u),o}findObjectsIn(i,t,r,o,l){if(t===void 0&&(t=null),r===void 0&&(r=null),o===void 0&&(o=!1),!(l instanceof x)&&!(l instanceof M)&&(l=new M),this.jl===!1)return l;let u=!1;this.diagram!==null&&this.diagram.viewportBounds.containsRect(i)&&(u=!0);const c=this.At.r,f=c.length;for(let g=f;g--;){const y=c[g];if(u===!0&&y.Cl()===!1||!y.isVisible())continue;let b=y;y.Om(i,t,r,o,l)&&(t!==null&&(b=t(b)),b!==null&&(r===null||r(b))&&l.add(b))}return l}SP(i,t,r,o,l,u,c){if(this.jl===!1)return l;const f=this.At.r,g=f.length;for(let y=g;y--;){const b=f[y];if(c===!0&&b.Cl()===!1||!u(b)||!b.isVisible())continue;let w=b;b.Om(i,t,r,o,l)&&(t!==null&&(w=t(w)),w!==null&&(r===null||r(w))&&l.add(w))}return l}findObjectsNear(i,t,r,o,l,u){if(r===void 0&&(r=null),o===void 0&&(o=null),l===void 0&&(l=!0),l!==!1&&l!==!0&&((l instanceof x||l instanceof M)&&(u=l),l=!0),!(u instanceof x)&&!(u instanceof M)&&(u=new M),this.jl===!1)return u;let c=!1;this.diagram!==null&&this.diagram.viewportBounds.containsPoint(i)&&(c=!0);const f=C.l(),g=C.l(),y=this.At.r,b=y.length;for(let w=b;w--;){const P=y[w];if(c===!0&&P.Cl()===!1||!P.isVisible())continue;f.a(i),f.Ee(P.ys),g.e(i.x+t,i.y),g.Ee(P.ys);let E=P;P.iL(f,g,r,o,l,u)&&(r!==null&&(E=r(E)),E!==null&&(o===null||o(E))&&u.add(E))}return C.s(f),C.s(g),u}IM(){return this.At.r}Us(i,t){if(!this.visible)return;const r=this.At.r,o=r.length;if(o===0)return;const l=n.rt(),u=n.rt();for(let c=0;c<o;c++){const f=r[c];if(f.EM=c,f instanceof se){if(f.Ne===!1)continue}else if(f instanceof ye&&f.adornedPart!==null)continue;const g=f.actualBounds;f.isVisible()&&g.intersectsRectPlus(t,10)?(f.Us(!0),l.push(f)):(f.Us(!1),f.adornments!==null&&f.adornments.count>0&&u.push(f))}for(let c=0;c<l.length;c++){const f=l[c];f.UM();const g=f.adornments;for(;g.next();){const y=g.value;y.ut(1/0,1/0),y.zt(),y.Us(!0)}}for(let c=0;c<u.length;c++)u[c].UM();n.it(l),n.it(u)}Du(i){let t=1;return this.Wt!==1&&(t=i.globalAlpha,i.globalAlpha=t*this.Wt),t}eL(i,t){for(let r=0;r<t;r++)i[r].Fu()}Gi(i,t,r){if(!this.visible||this.Wt===0||(r===void 0&&(r=!0),!r&&this.isTemporary))return;const o=this.At.r,l=o.length;if(l===0)return;i.Sr&&this.eL(o,l);const u=this.Du(i),c=this.Tu;c.length=0;const f=t.scale,g=F.l();for(let y=0;y<l;y++){const b=o[y];this.Im(i,b,t,c,f,g,!0)}F.s(g),i.Sr&&this.eL(o,l),i.globalAlpha=u}rE(i,t,r){if(!this.visible||this.Wt===0)return;const o=this.At.r,l=o.length;if(l===0)return;const u=this.Du(i),c=this.Tu;c.length=0;const f=t.scale,g=F.l();for(let y=0;y<l;y++){const b=o[y];r.has(b)||this.Im(i,b,t,c,f,g,!0)}F.s(g),i.globalAlpha=u}xF(i,t,r,o){if(!this.visible||this.Wt===0||!o&&this.isTemporary)return;const l=this.At.r,u=l.length;if(u===0)return;const c=this.Du(i),f=this.Tu;f.length=0;const g=t.scale,y=F.l();for(let b=0;b<u;b++){const w=l[b];r.has(w)&&this.Im(i,w,t,f,g,y,!1)}F.s(y),i.globalAlpha=c}bF(i,t,r,o,l){if(!this.visible||this.opacity===0)return;const u=this.diagram.grid.part;if(!o&&this.isTemporary){if(l&&u.layer===this){const c=this.Du(i);u.Gi(i,r),i.globalAlpha=c}}else{const c=this.Du(i),f=r.scale,g=F.l(),y=this.At.r,b=y.length;for(let w=0;w<b;w++){const P=y[w];!l&&P===u||this.Im(i,P,r,null,f,g,!1)}F.s(g),i.globalAlpha=c}}lE(i,t,r){if(!this.visible||this.Wt===0)return;const o=this.Du(i),l=this.Tu;l.length=0;const u=t.scale,c=F.l(),f=this.At.r,g=f.length,y=r.length;for(let b=0;b<g;b++){const w=f[b],P=w.jh(w.actualBounds);this.kF(P,r,y,u)&&this.Im(i,w,t,l,u,c,!0)}F.s(c),i.globalAlpha=o}Im(i,t,r,o,l,u,c){if(c&&!t.Cl()){i.removePartFromView(t);return}if(o!==null&&t instanceof se&&(t.isOrthogonal&&o.push(t),t.Ne===!1)){i.removePartFromView(t);return}let f=!1,g=t.containingGroup;for(;g!==null;)f?g.si!==null&&u.intersectRect(g.si):g.si!==null&&(f=!0,u.a(g.si)),g=g.containingGroup;const y=t.actualBounds;let b=!1;if(f&&t.isVisible()){if(!u.intersectsRect(y)){i.removePartFromView(t);return}b=!u.containsRect(y)}b&&(i.save(),i instanceof Gi?i.partClipRect=u.copy():(i.beginPath(),i.rect(u.x,u.y,u.width,u.height),i.clip())),y.width*l>r.Em||y.height*l>r.Em?t.Gi(i,r):this.PF(i,t),b&&(i.restore(),i.clearContextCache(!0))}PF(i,t){const r=t.actualBounds,o=t.naturalBounds;if(r.width===0||r.height===0||isNaN(r.x)||isNaN(r.y)||!t.isVisible())return;const l=t.L;if(t.background===null&&(t.dn(i,"rgba(0,0,0,0.3)",!0,!1,o,r),i.fillRect(r.x,r.y,r.width,r.height)),t.background!==null&&(i.transform(l.m11,l.m12,l.m21,l.m22,l.dx,l.dy),t.dn(i,t.background,!0,!1,o,r),i.fillRect(0,0,o.width/2,o.height/2),!l.vk())){const u=1/(l.m11*l.m22-l.m12*l.m21);i.transform(l.m22*u,-l.m12*u,-l.m21*u,l.m11*u,u*(l.m21*l.dy-l.m22*l.dx),u*(l.m12*l.dx-l.m11*l.dy))}}kF(i,t,r,o){const l=2/o,u=4/o;for(let c=0;c<r;c++){const f=t[c];if(!(f.width===0||f.height===0)&&i.intersects(f.x-l,f.y-l,f.width+u,f.height+u))return!0}return!1}t(i,t,r,o,l){const u=this.diagram;u!==null&&u.raiseChangedEvent(2,i,this,t,r,o,l)}Hh(i,t,r){const o=this.At;if(t.OM(this),i>=o.count)i=o.count;else if(o.elt(i)===t)return-1;o.insertAt(i,t),t.Um(r);const l=this.diagram;return l!==null&&(r?l.C():l.Hh(t)),this.px(i,t),i}te(i,t,r){if(!r&&t.layer!==this&&t.layer!==null)return t.layer.te(i,t,r);const o=this.At;if(i<0||i>=o.length){if(i=o.indexOf(t),i<0)return-1}else if(o.elt(i)!==t&&(i=o.indexOf(t),i<0))return-1;t.Bm(r),o.removeAt(i);const l=this.diagram;return l!==null&&(r?l.C():l.te(t)),t.OM(null),i}px(i,t){i=this.MF(i,t),t instanceof Ut&&this.SF(i,t),t.svg!==null&&t.svg.remove()}MF(i,t){const r=t.zOrder;if(isNaN(r))return i;const o=this.At,l=o.count;if(l<=1)return i;if(i<0&&(i=o.indexOf(t)),i<0)return-1;let u=i-1,c=NaN;for(;u>=0&&(c=o.elt(u).zOrder,!!isNaN(c));)u--;let f=i+1,g=NaN;for(;f<l&&(g=o.elt(f).zOrder,!!isNaN(g));)f++;if(!isNaN(c)&&c>r)for(;;){if(u===-1||c<=r)return u++,u===i?i:(o.removeAt(i),o.insertAt(u,t),u);for(c=NaN;--u>=0&&(c=o.elt(u).zOrder,!!isNaN(c)););}else if(!isNaN(g)&&g<r)for(;;){if(f===l||g>=r)return f--,f===i?i:(o.removeAt(i),o.insertAt(f,t),f);for(g=NaN;++f<l&&(g=o.elt(f).zOrder,!!isNaN(g)););}return i}SF(i,t){if(t===null||!isNaN(t.zOrder))return;this.NF(i,t);const r=t.containingGroup;r!==null&&this.px(-1,r)}NF(i,t){if(t.memberParts.count===0)return;let r=-1;const o=this.At.r,l=o.length;for(let u=0;u<l;u++){const c=o[u];if(c===t&&(i=u,r>=0)||r<0&&c.containingGroup===t&&(r=u,i>=0))break}if(!(r<0)&&r<i){const u=this.At;u.removeAt(i),u.insertAt(r,t)}}get parts(){return this.At.iterator}get partsBackwards(){return this.At.iteratorBackwards}get diagram(){return this.p}get name(){return this.St}set name(i){const t=this.St;if(t!==i){const r=this.diagram;if(r!==null){t===""&&n.o("Cannot rename default Layer to: "+i);const l=r.layers;for(;l.next();)l.value.name===i&&n.o("Layer.name is already present in this diagram: "+i)}this.St=i,this.t("name",t,i);const o=this.At.iterator;for(;o.next();){const l=o.value;l.layerName=this.St}}}get opacity(){return this.Wt}set opacity(i){const t=this.Wt;if(t!==i){(i<0||i>1)&&n.tt(i,"0 <= value <= 1",_n,"opacity"),this.Wt=i;const r=this.diagram;r!==null&&r.C(),this.t("opacity",t,i)}}get isViewportAligned(){return this.vm}set isViewportAligned(i){const t=this.vm;t!==i&&(this.vm=i,this.diagram&&(this.sL(),this.diagram.C()),this.t("isViewportAligned",t,i),i&&(this.isInDocumentBounds=!1))}sL(){if(!this.vm)return;const i=this.diagram,t=this.At.r,r=t.length,o=i.kt,l=i.Pt;for(let u=0;u<r;u++){const c=t[u],f=c.naturalBounds.width,g=c.naturalBounds.height;let y=c.alignment;(y.isDefault()||!y.isSpot())&&(y=U.BottomRight);let b=c.alignmentFocus;b.isDefault()&&(b=new U(y.x,y.y));const w=y.x*o+y.offsetX-(b.x*f+b.offsetX),P=y.y*l+y.offsetY-(b.y*g+b.offsetY),E=C.X(w,P);i.CF(E),c.wc(E.x,E.y,!0),C.s(E),c.K=1/i.scale}}get isTemporary(){return this.Sr}set isTemporary(i){const t=this.Sr;t!==i&&(this.Sr=i,this.t("isTemporary",t,i))}get visible(){return this.xc}set visible(i){const t=this.xc;if(t!==i){this.xc=i;const r=this.At.iterator;for(;r.next();)r.value.Ei(i);const o=this.diagram;o!==null&&o.C(),this.t("visible",t,i)}}get pickable(){return this.jl}set pickable(i){const t=this.jl;t!==i&&(this.jl=i,this.t("pickable",t,i))}get isInDocumentBounds(){return this.mx}set isInDocumentBounds(i){const t=this.mx;t!==i&&(this.mx=i,this.diagram!==null&&this.diagram.invalidateDocumentBounds(),this.t("isInDocumentBounds",t,i))}get allowCopy(){return this.vl}set allowCopy(i){const t=this.vl;t!==i&&(this.vl=i,this.t("allowCopy",t,i))}get allowDelete(){return this.Ol}set allowDelete(i){const t=this.Ol;t!==i&&(this.Ol=i,this.t("allowDelete",t,i))}get allowTextEdit(){return this.Il}set allowTextEdit(i){const t=this.Il;t!==i&&(this.Il=i,this.t("allowTextEdit",t,i))}get allowGroup(){return this.El}set allowGroup(i){const t=this.El;t!==i&&(this.El=i,this.t("allowGroup",t,i))}get allowUngroup(){return this.Ul}set allowUngroup(i){const t=this.Ul;t!==i&&(this.Ul=i,this.t("allowUngroup",t,i))}get allowLink(){return this.Bl}set allowLink(i){const t=this.Bl;t!==i&&(this.Bl=i,this.t("allowLink",t,i))}get allowRelink(){return this.Vl}set allowRelink(i){const t=this.Vl;t!==i&&(this.Vl=i,this.t("allowRelink",t,i))}get allowMove(){return this.zl}set allowMove(i){const t=this.zl;t!==i&&(this.zl=i,this.t("allowMove",t,i))}get allowReshape(){return this.Xl}set allowReshape(i){const t=this.Xl;t!==i&&(this.Xl=i,this.t("allowReshape",t,i))}get allowResize(){return this.Kl}set allowResize(i){const t=this.Kl;t!==i&&(this.Kl=i,this.t("allowResize",t,i))}get allowRotate(){return this.Yl}set allowRotate(i){const t=this.Yl;t!==i&&(this.Yl=i,this.t("allowRotate",t,i))}get allowSelect(){return this.Gl}set allowSelect(i){const t=this.Gl;t!==i&&(this.Gl=i,this.t("allowSelect",t,i))}}var mr=(W=>(W[W.None=1]="None",W[W.Uniform=2]="Uniform",W[W.UniformToFill=3]="UniformToFill",W))(mr||{}),Yr=(W=>(W[W.All=1]="All",W[W.NotDirected=2]="NotDirected",W[W.NotDirectedFast=3]="NotDirectedFast",W[W.NotUndirected=4]="NotUndirected",W[W.DestinationTree=5]="DestinationTree",W[W.SourceTree=6]="SourceTree",W))(Yr||{}),fs=(W=>(W[W.Document=1]="Document",W[W.Infinite=2]="Infinite",W))(fs||{}),yr=(W=>(W[W.TreeParent=1]="TreeParent",W[W.AllParents=2]="AllParents",W[W.AnyParents=3]="AnyParents",W))(yr||{});const jt=class jt{constructor(i,t){T(this,"gs");T(this,"gi");T(this,"BM");T(this,"yx");T(this,"Nr");T(this,"Ru");T(this,"wx");T(this,"xx");T(this,"bx");T(this,"kx");T(this,"Px");T(this,"Mx");T(this,"Tc");T(this,"Gh");T(this,"Sx");T(this,"Nx");T(this,"Cx");T(this,"Hl");T(this,"Dc");T(this,"Cr");T(this,"Vm");T(this,"Lx");T(this,"Ax");T(this,"vu");T(this,"jn");T(this,"Lr");T(this,"qh");T(this,"Fo");T(this,"zm");T(this,"Fc");T(this,"Xm");T(this,"Rc");T(this,"Ou");T(this,"Ar");T(this,"Hn");T(this,"VM");T(this,"zM");T(this,"Tx");T(this,"Dx");T(this,"XM");T(this,"Fx");T(this,"KM");T(this,"YM");T(this,"GM");T(this,"Rx");T(this,"Km");T(this,"Tr");T(this,"Dr");T(this,"Fr");T(this,"Rr");T(this,"vr");T(this,"Or");T(this,"vx");T(this,"Ir");T(this,"Ox");T(this,"Er");T(this,"Ur");T(this,"Br");T(this,"Vr");T(this,"Ix");T(this,"jM");T(this,"Ro");T(this,"HM");T(this,"Ex");T(this,"Ux");T(this,"qM");T(this,"Si");T(this,"WM");T(this,"JM");T(this,"$M");T(this,"Os");T(this,"vo");T(this,"Oi");T(this,"Bx");T(this,"vl");T(this,"Ol");T(this,"Vx");T(this,"zx");T(this,"Il");T(this,"El");T(this,"Ul");T(this,"Xx");T(this,"Bl");T(this,"Vl");T(this,"zl");T(this,"Xl");T(this,"Kl");T(this,"Yl");T(this,"Gl");T(this,"Kx");T(this,"Yx");T(this,"ZM");T(this,"Iu");T(this,"Eu");T(this,"Gx");T(this,"jx");T(this,"Hx");T(this,"qx");T(this,"Ym");T(this,"Wx");T(this,"Jx");T(this,"$x");T(this,"Zt");T(this,"QM");T(this,"Zx");T(this,"_M");T(this,"Uu");T(this,"gn");T(this,"qn");T(this,"ie");T(this,"Wn");T(this,"nL");T(this,"ql");T(this,"tS");T(this,"iS");T(this,"Gm");T(this,"Qx");T(this,"Bu");T(this,"jm");T(this,"_x");T(this,"zr");T(this,"Wl");T(this,"Wh");T(this,"eS");T(this,"sS");T(this,"Hm");T(this,"tb");T(this,"ib");T(this,"is");T(this,"qm");T(this,"Wm");T(this,"Vu");T(this,"Jl");T(this,"vc");T(this,"Jm");T(this,"Xr");T(this,"Jh");T(this,"nS");T(this,"$m");T(this,"Ht");T(this,"L");T(this,"Ve");T(this,"Pr");T(this,"Ui");T(this,"ws");T(this,"oS");T(this,"$l");T(this,"Kr");T(this,"kl");T(this,"Yr");T(this,"$h");T(this,"Oc");T(this,"rS");T(this,"zu");T(this,"Zh");T(this,"Xu");T(this,"Gt");T(this,"Zl");T(this,"st");T(this,"K");T(this,"Ku");T(this,"kt");T(this,"Pt");T(this,"dt");T(this,"Ic");T(this,"Ew");T(this,"eb");T(this,"Qh");T(this,"Ec");T(this,"sb");T(this,"nb");T(this,"ob");T(this,"LF");T(this,"AF");T(this,"Bi");T(this,"Ml");T(this,"Em");T(this,"Zm");T(this,"lS");T(this,"hS");T(this,"oL");T(this,"Qm");T(this,"TF");T(this,"DF");T(this,"FF");T(this,"rb");T(this,"RF");T(this,"vF");T(this,"OF");T(this,"_h");T(this,"rL");T(this,"Ql");T(this,"ta");T(this,"ia");T(this,"ea");T(this,"sa");T(this,"wu");T(this,"Kh");T(this,"ni");T(this,"Tt");T(this,"Uc");T(this,"qk");T(this,"Wk");T(this,"ac");T(this,"Wt");T(this,"yu");T(this,"hb");T(this,"ab");T(this,"cb");T(this,"fb");T(this,"ub");T(this,"_m");T(this,"fS");T(this,"t0");T(this,"i0");T(this,"e0");T(this,"ix");T(this,"uS");T(this,"db");T(this,"Bc");if(jt.uw||(jt.Ok(),jt.uw=!0),M.Yi(this),jt.hL(this),this.Ht=!0,this.Tt=null,this.kt=0,this.Pt=0,this.dt=null,jt.isUsingDOM()){const o=this,l=()=>{o.Ni(e.document,"DOMContentLoaded",l,!1),o.setRTL()};e.document.body!==null?this.setRTL():o.Vt(e.document,"DOMContentLoaded",l,!1)}this.Ic=null,jt.dS("Model",Dn);const r=this;return this.WM=o=>r.partManager.doModelDataChanged(o),this.JM=o=>r.partManager.doModelChanged(o),this.sb=null,this.nb=null,this.aL(),this.model=Qt.initDiagramModel(),this.db=null,this.themeManager=new xu,this.Ro=!0,this.cL(),this.layout=new Ie,this.Ro=!1,this.TF=null,this.DF=null,this.FF=null,this.rb=null,this.RF=null,this.vF=null,this.OF=null,this._h=null,this.rL=null,this.Ql=null,this.ta=null,this.ia=null,this.ea=null,this.sa=null,this.wu=()=>{},this.Kh=null,this.Vu=!1,this.Uc=new Rr(this),i!==void 0&&(typeof i=="string"||e.Element&&i instanceof Element?this.gS(i):t=i),t&&this.setProperties(t),this.Ht=!1,this.requestUpdate(),this}jD(){return this.dt!==null}get renderer(){return this.vc}set renderer(i){if(this instanceof yi)return;i===""&&(i="default");const t=i.toLowerCase(),r=this.vc;if(t===r)return;this.vc=t;let o=null;t==="default"||t==="canvas"?(o=this.Jl.get("svg"),o!==null&&o.Ft.remove(),this.dt&&(this.ni=this.dt.ci)):t==="svg"?(this.Jl.has("svg")?o=this.Jl.get("svg"):(o=new ma(this,e.document),this.addRenderer("svg",o)),this.div!==null&&this.div.appendChild(o.Ft),this.ni=o.ci,this.dt&&(this.dt.ci.setTransform(this.Bi,0,0,this.Bi,0,0),this.dt.ci.clearRect(0,0,this.kt,this.Pt))):t==="debug"&&(this.Jl.has("SVG")||(o=new ma(this,e.document),this.addRenderer("SVG",o),o.Ft.style.backgroundColor="whitesmoke",this.div!==null&&this.div.after(o.Ft))),this.Ht||this.redraw()}aL(){this.Bc=new x,this.setupRouters(),this.gs=new Ri,this.gs.To(this),this.gi=17,this.BM=!1,this.Ku=!1,this.yx="default",this.Gt=new x,this.Jl=new V,this.vc="default",this.resetRenderingHints(),this.IF(),this.Wt=1,this.st=new C(NaN,NaN).g(),this.ix=new C(NaN,NaN),this.K=1,this.$m=1,this.wx=new C(NaN,NaN).g(),this.xx=NaN,this.bx=1e-4,this.kx=100,this.L=new J,this.Px=new C(NaN,NaN).g(),this.Mx=new F(NaN,NaN,NaN,NaN).g(),this.Tc=new Y(0,0,0,0).g(),this.Gh=1,this.Sx=!1,this.Nx=null,this.Cx=null,this.Hl=1,this.Dc=U.Default,this.Cr=1,this.Vm=U.Default,this.Lx=U.None,this.Ax=U.None,this.Ve=!0,this.vu=!1,this.jn=new Set,this.Lr=new M,this.qh=new M,this.Fo=!1,this.Zl=new V,this.zu=!0,this.zm=250,this.Fc=-1,this.Xm=new Y(16,16,16,16).g(),this.Pr=!1,this.Rc=!1,this.Ou=!0,this.Jm=new Mt,this.Jm.diagram=this,this.Xr=new Mt,this.Xr.diagram=this,this.Jh=new Mt,this.Jh.diagram=this,this.Ar=null,this.Hn=null,this.Ew=!1,this.EF(),this.Yr=new M,this.Tx=!0,this.Dx=1,this.XM=!1,this.Fx=1,this.Rx="auto",this.Km="auto",this.Tr=null,this.Dr=null,this.Fr=null,this.Rr=null,this.vr=null,this.Or=null,this.vx=null,this.Ir=null,this.Ox=!1,this.Er=null,this.Ur=null,this.Br=null,this.Vr=null,this.Ix=!1,this.eb={},this.Qh=[null,null],this.Ro=!1,this.HM=!1,this.Ex=!1,this.Ux=!1,this.qM=!0,this.ws=!1,this.Zh=!1,this.$M=!0,this.Os=-2,this.$l=new V,this.Xu=new x,this.vo=!1,this.Oi=!0,this.Bx=!0,this.vl=!0,this.Ol=!0,this.Vx=!1,this.zx=!0,this.Il=!0,this.El=!0,this.Ul=!0,this.Xx=!0,this.Bl=!0,this.Vl=!0,this.zl=!0,this.Xl=!0,this.Kl=!0,this.Yl=!0,this.Gl=!0,this.Kx=!0,this.Yx=!0,this.ZM=!1,this.Ec=!1,this.Iu=!0,this.Eu=!0,this.Gx=!0,this.jx=!0,this.Hx=16,this.qx=16,this.Ym=!1,this.Wx=!1,this.Jx=0,this.$x=0,this.Zt=new Y(5).g(),this.QM=new M().g(),this.Zx=999999999,this._M=new M().g(),this.$h=!0,this.Uu=!0,this.Oc=!0,this.gn=!1,this.qn=!1,this.Kr=!0,this.kl=!1,this.Wn=!1,this.nL=new M,this.rS=new M,this.ql=null,this.tS=new z(8,8),this.iS=999,this.Gm=!1,this.qk=1,this.Wk=0,this.Ui={scale:1,position:new C,bounds:new F,canvasSize:new z,newCanvasSize:new z,isScroll:!1},this.Ui.canvasSize=this.Ui.canvasSize,this.Ui.newCanvasSize=this.Ui.newCanvasSize,this.Ui.isScroll=!1,this.Qx=new F(NaN,NaN,NaN,NaN).g(),this.Bu=new z(NaN,NaN).g(),this.jm=new F(NaN,NaN,NaN,NaN).g(),this._x=!1,this.UF(),this.is=null,this.qm=!1,this.ac=null,this.partManager=new Dn,this.toolManager=new $t,this.toolManager.initializeStandardTools(),this.defaultTool=this.toolManager,this.currentTool=this.defaultTool,this.ab=null,this.cb=new Xe,this.fb=null,this.ub=null,this.hb=!1,this.yu=!1,this.commandHandler=new Hn,this.i0=null,this.e0=C.Ck,this.uS=!1,this.Bi=1,this.Ml=null,this.Em=1,this._m=0,this.fS=[0,0,0,0,0],this.t0=0,this.Zm=1,this.lS=0,this.hS=new C,this.oL=500,this.Wm=new C,this.Qm=!1}static isUsingDOM(){return jt.fL}static useDOM(i){jt.fL=i?e.document!==void 0:!1}clear(){this.animationManager.stopAnimation(),this.model.clear(),jt.uL(),this.dL(!1),this.Xu.clear(),this.gL(),this.ql=null,this.invalidateDocumentBounds(),this.ensureBounds(),this.C()}dL(i){this.animationManager.stopAnimation(!0),this.QM=new M().g(),this._M=new M().g();const t=this.skipsUndoManager,r=this.Si!==null&&this.Si!==void 0;r&&(this.skipsUndoManager=!0);let o=null;this.is!==null&&(o=this.is.part,o!==null&&this.remove(o));const l=[],u=this.Gt.length;if(i){for(let c=0;c<u;c++){const f=this.Gt.r[c].parts;for(;f.next();){const g=f.value;g!==o&&g.data===null&&l.push(g)}}for(let c=0;c<l.length;c++){const f=l[c];this.remove(f)}}for(let c=0;c<u;c++)this.Gt.r[c].wF();return this.partManager.clear(),this.jn.clear(),this.Lr.clear(),this.qh.clear(),this.Zl.clear(),this.Yr.clear(),this.ac=null,this.Xu.clear(),this.gL(),n.Sk=[],o!==null&&(this.add(o),this.partManager.parts.delete(o)),r&&(this.skipsUndoManager=t),l}static uL(){jt.s0=null,jt.gb=""}static hE(){return null}reset(){this.clear(),this.Ht=!0,this.aL(),this.themeManager=new xu,this.Gr(),this.Ro=!0,this.cL(),this.layout=new Ie,this.Ro=!1,this.model=Qt.initDiagramModel(),this.model.undoManager=new Nt,this.Vu=!1,this.Ht=!1,this.C()}UF(){this.zr=new V,this.eS=new Jt().add(new on({stroke:"black",font:"10pt sans-serif"}).bind("text","",n.toString).theme("stroke","text").theme("font","normal")),this.zr.set("",this.eS),this.zr.set("Comment",new Jt().add(new on({stroke:"brown",font:"10pt sans-serif"}).bind("text","",n.toString).theme("stroke","comment").theme("font","normal"))),this.zr.set("LinkLabel",new Jt({selectable:!1,avoidable:!1}).add(new fe("Ellipse",{fill:"black",stroke:null,desiredSize:new z(3,3).et()}).theme("fill","link"))),this.Wh=new V,this.oS=new Ut(re.Vertical,{selectionObjectName:"GROUPPANEL"}).add(new on({stroke:"black",font:"bold 12pt sans-serif"}).bind("text","",n.toString).theme("stroke","text").theme("font","bold"),new re(re.Auto,{name:"GROUPPPANEL"}).add(new fe({fill:"rgba(128,128,128,0.2)",stroke:"black",strokeWidth:1}).theme("fill","group").theme("stroke","outline").theme("strokeWidth","group"),new zn({padding:5}).theme("padding","group"))),this.Wh.set("",this.oS),this.Wl=new V,this.sS=new se().add(new fe({isPanelMain:!0,stroke:"black"}).theme("stroke","link"),new fe({toArrow:"Standard",fill:"black",stroke:null,strokeWidth:0}).theme("toArrow").theme("fill","link")),this.Wl.set("",this.sS),this.Wl.set("Comment",new se().add(new fe({isPanelMain:!0,stroke:"brown"}).theme("stroke","comment"))),this.Hm=new ye(re.Auto).add(new fe({fill:null,stroke:"dodgerblue",strokeWidth:3}).theme("stroke","selection").theme("strokeWidth","selection"),new zn({margin:1.5}).theme("margin","selection","numbers",null,i=>i?new Y(i/2):1.5)),this.tb=this.Hm,this.ib=new ye(re.Link).add(new fe({isPanelMain:!0,fill:null,stroke:"dodgerblue",strokeWidth:3}).theme("stroke","selection").theme("strokeWidth","selection"))}setRTL(i){let t=i===void 0?this.div:i;t===null&&(t=e.document.body);const r=n.en("div");r.dir="rtl",r.style.cssText="font-size: 14px; width: 1px; height: 1px; position: absolute; top: -1000px; overflow: scroll;",r.textContent="A",t.appendChild(r);let o="reverse";r.scrollLeft>0?o="default":(r.scrollLeft=1,r.scrollLeft===0&&(o="negative")),t.removeChild(r),this.yx=o}setScrollWidth(i){let t=i===void 0?this.div:i;t===null&&(t=e.document.body);let r=0;if(jt.isUsingDOM()){let o=jt.cS,l=jt.aS;o===null&&(jt.cS=n.en("p"),o=jt.cS,o.style.width="100%",o.style.height="200px",o.style.boxSizing="content-box",jt.aS=n.en("div"),l=jt.aS,l.style.position="absolute",l.style.visibility="hidden",l.style.width="200px",l.style.height="150px",l.style.boxSizing="content-box",l.appendChild(o)),l.style.overflow="hidden",t.appendChild(l);const u=o.offsetWidth;l.style.overflow="scroll";let c=o.offsetWidth;u===c&&(c=l.clientWidth),t.removeChild(l),r=u-c,r===0&&!n.rr&&(r=11)}this.gi=r,this.BM=!0}li(i){i in mr?this.autoScale=i:n.lr(this,i)}toString(i){i===void 0&&(i=0);let t="";this.div&&this.div.id&&(t=this.div.id);let r='Diagram "'+t+'"';if(i<=0)return r;const o=this.Gt.iterator;for(;o.next();){const l=o.value;r+=`
  `+l.toString(i-1)}return r}static hL(i){jt.lb=i}static pm(){return jt.lb}static fromDiv(i){let t=i;if(typeof i=="string"&&(t=e.document.getElementById(i)),t instanceof HTMLDivElement){const r=jt.ze.get(t);if(r)return r}return null}get div(){return this.Tt}set div(i){if(this.Tt!==i){const t=this.Tt;if(t!==null){if(jt.ze.delete(t),t.goDiagram=void 0,t.go=void 0,t.innerHTML="",this.dt!==null){const o=this.dt.Ft;this.Ni(o,"pointermove",this.ta,!1),this.Ni(o,"pointerdown",this.Ql,!1),this.Ni(o,"pointerup",this.ia,!1),this.Ni(o,"pointerout",this.ea,!1),this.Ni(o,"pointercancel",this.sa,!1),this.dt.dispose()}this.Ic&&(this.Ic.disconnect(),this.Ic=null);const r=this.toolManager;r!==null&&(r.mouseDownTools.each(o=>o.cancelWaitAfter()),r.mouseMoveTools.each(o=>o.cancelWaitAfter()),r.mouseUpTools.each(o=>o.cancelWaitAfter())),r.cancelWaitAfter(),this.currentTool.doCancel(),this.dt=null,this.Ni(e,"resize",this.rb,!1),this.Ni(e,"wheel",this._h,!0),jt.pm()===this&&jt.hL(null)}else this.Ql===null&&(this.Wn=!1);if(this.Tt=null,i!==null){const r=jt.ze.get(i);r&&(r.div=null),this.gS(i),this.wu(),this.themeManager&&this.themeManager.BF()}else this.themeManager&&this.themeManager.VF()}}setupRouters(){this.Bc.push(new Kd)}gS(i){const t=this;if(!jt.isUsingDOM())return;i==null&&n.o("Diagram setup requires an argument DIV."),t.Tt!==null&&n.o("Diagram has already completed setup."),typeof i=="string"?t.Tt=e.document.getElementById(i):i instanceof HTMLDivElement?t.Tt=i:n.o("No DIV or DIV id supplied: "+i),t.Tt===null&&n.o("Invalid DIV id; could not get element with id: "+i);const r=jt.ze.get(t.Tt);if(r&&r!==this&&n.o("Invalid div id; div already has a Diagram associated with it."),!t.Ic&&e.ResizeObserver){const b=e.ResizeObserver,w=n.Mk(()=>t.requestUpdate(),250,!1);t.Ic=new b(()=>w()),t.Ic.observe(t.Tt)}e.getComputedStyle(t.Tt,null).position==="static"&&(t.Tt.style.position="relative");let o=5;const l="rgba(2"+o+"5, 255, 255, 0)";o--,t.Tt.style["-webkit-tap-highlight-color"]=l,t.Tt.innerHTML="",jt.ze.set(t.Tt,t),t.Tt.goDiagram=t,t.Tt.go=e.go;const u=new vi(t);u.style!==void 0&&(u.style.position="absolute",u.style.top="0px",u.style.left="0px",e.getComputedStyle(t.Tt,null).getPropertyValue("direction")==="rtl"&&(t.Ku=!0),u.style.zIndex="2",u.style.userSelect="none",u.style.MozUserSelect="none",u.style.touchAction="none",u.style.letterSpacing="normal !important",u.style.wordSpacing="normal !important",u.style.lang="unknown"),t.dt=u,t.ni=u.ci;const c=t.ni;t.Bi=t.computePixelRatio(),t.viewSize.isReal()||(t.kt=t.Tt.clientWidth||1,t.Pt=t.Tt.clientHeight||1),t.mL(t.kt,t.Pt);const f=t;t.Tt.insertBefore(u.Ft,t.Tt.firstChild);const g=new vi(null);if(g.width=1,g.height=1,t.LF=g,t.AF=g.ci,jt.isUsingDOM()){const b=n.en("div"),w=n.en("div");b.style.position="absolute",b.style.overflow="auto",b.style.width=t.kt+"px",b.style.height=t.Pt+"px",b.style.zIndex="1",w.style.position="absolute",w.style.width="1px",w.style.height="1px",t.Tt.appendChild(b),b.appendChild(w),b.onscroll=jt.zF,b.addEventListener("pointerdown",jt.XF),b.p=t,b.KF=!0,b.YF=!0,t.sb=b,t.nb=w}t.wu=n.Mk(()=>{t.Ml=null,t.C()},300,!1),t.rb=n.Mk(()=>{t.MM()},250,!1),t.Kh=b=>(b.preventDefault(),!1),t._h=b=>{if(!f.isEnabled)return;const w=f.Vc(b,!0);w.bubbles=!0;let P=0,E=0;w.delta=0,b.deltaX!==void 0?(b.deltaX!==0&&(P=b.deltaX>0?1:-1),b.deltaY!==0&&(E=b.deltaY>0?1:-1),w.delta=Math.abs(b.deltaX)>Math.abs(b.deltaY)?-P:-E):b.wheelDeltaX!==void 0?(b.wheelDeltaX!==0&&(P=b.wheelDeltaX>0?-1:1),b.wheelDeltaY!==0&&(E=b.wheelDeltaY>0?-1:1),w.delta=Math.abs(b.wheelDeltaX)>Math.abs(b.wheelDeltaY)?-P:-E):b.wheelDelta!==void 0&&b.wheelDelta!==0&&(w.delta=b.wheelDelta>0?1:-1),f.doMouseWheel(),f.na(w,b)},t.rL=b=>{if(!f.isEnabled)return;t.Ec=!1,f.Vc(b,!0);const w=f.currentTool;w.cancelWaitAfter(),w.standardMouseOver()},t.Ql=b=>{if(!f.isEnabled)return;t.Ec=!0;const w=f.eb;w[b.pointerId]===void 0&&(w[b.pointerId]=b);const P=f.Qh;let E=!1;if(P[0]!==null&&(P[0].pointerId===b.pointerId||P[0].pointerType!==b.pointerType))P[0]=b;else if(P[1]!==null&&P[1].pointerId===b.pointerId)P[1]=b,E=!0;else if(P[0]===null)P[0]=b;else if(P[1]===null)P[1]=b,E=!0;else{b.preventDefault();return}const N=b.pointerType==="touch"||b.pointerType==="pen";N&&(f.Ew=!1,f.Qm=!0);const _=f.GF(b,b,E),R=f.hS,$=N?25:10;if(b.timeStamp-f.lS<f.oL&&!(Math.abs(R.x-b.screenX)>$||Math.abs(R.y-b.screenY)>$)?f.Zm++:f.Zm=1,_.clickCount=f.Zm,f.lS=b.timeStamp,f.hS.setTo(b.screenX,b.screenY),f.doMouseDown(),b.button===1){b.preventDefault();return}f.na(_,b)},t.ta=b=>{if(!f.isEnabled)return;t.Ec=!0;const w=f.Qh;if(w[0]!==null&&(w[0].pointerId===b.pointerId||w[0].pointerType!==b.pointerType))w[0]=b;else if(w[1]!==null&&w[1].pointerId===b.pointerId){w[1]=b;return}else if(w[0]===null)w[0]=b;else return;if(w[0].pointerId!==b.pointerId)return;const P=f.jF(b,b,w[1]!==null);f.doMouseMove(),f.na(P,b)},t.ia=b=>{if(!f.isEnabled)return;t.Ec=!0;const w=b.pointerType==="touch"||b.pointerType==="pen",P=f.eb;if(w&&f.Ew){delete P[b.pointerId],b.preventDefault();return}const E=f.Qh;if(E[0]!==null&&(E[0].pointerId===b.pointerId||E[0].pointerType!==b.pointerType))E[0]=null;else if(E[1]!==null&&E[1].pointerId===b.pointerId){E[1]=null;return}else return;const N=f.mS(b,!1,!0,!1,!0,!1);let _=e.document.elementFromPoint(b.clientX,b.clientY)||null;_!==null&&_.shadowRoot!==void 0&&_.shadowRoot!==null&&(_=_.shadowRoot.elementFromPoint(b.clientX,b.clientY)),_!==null&&_.p instanceof jt&&_.p!==f&&_.p.o0(b,N),_===null&&(_=b.target),f.o0(b,N),N.clickCount=f.Zm,N.targetDiagram=f.pS(b,_),N.targetObject=null,f.doMouseUp(),f.na(N,b),w&&(f.Qm=!1)},t.ea=b=>{if(!f.isEnabled)return;t.Ec=!1;const w=f.eb;w[b.pointerId]&&delete w[b.pointerId];const P=f.Qh;if(P[0]!==null&&P[0].pointerId===b.pointerId&&(P[0]=null),P[1]!==null&&P[1].pointerId===b.pointerId&&(P[1]=null),b.pointerType==="touch"||b.pointerType==="pen")return;const E=f.currentTool;E.cancelWaitAfter(),E.standardMouseOver()},t.sa=b=>{const w=f.Qh;w[0]!==null&&w[0].pointerId===b.pointerId?(w[0]=null,f.Qm=!1):w[1]!==null&&w[1].pointerId===b.pointerId&&(w[1]=null)};const y=c;if(t.ob=y.B[n.As("7eba17a4ca3b1a8346")][n.As("78a118b7")](y.B,jt.Yu,o,o),c.clearContextCache(!0),t.HF(),this.vc==="svg"){const b=this.Jl.get("svg");this.Tt.appendChild(b.Ft),this.ni=b.ci}}addEventListener(i,t,r,o){i.addEventListener(t,r,{capture:o,passive:!1})}Vt(i,t,r,o){i.addEventListener(t,r,{capture:o,passive:!1})}removeEventListener(i,t,r,o){i.removeEventListener(t,r,{capture:o})}Ni(i,t,r,o){i.removeEventListener(t,r,{capture:o})}HF(){const i=this;let t=this.dt.Ft;t instanceof HTMLCanvasElement||(t=i.div),this.Vt(t,"pointerdown",i.Ql,!1),this.Vt(t,"pointermove",i.ta,!1),this.Vt(t,"pointerup",i.ia,!1),this.Vt(t,"pointerout",i.ea,!1),this.Vt(t,"pointercancel",i.sa,!1),this.Vt(t,"pointerenter",i.qF,!1),this.Vt(t,"pointerleave",i.WF,!1),this.Vt(t,"wheel",i._h,!1),this.Vt(t,"keydown",i.JF,!1),this.Vt(t,"keyup",i.$F,!1),this.Vt(t,"blur",i.ZF,!1),this.Vt(t,"focus",i.QF,!1),this.Vt(t,"selectstart",r=>(r.preventDefault(),!1),!1),this.Vt(t,"contextmenu",r=>(r.preventDefault(),!1),!1),this.Vt(e,"resize",i.rb,!1)}Uw(){this._m>30&&(this.Ml=1)}pP(i){this.Ml!==null&&(this.Ml=null,i&&this.wu(),this._m=0,this.fS=[0,0,0,0,0],this.t0=0)}computePixelRatio(){return this.Ml!==null?this.Ml:e.devicePixelRatio||1}get avgSpf(){return this._m}doMouseDown(){this.currentTool.doMouseDown()}doMouseMove(){this.currentTool.doMouseMove()}doMouseUp(){this.currentTool.doMouseUp()}doMouseWheel(){this.currentTool.doMouseWheel()}doKeyDown(){this.currentTool.doKeyDown()}doKeyUp(){this.currentTool.doKeyUp()}doFocus(){this.focus()}focus(){if(this.dt)if(this.scrollsPageOnFocus)this.dt.focus();else{const i=e.scrollX,t=e.scrollY;this.dt.focus(),e.scrollTo(i,t)}}QF(i){const t=jt.ze.get(this);t&&t.v("GainedFocus")}ZF(i){const t=jt.ze.get(this);t&&t.v("LostFocus")}MM(){if(this.dt===null)return;const i=this.Tt;if(i===null||i.clientWidth===0||i.clientHeight===0)return;this.BM||this.setScrollWidth();const t=this.qn?this.gi:0,r=this.gn?this.gi:0,o=this.Bi;if(this.Bi=this.computePixelRatio(),this.Bi!==o&&(this.vu=!0,this.requestUpdate()),i.clientWidth!==this.kt+t||i.clientHeight!==this.Pt+r){this.oa(),this.Ve=!0;const l=this.layout;l!==null&&l.isViewportSized&&this.autoScale===1&&(this.Rc=!0,l.invalidateLayout()),this.ws||this.requestUpdate()}}cL(){let i=0,t=new _n;t.name="Grid",t.allowSelect=!1,t.pickable=!1,t.isTemporary=!0,t.isInDocumentBounds=!1,this.jr(t,i++),t=new _n,t.name="ViewportBackground",t.isViewportAligned=!0,t.isTemporary=!0,t.isInDocumentBounds=!1,this.jr(t,i++),t=new _n,t.name="Background",this.jr(t,i++),t=new _n,t.name="",this.jr(t,i++),t=new _n,t.name="Foreground",this.jr(t,i++),t=new _n,t.name="ViewportForeground",t.isViewportAligned=!0,t.isTemporary=!0,t.isInDocumentBounds=!1,this.jr(t,i++),t=new _n,t.name="Adornment",t.isTemporary=!0,t.isInDocumentBounds=!1,this.jr(t,i++),t=new _n,t.name="Tool",t.isTemporary=!0,t.isInDocumentBounds=!0,this.jr(t,i++)}pL(){const i=new re(re.Grid,{name:"GRID"}).add(new fe("LineH",{stroke:"lightgray",strokeWidth:.5,interval:1}).theme("stroke","gridMinor"),new fe("LineV",{stroke:"lightgray",strokeWidth:.5,interval:1}).theme("stroke","gridMinor"),new fe("LineH",{stroke:"gray",strokeWidth:.5,interval:5}).theme("stroke","gridMajor"),new fe("LineV",{stroke:"gray",strokeWidth:.5,interval:5}).theme("stroke","gridMajor"),new fe("LineH",{stroke:"gray",strokeWidth:1,interval:10}).theme("stroke","gridMajor"),new fe("LineV",{stroke:"gray",strokeWidth:1,interval:10}).theme("stroke","gridMajor")),t=new Le({layerName:"Grid",zOrder:0,isInDocumentBounds:!1,isAnimated:!1,pickable:!1,locationObjectName:"GRID"}).add(i);return this.add(t),this.partManager.parts.delete(t),i.visible=!1,i}static zF(){const i=jt.ze.get(this.parentElement||this);if(i){if(i.Wx){i.Wx=!1;return}if(!i.isEnabled){i.yL();return}i.diagramScroll(this)}}static XF(i){if(!this.p.isEnabled){this.p.updateScroll();return}this.p.Jx=i.target.scrollTop,this.p.$x=i.target.scrollLeft}diagramScroll(i){if(this.dt===null)return;const t=this.sb,r=this.nb;this.Ym=!0;let o=this.documentBounds,l=this.viewportBounds;const u=this.Tc;let c=o.x-u.left,f=o.y-u.top;const g=o.width+u.left+u.right,y=o.height+u.top+u.bottom;let b=o.right+u.right,w=o.bottom+u.bottom,P=l.x,E=l.y;const N=l.width,_=l.height;let R=l.right,$=l.bottom;const q=this.scale;let X,H=i.scrollLeft;if(this.Ku)switch(this.yx){case"negative":H=H+i.scrollWidth-i.clientWidth;break;case"reverse":H=i.scrollWidth-H-i.clientWidth;break}const tt=H;if(N<g||_<y){X=C.X(this.position.x,this.position.y),this.allowHorizontalScroll&&this.$x!==tt&&(X.x=tt/q+c,this.$x=tt),this.allowVerticalScroll&&this.Jx!==i.scrollTop&&(X.y=i.scrollTop/q+f,this.Jx=i.scrollTop),this.position=X,C.s(X),this.Ym=!1,this.Uu=!1;return}if(X=C.l(),i.KF&&this.allowHorizontalScroll&&(c<P&&(this.position=X.e(tt+c,this.position.y)),b>R)){const Q=t.scrollWidth-this.kt;this.position=X.e(-Q+tt-this.kt/q+b,this.position.y)}if(i.YF&&this.allowVerticalScroll&&(f<E&&(this.position=X.e(this.position.x,i.scrollTop+f)),w>$)){const Q=t.scrollHeight-this.Pt;this.position=X.e(this.position.x,-Q+i.scrollTop-this.Pt/q+w)}C.s(X),this._l(),this.Ym=!1,this.Uu=!1,o=this.documentBounds,l=this.viewportBounds,b=o.right,R=l.right,w=o.bottom,$=l.bottom,c=o.x,P=l.x,f=o.y,E=l.y,N>=g&&c>=P&&b<=R&&(r.style.width="1px"),_>=y&&f>=E&&w<=$&&(r.style.height="1px")}computeBounds(i){return i===void 0&&(i=new F),this.Li(),this.wL(i)}wL(i){if(this.fixedBounds.isReal())return i.a(this.fixedBounds),i.addMargin(this.Zt),i;let t=!0;const r=this.Gt.r,o=r.length;for(let l=0;l<o;l++){const u=r[l];if(!u.visible||!u.isInDocumentBounds)continue;const c=u.At.r,f=c.length;for(let g=0;g<f;g++){const y=c[g];if(!y.isInDocumentBounds||!y.isVisible())continue;const b=y.actualBounds;b.isReal()&&(t?(t=!1,i.a(b)):i.unionRect(b))}}return t&&i.e(0,0,0,0),i.addMargin(this.Zt),i}computePartsBounds(i,t){t===void 0&&(t=!1);let r=null;if(Array.isArray(i))for(let o=0;o<i.length;o++){const l=i[o];!t&&l instanceof se||(l.ensureBounds(),r===null?r=l.actualBounds.copy():r.unionRect(l.actualBounds))}else{const o=i.iterator;for(;o.next();){const l=o.value;!t&&l instanceof se||(l.ensureBounds(),r===null?r=l.actualBounds.copy():r.unionRect(l.actualBounds))}}return r===null?new F(NaN,NaN,0,0):r}Bs(i){if(!i&&!this.Wn||this.Ht||this.dt===null||!this.documentBounds.isReal())return;if(this.Ht=!0,i){const w=this.initialPosition;if(w.isReal()){this.Ht=!1,this.position=w;return}let P=this.initialDocumentSpot,E=this.initialViewportSpot;P.isNoSpot()&&(P=U.TopLeft),E.isNoSpot()&&(E=U.TopLeft);const N=C.l();N.setRectSpot(this.documentBounds,P);const _=this.viewportBounds,R=F.X(0,0,_.width,_.height),$=C.l();$.setRectSpot(R,E),$.e(N.x-$.x,N.y-$.y),this.Ht=!1,this.position=$,F.s(R),C.s($)}let t=this.Hl;i&&this.Cr!==1&&(t=this.Cr);const r=t!==1?this.Gu(t):this.scale,o=this.st.x,l=this.st.y,u=this.kt/r,c=this.Pt/r;let f=this.Dc;const g=this.Vm;if(i&&!f.isSpot()&&(g.isSpot()||g.isDefault())){const w=this.initialDocumentSpot.isSpot()&&this.initialViewportSpot.isSpot();f=g.isDefault()&&!w?U.Center:g}this.yS(this.documentBounds,u,c,f,i);const y=this.scale;this.scale=r,this.Ht=!1;const b=this.viewportBounds;b.equalsApproxTo(o,l,u,c)||this.onViewportBoundsChanged(new F(o,l,u,c),b,y,!1)}Gu(i){const t=this.$m;if(this.dt===null)return t;this.ensureBounds();const r=this.documentBounds;if(!r.isReal())return t;const o=r.width,l=r.height,u=this.kt+(this.qn?this.gi:0),c=this.Pt+(this.gn?this.gi:0),f=u/o,g=c/l;let y;return i===2?(y=Math.min(g,f),y>t&&(y=t),y<this.minScale&&(y=this.minScale),y>this.maxScale&&(y=this.maxScale),y):i===3?(y=0,g>f?y=(c-this.gi)/l:y=(u-this.gi)/o,y>t&&(y=t),y<this.minScale&&(y=this.minScale),y>this.maxScale&&(y=this.maxScale),y):this.scale}zoomToFit(){const i=this.Gh;this.Gh=1,this.scale=this.Gu(2),i!==1&&(this.Bs(!1),this.yS(this.documentBounds,this.kt/this.K,this.Pt/this.K,this.Dc,!1)),this.Gh=i}zoomToRect(i,t){t===void 0&&(t=2);const r=i.width,o=i.height;if(r===0||o===0||isNaN(r)&&isNaN(o))return;let l=1;if(t===2||t===3)if(isNaN(r))l=this.viewportBounds.height*this.scale/o;else if(isNaN(o))l=this.viewportBounds.width*this.scale/r;else{const u=this.kt,c=this.Pt;t===3?c/o>u/r?l=(c-(this.gn?this.gi:0))/o:l=(u-(this.qn?this.gi:0))/r:l=Math.min(c/o,u/r)}this.scale=l,this.position=new C(i.x,i.y)}get _F(){return this.Ht}set _F(i){this.Ht=i}alignDocument(i,t){this.ensureBounds();const r=this.documentBounds,o=this.viewportBounds;this.position=new C(r.x+(i.x*r.width+i.offsetX)-(t.x*o.width-t.offsetX),r.y+(i.y*r.height+i.offsetY)-(t.y*o.height-t.offsetY))}focusObject(i){if(i instanceof dn){this.i0=i;const t=C.l();this.e0=this.transformDocToView(i.getDocumentPoint(U.TopLeft,t)),C.s(t)}else this.i0=null,this.e0=C.Ck}yS(i,t,r,o,l){const u=C.X(this.st.x,this.st.y);let c=u.x,f=u.y;if(this.i0!==null){let g=C.l();g=this.i0.getDocumentPoint(U.TopLeft,g),c=g.x-this.e0.x/this.scale,f=g.y-this.e0.y/this.scale,o=U.None,C.s(g)}if(l||this.scrollMode===1){o.isSpot()&&(t>i.width&&(c=i.x+(o.x*i.width+o.offsetX)-(o.x*t-o.offsetX)),r>i.height&&(f=i.y+(o.y*i.height+o.offsetY)-(o.y*r-o.offsetY)));const g=this.Tc,y=t-i.width;if(t<i.width+g.left+g.right){let w=c+t/2;w=Math.min(w,i.right+Math.max(y,g.right)-t/2),w=Math.max(w,i.left-Math.max(y,g.left)+t/2),c=w-t/2}else c>i.left?c=i.left:c<i.right-t&&(c=i.right-t);const b=r-i.height;if(r<i.height+g.top+g.bottom){let w=f+r/2;w=Math.min(w,i.bottom+Math.max(b,g.bottom)-r/2),w=Math.max(w,i.top-Math.max(b,g.top)+r/2),f=w-r/2}else f>i.top?f=i.top:f<i.bottom-r&&(f=i.bottom-r)}if(u.x=isFinite(c)?c:-this.Zt.left,u.y=isFinite(f)?f:-this.Zt.top,this.positionComputation!==null){const g=this.positionComputation(this,u);u.x=g.x,u.y=g.y}this.gs.$C(this.st,u),this.st.e(u.x,u.y),this.Gr(),this.tR(),C.s(u)}findPartAt(i,t){if(t===void 0&&(t=!0),t){const r=this.kP(i,o=>o.part,o=>o.canSelect());if(r instanceof Le)return r}else{const r=this.kP(i,o=>o.part);if(r instanceof Le)return r}return null}findObjectAt(i,t,r){t===void 0&&(t=null),r===void 0&&(r=null),this.Li();const o=this.Gt.iteratorBackwards;for(;o.next();){const l=o.value;if(!l.visible)continue;const u=l.findObjectAt(i,t,r);if(u!==null)return u}return null}kP(i,t,r){t===void 0&&(t=null),r===void 0&&(r=null),this.Li();const o=this.Gt.iteratorBackwards;for(;o.next();){const l=o.value;if(!l.visible||l.isTemporary)continue;const u=l.findObjectAt(i,t,r);if(u!==null)return u}return null}findPartsAt(i,t,r){return t===void 0&&(t=!0),this.iR(i,o=>o.part,t?o=>o instanceof Le&&o.canSelect():null,r)}iR(i,t,r,o){t===void 0&&(t=null),r===void 0&&(r=null),!(o instanceof x)&&!(o instanceof M)&&(o=new M),this.Li();const l=this.Gt.iteratorBackwards;for(;l.next();){const u=l.value;!u.visible||u.isTemporary||u.findObjectsAt(i,t,r,o)}return o}findObjectsAt(i,t,r,o){t===void 0&&(t=null),r===void 0&&(r=null),!(o instanceof x)&&!(o instanceof M)&&(o=new M),this.Li();const l=this.Gt.iteratorBackwards;for(;l.next();){const u=l.value;u.visible&&u.findObjectsAt(i,t,r,o)}return o}findPartsIn(i,t,r,o){return t===void 0&&(t=!1),r===void 0&&(r=!0),this.eR(i,null,l=>l instanceof Le&&(!r||l.canSelect()),t,o)}findObjectsIn(i,t,r,o,l){t===void 0&&(t=null),r===void 0&&(r=null),o===void 0&&(o=!1),!(l instanceof x)&&!(l instanceof M)&&(l=new M),this.Li();const u=this.Gt.iteratorBackwards;for(;u.next();){const c=u.value;c.visible&&c.findObjectsIn(i,t,r,o,l)}return l}SP(i,t,r,o,l,u){const c=new M;this.Li();const f=this.Gt.iteratorBackwards;for(;f.next();){const g=f.value;g.visible&&g.SP(i,t,r,o,c,l,u)}return c}eR(i,t,r,o,l){t===void 0&&(t=null),r===void 0&&(r=null),o===void 0&&(o=!1),!(l instanceof x)&&!(l instanceof M)&&(l=new M),this.Li();const u=this.Gt.iteratorBackwards;for(;u.next();){const c=u.value;!c.visible||c.isTemporary||c.findObjectsIn(i,t,r,o,l)}return l}findPartsNear(i,t,r,o,l){return r===void 0&&(r=!0),o===void 0&&(o=!0),this.sR(i,t,null,u=>u instanceof Le&&(!o||u.canSelect()),r,l)}findObjectsNear(i,t,r,o,l,u){r===void 0&&(r=null),o===void 0&&(o=null),l===void 0&&(l=!0),l!==!1&&l!==!0&&((l instanceof x||l instanceof M)&&(u=l),l=!0),!(u instanceof x)&&!(u instanceof M)&&(u=new M),this.Li();const c=this.Gt.iteratorBackwards;for(;c.next();){const f=c.value;f.visible&&f.findObjectsNear(i,t,r,o,l,u)}return u}sR(i,t,r,o,l,u){r===void 0&&(r=null),o===void 0&&(o=null),l===void 0&&(l=!0),l!==!1&&l!==!0&&((l instanceof x||l instanceof M)&&(u=l),l=!0),!(u instanceof x)&&!(u instanceof M)&&(u=new M),this.Li();const c=this.Gt.iteratorBackwards;for(;c.next();){const f=c.value;!f.visible||f.isTemporary||f.findObjectsNear(i,t,r,o,l,u)}return u}acceptEvent(i){return this.Vc(i,i instanceof MouseEvent)}Vc(i,t){const r=this.Xr;this.Xr=this.Jh,this.Jh=r,r.diagram=this,r.event=i,t?this.o0(i,r):(r.viewPoint=this.Xr.viewPoint,r.documentPoint=this.Xr.documentPoint);let o=0;const l=i;return l.ctrlKey&&(o+=1),l.altKey&&(o+=2),l.shiftKey&&(o+=4),l.metaKey&&(o+=8),r.modifiers=o,r.button=l.button,l.buttons!==void 0&&(r.buttons=l.buttons),n.rr&&l.button===0&&l.ctrlKey&&(r.button=2),r.down=!1,r.up=!1,r.clickCount=1,r.delta=0,r.handled=!1,r.bubbles=!1,r.timestamp=i.timeStamp,r.isMultiTouch=!1,r.targetDiagram=this.pS(i,i.target),r.targetObject=null,r}pS(i,t){if(t===null)return null;const r=jt.ze.get(t);if(r)return r;let o=i.path;if(!o&&typeof i.composedPath=="function"&&(o=i.composedPath()),o&&o[0]){const l=jt.ze.get(o[0]);if(l)return l}return null}GF(i,t,r){const o=this.mS(i,!0,!1,!1,!0,r);return this.o0(t,o),o.targetDiagram=this.pS(i,i.target),o.targetObject=null,r||o.clone(this.Jm),o}jF(i,t,r){const o=this.mS(i,!1,!1,!1,!1,r);let l=e.document.elementFromPoint(t.clientX,t.clientY)||null;l!==null&&l.shadowRoot!==void 0&&l.shadowRoot!==null&&(l=l.shadowRoot.elementFromPoint(t.clientX,t.clientY));let u=this,c=i;if(l){const f=jt.ze.get(l);f&&(c=t,u=f)}return o.targetDiagram=u,this.o0(c,o),o.targetObject=null,o}mS(i,t,r,o,l,u){const c=this.Xr;this.Xr=this.Jh,this.Jh=c,c.diagram=this,c.clickCount=1,c.delta=0;let f=0;return i.ctrlKey&&(f+=1),i.altKey&&(f+=2),i.shiftKey&&(f+=4),i.metaKey&&(f+=8),c.modifiers=f,c.event=i,c.timestamp=i.timeStamp,c.button=r?this.firstInput.button:i.button,c.buttons=i.buttons,n.rr&&i.button===0&&i.ctrlKey&&(c.button=2),c.down=t,c.up=r,c.handled=o,c.bubbles=l,c.isMultiTouch=u,c}na(i,t){return i.bubbles?!0:(t.stopPropagation!==void 0&&t.stopPropagation(),t.cancelable!==!1&&t.preventDefault(),t.cancelBubble=!0,!1)}JF(i){const t=jt.ze.get(this);if(!t||!t.isEnabled)return!1;const r=t.Vc(i,!1);return r.key=i.key,r.code=i.code,r.down=!0,t.doKeyDown(),t.na(r,i)}$F(i){const t=jt.ze.get(this);if(!t||!t.isEnabled)return!1;const r=t.Vc(i,!1);return r.key=i.key,r.code=i.code,r.up=!0,t.doKeyUp(),t.na(r,i)}qF(i){const t=jt.ze.get(this);if(!t||!t.isEnabled)return!1;const r=t.Vc(i,!0);return t.mouseEnter!==null&&t.mouseEnter(r),t.currentTool.standardMouseOver(),t.na(r,i)}WF(i){const t=jt.ze.get(this);if(!t||!t.isEnabled)return!1;const r=t.Vc(i,!0);return t.mouseLeave!==null&&t.mouseLeave(r),t.na(r,i)}getMouse(i){const t=this.dt;if(t===null)return new C(0,0);const r=t.getBoundingClientRect(),o=(i.clientX-r.left)*(this.kt/r.width),l=(i.clientY-r.top)*(this.Pt/r.height);return this.L!==null?new C(o,l).Ee(this.L):new C(o,l)}o0(i,t){const r=this.dt;let o=0,l=0;if(r!==null){const u=r.getBoundingClientRect();o=(i.clientX-u.left)*(this.kt/u.width),l=(i.clientY-u.top)*(this.Pt/u.height)}if(t.viewPoint.e(o,l),this.L!==null){const u=C.X(o,l);this.L.ts(u),t.documentPoint.a(u),C.s(u)}else t.documentPoint.e(o,l)}kC(i,t,r){let o;if(this.Qh[0]!==null)o=this.Qh[t];else return;const l=this.dt;if(l!==null){const u=l.getBoundingClientRect();r.e((o.clientX-u.left)*(this.kt/u.width),(o.clientY-u.top)*(this.Pt/u.height))}}invalidateDocumentBounds(){this.$h||(this.$h=!0,this.requestUpdate(!1))}nR(){this.ws||this.Li(),this.ensureBounds()}redraw(){this.Ht||this.ws||(this.C(),this.maybeUpdate())}isUpdateRequested(){return this.Pr}delayInitialization(i){i===void 0&&(i=null);const t=this.animationManager,r=t.isEnabled;t.stopAnimation(),t.isEnabled=!1,this.yr(),this.Wn=!1,this.ix=new C(NaN,NaN),t.isEnabled=r,this.ws=!0;const o=this;i!==null&&n.vh(()=>{o.ws=!1,t.Rl("Model"),i(o)},1)}requestUpdate(i){if(i===void 0&&(i=!1),this.Pr===!0||this.Ht||i===!1&&this.ws)return;this.Pr=!0;const t=this;e.requestAnimationFrame(()=>{t.Pr&&t.maybeUpdate()})}maybeUpdate(){this.Ou&&!this.Pr||(this.Ou&&(this.Ou=!1),this.yr())}wS(i,t){!this.Uu||this.Ht||this.animationManager.defaultAnimation.isAnimating||this.yL()||(i&&this.Li(),t&&this.Bs(!1))}yr(i){if(this.ws||(this.Pr=!1,this.Tt===null&&!this.Bu.isReal()))return;this.ws=!0;const t=this.animationManager,r=this.Xu;if(!t.isAnimating&&r.length!==0){const b=r.r,w=b.length;for(let P=0;P<w;P++){const E=b[P];E.ue(!1),E.c()}r.clear()}const o=this.rS;o.count>0&&(o.each(b=>b.xS()),o.clear());let l=!1,u=!1;t.defaultAnimation.isAnimating&&(u=!0,l=this.skipsUndoManager,this.skipsUndoManager=!0),t.xi||this.MM(),i||this.wS(!1,!0);const c=!this.undoManager.isUndoingRedoing&&(this.kl||this.Bc.count!==0&&this.Lr.size!==0),f=!this.Wn||this.Kr;this.Li(!0);let g=!1;(f||c)&&(this.Wn?this.bS(!this.Rc,c):(this.startTransaction("Initial Layout"),t.isEnabled===!1&&t.stopAnimation(),this.bS(!1,c)),g=f),this.Rc=!1,this.kl=!1,this.Li(),this.is!==null&&(this.is.visible&&!this.qm&&(this.Hr(),this.qm=!0),!this.is.visible&&this.qm&&(this.qm=!1)),this.Ex||this.nR(),i||this.wS(!0,!1);let y=!1;if(g){const b=F.l();b.a(this.viewportBounds),this.Wn||(this.Wn=!0,y=!0,this.skipsUndoManager||(this.undoManager.vw=!0),this.undoManager.Ow=!0,this.oR()),this.rR(),this.Li(!1),i||this.wS(!0,!0),F.s(b)}else if(t.kc&&t.tx){if(this.Cr!==1)this.scale=this.Gu(this.Cr);else if(this.Hl!==1)this.scale=this.Gu(this.Hl);else{const b=this.initialScale;isFinite(b)&&b>0&&(this.scale=b)}this.Bs(!0)}g&&y&&this.commitTransaction("Initial Layout"),i||this.Gi(this.ni),u&&(this.skipsUndoManager=l),this.ws=!1}get Eh(){return this.Wn}oR(){if(this.Cr!==1)this.scale=this.Gu(this.Cr);else if(this.Hl!==1)this.scale=this.Gu(this.Hl);else{const t=this.initialScale;isFinite(t)&&t>0&&(this.scale=t)}this.Bs(!0);const i=this.Gt.r;this.Us(i,i.length,this,this.viewportBounds),this.v("InitialLayoutCompleted"),this.ix.a(this.st),this.Hr()}rR(){this.v("LayoutCompleted")}r0(i){this.jn.add(i)}addInvalidRoute(i){this.Fo?this.qh.add(i):this.Lr.add(i)}Li(i){if(this.jn.size!==0&&!(!this.ws&&this.animationManager.isTicking)){if(this.ws||(this.kl=!0),i){this.xL(this.jn);return}for(let t=0;t<23&&this.jn.size!==0;t++){const r=new Set(this.jn);this.jn.clear(),this.xS(r,this.jn)}this.nodes.each(t=>{t instanceof Ut&&t.bL(!1)})}}xL(i,t){for(const r of i)!r.Me()||r instanceof Ut||(r.qr()?(r.ut(1/0,1/0),r.zt()):t&&t.add(r));for(const r of i)if(r instanceof Ut){if(!r.isVisible())continue;this.mb(r)}}xS(i,t){this.xL(i,t);for(const r of i){if(!(r instanceof se))continue;const o=r;o.isVisible()&&(o.qr()?(o.ut(1/0,1/0),o.zt()):t.add(o))}for(const r of i)r instanceof ye&&r.isVisible()&&(r.qr()?(r.ut(1/0,1/0),r.zt()):t.add(r))}l0(i){const t=i instanceof jt,r=t?i.links:i.memberParts,o=this.jn;if(t)this.Li(!0);else{for(;r.next();){const l=r.value;o.has(l)&&(!l.Me()||l instanceof Ut||l.qr()&&(l.ut(1/0,1/0),l.zt()))}for(r.reset();r.next();){const l=r.value;if(o.has(l)&&l instanceof Ut){if(!l.isVisible())continue;this.mb(l)}}r.reset()}for(;r.next();){const l=r.value;l instanceof se&&o.has(l)&&l.isVisible()&&l.qr()&&(l.ut(1/0,1/0),l.zt())}}mb(i){const t=n.rt(),r=n.rt(),o=i.memberParts;for(;o.next();){const u=o.value;u.isVisible()&&(u instanceof Ut?(u.Oo()||u.es()||u.th())&&this.mb(u):u instanceof se?u.fromNode===i||u.toNode===i?r.push(u):t.push(u):(u.ut(1/0,1/0),u.zt()))}let l=t.length;for(let u=0;u<l;u++){const c=t[u];c.ut(1/0,1/0),c.zt()}n.it(t),i.ut(1/0,1/0),i.zt(),l=r.length;for(let u=0;u<l;u++){const c=r[u];c.ut(1/0,1/0),c.zt()}n.it(r)}Us(i,t,r,o){if(!(!this.Oc&&!this.animationManager.isAnimating)){for(let l=0;l<t;l++)i[l].Us(r,o);this.Li()}}Gi(i){this.Tt!==null&&(this.dt===null&&n.o("No canvas specified"),this.vc==="svg"?this.lR(i):this.hR(i))}hR(i){const t=this.animationManager;if(t.xi||t.isAnimating&&!t.isTicking)return;const r=new Date;if(this.h0(),this.Tt.style.opacity==="0")return;const o=i!==this.ni,l=this.Gt.r,u=l.length,c=this;if(this.Us(l,u,c,c.viewportBounds),o)i.clearContextCache(!0),this._l();else if(!this.Ve&&!t.isAnimating)return;const f=this.L;f.Jt();const g=this.Bi,y=this.st,b=this.K;b!==1&&f.K(b),(y.x!==0||y.y!==0)&&f.Zi(-y.x,-y.y),i.setTransform(g,0,0,g,0,0),i.clearRect(0,0,this.kt,this.Pt),this.Wt!==1&&(i.globalAlpha=this.Wt),this.kS(i);for(let _=0;_<u;_++)i.setTransform(g,0,0,g,0,0),i.transform(f.m11,f.m12,f.m21,f.m22,f.dx,f.dy),i.commitTransform(),l[_].Gi(i,c);let w=!1;this.Uc?this.Uc.Yu(this)&&(w=this.ob()):w=!0,w&&(J.prototype.ts=J.prototype.yw),o?(this.ni.clearContextCache(!0),this._l()):(this.Oc=!1,this.Ve=!1);const P=+new Date-+r,E=!1,N=this.fS;if(this.Ml===null){N[this.t0]=P,this.t0=(this.t0+1)%N.length;let _=0;for(let R=0;R<N.length;R++)_+=N[R];this._m=_/N.length}this.Wt!==1&&(i.globalAlpha=1)}lR(i){if(this.Tt===null)return;const t=this.animationManager;if(t.xi||t.isAnimating&&!t.isTicking)return;this.h0();const r=this.kt,o=this.Pt;i.surface.resize(r,o,r,o);const l=this.Gt.r,u=l.length,c=this;if(this.Us(l,u,c,c.viewportBounds),!this.Ve&&!t.isAnimating)return;const f=this.st,g=this.K,y=this.L;y.Jt(),g!==1&&y.K(g),(f.x!==0||f.y!==0)&&y.Zi(-f.x,-f.y),i.lastDrawnPart=null,i.setDiagramPosScale(y.m11,y.m12,y.m21,y.m22,y.dx,y.dy),this.Wt!==1&&(i.globalAlpha=this.Wt),this.kS(i);const b=this.Bi;this.dt.ci.setTransform(b,0,0,b,0,0),this.dt.ci.clearRect(0,0,this.kt,this.Pt);for(let P=0;P<u;P++)l[P].Gi(i,c);let w=!1;this.Uc?this.Uc.Yu(this)&&(w=this.ob()):w=!0,w&&(J.prototype.ts=J.prototype.yw),this.Oc=!1,this.Ve=!1}pb(i,t,r,o,l,u,c,f,g){if(this.Tt===null)return;this.dt===null&&n.o("No canvas specified"),u===void 0&&(u=null),c===void 0&&(c=null),f===void 0&&(f=!1),g===void 0&&(g=!1),this.h0(),this.ni.clearContextCache(!0),this._l(),this.Zh=!0;const y=this.K;this.K=o;const b=this,w=this.Gt.r,P=w.length;try{const E=new F(l.x,l.y,r.width/o,r.height/o),N=E.copy();N.addMargin(t),this.Hr(N),this.Li(),this.Us(w,P,b,E),i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,r.width,r.height),c!==null&&c!==""&&(i.fillStyle=c,i.fillBackground(0,0,r.width,r.height));const _=this.Bi;i.scale(_,_);const R=J.l();R.Jt(),R.Zi(t.left,t.top),R.K(o),(l.x!==0||l.y!==0)&&R.Zi(-l.x,-l.y),i.setTransform(R.m11,R.m12,R.m21,R.m22,R.dx,R.dy),i.commitTransform(),i instanceof Gi&&i.setDiagramPosScale(R.m11,R.m12,R.m21,R.m22,R.dx,R.dy),J.s(R),this.kS(i),i.globalAlpha=this.Wt;const $=this.findLayer("Grid");if(u){const q=new M,X=u.iterator;for(X.reset();X.next();){const H=X.value;H instanceof Le&&(!g&&H.layer===$||(H.Fu(),q.add(H)))}for(let H=0;H<P;H++)w[H].xF(i,b,q,f);q.each(H=>H.Fu())}else for(let q=0;q<P;q++){const X=w[q];X===$?g&&X.Gi(i,b,!0):X.Gi(i,b,f)}this.Zh=!1,this.Uc&&this.Uc.Yu(this)&&this.ob()}finally{this.K=y,this.ni.clearContextCache(!0),this._l(),this.Us(w,P,b,b.viewportBounds),this.Hr(),this.ni instanceof Gi&&(this.ni.diagramGroup.replaceChildren(),this.redraw())}}getRenderingHint(i){return this.Nr[i]}setRenderingHint(i,t){i==="minDrawingLength"&&(this.Em=t),this.Nr[i]=t,this.redraw()}resetRenderingHints(){this.Nr=new a,this.Nr.drawShadows=!0,this.Nr.textGreeking=!0,this.Nr.viewportOptimizations=!n.rr,this.Nr.temporaryPixelRatio=!0,this.Nr.pictureRatioOptimization=!0,this.Nr.minDrawingLength=1,this.Em=1}kS(i){const t=this.Nr;if(t===null)return;if(t.imageSmoothingEnabled!==void 0){const o=!!t.imageSmoothingEnabled;i.setImageSmoothingEnabled(o)}const r=t.defaultFont;r!=null&&(i.font=r)}getInputOption(i){return this.Ru[i]}setInputOption(i,t){this.Ru[i]=t}IF(){this.Ru=new a,this.Ru.extraTouchArea=10,this.Ru.extraTouchThreshold=10,this.Ru.hasGestureZoom=!0}set(i){return Object.assign(this,i),this}attach(i){return this.setProperties(i)}setProperties(i){return jt.a0(this,i),this}static a0(i,t){const r=i instanceof re,o=i instanceof jt;for(const l in t){l===""&&n.o("Setting properties requires non-empty property names");let u=i,c=l;if(r||o){const g=l.indexOf(".");if(g>0){const y=l.substring(0,g);r?u=i.findObject(y):(u=i[y],u==null&&(u=i.toolManager[y])),n.wt(u)?c=l.substring(g+1):n.o("Unable to find object named: "+y+" in "+i.toString()+" when trying to set property: "+l)}}if(c[0]!=="_"&&!n.fw(u,c))if(o&&c==="ModelChanged"){i.addModelChangedListener(t[c]);continue}else if(o&&c==="Changed"){i.addChangedListener(t[c]);continue}else if(o&&n.fw(i.toolManager,c))u=i.toolManager;else if(o&&i.kL(c)){i.addDiagramListener(c,t[c]);continue}else if(i instanceof Qt&&c==="Changed"){i.addChangedListener(t[c]);continue}else n.o('Trying to set undefined property "'+c+'" on object: '+u.toString());const f=t[l];u[c]=f,c[0]==="_"&&u instanceof dn&&u.addCopyProperty(c)}}aR(){if(this.Zl.count!==0&&!(this.undoManager.transactionLevel>1)){for(;this.Zl.count>0;){const i=this.Zl;this.Zl=new V;const t=i.iterator;for(;t.next();){const r=t.key;r.invalidateOtherJumpOvers(t.value),r.ee()}}this.C()}}C(i){if(i===void 0)this.Ve=!0,this.requestUpdate();else{const t=this.viewportBounds;i.isReal()&&t.intersectsRect(i)&&(this.Ve=!0,this.requestUpdate())}this.v("InvalidateDraw")}invalidateViewport(i,t){if(this.Ve!==!0){if(this.Ve=!0,this.vc==="svg"){this.maybeUpdate();return}this.getRenderingHint("temporaryPixelRatio")===!0?(this.Uw(),this.maybeUpdate(),this.pP(!0)):this.maybeUpdate()}}oa(){this.Uu=!0}_l(){this.Oc=!0}h0(){this.vu!==!1&&(this.vu=!1,this.mL(this.kt,this.Pt))}mL(i,t){this.Gr();const r=this.Bi,o=i*r,l=t*r;this.dt.resize(o,l,i,t)&&(this.Ve=!0,this.ni.clearContextCache(!0))}yL(){const i=this.dt;if(i===null||this.Bu.isReal())return!0;const t=this.kt,r=this.Pt,o=this.Tt;let l=!1,u=this.qn?this.gi:0,c=this.gn?this.gi:0,f=o.clientWidth||t+u,g=o.clientHeight||r+c;const y=this.viewportBounds,b=y.x,w=y.y,P=y.width,E=y.height;if((f!==t+u||g!==r+c)&&(this.qn=!1,this.gn=!1,u=0,c=0,this.kt=f,this.Pt=g,this.vu=!0,l=!0,this.Gr()),!this.Wn||!this.viewportBounds.isReal())return!0;const N=this.sb,_=this.nb;if(this.Uu=!1,!l&&!this.qn&&!this.gn&&!this.Iu&&!this.Eu)return!0;const R=this.documentBounds;let $=0,q=0,X=0,H=0;const tt=y.width,Q=y.height,nt=this.Tc;this.contentAlignment.isSpot()?(R.width>tt&&($=nt.left,q=nt.right),R.height>Q&&(X=nt.top,H=nt.bottom)):($=nt.left,q=nt.right,X=nt.top,H=nt.bottom);const ht=R.width+$+q,it=R.height+X+H,st=this.scale,ct=st;let ut=ht>f/st,pt=it>g/st;if(!l&&!this.qn&&!this.gn&&!ut&&!pt)return!0;const Tt=R.x-$,Et=y.x,m=R.right+q;let k=y.right+u;const D=R.y-X,G=y.y,Z=R.bottom+H;let et=y.bottom+c,ft="1px",bt="1px";if(this.scrollMode===1&&(ut||pt)){if(ut&&this.hasHorizontalScrollbar&&this.allowHorizontalScroll){let Bt=1;Tt+1<Et&&(Bt=Math.max((Et-Tt)*st+this.kt,Bt)),m>k+1&&(Bt=Math.max((m-k)*st+this.kt,Bt)),tt+u+1<ht&&(Bt=Math.max((ht-tt)*st+this.kt,Bt)),ft=Bt.toString()+"px"}if(pt&&this.hasVerticalScrollbar&&this.allowVerticalScroll){let Bt=1;D+1<G&&(Bt=Math.max((G-D)*st+this.Pt,Bt)),Z>et+1&&(Bt=Math.max((Z-et)*st+this.Pt,Bt)),Q+c+1<it&&(Bt=Math.max((it-Q)*st+this.Pt,Bt)),bt=Bt.toString()+"px"}}let Pt=ft!=="1px",Dt=bt!=="1px";if(!(Pt&&Dt)&&(Pt||Dt)){if(ut=!(ht<tt+u),pt=!(it<Q+c),Dt&&(k-=this.gi),Pt&&(et-=this.gi),ut&&this.hasHorizontalScrollbar&&this.allowHorizontalScroll){let Ht=1;Tt+1<Et&&(Ht=Math.max((Et-Tt)*st+this.kt,Ht)),m>k+1&&(Ht=Math.max((m-k)*st+this.kt,Ht)),tt+1<ht&&(Ht=Math.max((ht-tt)*st+this.kt,Ht)),ft=Ht.toString()+"px"}Pt=ft!=="1px";let Bt=this.Pt;if(Pt!==this.gn&&(Bt=Pt?this.Pt-this.gi:this.Pt+this.gi),pt&&this.hasVerticalScrollbar&&this.allowVerticalScroll){let Ht=1;D+1<G&&(Ht=Math.max((G-D)*st+Bt,Ht)),Z>et+1&&(Ht=Math.max((Z-et)*st+Bt,Ht)),Q+1<it&&(Ht=Math.max((it-Q)*st+Bt,Ht)),bt=Ht.toString()+"px"}Dt=bt!=="1px"}if(this.Ym&&!(Pt!==this.gn||Dt!==this.qn))return(t!==this.kt||r!==this.Pt)&&this.maybeUpdate(),!1;if(Pt!==this.gn&&(ft==="1px"?this.Pt=this.Pt+this.gi:this.Pt=Math.max(this.Pt-this.gi,1),l=!0),this.gn=Pt,_.style.width=ft,Dt!==this.qn&&(bt==="1px"?this.kt=this.kt+this.gi:this.kt=Math.max(this.kt-this.gi,1),l=!0,this.Ku)){const Bt=C.l();Dt?(i.style.left=this.gi+"px",this.position=Bt.e(this.st.x+this.gi/this.scale,this.st.y)):(i.style.left="0px",this.position=Bt.e(this.st.x-this.gi/this.scale,this.st.y)),C.s(Bt)}l&&this.Gr(),this.qn=Dt,_.style.height=bt,this.Wx=!0,l&&(this.vu=!0);let Gt=N.scrollLeft;if(this.hasHorizontalScrollbar&&this.allowHorizontalScroll&&(tt+1<ht?Gt=(this.position.x-Tt)*st:Tt+1<Et?Gt=N.scrollWidth-N.clientWidth:m>k+1&&(Gt=this.position.x*st)),this.Ku)switch(this.yx){case"negative":Gt=-(N.scrollWidth-Gt-N.clientWidth);break;case"reverse":Gt=N.scrollWidth-Gt-N.clientWidth;break}if(N.scrollLeft=Gt,this.hasVerticalScrollbar&&this.allowVerticalScroll&&(Q+1<it?N.scrollTop=(this.position.y-D)*st:D+1<G?N.scrollTop=N.scrollHeight-N.clientHeight:Z>et+1&&(N.scrollTop=this.position.y*st)),f=this.kt,g=this.Pt,N.style.width=f+(this.qn?this.gi:0)+"px",N.style.height=g+(this.gn?this.gi:0)+"px",t!==f||r!==g||this.animationManager.xi){const Bt=F.X(b,w,P,E);return this.onViewportBoundsChanged(Bt,this.viewportBounds,ct,l),F.s(Bt),!1}return!0}add(i){const t=i.diagram;if(t===this)return;t!==null&&n.o("Cannot add part "+i.toString()+" to "+this.toString()+". It is already a part of "+t.toString());let r=this.findLayer(i.layerName);if(r===null&&(r=this.findLayer("")),r===null&&n.o('Cannot add a Part when unable find a Layer named "'+i.layerName+'" and there is no default Layer'),i.layer===r)return;const o=r.Hh(99999999,i,i.diagram===this);o>=0&&this.raiseChangedEvent(3,"parts",r,null,i,null,o),r.isTemporary||this.invalidateDocumentBounds(),i.invalidateLayout(1);const l=i.layerChanged;l!==null&&l(i,null,r)}Hh(i){this.partManager.Hh(i);const t=this;i.Wr(r=>t.PL(r)),i.data||i.Io(),i.hasPlaceholder()&&i.c(),i.data!==null&&i.Wr(r=>t.partManager.PS(r,null)),(i.es()===!0||i.th()===!0)&&this.r0(i),i.ML(!0,this),i.SL()?(i.actualBounds.isReal()&&this.C(i.jh(i.actualBounds)),this.invalidateDocumentBounds()):i.isVisible()&&i.actualBounds.isReal()&&this.C(i.jh(i.actualBounds)),this.requestUpdate()}te(i){i.clearAdornments(),this.partManager.te(i);const t=this;i.data!==null&&i.Wr(r=>t.partManager.MS(r,t)),this.jn.delete(i),i instanceof se&&this.Lr.delete(i),i.SL()?(i.actualBounds.isReal()&&this.C(i.jh(i.actualBounds)),this.invalidateDocumentBounds()):i.isVisible()&&i.actualBounds.isReal()&&this.C(i.jh(i.actualBounds)),this.requestUpdate()}remove(i){this.SS(i,!0)}SS(i,t){const r=i.layer;if(r===null||r.diagram!==this)return;i.isSelected=!1,i.isHighlighted=!1,i.invalidateLayout(2),t&&i.zc();const o=r.te(-1,i,!1);o>=0&&this.raiseChangedEvent(4,"parts",r,i,null,o,null);const l=i.layerChanged;l!==null&&l(i,r,null)}removeParts(i,t){if(t===void 0&&(t=!1),Array.isArray(i)){const r=i.length;for(let o=0;o<r;o++){const l=i[o];t&&!l.canDelete()||this.remove(l)}}else{const r=new M;r.addAll(i);const o=r.iterator;for(;o.next();){const l=o.value;t&&!l.canDelete()||this.remove(l)}}}copyParts(i,t,r){return r===void 0&&(r=!1),this.partManager.copyParts(i,t,r)}moveParts(i,t,r,o){if(r===void 0&&(r=!1),o===void 0&&(o=this.c0()),this.toolManager===null)return;const l=new V;if(i!==null)if(Array.isArray(i))for(let u=0;u<i.length;u++)this.Jr(l,i[u],r,o);else{const u=i.iterator;for(;u.next();)this.Jr(l,u.value,r,o)}else{let u=this.parts;for(;u.next();){const c=u.value;this.Jr(l,c,r,o)}for(u=this.nodes;u.next();){const c=u.value;this.Jr(l,c,r,o)}for(u=this.links;u.next();){const c=u.value;this.Jr(l,c,r,o)}}this.xP(l,t,o,r)}Jr(i,t,r,o,l){if(!i.has(t)&&(l===void 0&&(l=!1),!(r&&!l&&!t.canMove()&&!t.canCopy())))if(o===void 0&&(o=this.c0()),t instanceof Jt){if(i.set(t,this.Es(o,t,t.location)),t instanceof Ut&&(t.hasPlaceholder()||o.dragsMembers)){const c=t.memberParts;for(;c.next();){const f=c.value;this.Jr(i,f,r,o,o.groupsAlwaysMove)}}const u=t.linksConnected;for(;u.next();){const c=u.value;if(i.has(c))continue;const f=c.fromNode,g=c.toNode;f!==null&&i.has(f)&&g!==null&&i.has(g)&&this.Jr(i,c,r,o)}if(o.dragsTree){const c=t.findTreeChildrenNodes();for(;c.next();){const f=c.value;this.Jr(i,f,r,o)}}}else if(t instanceof se){i.set(t,this.Es(o,t));const u=t.labelNodes;for(;u.next();){const c=u.value;this.Jr(i,c,r,o)}}else t instanceof ye||i.set(t,this.Es(o,t,t.location))}xP(i,t,r,o){if(i===null||i.count===0)return;const l=C.l(),u=C.l();u.a(t),isNaN(u.x)&&(u.x=0),isNaN(u.y)&&(u.y=0);const c=this.hb;c||this.Bw(i);const f=n.rt(),g=n.rt(),y=i.iterator;let b=C.l();for(;y.next();){const _=y.key,R=y.value;if(_.Me()){const $=this.NL(_,i);if($!==null)f.push(new He(_,R,$));else if(!o||_.canMove()){const q=R.point;l.a(q),this.computeMove(_,l.add(u),r,b),_.location=b,R.shifted===void 0&&(R.shifted=new C),R.shifted.a(b.subtract(q))}}else y.key instanceof se&&g.push(new I(y.key,y.value))}C.s(b);const w=f.length;for(let _=0;_<w;_++){const R=f[_],$=R.CL.point;l.a($),R.yb.shifted===void 0&&(R.yb.shifted=new C),R.de.location=l.add(R.yb.shifted)}const P=C.l(),E=C.l(),N=g.length;for(let _=0;_<N;_++){const R=g[_],$=R.key;if($ instanceof se){if($.suspendsRouting){$.Mr=null;const q=$.fromNode,X=$.toNode;if(this.draggedLink!==null&&r.dragsLink){const H=R.value.point;if($.dragComputation===null){i.set($,this.Es(r,$,u));const tt=u.x-H.x,Q=u.y-H.y;$.pr(tt,Q)}else{const tt=C.X(0,0),Q=$.getPoint(0);Q&&Q.isReal()&&tt.a(Q),b=C.l().a(tt).add(u);let nt=b;r.isGridSnapEnabled&&(r.isGridSnapRealtime||this.lastInput.up)&&(nt=C.l(),this.rM($,b,nt,r)),b.a($.dragComputation($,b,nt)).subtract(tt),i.set($,this.Es(r,$,b));const ht=b.x-H.x,it=b.y-H.y;$.pr(ht,it),C.s(tt),C.s(b),nt!==b&&C.s(nt)}}else{if(q!==null){P.a(q.location);const H=i.get(q);H!==null&&P.subtract(H.point)}if(X!==null){E.a(X.location);const H=i.get(X);H!==null&&E.subtract(H.point)}if(q!==null&&X!==null)if(P.equalsApprox(E)){const H=R.value.point,tt=l;tt.a(P),tt.subtract(H),i.set($,this.Es(r,$,P)),$.pr(tt.x,tt.y)}else $.suspendsRouting=!1,$.invalidateRoute();else{const H=R.value.point;let tt;q!==null?tt=P:X!==null?tt=E:tt=u,i.set($,this.Es(r,$,tt));const Q=tt.x-H.x,nt=tt.y-H.y;$.pr(Q,nt)}}}else if($.fromNode===null||$.toNode===null){const q=R.value.point;i.set($,this.Es(r,$,u));const X=u.x-q.x,H=u.y-q.y;$.pr(X,H)}}}C.s(l),C.s(u),C.s(P),C.s(E),n.it(f),n.it(g),c||(this.Li(),this.xm(i))}computeMove(i,t,r,o){if(o===void 0&&(o=new C),o.a(t),i===null)return o;let l=t;const u=r.isGridSnapEnabled;u&&(r.isGridSnapRealtime||this.lastInput.up)&&(l=C.l(),this.rM(i,t,l,r));const c=i.dragComputation!==null?i.dragComputation(i,t,l):l,f=i.minLocation;let g=f.x;isNaN(g)&&(g=u?Math.round(i.location.x*1e3)/1e3:i.location.x);let y=f.y;isNaN(y)&&(y=u?Math.round(i.location.y*1e3)/1e3:i.location.y);const b=i.maxLocation;let w=b.x;isNaN(w)&&(w=u?Math.round(i.location.x*1e3)/1e3:i.location.x);let P=b.y;return isNaN(P)&&(P=u?Math.round(i.location.y*1e3)/1e3:i.location.y),o.e(Math.max(g,Math.min(c.x,w)),Math.max(y,Math.min(c.y,P))),l!==t&&C.s(l),o}c0(){const i=this.toolManager.findTool("Dragging");return i instanceof ee?i.dragOptions:this.cb}rM(i,t,r,o){if(o===void 0&&(o=this.c0()),r.a(t),i===null)return r;const l=this.grid,u=o.gridSnapCellSize;let c=u.width,f=u.height;const g=o.gridSnapOrigin;let y=g.x,b=g.y;const w=o.gridSnapCellSpot;if(l!==null){const E=l.gridCellSize;isNaN(c)&&(c=E.width),isNaN(f)&&(f=E.height);const N=l.gridOrigin;isNaN(y)&&(y=N.x),isNaN(b)&&(b=N.y)}const P=C.X(0,0);return P.setSpot(0,0,c,f,w),K.Eg(t.x,t.y,y+P.x,b+P.y,c,f,r),C.s(P),r}Bw(i){if(i===null)return;this.hb=!0;const t=i.iterator;for(;t.next();){const r=t.key;r instanceof se&&(r.suspendsRouting=!0)}}xm(i){if(i===null)return;const t=i.iterator;for(;t.next();){const r=t.key;r instanceof se&&(r.suspendsRouting=!1,r.LL()&&r.invalidateRoute())}this.hb=!1}get draggedLink(){return this.ab}set draggedLink(i){this.ab!==i&&(this.ab=i,i!==null&&(this.fb=i.fromPort,this.ub=i.toPort))}get PP(){return this.fb}set PP(i){this.fb=i}get MP(){return this.ub}set MP(i){this.ub=i}NL(i,t){const r=i.containingGroup;if(r!==null){let o=this.NL(r,t);if(o!==null||(o=t.get(r),o!==null))return o}return null}Es(i,t,r){if(r===void 0)return new Oe(C.ko);let o=i.isGridSnapEnabled;return!i.groupsSnapMembers&&t.containingGroup!==null&&(o=!1),o?new Oe(new C(Math.round(r.x*1e3)/1e3,Math.round(r.y*1e3)/1e3)):new Oe(r.copy())}NS(i,t){if(i.diagram!==null&&i.diagram!==this&&n.o("Cannot share a Layer with another Diagram: "+i+" of "+i.diagram),t===null?i.diagram!==null&&n.o("Cannot add an existing Layer to this Diagram again: "+i):(t.diagram!==this&&n.o("Existing Layer must be in this Diagram: "+t+" not in "+t.diagram),i===t&&n.o("Cannot move a Layer before or after itself: "+i)),i.diagram===this)return;const r=i.name,o=this.Gt,l=o.count;for(let u=0;u<l;u++)o.elt(u).name===r&&n.o("Cannot add Layer with the name '"+r+"'; a Layer with the same name is already present in this Diagram.")}addLayer(i){this.NS(i,null),i.To(this);const t=this.Gt;let r=t.count-1;if(!i.isTemporary)for(;r>=0&&t.elt(r).isTemporary;)r--;return t.insertAt(r+1,i),this.Si!==null&&this.raiseChangedEvent(3,"layers",this,null,i,null,r+1),this.C(),this.invalidateDocumentBounds(),this}addLayerBefore(i,t){this.NS(i,t),i.To(this);const r=this.Gt,o=r.indexOf(i);o>=0&&(r.delete(i),this.Si!==null&&this.raiseChangedEvent(4,"layers",this,i,null,o,null));const l=r.count;let u;for(u=0;u<l;u++)if(r.elt(u)===t){r.insertAt(u,i);break}return this.Si!==null&&this.raiseChangedEvent(3,"layers",this,null,i,null,u),this.C(),o<0&&this.invalidateDocumentBounds(),this}addLayerAfter(i,t){this.NS(i,t),i.To(this);const r=this.Gt,o=r.indexOf(i);o>=0&&(r.delete(i),this.Si!==null&&this.raiseChangedEvent(4,"layers",this,i,null,o,null));const l=r.count;let u;for(u=0;u<l;u++)if(r.elt(u)===t){r.insertAt(u+1,i);break}return this.Si!==null&&this.raiseChangedEvent(3,"layers",this,null,i,null,u+1),this.C(),o<0&&this.invalidateDocumentBounds(),this}jr(i,t){i.To(this),this.Gt.insertAt(t,i)}AL(i){this.Gt.removeAt(i)}removeLayer(i){if(i.diagram!==this&&n.o("Cannot remove a Layer from another Diagram: "+i+" of "+i.diagram),i.name==="")return;const t=this.Gt,r=t.indexOf(i);if(t.delete(i)){const o=i.At.copy().iterator;for(;o.next();){const l=o.value,u=l.layerName;u!==i.name?l.layerName=u:l.layerName=""}this.Si!==null&&this.raiseChangedEvent(4,"layers",this,i,null,r,null),this.C(),this.invalidateDocumentBounds()}}findLayer(i){const t=this.layers;for(;t.next();){const r=t.value;if(r.name===i)return r}return null}findRouter(i){for(const t of this.Bc)if(t.name===i)return t;return null}addModelChangedListener(i){return n.i(i,"function",jt,"addModelChangedListener:listener"),this.Hn===null&&(this.Hn=new x),this.Hn.add(i),this.model.addChangedListener(i),this}removeModelChangedListener(i){n.i(i,"function",jt,"removeModelChangedListener:listener"),this.Hn!==null&&(this.Hn.delete(i),this.Hn.count===0&&(this.Hn=null)),this.model.removeChangedListener(i)}addChangedListener(i){return n.i(i,"function",jt,"addChangedListener:listener"),this.Ar===null&&(this.Ar=new x),this.Ar.add(i),this}removeChangedListener(i){n.i(i,"function",jt,"removeChangedListener:listener"),this.Ar!==null&&(this.Ar.delete(i),this.Ar.count===0&&(this.Ar=null))}Iw(i){if(!this.skipsUndoManager&&!this.model.skipsUndoManager&&this.model.undoManager.handleChanged(i),i.change!==1&&(this.isModified=!0),this.Ar!==null){const t=this.Ar,r=t.length;for(let o=0;o<r;o++)t.elt(o)(i)}}raiseChangedEvent(i,t,r,o,l,u,c){u===void 0&&(u=null),c===void 0&&(c=null);const f=new Rt;f.diagram=this,f.change=i,f.propertyName=t,f.object=r,f.oldValue=o,f.oldParam=u,f.newValue=l,f.newParam=c,this.Iw(f)}raiseChanged(i,t,r,o,l){this.raiseChangedEvent(2,i,this,t,r,o,l)}t(i,t,r,o,l){this.raiseChangedEvent(2,i,this,t,r,o,l)}get animationManager(){return this.gs}get undoManager(){return this.Si.undoManager}get skipsUndoManager(){return this.Ro}set skipsUndoManager(i){n.i(i,"boolean",jt,"skipsUndoManager"),this.Ro=i,this.Si.skipsUndoManager=i}get delaysLayout(){return this.Ux}set delaysLayout(i){this.Ux=i}PC(i,t){if(i===null||i.diagram!==this)return;const r=this.fe;try{this.fe=!0;const o=i.change;if(o===2){const l=i.object,u=i.propertyName,c=i.getValue(t);if(Qt.ht(l,u,c),l instanceof dn){const f=l.part;f!==null&&f.invalidateAdornments()}this.isModified=!0}else if(o===3){const l=i.object,u=i.newParam,c=i.newValue;if(l instanceof re)if(typeof u=="number"&&c instanceof dn){t?l.te(u):l.insertAt(u,c);const f=l.part;f!==null&&f.invalidateAdornments()}else typeof u=="number"&&c instanceof wi&&(c.isRow?l.TL(u,t?void 0:c):l.DL(u,t?void 0:c));else if(l instanceof _n){const f=i.oldParam===!0;typeof u=="number"&&c instanceof Le&&(t?(c.isSelected=!1,c.isHighlighted=!1,c.invalidateAdornments(),l.te(f?u:-1,c,f)):l.Hh(u,c,f))}else l instanceof jt?typeof u=="number"&&c instanceof _n&&(t?this.AL(u):this.jr(c,u)):n.o("unknown ChangeType.Insert object: "+i.toString());this.isModified=!0}else if(o===4){const l=i.object,u=i.oldParam,c=i.oldValue;if(l instanceof re)typeof u=="number"&&c instanceof dn?t?l.insertAt(u,c):l.te(u):typeof u=="number"&&c instanceof wi&&(c.isRow?l.TL(u,t?c:void 0):l.DL(u,t?c:void 0));else if(l instanceof _n){const f=i.newParam===!0;typeof u=="number"&&c instanceof Le&&(t?l.At.indexOf(c)<0&&l.Hh(u,c,f):(c.isSelected=!1,c.isHighlighted=!1,c.invalidateAdornments(),l.te(f?u:-1,c,f)))}else l instanceof jt?typeof u=="number"&&c instanceof _n&&(t?this.jr(c,u):this.AL(u)):n.o("unknown ChangeType.Remove object: "+i.toString());this.isModified=!0}else o===1||n.o("unknown ChangedEvent: "+i.toString())}finally{this.fe=r}}startTransaction(i){return this.undoManager.startTransaction(i)}commitTransaction(i){return this.undoManager.commitTransaction(i)}rollbackTransaction(){return this.undoManager.rollbackTransaction()}commit(i,t){let r=t;r===void 0&&(r="");const o=this.skipsUndoManager;r===null&&(this.skipsUndoManager=!0,r=""),this.undoManager.startTransaction(r);let l=!1;try{i(this),l=!0}finally{l?this.undoManager.commitTransaction(r):this.undoManager.rollbackTransaction(),this.skipsUndoManager=o}}updateAllTargetBindings(i){this.partManager.updateAllTargetBindings(i)}updateAllThemeBindings(){if(this.partManager.updateAllThemeBindings(),this.is!==null){const i=this.is.part;i!==null&&i.Io()}}setDivBackground(i){this.div&&(this.div.style.backgroundColor=i)}updateAllRelationshipsFromData(){this.partManager.updateAllRelationshipsFromData()}FL(i,t){const r=this.animationManager;if(this.Ht||this.ws){this.K=t,this.Gr(),this.C(),this.oa(),r.ZC(i,this.K);return}if(this.dt===null){this.K=t,this.Gr();return}this.Ht=!0;const o=this.viewportBounds.copy(),l=this.kt,u=this.Pt;let c=this.zoomPoint.x,f=this.zoomPoint.y;const g=this.contentAlignment;isNaN(c)&&(g.isSide()?g.includesSide(U.LeftSide)?c=0:g.includesSide(U.RightSide)&&(c=l-1):g.isSpot()?c=g.x*(l-1):c=l/2),isNaN(f)&&(g.isSide()?g.includesSide(U.TopSide)?f=0:g.includesSide(U.BottomSide)&&(f=u-1):g.isSpot()?f=g.y*(u-1):f=u/2),this.scaleComputation!==null&&!this.animationManager.defaultAnimation.isAnimating&&(t=this.scaleComputation(this,t)),t<this.minScale&&(t=this.minScale),t>this.maxScale&&(t=this.maxScale);const y=C.X(this.st.x+c/i-c/t,this.st.y+f/i-f/t);this.position=y,C.s(y),this.K=t,this.Gr(),this.Ht=!1,this.onViewportBoundsChanged(o,this.viewportBounds,i,!1),this.Bs(!1),r.ZC(i,this.K),this.C()}tR(){const i=this.Gt.r;for(let t=0;t<i.length;t++)i[t].sL()}onViewportBoundsChanged(i,t,r,o){if(i.equals(t))return;o===void 0&&(o=!1),o||this.oa(),this._l();const l=this.layout;l!==null&&l.isViewportSized&&this.autoScale===1&&(i.width!==t.width||i.height!==t.height)&&l.invalidateLayout();const u=this.currentTool;this.Ec===!0&&u instanceof $t&&!this.animationManager.isTicking&&(this.lastInput.documentPoint=this.transformViewToDoc(this.lastInput.viewPoint),u.standardMouseActivity(this)),this.Ht||this.invalidateViewport(i,t),this.Hr(),this.Ui.scale=r,this.Ui.position.x=i.x,this.Ui.position.y=i.y,this.Ui.bounds.a(i),this.Ui.canvasSize.width=Math.round(i.width*r),this.Ui.canvasSize.height=Math.round(i.height*r),this.Ui.newCanvasSize.width=this.kt,this.Ui.newCanvasSize.height=this.Pt,this.Ui.isScroll=o,this.v("ViewportBoundsChanged",this.Ui,i),this.isVirtualized&&this.links.each(c=>{c.isAvoiding&&c.actualBounds.intersectsRect(t)&&c.invalidateRoute()})}Hr(i){const t=this.is;if(t===null||!t.visible||t.layer===null)return;const r=i!==void 0?i:this.Qx;if(!r.isReal())return;const o=r.width,l=r.height;if(t.scale=1,t.angle=0,t.layer.isViewportAligned)t.width=o*this.scale,t.height=l*this.scale,t.part.alignment=U.TopLeft;else{t.bi===null&&(t.bi=new Rs);const u=t.bi.Xc;if(!u.isReal())return;t.width=o+u.width*2,t.height=l+u.height*2;const c=C.l();K.Eg(r.x,r.y,0,0,u.width,u.height,c),c.offset(-u.width,-u.height),t.part.location=c,C.s(c)}}clearSelection(i){i===void 0&&(i=!1);const t=this.selection;if(t.count===0)return;i||this.v("ChangingSelection",t);const r=t.toArray(),o=r.length;for(let l=0;l<o;l++){const u=r[l];u.isSelected=!1}t.lt(),t.clear(),t.g(),i||this.v("ChangedSelection",t)}select(i){i!==null&&i.diagram===this&&(!i.isSelected||this.selection.count>1)&&(this.v("ChangingSelection",this.selection),this.clearSelection(!0),i.isSelected=!0,this.v("ChangedSelection",this.selection))}selectCollection(i){if(this.v("ChangingSelection",this.selection),this.clearSelection(!0),Array.isArray(i)){const t=i.length;for(let r=0;r<t;r++){const o=i[r];o instanceof Le||n.o("Diagram.selectCollection given something that is not a Part: "+o),o.isSelected=!0}}else{const t=i.iterator;for(;t.next();){const r=t.value;r instanceof Le||n.o("Diagram.selectCollection given something that is not a Part: "+r),r.isSelected=!0}}this.v("ChangedSelection",this.selection)}clearHighlighteds(){const i=this.highlighteds;if(i.count>0){const t=i.toArray(),r=t.length;for(let o=0;o<r;o++){const l=t[o];l.isHighlighted=!1}i.lt(),i.clear(),i.g()}}highlight(i){i!==null&&i.diagram===this&&(!i.isHighlighted||this.highlighteds.count>1)&&(this.clearHighlighteds(),i.isHighlighted=!0)}highlightCollection(i){const t=new M().addAll(i),r=this.highlighteds.copy().removeAll(t).iterator;for(;r.next();){const l=r.value;l.isHighlighted=!1}const o=t.iterator;for(;o.next();){const l=o.value;l instanceof Le||n.o("Diagram.highlightCollection given something that is not a Part: "+l),l.isHighlighted=!0}}scroll(i,t,r){r===void 0&&(r=1);const o=t==="up"||t==="down";let l=0;const u=C.l();if(i==="pixel")l=r;else if(i==="line")l=r*(o?this.scrollVerticalLineChange:this.scrollHorizontalLineChange);else if(i==="page"){let f=o?this.viewportBounds.height:this.viewportBounds.width;if(f*=this.scale,f!==0){const g=Math.max(f-(o?this.scrollVerticalLineChange:this.scrollHorizontalLineChange),0);l=r*g}}else if(i==="document"){const f=this.documentBounds,g=this.viewportBounds;t==="up"?this.position=u.e(g.x,f.y):t==="left"?this.position=u.e(f.x,g.y):t==="down"?this.position=u.e(g.x,f.bottom-g.height):t==="right"&&(this.position=u.e(f.right-g.width,g.y)),C.s(u);return}else n.o("scrolling unit must be 'pixel', 'line', 'page', or 'document', not: "+i);l/=this.scale;const c=this.position;t==="up"?this.position=u.e(c.x,c.y-l):t==="down"?this.position=u.e(c.x,c.y+l):t==="left"?this.position=u.e(c.x-l,c.y):t==="right"?this.position=u.e(c.x+l,c.y):n.o("scrolling direction must be 'up', 'down', 'left', or 'right', not: "+t),C.s(u)}scrollToRect(i){const t=this.viewportBounds;if(t.containsRect(i))return;const r=i.center;r.x-=t.width/2,r.y-=t.height/2,this.position=r}centerRect(i){const t=this.viewportBounds,r=i.center;r.x-=t.width/2,r.y-=t.height/2,this.position=r}transformDocToView(i){const t=this.L;t.Jt(),this.K!==1&&t.K(this.K);const r=this.st;return(r.x!==0||r.y!==0)&&isFinite(r.x)&&isFinite(r.y)&&t.Zi(-r.x,-r.y),i.copy().L(t)}transformViewToDoc(i){const t=this.L;t.Jt(),this.K!==1&&t.K(this.K);const r=this.st;return(r.x!==0||r.y!==0)&&isFinite(r.x)&&isFinite(r.y)&&t.Zi(-r.x,-r.y),i.copy().Ee(t)}CF(i){const t=this.L;t.Jt(),this.K!==1&&t.K(this.K);const r=this.st;return(r.x!==0||r.y!==0)&&isFinite(r.x)&&isFinite(r.y)&&t.Zi(-r.x,-r.y),i.Ee(this.L)}get opacity(){return this.Wt}set opacity(i){const t=this.Wt;t!==i&&(n.i(i,"number",jt,"opacity"),(i<0||i>1)&&n.tt(i,"0 <= value <= 1",jt,"opacity"),this.Wt=i,this.t("opacity",t,i),this.C())}get validCycle(){return this.Fx}set validCycle(i){const t=this.Fx;t!==i&&(this.Fx=i,this.t("validCycle",t,i))}get layers(){return this.Gt.iterator}get isModelReadOnly(){const i=this.Si;return i===null?!1:i.isReadOnly}set isModelReadOnly(i){const t=this.Si;t!==null&&(t.isReadOnly=i)}get isReadOnly(){return this.vo}set isReadOnly(i){const t=this.vo;t!==i&&(n.i(i,"boolean",jt,"isReadOnly"),this.vo=i,this.t("isReadOnly",t,i))}get isEnabled(){return this.Oi}set isEnabled(i){const t=this.Oi;t!==i&&(n.i(i,"boolean",jt,"isEnabled"),this.Oi=i,this.t("isEnabled",t,i))}get allowClipboard(){return this.Bx}set allowClipboard(i){const t=this.Bx;t!==i&&(n.i(i,"boolean",jt,"allowClipboard"),this.Bx=i,this.t("allowClipboard",t,i))}get allowCopy(){return this.vl}set allowCopy(i){const t=this.vl;t!==i&&(n.i(i,"boolean",jt,"allowCopy"),this.vl=i,this.t("allowCopy",t,i))}get allowDelete(){return this.Ol}set allowDelete(i){const t=this.Ol;t!==i&&(n.i(i,"boolean",jt,"allowDelete"),this.Ol=i,this.t("allowDelete",t,i))}get allowDragOut(){return this.Vx}set allowDragOut(i){const t=this.Vx;t!==i&&(n.i(i,"boolean",jt,"allowDragOut"),this.Vx=i,this.t("allowDragOut",t,i))}get allowDrop(){return this.zx}set allowDrop(i){const t=this.zx;t!==i&&(n.i(i,"boolean",jt,"allowDrop"),this.zx=i,this.t("allowDrop",t,i))}get allowTextEdit(){return this.Il}set allowTextEdit(i){const t=this.Il;t!==i&&(n.i(i,"boolean",jt,"allowTextEdit"),this.Il=i,this.t("allowTextEdit",t,i))}get allowGroup(){return this.El}set allowGroup(i){const t=this.El;t!==i&&(n.i(i,"boolean",jt,"allowGroup"),this.El=i,this.t("allowGroup",t,i))}get allowUngroup(){return this.Ul}set allowUngroup(i){const t=this.Ul;t!==i&&(n.i(i,"boolean",jt,"allowUngroup"),this.Ul=i,this.t("allowUngroup",t,i))}get allowInsert(){return this.Xx}set allowInsert(i){const t=this.Xx;t!==i&&(n.i(i,"boolean",jt,"allowInsert"),this.Xx=i,this.t("allowInsert",t,i))}get allowLink(){return this.Bl}set allowLink(i){const t=this.Bl;t!==i&&(n.i(i,"boolean",jt,"allowLink"),this.Bl=i,this.t("allowLink",t,i))}get allowRelink(){return this.Vl}set allowRelink(i){const t=this.Vl;t!==i&&(n.i(i,"boolean",jt,"allowRelink"),this.Vl=i,this.t("allowRelink",t,i))}get allowMove(){return this.zl}set allowMove(i){const t=this.zl;t!==i&&(n.i(i,"boolean",jt,"allowMove"),this.zl=i,this.t("allowMove",t,i))}get allowReshape(){return this.Xl}set allowReshape(i){const t=this.Xl;t!==i&&(n.i(i,"boolean",jt,"allowReshape"),this.Xl=i,this.t("allowReshape",t,i))}get allowResize(){return this.Kl}set allowResize(i){const t=this.Kl;t!==i&&(n.i(i,"boolean",jt,"allowResize"),this.Kl=i,this.t("allowResize",t,i))}get allowRotate(){return this.Yl}set allowRotate(i){const t=this.Yl;t!==i&&(n.i(i,"boolean",jt,"allowRotate"),this.Yl=i,this.t("allowRotate",t,i))}get allowSelect(){return this.Gl}set allowSelect(i){const t=this.Gl;t!==i&&(n.i(i,"boolean",jt,"allowSelect"),this.Gl=i,this.t("allowSelect",t,i))}get allowUndo(){return this.Kx}set allowUndo(i){const t=this.Kx;t!==i&&(n.i(i,"boolean",jt,"allowUndo"),this.Kx=i,this.t("allowUndo",t,i))}get allowZoom(){return this.Yx}set allowZoom(i){const t=this.Yx;t!==i&&(n.i(i,"boolean",jt,"allowZoom"),this.Yx=i,this.t("allowZoom",t,i))}get hasVerticalScrollbar(){return this.Eu}set hasVerticalScrollbar(i){const t=this.Eu;t!==i&&(n.i(i,"boolean",jt,"hasVerticalScrollbar"),this.Eu=i,this.oa(),this.C(),this.t("hasVerticalScrollbar",t,i),this.Bs(!1))}get hasHorizontalScrollbar(){return this.Iu}set hasHorizontalScrollbar(i){const t=this.Iu;t!==i&&(n.i(i,"boolean",jt,"hasHorizontalScrollbar"),this.Iu=i,this.oa(),this.C(),this.t("hasHorizontalScrollbar",t,i),this.Bs(!1))}get allowHorizontalScroll(){return this.Gx}set allowHorizontalScroll(i){const t=this.Gx;t!==i&&(n.i(i,"boolean",jt,"allowHorizontalScroll"),this.Gx=i,this.t("allowHorizontalScroll",t,i),this.Bs(!1))}get allowVerticalScroll(){return this.jx}set allowVerticalScroll(i){const t=this.jx;t!==i&&(n.i(i,"boolean",jt,"allowVerticalScroll"),this.jx=i,this.t("allowVerticalScroll",t,i),this.Bs(!1))}get scrollHorizontalLineChange(){return this.Hx}set scrollHorizontalLineChange(i){const t=this.Hx;t!==i&&(n.i(i,"number",jt,"scrollHorizontalLineChange"),i<0&&n.tt(i,">= 0",jt,"scrollHorizontalLineChange"),this.Hx=i,this.t("scrollHorizontalLineChange",t,i))}get scrollVerticalLineChange(){return this.qx}set scrollVerticalLineChange(i){const t=this.qx;t!==i&&(n.i(i,"number",jt,"scrollVerticalLineChange"),i<0&&n.tt(i,">= 0",jt,"scrollVerticalLineChange"),this.qx=i,this.t("scrollVerticalLineChange",t,i))}get lastInput(){return this.Jh}set lastInput(i){this.Jh=i}get previousInput(){return this.Xr}set previousInput(i){this.Xr=i}get firstInput(){return this.Jm}set firstInput(i){this.Jm=i}get currentCursor(){return this.Rx}set currentCursor(i){if(i===""&&(i=this.Km),this.Rx!==i){n.i(i,"string",jt,"currentCursor");const t=this.dt,r=this.Tt;if(t===null||r===null)return;this.Rx=i;const o=t.style.cursor;t.style.cursor=i,r.style.cursor=i,t.style.cursor===o&&(t.style.cursor="-webkit-"+i,r.style.cursor="-webkit-"+i,t.style.cursor===o&&(t.style.cursor="-moz-"+i,r.style.cursor="-moz-"+i,t.style.cursor===o&&(t.style.cursor=i,r.style.cursor=i)))}}get defaultCursor(){return this.Km}set defaultCursor(i){i===""&&(i="auto");const t=this.Km;t!==i&&(n.i(i,"string",jt,"defaultCursor"),this.Km=i,this.t("defaultCursor",t,i))}get click(){return this.Tr}set click(i){const t=this.Tr;t!==i&&(i!==null&&n.i(i,"function",jt,"click"),this.Tr=i,this.t("click",t,i))}get doubleClick(){return this.Dr}set doubleClick(i){const t=this.Dr;t!==i&&(i!==null&&n.i(i,"function",jt,"doubleClick"),this.Dr=i,this.t("doubleClick",t,i))}get contextClick(){return this.Fr}set contextClick(i){const t=this.Fr;t!==i&&(i!==null&&n.i(i,"function",jt,"contextClick"),this.Fr=i,this.t("contextClick",t,i))}get mouseOver(){return this.Rr}set mouseOver(i){const t=this.Rr;t!==i&&(i!==null&&n.i(i,"function",jt,"mouseOver"),this.Rr=i,this.t("mouseOver",t,i))}get mouseHover(){return this.vr}set mouseHover(i){const t=this.vr;t!==i&&(i!==null&&n.i(i,"function",jt,"mouseHover"),this.vr=i,this.t("mouseHover",t,i))}get mouseHold(){return this.Or}set mouseHold(i){const t=this.Or;t!==i&&(i!==null&&n.i(i,"function",jt,"mouseHold"),this.Or=i,this.t("mouseHold",t,i))}get mouseDragOver(){return this.vx}set mouseDragOver(i){const t=this.vx;t!==i&&(i!==null&&n.i(i,"function",jt,"mouseDragOver"),this.vx=i,this.t("mouseDragOver",t,i))}get mouseDrop(){return this.Ir}set mouseDrop(i){const t=this.Ir;t!==i&&(this.Ir=i,this.t("mouseDrop",t,i))}get handlesDragDropForTopLevelParts(){return this.Ox}set handlesDragDropForTopLevelParts(i){const t=this.Ox;t!==i&&(n.i(i,"boolean",jt,"handlesDragDropForTopLevelParts"),this.Ox=i,this.t("handlesDragDropForTopLevelParts",t,i))}get mouseEnter(){return this.Er}set mouseEnter(i){const t=this.Er;t!==i&&(i!==null&&n.i(i,"function",jt,"mouseEnter"),this.Er=i,this.t("mouseEnter",t,i))}get mouseLeave(){return this.Ur}set mouseLeave(i){const t=this.Ur;t!==i&&(i!==null&&n.i(i,"function",jt,"mouseLeave"),this.Ur=i,this.t("mouseLeave",t,i))}get toolTip(){return this.Br}set toolTip(i){const t=this.Br;t!==i&&(this.Br=i,this.t("toolTip",t,i))}get contextMenu(){return this.Vr}set contextMenu(i){const t=this.Vr;t!==i&&(this.Vr=i,this.t("contextMenu",t,i))}get commandHandler(){return this.jM}set commandHandler(i){this.jM!==i&&(this.jM=i,i.To(this))}get toolManager(){return this.KM}set toolManager(i){this.KM!==i&&(this.KM=i,i.diagram=this)}get defaultTool(){return this.YM}set defaultTool(i){const t=this.YM;t!==i&&(this.YM=i,i.diagram=this,this.currentTool===t&&(this.currentTool=i))}get currentTool(){return this.GM}set currentTool(i){const t=this.GM;t&&(t.isActive&&t.doDeactivate(),t.cancelWaitAfter(),t.doStop()),i===null&&(i=this.defaultTool),i!==null&&(this.GM=i,i.diagram=this,i.doStart())}get selection(){return this.QM}get maxSelectionCount(){return this.Zx}set maxSelectionCount(i){const t=this.Zx;if(t!==i)if(n.i(i,"number",jt,"maxSelectionCount"),i>=0&&!isNaN(i)){if(this.Zx=i,this.t("maxSelectionCount",t,i),!this.undoManager.isUndoingRedoing){const r=this.selection.count-i;if(r>0){this.v("ChangingSelection",this.selection);const o=this.selection.toArray();for(let l=0;l<r;l++)o[l].isSelected=!1;this.v("ChangedSelection",this.selection)}}}else n.tt(i,">= 0",jt,"maxSelectionCount")}get nodeSelectionAdornmentTemplate(){return this.Hm}set nodeSelectionAdornmentTemplate(i){const t=this.Hm;t!==i&&(this.Hm=i,this.t("nodeSelectionAdornmentTemplate",t,i))}get groupSelectionAdornmentTemplate(){return this.tb}set groupSelectionAdornmentTemplate(i){const t=this.tb;t!==i&&(this.tb=i,this.t("groupSelectionAdornmentTemplate",t,i))}get linkSelectionAdornmentTemplate(){return this.ib}set linkSelectionAdornmentTemplate(i){const t=this.ib;t!==i&&(this.ib=i,this.t("linkSelectionAdornmentTemplate",t,i))}get highlighteds(){return this._M}get isModified(){const i=this.undoManager;return i.isEnabled?i.currentTransaction!==null?!0:this.Vu&&this.Os!==i.historyIndex:this.Vu}set isModified(i){if(this.Vu!==i){n.i(i,"boolean",jt,"isModified"),this.Vu=i;const t=this.undoManager;!i&&t.isEnabled&&(this.Os=t.historyIndex),i||this.RL()}}RL(){const i=this.isModified;this.$M!==i&&(this.$M=i,this.v("Modified"))}get model(){return this.Si}set model(i){const t=this.Si;if(t!==i){this.currentTool.doCancel(),t&&t.undoManager!==i.undoManager&&t.undoManager.isInTransaction&&n.o("Do not replace a Diagram.model while a transaction is in progress."),this.animationManager.stopAnimation(!0);const r=this.dL(!0);this.Wn=!1,this.Ou=!0,this.Os=-2,this.Pr=!1;const o=this.Ht;this.Ht=!0,this.animationManager.Rl("Model"),t&&(this.Hn!==null&&this.Hn.each(l=>t.removeChangedListener(l)),t.removeChangedListener(this.JM)),this.Si=i,this.partManager=this.cR(this.Si.type),this.initializePartManager(this.partManager);for(let l=0;l<r.length;l++)this.add(r[l]);i.addChangedListener(this.WM),this.partManager.CS(),i.removeChangedListener(this.WM),i.addChangedListener(this.JM),this.Hn!==null&&this.Hn.each(l=>i.addChangedListener(l)),this.Ht=o,this.invalidateDocumentBounds(),this.Ht||this.C(),t&&i.undoManager.copyProperties(t.undoManager)}}get themeManager(){return this.db}set themeManager(i){const t=this.db;t!==i&&(t!==null&&t.removeDiagram(this),this.db=i,i!==null&&i.addDiagram(this))}initializePartManager(i){}static dS(i,t){jt.lL.set(i,t)}static get licenseKey(){return jt.LS.last()}static set licenseKey(i){jt.LS.add(i.replace(/\s/g,""))}static get version(){return jt.fR}cR(i){const t=jt.lL.get(i);return t!==null?new t:new Dn}get G(){return this.qM}set G(i){this.qM=i}get gx(){return this.nL}uR(i){if(i.model!==this.model)return;const t=i.change,r=i.propertyName;if(t===1&&r[0]==="S"){if(r==="StartingFirstTransaction"){const o=this,l=this.toolManager;l.mouseDownTools.each(u=>u.diagram=o),l.mouseMoveTools.each(u=>u.diagram=o),l.mouseUpTools.each(u=>u.diagram=o),this.routers.each(u=>u.diagram=o),!this.ws&&!this.Wn&&(this.Rc=!0,this.Ou&&(this.Pr=!0))}else if(r==="StartingUndo"||r==="StartingRedo"){const o=this.animationManager;this.skipsUndoManager||(o.defaultAnimation.isAnimating&&o.stopAnimation(),o.getBundleAnimation().isAnimating&&o.getBundleAnimation().stop()),this.v("ChangingSelection",this.selection)}else if(r==="StartedTransaction"){const o=this.animationManager;o.defaultAnimation.isAnimating&&!this.skipsUndoManager&&o.stopAnimation()}return}if(this.G){this.G=!1;try{if(i.modelChange===""&&t===1){(r==="FinishedUndo"||r==="FinishedRedo")&&(this.v("ChangedSelection",this.selection),this.Li());const o=this.animationManager;r==="RolledBackTransaction"&&o.stopAnimation(),this.aR(),this.Rc=!0,this.maybeUpdate(),(this.undoManager.transactionLevel===0||this.undoManager.transactionLevel===1)&&o.PM(),r==="CommittedTransaction"&&this.undoManager.isJustDiscarded&&(this.Os=Math.min(this.Os,this.undoManager.historyIndex-1)),(r==="CommittedTransaction"||r==="RolledBackTransaction")&&this.undoManager.Ow&&setTimeout(()=>{this.isModified=!1},1);const l=i.isTransactionFinished;if(l&&(this.RL(),this.gx.clear(),this.animationManager.cF()),!this.Ix&&l&&this.lastInput.targetDiagram){this.Ix=!0;const u=this;n.vh(()=>{u.currentTool.standardMouseOver(),u.Ix=!1},10)}}}finally{this.G=!0}}}get fe(){return this.HM}set fe(i){this.HM=i}get fc(){return this.Ex}set fc(i){this.Ex=i}PL(i){const t=i.T.r;for(const r of t)r instanceof Ii&&this.AS(r)}AS(i){const t=i.element;if(t===null||!(t instanceof HTMLImageElement)||(t.ss instanceof M&&t.ss.add(this),i.dR(),!t.f0))return;const r=t.getAttribute("src")||"",o=this.$l.get(r);if(o===null){Ii.vL(i,t);const l=[];l.push(i),this.$l.set(r,l)}else{for(let l=0;l<o.length;l++)if(o[l]===i)return;o.push(i)}}gR(i){const t=i.T.r,r=t.length;for(let o=0;o<r;o++)this.TS(t[o])}TS(i){if(!(i instanceof Ii))return;const t=i.element;if(t===null||!(t instanceof HTMLImageElement)||!t.f0)return;const r=t.getAttribute("src")||"",o=this.$l.get(r);if(o!==null){for(let l=0;l<o.length;l++)if(o[l]===i){o.splice(l,1),o.length===0&&(this.$l.delete(r),Ii.mR(t),t.ss instanceof M&&t.ss.delete(this),Ii.clearCache(r));return}}}gL(){Ii.clearCache(),this.$l.clear()}rebuildParts(){this.partManager.rebuildParts()}Nc(i,t){this.gs.Nc(i,t)}Sc(i,t){this.gs.Sc(i,t)}findPartForKey(i){return this.partManager.findPartForKey(i)}findNodeForKey(i){return this.partManager.findNodeForKey(i)}findLinkForKey(i){return this.partManager.findLinkForKey(i)}findPartForData(i){return this.partManager.findPartForData(i)}findNodeForData(i){return this.partManager.findNodeForData(i)}findLinkForData(i){return this.partManager.findLinkForData(i)}findNodesByExample(...i){return this.partManager.findNodesByExample(...i)}findLinksByExample(...i){return this.partManager.findLinksByExample(...i)}get nodeTemplate(){return this.zr.get("")}set nodeTemplate(i){const t=this.zr.get("");t!==i&&(this.zr.set("",i),this.t("nodeTemplate",t,i),this.undoManager.isUndoingRedoing||this.rebuildParts())}get nodeTemplateMap(){return this.zr}set nodeTemplateMap(i){const t=this.zr;t!==i&&(this.zr=i,this.t("nodeTemplateMap",t,i),this.undoManager.isUndoingRedoing||this.rebuildParts())}get groupTemplate(){return this.Wh.get("")}set groupTemplate(i){const t=this.Wh.get("");t!==i&&(this.Wh.set("",i),this.t("groupTemplate",t,i),this.undoManager.isUndoingRedoing||this.rebuildParts())}get groupTemplateMap(){return this.Wh}set groupTemplateMap(i){const t=this.Wh;t!==i&&(this.Wh=i,this.t("groupTemplateMap",t,i),this.undoManager.isUndoingRedoing||this.rebuildParts())}get linkTemplate(){return this.Wl.get("")}set linkTemplate(i){const t=this.Wl.get("");t!==i&&(this.Wl.set("",i),this.t("linkTemplate",t,i),this.undoManager.isUndoingRedoing||this.rebuildParts())}get linkTemplateMap(){return this.Wl}set linkTemplateMap(i){const t=this.Wl;t!==i&&(this.Wl=i,this.t("linkTemplateMap",t,i),this.undoManager.isUndoingRedoing||this.rebuildParts())}get isMouseCaptured(){return this.ZM}set isMouseCaptured(i){const t=this.dt;if(t===null)return;const r=t.Ft;r instanceof SVGElement||(i?(this.lastInput.bubbles=!1,this.Ni(r,"pointermove",this.ta,!1),this.Ni(r,"pointerdown",this.Ql,!1),this.Ni(r,"pointerup",this.ia,!1),this.Ni(r,"pointerout",this.ea,!1),this.Ni(r,"pointercancel",this.sa,!1),this.Vt(e,"pointermove",this.ta,!0),this.Vt(e,"pointerdown",this.Ql,!0),this.Vt(e,"pointerup",this.ia,!0),this.Vt(e,"pointerout",this.ea,!0),this.Vt(e,"pointercancel",this.sa,!0),this.Ni(r,"wheel",this._h,!1),this.Vt(e,"wheel",this._h,!0),this.Vt(e,"selectstart",this.Kh,!1)):(this.Ni(e,"pointermove",this.ta,!0),this.Ni(e,"pointerdown",this.Ql,!0),this.Ni(e,"pointerup",this.ia,!0),this.Ni(e,"pointerout",this.ea,!0),this.Ni(e,"pointercancel",this.sa,!0),this.Vt(r,"pointermove",this.ta,!1),this.Vt(r,"pointerdown",this.Ql,!1),this.Vt(r,"pointerup",this.ia,!1),this.Vt(r,"pointerout",this.ea,!1),this.Vt(r,"pointercancel",this.sa,!1),this.Ni(e,"wheel",this._h,!0),this.Ni(e,"selectstart",this.Kh,!1),this.Vt(r,"wheel",this._h,!1)),this.ZM=i)}get position(){return this.st}set position(i){if(this.st.equals(i))return;const t=C.l().a(this.st),r=this.viewportBounds.copy();if(this.st.a(i),this.animationManager.$C(t,this.st),!this.Ht&&!(this.dt===null&&!this.Bu.isReal())){this.Ht=!0;const o=this.scale,l=this.kt/o,u=this.Pt/o;this.yS(this.jm,l,u,this.Dc,!1),this.Ht=!1}else this.Gr();if(!this.Ht){const o=this.viewportBounds;this.onViewportBoundsChanged(r,o,this.K,!1)}C.s(t)}get initialPosition(){return this.wx}set initialPosition(i){this.wx.equals(i)||(this.wx=i.N())}get initialScale(){return this.xx}set initialScale(i){this.xx!==i&&(n.i(i,"number",jt,"initialScale"),this.xx=i)}get grid(){return this.is===null&&(this.is=this.pL()),this.is}set grid(i){let t=this.is;if(t!==i){t===null&&(this.is=this.pL(),t=this.is),i.type!==re.Grid&&n.o("Diagram.grid must be a Panel of type Panel.Grid");const r=t.panel;r!==null&&r.remove(t),this.is=i,i.name="GRID",r!==null&&r.add(i),this.Hr(),this.C(),this.t("grid",t,i)}}get viewportBounds(){return this.Qx}Gr(){const i=this.Qx,t=this.st,r=this.K;i.e(t.x,t.y,Math.max(this.kt,0)/r,Math.max(this.Pt,0)/r),this._l()}get viewSize(){return this.Bu}set viewSize(i){const t=this.viewSize;if(!t.equals(i)){i=i.N(),this.Bu=i;let r=0,o=0;i.isReal()?(r=i.width,o=i.height):this.Tt!==null&&(r=this.Tt.clientWidth||1,o=this.Tt.clientHeight||1),this.kt=r,this.Pt=o,this.Gr(),this.invalidateDocumentBounds(),this.t("viewSize",t,i),this.C()}}get fixedBounds(){return this.Mx}set fixedBounds(i){const t=this.Mx;t.equals(i)||((i.width===-1/0||i.height===1/0||i.height===-1/0)&&n.o("fixedBounds width/height must not be Infinity"),i=i.N(),this.Mx=i,this.invalidateDocumentBounds(),this.t("fixedBounds",t,i))}get scrollMargin(){return this.Tc}set scrollMargin(i){typeof i=="number"&&(i=new Y(i));const t=this.Tc;t.equals(i)||(i=i.N(),this.Tc=i,this.t("scrollMargin",t,i),this.wu())}get scrollMode(){return this.Gh}set scrollMode(i){const t=this.Gh;t!==i&&(this.Gh=i,i===1&&this.Bs(!1),this.t("scrollMode",t,i),this.oa(),this.C())}get scrollsPageOnFocus(){return this.Sx}set scrollsPageOnFocus(i){const t=this.Sx;t!==i&&(n.i(i,"boolean",jt,"scrollsPageOnFocus"),this.Sx=i,this.t("scrollsPageOnFocus",t,i))}get positionComputation(){return this.Nx}set positionComputation(i){const t=this.Nx;t!==i&&(i!==null&&n.i(i,"function",jt,"positionComputation"),this.Nx=i,this.Bs(!1),this.t("positionComputation",t,i))}get scaleComputation(){return this.Cx}set scaleComputation(i){const t=this.Cx;t!==i&&(i!==null&&n.i(i,"function",jt,"scaleComputation"),this.Cx=i,this.FL(this.scale,this.scale),this.t("scaleComputation",t,i))}get documentBounds(){return this.jm}OL(i){this.$h=!1;let t=this.jm;t.equals(i)||(t=t.copy(),this.jm.a(i),this.Bs(!1),this.v("DocumentBoundsChanged",void 0,t),this.oa(),this.C())}ensureBounds(){if(this.$h){const i=F.l();this.OL(this.computeBounds(i)),F.s(i)}}get isVirtualized(){return this._x}set isVirtualized(i){const t=this._x;t!==i&&(n.i(i,"boolean",jt,"isVirtualized"),this._x=i,this.t("isVirtualized",t,i))}get scale(){return this.K}set scale(i){const t=this.K;t!==i&&this.FL(t,i)}get defaultScale(){return this.$m}set defaultScale(i){this.$m=i}get autoScale(){return this.Hl}set autoScale(i){const t=this.Hl;t!==i&&(this.Hl=i,this.t("autoScale",t,i),i!==1&&this.Bs(!1))}get initialAutoScale(){return this.Cr}set initialAutoScale(i){const t=this.Cr;t!==i&&(this.Cr=i,this.t("initialAutoScale",t,i))}get initialViewportSpot(){return this.Ax}set initialViewportSpot(i){const t=this.Ax;t!==i&&(i.isSpot()||n.o("initialViewportSpot must be a specific Spot: "+i),this.Ax=i,this.t("initialViewportSpot",t,i))}get initialDocumentSpot(){return this.Lx}set initialDocumentSpot(i){const t=this.Lx;t!==i&&(i.isSpot()||n.o("initialViewportSpot must be a specific Spot: "+i),this.Lx=i,this.t("initialDocumentSpot",t,i))}get minScale(){return this.bx}set minScale(i){const t=this.bx;t!==i&&(i>0?(this.bx=i,this.t("minScale",t,i),i>this.scale&&(this.scale=i)):n.tt(i,"> 0",jt,"minScale"))}get maxScale(){return this.kx}set maxScale(i){const t=this.kx;t!==i&&(i>0?(this.kx=i,this.t("maxScale",t,i),i<this.scale&&(this.scale=i)):n.tt(i,"> 0",jt,"maxScale"))}get zoomPoint(){return this.Px}set zoomPoint(i){this.Px.equals(i)||(i=i.N(),this.Px=i)}get contentAlignment(){return this.Dc}set contentAlignment(i){const t=this.Dc;t.equals(i)||(i=i.N(),this.Dc=i,this.t("contentAlignment",t,i),this.Bs(!1))}get initialContentAlignment(){return this.Vm}set initialContentAlignment(i){const t=this.Vm;t.equals(i)||(i=i.N(),this.Vm=i,this.t("initialContentAlignment",t,i))}get padding(){return this.Zt}set padding(i){typeof i=="number"&&(i=new Y(i));const t=this.Zt;t.equals(i)||(i=i.N(),this.Zt=i,this.invalidateDocumentBounds(),this.t("padding",t,i))}get partManager(){return this.nS}set partManager(i){const t=this.nS;t!==i&&(i.diagram!==null&&n.o("Cannot share PartManagers between Diagrams: "+i.toString()),t&&t.To(null),this.nS=i,i.To(this))}get nodes(){return this.partManager.nodes.iterator}get links(){return this.partManager.links.iterator}get parts(){return this.partManager.parts.iterator}findTopLevelNodesAndLinks(){const i=new M,t=this.nodes;for(;t.next();){const o=t.value;o.isTopLevel&&i.add(o)}const r=this.links;for(;r.next();){const o=r.value;o.isTopLevel&&i.add(o)}return i.iterator}findTopLevelGroups(){return this.Yr.iterator}get routers(){return this.Bc}doLinkRouting(i){this.Fo=!0;const t=this.Bc.r;for(let r=0;r<t.length;r++)t[r].canRoute(i)&&t[r].routeLinks(this.Lr,i);this.Fo=!1}get layout(){return this.ie}set layout(i){const t=this.ie;t!==i&&(this.ie=i,i.diagram=this,i.group=null,this.Kr=!0,this.t("layout",t,i),this.requestUpdate())}layoutDiagram(i){this.Li(),i&&this.wb(!0),this.ws?this.bS(!1,this.kl||this.Bc.count!==0&&this.jn.size!==0):(this.Rc=!0,this.yr())}wb(i){const t=this.Yr.iterator;for(;t.next();)this.IL(t.value,i);this.layout&&(i?this.layout.isValidLayout=!1:this.layout.invalidateLayout())}IL(i,t){if(i===null)return;const r=i.ra.iterator;for(;r.next();){const o=r.value;this.IL(o,t)}i.layout!==null&&(t?i.layout.isValidLayout=!1:i.layout.invalidateLayout())}bS(i,t){if(this.Ux)return;const r=this.G;this.G=!0;const o="Layout",l=this.undoManager.transactionLevel,u=this.layout,c=this.animationManager;try{l===0&&(this.undoManager.bl=!0,this.startTransaction(o)),l<=1&&!c.defaultAnimation.isAnimating&&!c.xi&&(i||c.Rl(o)),this.Kr=!1;let f=this.Yr.iterator;for(;f.next();)this.EL(f.value,i,l,t);let g=!1;if(u.isValidLayout||(!i||u.isRealtime||u.isRealtime===null||l===0?(u.doLayout(this),this.l0(this),g=!0,u.isValidLayout=!0):this.Kr=!0),g||this.l0(this),this.doLinkRouting(this),this.Lr.clear(),this.qh.size!==0){for(let y=0;y<23&&this.qh.size!==0;y++){for(f=this.Yr.iterator;f.next();)this.UL(f.value);const b=this.Lr;this.Lr=this.qh,this.qh=b,this.l0(this),this.doLinkRouting(this)}this.Lr.clear(),this.qh.clear()}}finally{const f=this.undoManager.bl;l===0&&(this.commitTransaction(o),this.undoManager.bl=!1),f&&(l===0||l===1)&&c.PM(),this.Kr&&(this.Kr=!u.isValidLayout),this.G=r}}EL(i,t,r,o){const l=i.ra.iterator;for(;l.next();)this.EL(l.value,t,r,o);const u=i.layout;u!==null&&!u.isValidLayout?!t||u.isRealtime||r===0?(i.$r=!i.location.isReal(),u.doLayout(i),i.invalidateLayout(32),this.mb(i),this.l0(i),this.doLinkRouting(i),u.isValidLayout=!0):(this.doLinkRouting(i),this.Kr=!0):o&&this.doLinkRouting(i)}UL(i){const t=i.ra.iterator;for(;t.next();)this.UL(t.value);this.l0(i),this.doLinkRouting(i)}get isTreePathToChildren(){return this.Tx}set isTreePathToChildren(i){const t=this.Tx;if(t!==i&&(n.i(i,"boolean",jt,"isTreePathToChildren"),this.Tx=i,this.t("isTreePathToChildren",t,i),!this.undoManager.isUndoingRedoing)){const r=this.nodes;for(;r.next();)r.value.u0()}}findTreeRoots(){const i=new x,t=this.nodes;for(;t.next();){const r=t.value;r.isTopLevel&&r.findTreeParentLink()===null&&i.add(r)}return i.iterator}get treeCollapsePolicy(){return this.Dx}set treeCollapsePolicy(i){const t=this.Dx;t!==i&&(i!==1&&i!==2&&i!==3&&n.o("Unknown Diagram.treeCollapsePolicy: "+i),this.Dx=i,this.t("treeCollapsePolicy",t,i))}get isCollapsingExpanding(){return this.XM}set isCollapsingExpanding(i){this.XM=i}EF(){const i=new V,t=new V;function r(o){const l=o.toLowerCase(),u=new x;i.set(o,u),i.set(l,u),t.set(o,o),t.set(l,o)}r("InitialAnimationStarting"),r("AnimationStarting"),r("AnimationFinished"),r("BackgroundSingleClicked"),r("BackgroundDoubleClicked"),r("BackgroundContextClicked"),r("ClipboardChanged"),r("ClipboardPasted"),r("DocumentBoundsChanged"),r("ExternalObjectsDropped"),r("GainedFocus"),r("InitialLayoutCompleted"),r("LayoutCompleted"),r("LinkDrawn"),r("LinkRelinked"),r("LinkReshaped"),r("LostFocus"),r("Modified"),r("ObjectSingleClicked"),r("ObjectDoubleClicked"),r("ObjectContextClicked"),r("PartCreated"),r("PartResized"),r("PartRotated"),r("SelectionMoved"),r("SelectionCopied"),r("SelectionDeleting"),r("SelectionDeleted"),r("SelectionGrouped"),r("SelectionUngrouped"),r("ChangingSelection"),r("ChangedSelection"),r("SubGraphCollapsed"),r("SubGraphExpanded"),r("TextEdited"),r("ThemeChanged"),r("TreeCollapsed"),r("TreeExpanded"),r("ViewportBoundsChanged"),r("InvalidateDraw"),this.VM=i,this.zM=t}kL(i){const t=this.zM.get(i);return t!==null?t:this.zM.get(i.toLowerCase())}DS(i){let t=this.VM.get(i);if(t!==null)return t;const r=i.toLowerCase();if(t=this.VM.get(r),t!==null)return t;n.o("Unknown DiagramEvent name: "+i)}addDiagramListener(i,t){n.i(i,"string",jt,"addDiagramListener:name"),n.i(t,"function",jt,"addDiagramListener:listener");const r=this.DS(i);return r!==null&&r.add(t),this}removeDiagramListener(i,t){n.i(i,"string",jt,"removeDiagramListener:name"),n.i(t,"function",jt,"addDiagramListener:listener");const r=this.DS(i);r!==null&&r.delete(t)}raiseDiagramEvent(i,t,r){this.v(i,t,r)}v(i,t,r){const o=this.DS(i),l=new Ct;l.diagram=this;const u=this.kL(i);u!==null&&(l.name=u),t!==void 0&&(l.subject=t),r!==void 0&&(l.parameter=r);const c=o.length;if(c===1)o.elt(0)(l);else if(c!==0){const f=o.toArray();for(let g=0;g<c;g++){const y=f[g];y(l)}}}isUnoccupied(i,t){return this.getPositions(!1,null,t||null).isUnoccupied(i.x,i.y,i.width,i.height)}computeOccupiedArea(i){return this.isVirtualized?this.viewportBounds.copy():this.$h?this.wL(i):i.a(this.documentBounds)}getPositions(i,t,r){let o=this.ql;o===null&&(this.ql=o=new Fr(this.avoidanceCellSize));let l=t;if(o.Eo||o.la!==l||o.FS!==r){if(o.RS=Math.max(o.Kc+1,Math.floor(this.avoidanceLimit/this.avoidanceCellSize.width)),o.vS=Math.max(o.Kc+1,Math.floor(this.avoidanceLimit/this.avoidanceCellSize.height)),l!==null&&(l=this.BL(l)),l===null){const u=F.l();this.computeOccupiedArea(u),u.inflate(100,100),o.xb(u);const c=this.nodes;for(;c.next();){const f=c.value,g=f.layer;g===null||!g.visible||g.isTemporary||this.OS(f,r,u)}F.s(u)}else{if(l.memberParts.count>0){const f=this.computePartsBounds(l.memberParts,!1);f.inflate(20,20),o.xb(f)}const u=F.l(),c=l.memberParts;for(;c.next();){const f=c.value;f instanceof Jt&&this.OS(f,r,u)}F.s(u)}o.la=l,o.FS=r,o.Eo=!1}else i&&o.VL();return o}get avoidanceCellSize(){return this.tS}set avoidanceCellSize(i){this.ql=null,this.tS=new z(Math.max(1,i.width),Math.max(1,i.height))}get avoidanceLimit(){return this.iS}set avoidanceLimit(i){this.iS=Math.max(1,i)}BL(i){return i.canAvoid()?i:i.containingGroup!==null?this.BL(i.containingGroup):null}OS(i,t,r){if(i===t||!i.isVisible())return;const o=i.canAvoid();if(o){const l=i.getAvoidableRect(r);this.ql.pR(l.x,l.y,l.width,l.height)}if(i instanceof Ut&&(!o||i.avoidableMembers)){const l=i.memberParts;for(;l.next();){const u=l.value;u instanceof Jt&&this.OS(u,t,r)}}}IS(i){this.ql!==null&&!this.ql.Eo&&(i===void 0||i.canAvoid())&&(this.ql.Eo=!0)}get autoScrollInterval(){return this.zm}set autoScrollInterval(i){const t=this.zm;t!==i&&(this.zm=i,this.t("autoScrollInterval",t,i))}get autoScrollRegion(){return this.Xm}set autoScrollRegion(i){typeof i=="number"&&(i=new Y(i));const t=this.Xm;t.equals(i)||(i=i.N(),this.Xm=i,this.invalidateDocumentBounds(),this.t("autoScrollRegion",t,i))}doAutoScroll(i){this.Wm.a(i),this.computeAutoScrollPosition(this.Wm).equalsApprox(this.position)?this.stopAutoScroll():this.zL()}zL(){if(this.Fc!==-1)return;const i=this.zm,t=this;this.Fc=n.vh(()=>{if(t.Fc===-1||(t.stopAutoScroll(),t.lastInput.event===null))return;const r=t.computeAutoScrollPosition(t.Wm);if(r.equalsApprox(t.position))return;t.position=r,t.lastInput.documentPoint=t.transformViewToDoc(t.Wm),t.doMouseMove(),t.$h=!0;const o=F.l();t.computeBounds(o),o.unionRect(t.documentBounds),t.OL(o),F.s(o),t.Ve=!0,t.maybeUpdate(),t.zL()},i)}stopAutoScroll(){this.Fc!==-1&&(n.Ig(this.Fc),this.Fc=-1)}computeAutoScrollPosition(i){let t=this.position;const r=this.Xm;if(r.top<=0&&r.left<=0&&r.right<=0&&r.bottom<=0)return t;const o=this.viewportBounds,l=this.scale,u=F.X(0,0,o.width*l,o.height*l),c=C.X(0,0);if(i.x>=u.x&&i.x<u.x+r.left&&this.allowHorizontalScroll){let f=Math.max(this.scrollHorizontalLineChange,1);f=f|0,c.x-=f,i.x<u.x+r.left/2&&(c.x-=f),i.x<u.x+r.left/4&&(c.x-=4*f)}else if(i.x<=u.x+u.width&&i.x>u.x+u.width-r.right&&this.allowHorizontalScroll){let f=Math.max(this.scrollHorizontalLineChange,1);f=f|0,c.x+=f,i.x>u.x+u.width-r.right/2&&(c.x+=f),i.x>u.x+u.width-r.right/4&&(c.x+=4*f)}if(i.y>=u.y&&i.y<u.y+r.top&&this.allowVerticalScroll){let f=Math.max(this.scrollVerticalLineChange,1);f=f|0,c.y-=f,i.y<u.y+r.top/2&&(c.y-=f),i.y<u.y+r.top/4&&(c.y-=4*f)}else if(i.y<=u.y+u.height&&i.y>u.y+u.height-r.bottom&&this.allowVerticalScroll){let f=Math.max(this.scrollVerticalLineChange,1);f=f|0,c.y+=f,i.y>u.y+u.height-r.bottom/2&&(c.y+=f),i.y>u.y+u.height-r.bottom/4&&(c.y+=4*f)}return c.equalsApprox(C.ko)||(t=new C(t.x+c.x/l,t.y+c.y/l)),F.s(u),C.s(c),t}makeSvg(i){this.Jl.has("SVG")||this.addRenderer("SVG",new ma(this,e.document));const t=new ma(this,e.document,!0);i===void 0&&(i={});const r=this;function o(l,u){const c=r.XL(l,"SVG",t),f=c!==null?c.svg:null;return typeof u=="function"?(u(f),null):f}return this.KL(o,i)}makeSVG(i){return this.makeSvg(i)}addRenderer(i,t){this.Jl.set(i,t)}removeRenderer(i){this.Jl.delete(i)}cacheGroupExternalLinks(i){this.uS=i,i||this.nodes.each(t=>{t instanceof Ut&&(t.d0=null)})}KL(i,t){const r=t.callback;let o=!0;const l=this.$l.iterator;for(;l.next();)if(!l.value[0].mn){o=!1;break}if(typeof r!="function"||o)return i(t,r,this);const u=this;function c(){const y=+new Date;for(o=!0,l.reset();l.next();)if(!l.value[0].mn){o=!1;break}if(o||y-g>f){i(t,r,u);return}e.requestAnimationFrame(c)}const f=t.callbackTimeout||300,g=+new Date;return e.requestAnimationFrame(()=>c()),null}makeImage(i){return jt.isUsingDOM()?(i===void 0&&(i={}),i.returnType="Image",this.makeImageData(i)):null}makeImageData(i){return i===void 0&&(i={}),this.KL(this.yR,i)}yR(i,t,r){const o=r.XL(i,"canvas",null);if(o===null)return null;const l=o.B.canvas;let u=null;if(l!==null){let c=i.returnType;switch(c===void 0?c="string":c=c.toLowerCase(),c){case jt.img+"data":u=o.getImageData(0,0,l.width,l.height);break;case jt.img:const f=(i.document||document).createElement("img");f.src=l.toDataURL(i.type,i.details),u=f;break;case"blob":{const g=l;return typeof t!="function"&&(u="",n.o('Error: Diagram.makeImageData called with "returnType: toBlob", but no required "callback" function property defined.')),typeof g.toBlob=="function"?(g.toBlob(t,i.type,i.details),"toBlob"):(t(null),null)}case"string":default:u=l.toDataURL(i.type,i.details)}}return typeof t=="function"?(t(u),null):u}XL(i,t,r){if(this.animationManager.stopAnimation(),this.maybeUpdate(),this.dt===null)return null;typeof i!="object"&&n.o("properties argument must be an Object.");let o=!1,l=i.size||null,u=i.scale||null;i.scale!==void 0&&isNaN(i.scale)&&(u="NaN");let c=i.maxSize;i.maxSize===void 0&&(o=!0,t==="SVG"?c=new z(1/0,1/0):c=new z(2e3,2e3));const f=i.position||null;let g=i.parts||null;Array.isArray(g)&&(g=new x(g));let y=i.padding===void 0?1:i.padding;const b=i.background||null;let w=i.omitTemporary;w===void 0&&(w=!0);const P=i.document||document,E=i.elementFinished||null;let N=i.showTemporary;N===void 0&&(N=!w);let _=i.showGrid;_===void 0&&(_=N),l!==null&&isNaN(l.width)&&isNaN(l.height)&&(l=null),typeof y=="number"?y=new Y(y):y instanceof Y||n.o("MakeImage padding must be a Margin or a number."),y.left=Math.max(y.left,0),y.right=Math.max(y.right,0),y.top=Math.max(y.top,0),y.bottom=Math.max(y.bottom,0),this.ni.clearContextCache(!0);const R=new vi(null,P,void 0,!0),$=R.ci;if(!(l||u||g||f))return R.width=this.kt+Math.ceil(y.left+y.right),R.height=this.Pt+Math.ceil(y.top+y.bottom),t==="SVG"?r===null?null:(r.resize(R.width,R.height,R.width,R.height),r.ha=P,r.ju=E,this.pb(r.ci,y,new z(R.width,R.height),this.K,this.st,g,b,N,_),r.ci):(this.zu=!1,this.pb($,y,new z(R.width,R.height),this.K,this.st,g,b,N,_),this.zu=!0,R.ci);const q=this.$m,X=this.documentBounds.copy();if(X.subtractMargin(this.Zt),N){const ct=this.Gt.r,ut=ct.length;for(let pt=0;pt<ut;pt++){const Tt=ct[pt];if(!Tt.visible||!Tt.isTemporary)continue;const Et=Tt.At.r,m=Et.length;for(let k=0;k<m;k++){const D=Et[k];if(!D.isInDocumentBounds||!D.isVisible())continue;const G=D.actualBounds;G.isReal()&&X.unionRect(G)}}}let H=new C(X.x,X.y);if(g!==null){const ct=new F(0,0,0,0);let ut=!0;const pt=g.iterator;for(pt.reset();pt.next();){const Tt=pt.value;if(!(Tt instanceof Le))continue;const Et=Tt.layer;if(Et!==null&&!Et.visible||Et!==null&&!N&&Et.isTemporary||!Tt.isVisible())continue;const m=Tt.actualBounds;m.isReal()&&(ut?(ut=!1,ct.a(m)):ct.unionRect(m))}X.width=ct.width,X.height=ct.height,H.x=ct.x,H.y=ct.y}f!==null&&f.isReal()&&(H=f,u||(u=q));let tt=0,Q=0;y!==null&&(tt=y.left+y.right,Q=y.top+y.bottom);let nt=0,ht=0;l!==null&&(nt=l.width,ht=l.height,isFinite(nt)&&(nt=Math.max(0,nt-tt)),isFinite(ht)&&(ht=Math.max(0,ht-Q)));let it=0,st=0;if(l!==null&&u!==null?(u==="NaN"&&(u=q),l.isReal()?(it=nt,st=ht):isNaN(ht)?(it=nt,st=X.height*u):(it=X.width*u,st=ht)):l!==null?l.isReal()?(u=Math.min(nt/X.width,ht/X.height),it=nt,st=ht):isNaN(ht)?(u=nt/X.width,it=nt,st=X.height*u):(u=ht/X.height,it=X.width*u,st=ht):u!==null?u==="NaN"&&c.isReal()?(u=Math.min((c.width-tt)/X.width,(c.height-Q)/X.height),u>q?(u=q,it=X.width,st=X.height):(it=c.width,st=c.height)):(it=X.width*u,st=X.height*u):(u=q,it=X.width,st=X.height),y!==null?(it+=tt,st+=Q):y=new Y(0),c!==null){let ct=c.width,ut=c.height;t!=="SVG"&&o&&jt.wR,isNaN(ct)&&(ct=2e3),isNaN(ut)&&(ut=2e3),isFinite(ct)&&(it=Math.min(it,ct)),isFinite(ut)&&(st=Math.min(st,ut))}return R.width=Math.ceil(it),R.height=Math.ceil(st),t==="SVG"?r===null?null:(r.resize(R.width,R.height,R.width,R.height),r.ha=P,r.ju=E,this.pb(r.ci,y,new z(Math.ceil(it),Math.ceil(st)),u,H,g,b,N,_),r.ci):(this.zu=!1,this.pb($,y,new z(Math.ceil(it),Math.ceil(st)),u,H,g,b,N,_),this.zu=!0,R.ci)}};T(jt,"lb",null),T(jt,"lL",new V),T(jt,"aS"),T(jt,"cS",null),T(jt,"fL",e.document!==void 0),T(jt,"ze",new WeakMap),T(jt,"s0",null),T(jt,"gb",""),T(jt,"None",1),T(jt,"Uniform",2),T(jt,"UniformToFill",3),T(jt,"CycleAll",1),T(jt,"CycleNotDirected",2),T(jt,"CycleNotDirectedFast",3),T(jt,"CycleNotUndirected",4),T(jt,"CycleDestinationTree",5),T(jt,"CycleSourceTree",6),T(jt,"DocumentScroll",1),T(jt,"InfiniteScroll",2),T(jt,"TreeParentCollapsed",1),T(jt,"AllParentsCollapsed",2),T(jt,"AnyParentsCollapsed",3),T(jt,"LS",new x),T(jt,"fR","3.0.10"),T(jt,"img","image"),T(jt,"wR",!1),T(jt,"Yu",null),T(jt,"YL","5da73c80a36555d4038e4972187c3cae51fd22"),T(jt,"uw",!1),T(jt,"Ok",()=>{if(jt.YL[5]===void 0&&(J.prototype.ts=J.prototype.yw),!jt.isUsingDOM())return;const i=e.document.createElement("canvas"),t=i.getContext("2d"),r=n.As("7ca11abfd022028846");t[r]=n.As("398c3597c01238");const o="7ca11abfd7330390",l=[jt.YL,n.uw+"4ae6247590da4bb21c324ba3a84e385776",J.Ok+"fb236cdfda5de14c134ba1a95a2d4c7cc6f93c1387",K.za],u=10,c=0;for(let f=1;f<5;f++)t[n.As(o)](n.As(l[f-1]),u,f*15+c);t[r]=n.As("39f046ebb36e4b");for(let f=1;f<5;f++)t[n.As(o)](n.As(l[f-1]),u,f*15+c);(l.length!==4||l[0][0]!=="5"||l[3][0]!=="7")&&(J.prototype.ts=J.prototype.yw),jt.Yu=i});let xe=jt;class Rr{constructor(i){T(this,"GL");T(this,"jL");T(this,"ES");T(this,"Ce");if(this.GL=null,this.jL="63ad05bbe23a1786468a4c741b6d2",this.ES="@onz",this.jL===this._tk){this.ES=!0,this.Ce=this.ES;return}this.Ce=null}xR(i,t){let r="f";const o=e[n.As("76a715b2f73f148a")][n.As("72ba13b5")]||"",l=n.As;if(this.Ce=!0,!xe.isUsingDOM())return;let u=xe[l("76a115b6ed251eaf4692")];if(!u){const f=o[l("76ad18b4f73e")];for(let y=o[l("73a612b6fb191d")](l("35e7"))+2;y<f;y++)r+=o[y];const g=r[l("73a612b6fb191d")](l("7da71ca0ad381e90"));this.Ce=!(g>=0&&g<r[l("73a612b6fb191d")](l("35")));return}const c=xe.LS.iterator;for(;c.next();){u=c.value;const f=l(u).split(l("39e9"));if(f.length<6)return;const g=l(f[1]).split(".");if(f[4]!=="7da71ca0")return;const y=l(n[l("6cae19")]).split(".");if(!(g[0]>y[0]||g[0]===y[0]&&g[1]>=y[1]))continue;const b="73a612b6fb191d",w=e[l("74a900bae4370f8b51")][l("6fbb13a1c2311e8a57")].toLowerCase(),P=w[l(b)](l("3aad1ab6e022098b4dc4")),E=l(f[2]);if(P>-1){const it=w[l(b)](E.toLowerCase()+"/");if(this.Ce=!(it>-1&&it<P),!this.Ce)return}const N=o[l("76ad18b4f73e")];for(let it=o[l(b)](l("35e7"))+2;it<N;it++)r+=o[it];let _=r[l(b)](E);if(_<0&&E!==l("7da71ca0ad381e90")&&(_=r[l(b)](l("76a715b2ef3e149757"))),_<0&&(_=r[l(b)](l("76a715b2ef3e149757"))),_<0&&(_=r[l(b)](l("2bfa41fdb3784bca12"))),_<0&&(_=o[l(b)](l("7baa19a6f76c1988428554"))),this.Ce=!(_>=0&&_<r[l(b)](l("35"))||r[l(b)](l("35"))===-1),!this.Ce||o[l(b)](l("7fb002b6ed25128b4da25b2e"))&&(this.Ce=!(o[l(b)](E)>-1),!this.Ce))return;const R=e[n.As("76a715b2f73f148a")][n.As("69ad17a1e03e")],$=R[l(b)](l("7fb002b6ed25128b4da25b2e"));if($>-1&&(this.Ce=!(R[l(b)](E)>$),!this.Ce))return;const q=E;if(q[0]!=="#")continue;const X=e.document.createElement("div");let H=f[0].replace(/[A-Za-z]/g,"");for(;H.length<4;)H+="9";const tt=H;H=H.substring(H.length-4);let Q="";const nt=["gsh","gsf"],ht=["Header","Background","Display","Feedback"];if(Q+=nt[parseInt(H.substring(0,1),10)%2],Q+=ht[parseInt(H.substring(0,1),10)%4],X[l("79a417a0f0181a8946")]=Q,e.document[l("78a712aa")]){e.document[l("78a712aa")][l("7bb806b6ed32388c4a875b")](X);const it=e.getComputedStyle(X).getPropertyValue(l("78a704b7e62456904c9b12701b6532a8")),st=e.getComputedStyle(X).getPropertyValue(l("75b817b0ea2202"));if(e.document[l("78a712aa")][l("68ad1bbcf533388c4a875b")](X),!it)continue;const ct=e[l("77a902b0eb1b1e804a8a")],ut="0."+parseInt(tt,10)%100;if(st===ut||it.indexOf(parseInt(q[1]+q[2],16))!==-1&&it.indexOf(parseInt(q[3]+q[4],16))!==-1){this.Ce=!1;return}else if(ct&&ct(l("32ae19a1e0331fc94084537c067a67fa59f1386b89d006")).matches){Q="."+Q;for(let pt=0;pt<document.styleSheets.length;pt++){const Tt=document.styleSheets[pt].rules||document.styleSheets[pt].cssRules;for(const Et in Tt)if(Q===Tt[Et].selectorText){this.Ce=!1;return}}}}else this.Ce=null,t&&(this.Ce=!1)}}Yu(i){return i.ni.setTransform(i.Bi,0,0,i.Bi,0,0),i.ni.commitTransform(),this.Ce===null&&this.xR(i,!0),0<this.Ce&&this!==this.GL}}class Oe{constructor(i){T(this,"US");T(this,"BS");this.US=i===void 0?new C:i,this.BS=new C}get point(){return this.US}set point(i){this.US=i}get shifted(){return this.BS}set shifted(i){this.BS=i}}class He{constructor(i,t,r){T(this,"de");T(this,"CL");T(this,"yb");this.de=i,this.CL=t,this.yb=r}}class Xe{constructor(i){T(this,"isGridSnapEnabled");T(this,"isGridSnapRealtime");T(this,"gridSnapCellSize");T(this,"gridSnapCellSpot");T(this,"gridSnapOrigin");T(this,"dragsLink");T(this,"dragsTree");T(this,"groupsSnapMembers");T(this,"groupsAlwaysMove");T(this,"dragsMembers");this.Jt(),i&&Object.assign(this,i)}Jt(){this.isGridSnapEnabled=!1,this.isGridSnapRealtime=!0,this.gridSnapCellSize=new z(NaN,NaN).g(),this.gridSnapCellSpot=U.TopLeft,this.gridSnapOrigin=new C(NaN,NaN).g(),this.dragsLink=!1,this.dragsTree=!1,this.groupsSnapMembers=!1,this.groupsAlwaysMove=!0,this.dragsMembers=!0}}class Oi extends xe{constructor(i,t){let r;return i===void 0||typeof i=="string"||e.Element&&i instanceof Element?r=i:typeof i=="object"&&(t=i),super(r),this.HL(),t&&this.setProperties(t),this}HL(){this.allowDragOut=!0,this.allowMove=!1,this.isReadOnly=!0,this.contentAlignment=U.TopCenter,this.layout=new js}setupRouters(){}reset(){super.reset(),this.HL()}}class yi extends xe{constructor(t,r){let o;t===void 0||typeof t=="string"||e.Element&&t instanceof Element?o=t:typeof t=="object"&&(r=t);super(o);T(this,"bb");T(this,"kb");T(this,"Pb");T(this,"Mb");T(this,"g0");T(this,"Yc");T(this,"Tl");T(this,"VS");T(this,"zS");T(this,"Sb");T(this,"XS");return this.animationManager.isEnabled=!1,this.Ht=!0,this.bb=null,this.Iu=!1,this.Eu=!1,this.kb=!0,this.Pb=!0,this.Mb=0,this.g0=!1,this.Yc=null,this.setRenderingHint("drawShadows",!1),this.Tl=new Le({selectable:!0,selectionAdorned:!1,selectionObjectName:"BOXSHAPE",locationObjectName:"BOXSHAPE",resizeObjectName:"BOXSHAPE",cursor:"move"}).add(new fe({name:"BOXSHAPE",fill:"transparent",stroke:"magenta",strokeWidth:2}).theme("stroke","overviewBox")).hi(),this.allowCopy=!1,this.allowDelete=!1,this.allowDrop=!1,this.allowSelect=!0,this.autoScrollRegion=new Y(0,0,0,0),this.st.e(0,0),this.toolManager.$t("Dragging",new Ir,this.toolManager.mouseMoveTools),this.click=()=>{const l=this.observed;if(l===null)return;const u=l.viewportBounds,c=this.lastInput.documentPoint;l.position=new C(c.x-u.width/2,c.y-u.height/2)},this.VS=l=>{this.invalidateDocumentBounds(),this.m0()},this.zS=l=>{this.observed!==null&&(this.invalidateDocumentBounds(),this.C())},this.Sb=l=>{this.updateDelay<1?this.C():this.g0||(this.g0=!0,setTimeout(()=>this.redraw(),this.updateDelay))},this.XS=l=>{this.observed!==null&&this.m0()},this.autoScale=2,this.Ht=!1,r&&Object.assign(this,r),this}setupRouters(){}computePixelRatio(){return 1}redraw(){this.g0&&this.updateDelay>=1&&(this.g0=!1,this.bR()),super.redraw()}Gi(){if(this.Tt===null&&n.o("No div specified"),this.dt===null&&n.o("No canvas specified"),this.dt instanceof ma||(this.box.UM(),!this.Ve))return;const t=this.observed;if(t===null||t.animationManager.defaultAnimation.isAnimating||!t.Eh)return;this.h0();const r=this.dt,o=this.ni;if(o.clearContextCache(!0),o.setTransform(1,0,0,1,0,0),o.clearRect(0,0,r.width,r.height),this.updateDelay<1)this.qL();else if(this.Yc!==null){o.drawImage(this.Yc.Ft,0,0);const c=this.L;c.Jt(),this.scale!==1&&c.K(this.scale),(this.position.x!==0||this.position.y!==0)&&c.Zi(-this.position.x,-this.position.y),o.scale(this.Bi,this.Bi),o.transform(c.m11,c.m12,c.m21,c.m22,c.dx,c.dy),o.commitTransform()}const l=this.Gt.r,u=l.length;for(let c=0;c<u;c++)l[c].Gi(o,this);this.Oc=!1,this.Ve=!1}bR(){const t=this.dt,r=this.ni;if(!(t===null||r===null)){if(this.h0(),this.Yc===null){const o=new vi(null);o.width=t.width,o.height=t.height,this.Yc=o}try{this.dt=this.Yc,this.ni=this.dt.ci,this.ni.clearContextCache(!0),this.ni.setTransform(1,0,0,1,0,0),this.ni.clearRect(0,0,this.dt.width,this.dt.height),this.qL()}finally{this.dt=t,this.ni=r}}}qL(){const t=this.observed;if(t===null)return;const r=this.drawsTemporaryLayers,o=this.drawsGrid&&r,l=t.grid;if(o&&l!==null&&l.visible&&!(isNaN(l.width)||isNaN(l.height))){const b=F.l().a(this.viewportBounds).unionRect(t.viewportBounds);t.Hr(b),F.s(b),t.Li()}const u=this.L;u.Jt(),this.scale!==1&&u.K(this.scale),(this.position.x!==0||this.position.y!==0)&&u.Zi(-this.position.x,-this.position.y);const c=this.ni;c.scale(this.Bi,this.Bi),c.transform(u.m11,u.m12,u.m21,u.m22,u.dx,u.dy),c.commitTransform();const f=this.viewportBounds,g=t.Gt.r,y=g.length;for(let b=0;b<y;b++)g[b].bF(c,f,this,r,o)}get observed(){return this.bb}set observed(t){const r=this.bb;if(t instanceof yi&&n.o("Overview.observed Diagram may not be an Overview itself: "+t),r!==t){if(this.kR(r),this.bb=t,this.PR(t),this.invalidateDocumentBounds(),t===null){this.Yc=null;const o=this.dt,l=this.ni;o&&l&&(l.setTransform(1,0,0,1,0,0),l.clearRect(0,0,o.width,o.height))}else this.Sb(null),this.m0(),this.C();this.t("observed",r,t)}}get box(){return this.Tl}set box(t){const r=this.Tl;r!==t&&(t.hi(),this.Tl=t,this.remove(r),this.add(this.Tl),this.m0(),this.t("box",r,t))}get drawsTemporaryLayers(){return this.kb}set drawsTemporaryLayers(t){this.kb!==t&&(this.kb=t,this.redraw())}get drawsGrid(){return this.Pb}set drawsGrid(t){this.Pb!==t&&(this.Pb=t,this.redraw())}get updateDelay(){return this.Mb}set updateDelay(t){t<0&&(t=0),this.Mb!==t&&(this.Mb=t)}PR(t){t!==null&&(t.addDiagramListener("ViewportBoundsChanged",this.VS),t.addDiagramListener("DocumentBoundsChanged",this.zS),t.addDiagramListener("InvalidateDraw",this.Sb),t.addDiagramListener("AnimationFinished",this.XS),this.add(this.box))}kR(t){t!==null&&(this.remove(this.box),t.removeDiagramListener("ViewportBoundsChanged",this.VS),t.removeDiagramListener("DocumentBoundsChanged",this.zS),t.removeDiagramListener("InvalidateDraw",this.Sb),t.removeDiagramListener("AnimationFinished",this.XS))}m0(){const t=this.box;if(t===null)return;const r=this.observed;if(r===null)return;this.Ve=!0;const o=r.viewportBounds,l=t.selectionObject,u=z.l();u.e(o.width,o.height),l.desiredSize=u,z.s(u);const c=2/this.scale;l instanceof fe&&(l.strokeWidth=c),t.location=new C(o.x-c/2,o.y-c/2),t.isSelected=!0}computeBounds(){const t=this.observed;if(t===null)return F.Tk;const r=t.documentBounds.copy();return r.unionRect(t.viewportBounds),r}invalidateViewport(t,r){this.Ve!==!0&&(this.Ve=!0,this.requestUpdate())}onViewportBoundsChanged(t,r,o,l){this.Ht||(this._l(),this.C(),this.oa(),this.invalidateDocumentBounds(),this.m0(),this.Ui.scale=o,this.Ui.position.x=t.x,this.Ui.position.y=t.y,this.Ui.bounds.a(t),this.Ui.isScroll=l,this.v("ViewportBoundsChanged",this.Ui,t))}}class Ir extends ee{constructor(){super();T(this,"ih");this.ih=null}canStart(){if(!this.isEnabled)return!1;const t=this.diagram;if(t===null||!t.allowMove||!t.allowSelect)return!1;const r=t.observed;if(r===null)return!1;const o=t.lastInput;if(!o.left||t.currentTool!==this&&(!this.isBeyondDragSize()||o.isTouchEvent&&o.timestamp-t.firstInput.timestamp<this.delay))return!1;if(this.findDraggablePart()===null){const l=r.viewportBounds;this.ih=new C(l.width/2,l.height/2);const u=t.firstInput.documentPoint;r.position=new C(u.x-this.ih.x,u.y-this.ih.y)}return!0}doActivate(){this.ih=null,super.doActivate()}doUpdateCursor(t){const r=this.diagram,o=r.box;o!==null&&o.cursor&&(r.currentCursor=o.cursor)}moveParts(t,r,o){const l=this.diagram,u=l.observed;if(u===null)return;const c=l.box;if(c===null)return;if(this.ih===null){const g=l.firstInput.documentPoint,y=c.location;this.ih=new C(g.x-y.x,g.y-y.y)}const f=l.lastInput.documentPoint;u.position=new C(f.x-this.ih.x,f.y-this.ih.y)}}class Hn{constructor(i){T(this,"p");T(this,"KS");T(this,"YS");T(this,"GS");T(this,"jS");T(this,"HS");T(this,"qS");T(this,"WS");T(this,"JS");T(this,"eh");T(this,"$S");T(this,"Nb");T(this,"ZS");T(this,"Cb");T(this,"Lb");T(this,"QS");T(this,"Uo");T(this,"_S");M.Yi(this),this.p=xe.pm(),this.KS=!0,this.YS=!0,this.GS=!0,this.jS=!1,this.HS=!1,this.qS=!1,this.WS=!1,this.JS=null,this.eh=null,this.$S=1.05,this.Nb=NaN,this.ZS=null,this.Cb=NaN,this.Lb=F.Tk,this.QS=!1,this.Uo=null,this._S=200,i&&Object.assign(this,i)}toString(){return"CommandHandler"}get diagram(){return this.p}To(i){this.p=i}doKeyDown(){const i=this.diagram,t=i.lastInput,r=n.rr?t.meta:t.control,o=t.shift,l=t.alt,u=t.commandKey;r&&(u==="Insert"||u==="c")?this.canCopySelection()&&this.copySelection():r&&u==="x"||o&&u==="Delete"?this.canCutSelection()&&this.cutSelection():r&&u==="v"||o&&u==="Insert"?this.canPasteSelection()&&this.pasteSelection():r&&u==="y"||l&&o&&u==="Backspace"?this.canRedo()&&this.redo():r&&u==="z"||l&&u==="Backspace"?this.canUndo()&&this.undo():u==="Delete"||u==="Backspace"?this.canDeleteSelection()&&this.deleteSelection():r&&u==="a"?this.canSelectAll()&&this.selectAll():u==="Escape"?this.canStopCommand()&&this.stopCommand():u==="ArrowUp"?i.allowVerticalScroll&&(r?i.scroll("pixel","up"):i.scroll("line","up")):u==="ArrowDown"?i.allowVerticalScroll&&(r?i.scroll("pixel","down"):i.scroll("line","down")):u==="ArrowLeft"?i.allowHorizontalScroll&&(r?i.scroll("pixel","left"):i.scroll("line","left")):u==="ArrowRight"?i.allowHorizontalScroll&&(r?i.scroll("pixel","right"):i.scroll("line","right")):u==="PageUp"?o&&i.allowHorizontalScroll?i.scroll("page","left"):i.allowVerticalScroll&&i.scroll("page","up"):u==="PageDown"?o&&i.allowHorizontalScroll?i.scroll("page","right"):i.allowVerticalScroll&&i.scroll("page","down"):u==="Home"?r&&i.allowVerticalScroll?i.scroll("document","up"):!r&&i.allowHorizontalScroll&&i.scroll("document","left"):u==="End"?r&&i.allowVerticalScroll?i.scroll("document","down"):!r&&i.allowHorizontalScroll&&i.scroll("document","right"):u==="Space"?this.canScrollToPart()&&this.scrollToPart():u==="Minus"||u==="NumpadSubtract"?this.canDecreaseZoom()&&this.decreaseZoom():u==="Equal"||u==="NumpadAdd"?this.canIncreaseZoom()&&this.increaseZoom():r&&u==="Digit0"?this.canResetZoom()&&this.resetZoom():o&&u==="z"?this.canZoomToFit()&&this.zoomToFit():r&&!o&&u==="g"?this.canGroupSelection()&&this.groupSelection():r&&o&&u==="g"?this.canUngroupSelection()&&this.ungroupSelection():u==="F2"?this.canEditTextBlock()&&this.editTextBlock():u==="ContextMenu"?this.canShowContextMenu()&&this.showContextMenu():t.bubbles=!0}doKeyUp(){const i=this.diagram.lastInput;i.bubbles=!0}stopCommand(){const i=this.diagram,t=i.currentTool;t instanceof $t&&i.allowSelect&&i.clearSelection(),t!==null&&t.doCancel()}canStopCommand(){return!0}selectAll(){const i=this.diagram;i.C();try{i.currentCursor="wait",i.v("ChangingSelection",i.selection);const t=i.parts;for(;t.next();){const l=t.value;l.canSelect()&&!l.layer.isTemporary&&(l.isSelected=!0)}const r=i.nodes;for(;r.next();){const l=r.value;l.canSelect()&&!l.layer.isTemporary&&(l.isSelected=!0)}const o=i.links;for(;o.next();){const l=o.value;l.canSelect()&&!l.layer.isTemporary&&(l.isSelected=!0)}}finally{i.v("ChangedSelection",i.selection),i.currentCursor=""}}canSelectAll(){return this.diagram.allowSelect}deleteSelection(){const i=this.diagram;try{i.currentCursor="wait",i.v("ChangingSelection",i.selection),i.startTransaction("Delete"),i.v("SelectionDeleting",i.selection);const t=new M,r=i.selection.iterator;for(;r.next();){const o=r.value;Le.sh(t,o,!0,this.deletesTree?1/0:0,this.deletesConnectedLinks?null:!1,l=>l.canDelete())}i.removeParts(t,!0),i.v("SelectionDeleted",t)}finally{i.commitTransaction("Delete"),i.v("ChangedSelection",i.selection),i.currentCursor=""}}canDeleteSelection(){const i=this.diagram;return!(i.isReadOnly||i.isModelReadOnly||!i.allowDelete||i.selection.count===0)}copySelection(){const i=this.diagram;try{const t=new M,r=i.selection.iterator;for(;r.next();){const o=r.value;Le.sh(t,o,!0,this.copiesTree?1/0:0,this.copiesConnectedLinks,l=>l.canCopy())}this.copyToClipboard(t)}finally{}}canCopySelection(){const i=this.diagram;return!(!i.allowCopy||!i.allowClipboard||i.selection.count===0)}cutSelection(){this.copySelection(),this.deleteSelection()}canCutSelection(){const i=this.diagram;return!(i.isReadOnly||i.isModelReadOnly||!i.allowCopy||!i.allowDelete||!i.allowClipboard||i.selection.count===0)}copyToClipboard(i){const t=this.diagram;let r=null;if(i===null)xe.uL();else{const o=t.model;let l=!1,u=!1,c=null;try{o.gc()&&(l=o.copiesParentKeyOfNodeData,o.copiesParentKeyOfNodeData=this.copiesParentKey),(o.uc()||o.Hu())&&(u=o.copiesGroupKeyOfNodeData,o.copiesGroupKeyOfNodeData=this.copiesGroupKey),c=t.copyParts(i,null,!0)}finally{o.gc()&&(o.copiesParentKeyOfNodeData=l),(o.uc()||o.Hu())&&(o.copiesGroupKeyOfNodeData=u),r=new x,r.addAll(c.iteratorValues),xe.s0=r,xe.gb=t.model.dataFormat}}t.v("ClipboardChanged",r)}pasteFromClipboard(){const i=new M,t=xe.s0;if(t===null)return i;const r=this.diagram;if(xe.gb!==r.model.dataFormat)return i;const o=r.model;let l=!1,u=!1,c=null;try{o.gc()&&(l=o.copiesParentKeyOfNodeData,o.copiesParentKeyOfNodeData=this.copiesParentKey),(o.uc()||o.Hu())&&(u=o.copiesGroupKeyOfNodeData,o.copiesGroupKeyOfNodeData=this.copiesGroupKey),c=r.copyParts(t,r,!1)}finally{o.gc()&&(o.copiesParentKeyOfNodeData=l),(o.uc()||o.Hu())&&(o.copiesGroupKeyOfNodeData=u);const f=c.iterator;for(;f.next();){const g=f.value,y=f.key;g.location.isReal()||(y.location.isReal()?g.location=y.location:!g.position.isReal()&&y.position.isReal()&&(g.position=y.position)),i.add(g)}}return i}pasteSelection(i){i===void 0&&(i=null);const t=this.diagram;try{t.currentCursor="wait",t.v("ChangingSelection",t.selection),t.startTransaction("Paste");const r=this.pasteFromClipboard();r.count>0&&t.clearSelection(!0);const o=r.iterator;for(;o.next();){const l=o.value;l.isSelected=!0}if(i!==null){const l=t.computePartsBounds(t.selection);if(l.isReal()){const u=this.computeEffectiveCollection(t.selection,t.cb);t.xP(u,new C(i.x-l.centerX,i.y-l.centerY),t.cb,!1)}}t.v("ClipboardPasted",r)}finally{t.commitTransaction("Paste"),t.v("ChangedSelection",t.selection),t.currentCursor=""}}canPasteSelection(i){const t=this.diagram;return!(t.isReadOnly||t.isModelReadOnly||!t.allowInsert||!t.allowClipboard||xe.s0===null||xe.s0.count===0||xe.gb!==t.model.dataFormat)}undo(){this.diagram.undoManager.undo()}canUndo(){const i=this.diagram;return i.isReadOnly||i.isModelReadOnly?!1:i.allowUndo&&i.undoManager.canUndo()}redo(){this.diagram.undoManager.redo()}canRedo(){const i=this.diagram;return i.isReadOnly||i.isModelReadOnly?!1:i.allowUndo&&i.undoManager.canRedo()}decreaseZoom(i){i===void 0&&(i=1/this.zoomFactor);const t=this.diagram;if(t.autoScale!==1)return;const r=t.scale*i;r<t.minScale||r>t.maxScale||(t.scale=r)}canDecreaseZoom(i){i===void 0&&(i=1/this.zoomFactor);const t=this.diagram;if(t.autoScale!==1)return!1;const r=t.scale*i;return r<t.minScale||r>t.maxScale?!1:t.allowZoom}increaseZoom(i){i===void 0&&(i=this.zoomFactor);const t=this.diagram;if(t.autoScale!==1)return;const r=t.scale*i;r<t.minScale||r>t.maxScale||(t.scale=r)}canIncreaseZoom(i){i===void 0&&(i=this.zoomFactor);const t=this.diagram;if(t.autoScale!==1)return!1;const r=t.scale*i;return r<t.minScale||r>t.maxScale?!1:t.allowZoom}resetZoom(i){i===void 0&&(i=this.defaultScale);const t=this.diagram;i<t.minScale||i>t.maxScale||(t.scale=i)}canResetZoom(i){i===void 0&&(i=this.defaultScale);const t=this.diagram;return i<t.minScale||i>t.maxScale?!1:t.allowZoom}zoomToFit(){const i=this.diagram,t=i.animationManager;t.stopAnimation(),i.redraw();const r=i.position,o=i.scale;t.Rl("Zoom To Fit"),this.isZoomToFitRestoreEnabled&&o===this.Cb&&!isNaN(this.Nb)&&i.documentBounds.equals(this.Lb)?(i.scale=this.Nb,i.position=this.ZS,this.Cb=NaN,this.Lb=F.Tk):(this.Nb=o,this.ZS=r.copy(),i.zoomToFit(),this.Cb=i.scale,this.Lb=i.documentBounds.copy()),t.PM()}canZoomToFit(){return this.diagram.allowZoom}scrollToPart(i){i===void 0&&(i=null);const t=this.diagram;if(t.ensureBounds(),i===null){try{this.Uo!==null&&(this.Uo.next()?i=this.Uo.value:this.Uo=null)}catch{this.Uo=null}i===null&&(t.highlighteds.count>0?this.Uo=t.highlighteds.iterator:t.selection.count>0&&(this.Uo=t.selection.iterator),this.Uo!==null&&this.Uo.next()&&(i=this.Uo.value))}if(i!==null){const r=t.animationManager;r.Rl("Scroll To Part");const o=this.scrollToPartPause;if(o>0){const l=this.Gc(i,[i]);if(l.length===1)t.startTransaction(),t.centerRect(i.actualBounds),t.commitTransaction("Scroll To Part");else{const u=()=>{t.startTransaction();let f=l.pop();for(;l.length>0&&f instanceof Jt&&f.isTreeExpanded&&(!(f instanceof Ut)||f.isSubGraphExpanded);)f=l.pop();l.length>0?(f instanceof Le&&t.scrollToRect(f.actualBounds),f instanceof Jt&&!f.isTreeExpanded&&(f.isTreeExpanded=!0),f instanceof Ut&&!f.isSubGraphExpanded&&(f.isSubGraphExpanded=!0)):(f instanceof Le&&t.centerRect(f.actualBounds),t.removeDiagramListener("LayoutCompleted",c)),t.commitTransaction("Scroll To Part")},c=()=>{n.vh(u,(r.isEnabled?r.duration:0)+o)};t.addDiagramListener("LayoutCompleted",c),u()}}else{const l=t.position.copy();t.centerRect(i.actualBounds),l.equalsApprox(t.position)&&r.stopAnimation()}}}Gc(i,t){if(i.isVisible())return t;if(i instanceof ye)this.Gc(i.adornedPart,t);else if(i instanceof se){const r=i.fromNode;r!==null&&this.Gc(r,t);const o=i.toNode;o!==null&&this.Gc(o,t)}else{if(i instanceof Jt){const o=i.labeledLink;o!==null&&this.Gc(o,t);const l=i.findTreeParentNode();l!==null&&(!l.isTreeExpanded&&!l.wasTreeExpanded&&t.push(l),this.Gc(l,t))}const r=i.containingGroup;r!==null&&(!r.isSubGraphExpanded&&!r.wasSubGraphExpanded&&t.push(r),this.Gc(r,t))}return t}canScrollToPart(i){if(i===void 0&&(i=null),i!==null&&!(i instanceof Le))return!1;const t=this.diagram;return t.selection.count===0&&t.highlighteds.count===0?!1:t.allowHorizontalScroll&&t.allowVerticalScroll}collapseTree(i){i===void 0&&(i=null);const t=this.diagram,r="Collapse Tree";try{t.startTransaction(r),t.animationManager.Rl(r);const o=new x;if(i!==null&&i.isTreeExpanded)i.collapseTree(),o.add(i);else if(i===null){const l=t.selection.iterator;for(;l.next();){const u=l.value;u instanceof Jt&&u.isTreeExpanded&&(u.collapseTree(),o.add(u))}}t.v("TreeCollapsed",o)}finally{t.commitTransaction(r)}}canCollapseTree(i){i===void 0&&(i=null);const t=this.diagram;if(t.isReadOnly)return!1;if(i!==null){if(!(i instanceof Jt)||!i.isTreeExpanded)return!1;if(i.findTreeChildrenLinks().count>0)return!0}else{const r=t.selection.iterator;for(;r.next();){const o=r.value;if(o instanceof Jt){if(!o.isTreeExpanded)continue;if(o.findTreeChildrenLinks().count>0)return!0}}}return!1}expandTree(i){i===void 0&&(i=null);const t=this.diagram,r="Expand Tree";try{t.startTransaction(r),t.animationManager.Rl(r);const o=new x;if(i!==null&&!i.isTreeExpanded)i.expandTree(),o.add(i);else if(i===null){const l=t.selection.iterator;for(;l.next();){const u=l.value;u instanceof Jt&&(u.isTreeExpanded||(u.expandTree(),o.add(u)))}}t.v("TreeExpanded",o)}finally{t.commitTransaction(r)}}canExpandTree(i){i===void 0&&(i=null);const t=this.diagram;if(t.isReadOnly)return!1;if(i!==null){if(!(i instanceof Jt)||i.isTreeExpanded)return!1;if(i.findTreeChildrenLinks().count>0)return!0}else{const r=t.selection.iterator;for(;r.next();){const o=r.value;if(o instanceof Jt){if(o.isTreeExpanded)continue;if(o.findTreeChildrenLinks().count>0)return!0}}}return!1}groupSelection(){const i=this.diagram,t=i.model;if(!t.jc())return;const r=this.archetypeGroupData;if(r===null)return;let o=null;try{i.currentCursor="wait",i.v("ChangingSelection",i.selection),i.startTransaction("Group");const l=new x,u=i.selection.iterator;for(;u.next();){const g=u.value;g.Me()&&g.canGroup()&&l.add(g)}const c=new x,f=l.iterator;for(;f.next();){const g=f.value;let y=!1;const b=l.iterator;for(;b.next();){const w=b.value;if(g.isMemberOf(w)){y=!0;break}}y||c.add(g)}if(c.count>0){let g=c.first().containingGroup;if(g!==null)for(;g!==null;){let y=!1;const b=c.iterator;for(;b.next();)if(!b.value.isMemberOf(g)){y=!0;break}if(y)g=g.containingGroup;else break}if(r instanceof Ut)r.hi(),o=r.copy(),o!==null&&i.add(o);else if(t.isGroupForData(r)){const y=t.copyNodeData(r);n.wt(y)&&(t.addNodeData(y),o=i.findNodeForData(y))}if(o!==null){g!==null&&this.isValidMember(g,o)&&(o.containingGroup=g);const y=c.iterator;for(;y.next();){const b=y.value;this.isValidMember(o,b)&&(b.containingGroup=o)}i.clearSelection(!0),o.isSelected=!0}}i.v("SelectionGrouped",o)}finally{i.commitTransaction("Group"),i.v("ChangedSelection",i.selection),i.currentCursor=""}}canGroupSelection(){const i=this.diagram;if(i.isReadOnly||i.isModelReadOnly||!i.allowInsert||!i.allowGroup||!i.model.jc()||this.archetypeGroupData===null)return!1;const t=i.selection.iterator;for(;t.next();){const r=t.value;if(r.Me()&&r.canGroup())return!0}return!1}t2(i){const t=n.rt();if(Array.isArray(i))i.forEach(l=>{l instanceof se||l instanceof Le&&t.push(l)});else{const l=i.iterator;for(;l.next();){const u=l.value;u instanceof se||u instanceof Le&&t.push(u)}}const r=new M,o=t.length;for(let l=0;l<o;l++){const u=t[l];let c=!0;for(let f=0;f<o;f++)if(u.isMemberOf(t[f])){c=!1;break}c&&r.add(u)}return n.it(t),r}isValidMember(i,t){if(t===null||i===t||t instanceof se)return!1;let r;return i!==null&&(i===t||i.isMemberOf(t)||(r=i.memberValidation,r!==null&&!r(i,t))||i.data===null&&t.data!==null||i.data!==null&&t.data===null)?!1:(r=this.memberValidation,r!==null?r(i,t):!0)}ungroupSelection(i){i===void 0&&(i=null);const t=this.diagram,r=t.model;if(r.jc())try{t.currentCursor="wait",t.v("ChangingSelection",t.selection),t.startTransaction("Ungroup");const o=new x;if(i!==null)o.add(i);else{const u=t.selection.iterator;for(;u.next();){const c=u.value;c instanceof Ut&&c.canUngroup()&&o.add(c)}}const l=new x;if(o.count>0){t.clearSelection(!0);const u=o.iterator;for(;u.next();){const c=u.value;c.expandSubGraph();const f=c.containingGroup,g=f!==null&&f.data!==null?r.getKeyForNodeData(f.data):void 0;l.addAll(c.memberParts);const y=l.iterator;for(;y.next();){const b=y.value;if(b.isSelected=!0,b instanceof se)continue;const w=b.data;w!==null?r.setGroupForData(w,g):b.containingGroup=f}t.remove(c)}}t.v("SelectionUngrouped",o,l)}finally{t.commitTransaction("Ungroup"),t.v("ChangedSelection",t.selection),t.currentCursor=""}}canUngroupSelection(i){i===void 0&&(i=null);const t=this.diagram;if(t.isReadOnly||t.isModelReadOnly||!t.allowDelete||!t.allowUngroup||!t.model.jc())return!1;if(i!==null){if(!(i instanceof Ut))return!1;if(i.canUngroup())return!0}else{const r=t.selection.iterator;for(;r.next();){const o=r.value;if(o instanceof Ut&&o.canUngroup())return!0}}return!1}addTopLevelParts(i,t){const r=this.t2(i);let o=!0;const l=r.iterator;for(;l.next();){const u=l.value;u.containingGroup!==null&&(!t||this.isValidMember(null,u)?u.containingGroup=null:o=!1)}return o}collapseSubGraph(i){i===void 0&&(i=null);const t=this.diagram,r="Collapse SubGraph";try{t.startTransaction(r),t.animationManager.Rl(r);const o=new x;if(i!==null&&i.isSubGraphExpanded)i.collapseSubGraph(),o.add(i);else if(i===null){const l=t.selection.iterator;for(;l.next();){const u=l.value;u instanceof Ut&&u.isSubGraphExpanded&&(u.collapseSubGraph(),o.add(u))}}t.v("SubGraphCollapsed",o)}finally{t.commitTransaction(r)}}canCollapseSubGraph(i){i===void 0&&(i=null);const t=this.diagram;if(t.isReadOnly)return!1;if(i!==null)return!(!(i instanceof Ut)||!i.isSubGraphExpanded);{const r=t.selection.iterator;for(;r.next();){const o=r.value;if(o instanceof Ut&&o.isSubGraphExpanded)return!0}}return!1}expandSubGraph(i){i===void 0&&(i=null);const t=this.diagram,r="Expand SubGraph",o=new x;try{if(t.startTransaction(r),t.animationManager.Rl(r),i!==null&&!i.isSubGraphExpanded)i.expandSubGraph(),o.add(i);else if(i===null){const l=t.selection.iterator;for(;l.next();){const u=l.value;u instanceof Ut&&(u.isSubGraphExpanded||(u.expandSubGraph(),o.add(u)))}}t.v("SubGraphExpanded",o)}finally{for(const l of o)this.WL(t,l);i&&this.WL(t,i),t.commitTransaction(r)}}WL(i,t){for(const r of t.memberParts)r instanceof Jt&&i.Sc(r,t)}canExpandSubGraph(i){i===void 0&&(i=null);const t=this.diagram;if(t.isReadOnly)return!1;if(i!==null)return!(!(i instanceof Ut)||i.isSubGraphExpanded);{const r=t.selection.iterator;for(;r.next();){const o=r.value;if(o instanceof Ut&&!o.isSubGraphExpanded)return!0}}return!1}editTextBlock(i){i===void 0&&(i=null);const t=this.diagram,r=t.toolManager.findTool("TextEditing");if(r!==null){if(i===null){let o=null;const l=t.selection.iterator;for(;l.next();){const u=l.value;if(u.canEdit()){o=u;break}}if(o===null)return;i=o.findInVisualTree(u=>u instanceof on&&u.editable)}i!==null&&(t.currentTool=null,r.textBlock=i,t.currentTool=r)}}canEditTextBlock(i){i===void 0&&(i=null);const t=this.diagram;if(t.isReadOnly||t.isModelReadOnly||!t.allowTextEdit||t.toolManager.findTool("TextEditing")===null)return!1;if(i!==null){if(!(i instanceof on))return!1;const r=i.part;if(r!==null&&r.canEdit())return!0}else{const r=t.selection.iterator;for(;r.next();){const o=r.value;if(o.canEdit()&&(i=o.findInVisualTree(l=>l instanceof on&&l.editable),i!==null))return!0}}return!1}showContextMenu(i){const t=this.diagram,r=t.toolManager.findTool("ContextMenu");if(r===null)return;i===void 0&&(t.selection.count>0?i=t.selection.first():i=t);const o=r.findObjectWithContextMenu(i);if(o!==null){const l=t.lastInput;let u=null;if(o instanceof dn)u=o.getDocumentPoint(U.Center);else if(!t.viewportBounds.containsPoint(l.documentPoint)){const c=t.viewportBounds;u=new C(c.x+c.width/2,c.y+c.height/2)}if(u!==null){const c=new Mt;c.diagram=t,c.viewPoint=t.transformDocToView(u),c.documentPoint=u,c.button=2,c.up=!0,t.lastInput=c}t.currentTool=r,r.openMenu(!1,o)}}canShowContextMenu(i){const t=this.diagram,r=t.toolManager.findTool("ContextMenu");return!(r===null||(i===void 0&&(t.selection.count>0?i=t.selection.first():i=t),r.findObjectWithContextMenu(i)===null))}get copiesClipboardData(){return this.KS}set copiesClipboardData(i){n.i(i,"boolean",Hn,"copiesClipboardData"),this.KS=i}get copiesConnectedLinks(){return this.YS}set copiesConnectedLinks(i){n.i(i,"boolean",Hn,"copiesConnectedLinks"),this.YS=i}get deletesConnectedLinks(){return this.GS}set deletesConnectedLinks(i){n.i(i,"boolean",Hn,"deletesConnectedLinks"),this.GS=i}get copiesTree(){return this.jS}set copiesTree(i){n.i(i,"boolean",Hn,"copiesTree"),this.jS=i}get deletesTree(){return this.HS}set deletesTree(i){n.i(i,"boolean",Hn,"deletesTree"),this.HS=i}get copiesParentKey(){return this.qS}set copiesParentKey(i){n.i(i,"boolean",Hn,"copiesParentKey"),this.qS=i}get copiesGroupKey(){return this.WS}set copiesGroupKey(i){n.i(i,"boolean",Hn,"copiesGroupKey"),this.WS=i}get archetypeGroupData(){return this.JS}set archetypeGroupData(i){i!==null&&n.i(i,"object",Hn,"archetypeGroupData"),this.diagram,this.JS=i}get memberValidation(){return this.eh}set memberValidation(i){i!==null&&n.i(i,"function",Hn,"memberValidation"),this.eh=i}get defaultScale(){return this.diagram.defaultScale}set defaultScale(i){this.diagram.defaultScale=i}get zoomFactor(){return this.$S}set zoomFactor(i){i>1||n.o("zoomFactor must be larger than 1.0, not: "+i),this.$S=i}get isZoomToFitRestoreEnabled(){return this.QS}set isZoomToFitRestoreEnabled(i){n.i(i,"boolean",Hn,"isZoomToFitRestoreEnabled"),this.QS=i}get scrollToPartPause(){return this._S}set scrollToPartPause(i){this._S=i}computeEffectiveCollection(i,t){const r=this.diagram,o=r.toolManager.findTool("Dragging"),l=r.currentTool===o;t===void 0&&(t=r.c0());const u=new V;if(i===null)return u;let c=i.iterator;for(;c.next();){const f=c.value;r.Jr(u,f,l,t)}if(r.draggedLink!==null&&t.dragsLink)return u;for(c=i.iterator;c.next();){const f=c.value;if(f instanceof se){const g=f.fromNode;if(g!==null&&!u.has(g))u.delete(f);else{const y=f.toNode;y!==null&&!u.has(y)&&u.delete(f)}}}return u}}var fa=(W=>(W[W.None=0]="None",W[W.Default=1]="Default",W[W.Vertical=4]="Vertical",W[W.Horizontal=5]="Horizontal",W[W.Fill=2]="Fill",W))(fa||{}),pa=(W=>(W[W.None=0]="None",W[W.Along=21]="Along",W[W.Plus90=22]="Plus90",W[W.Minus90=23]="Minus90",W[W.Opposite=24]="Opposite",W[W.Upright=25]="Upright",W[W.Plus90Upright=26]="Plus90Upright",W[W.Minus90Upright=27]="Minus90Upright",W[W.Upright45=28]="Upright45",W))(pa||{}),cl=(W=>(W[W.None=0]="None",W[W.Vertical=1]="Vertical",W[W.Horizontal=2]="Horizontal",W[W.Both=3]="Both",W))(cl||{});const ce=class ce{constructor(){T(this,"n");T(this,"qu");T(this,"Wu");T(this,"Bo");T(this,"f");T(this,"nh");T(this,"W");T(this,"st");T(this,"se");T(this,"Wt");T(this,"Ju");T(this,"Vs");T(this,"Ct");T(this,"Xe");T(this,"Zr");T(this,"oh");T(this,"ki");T(this,"Hc");T(this,"K");T(this,"Xt");T(this,"Qr");T(this,"Ai");T(this,"Vi");T(this,"$u");T(this,"oi");T(this,"qc");T(this,"Ut");T(this,"si");T(this,"_r");T(this,"i2");T(this,"Zu");M.Yi(this),this.n=30723,this.Wt=1,this.Ju="",this.Vs=null,this.Ct=null,this.st=new C(NaN,NaN).g(),this.Xe=z.gw,this.Zr=new J,this.oh=new J,this.ki=null,this.Hc=1,this.K=1,this.Xt=0,this.Qr=Y.Ug,this.se=new F(NaN,NaN,NaN,NaN).g(),this.Ai=new F(NaN,NaN,NaN,NaN).g(),this.Vi=new F(0,0,NaN,NaN).g(),this.$u=null,this.qu=null,this.W=null,this.oi=U.Default,this.qc=U.Default,this.Wu=0,this.Bo=0,this.Ut=null,this.f=null,this.nh=null,this.si=null,this.i2=null,this._r=null,this.Zu=null}cloneProtected(i){i.n=(this.n|2048|4096)&-32769,i.Wt=this.Wt,i.Ju=this.Ju,i.Ct=this.Ct,i.st.a(this.st),i.Xe=this.Xe.N(),this.ki!==null?i.ki=this.ki.copy():i.ki=null,i.K=this.K,i.Xt=this.Xt,i.Qr=this.Qr.N(),i.se.a(this.se),i.Ai.a(this.Ai),i.Vi.a(this.Vi),i.qu=this.qu,this.W!==null&&(i.W=this.W.copy()),i.oi=this.oi.N(),i.qc=this.qc.N(),i.Wu=this.Wu,i.Bo=this.Bo,this.Ut!==null&&(i.Ut=this.Ut.copy()),this.f!==null&&(this.f.mi?i.f=this.f:i.f=this.f.copy()),this.nh!==null&&(i.nh=this.nh.slice()),this.si!==null&&(i.si=this.si.copy())}addCopyProperty(i){let t=this.nh;if(!Array.isArray(t))t=[],this.nh=t;else for(let r=0;r<t.length;r++)if(t[r]===i)return;t.push(i)}Vo(i){i.$u=null,i._r=null,i.c()}clone(){const i=new this.constructor;if(this.cloneProtected(i),this.nh!==null)for(let t=0;t<this.nh.length;t++){const r=this.nh[t];i[r]=this[r]}return i}copy(){return this.clone()}bm(){const i=this.Ti;if(i!==null){this.Ti=null;for(const t of i)t.Qu()&&(t.isToData?this.themeData(t.targetProperty,t.sourceProperty,t.themeSource,t.converter,t.themeConverter):t.isToObject?this.themeObject(t.targetProperty,t.sourceProperty,t.themeSource,t.converter,t.themeConverter,t.sourceName):t.isToModel?this.themeModel(t.targetProperty,t.sourceProperty,t.themeSource,t.converter,t.themeConverter):this.theme(t.targetProperty,t.sourceProperty,t.themeSource,t.converter,t.themeConverter))}return this}li(i){i in pa?this.segmentOrientation=i:i in fa?this.stretch=i:n.lr(this,i)}toString(){return n.sn(this.constructor)+"#"+M.cs(this)}rh(){this.f!==null&&(this.f.mi=!0)}jt(){this.f===null?this.f=new ps:this.f.mi&&(this.f=this.f.copy())}Ke(){if(this.W===null){const i=new fo;i.aa=U.None,i.ca=U.None,i.fa=10,i.ua=10,i.da=0,i.ga=0,this.W=i}}raiseChangedEvent(i,t,r,o,l,u,c){const f=this.part;if(f!==null){f.Wc(i,t,r,o,l,u,c),r===this&&i===2&&this.Jc()&&this.ma(f,t);const g=this.diagram;if(this.xs!==null&&g!==null&&g.Eh&&!g.undoManager.isUndoingRedoing&&!g.animationManager.xu){const y=this.xs.get(t);if(y!==null&&g.animationManager.isEnabled&&!g.animationManager.isTicking){this.Zu===null&&(this.Zu=new V);let b=g.undoManager.transactionLevel===0;if(y.startCondition===2?b=!0:y.startCondition===3&&(b=!1),b){const w=new si;y.yF(w);const P=this.Zu.get(y);P!==null&&P.stop(),this.Zu.set(y,w),w.ax=this,w.TM=y,w.add(this,t,o,l),w.start()}else g.animationManager.getBundleAnimation().add(this,t,o,l)}}if(this instanceof re&&r===f&&f.e2()&&f.data!==null){const y=this.T.r,b=y.length;for(let w=0;w<b;w++){const P=y[w];P instanceof re&&P.Wr(E=>{E.data!==null&&E.e2()&&E.updateTargetBindings(t)})}}}}dF(i){this.Zu.delete(i)}Io(){if(this.diagram!==null&&this.findBindingPanel()===null&&this.Ti!==null){const i=this.Ti.iterator;for(;i.next();){const t=i.value;if(!t.isToTheme)continue;let r=null;const o=t.sourceName;t.isToObject&&(r=this.JL(o));let l=this;const u=t.targetId;u!==-1&&(l=this.p0(u),l===null)||(o==="/"?r=l.part:o==="."?r=l:o===".."&&(r=l.panel),t.updateTarget(l,r))}}}ma(i,t){const r=this.findBindingPanel();if(r!==null){const o=this.Ti.iterator;for(;o.next();){const l=o.value;let u=null;if(l.isToObject){if(u=l.$L(r,this),u===null)continue;l.updateSource(this,u,t,null)}else if(l.isToModel){const c=i.diagram;c!==null&&!c.fe&&l.updateSource(this,c.model.modelData,t,r)}else if(!l.isToTheme){const c=r.data;if(c===null)continue;const f=i.diagram;f!==null&&!f.fe&&l.updateSource(this,c,t,r)}if(u===this){const c=l.targetId,f=r.p0(c);f!==null&&l.updateTarget(f,u,t)}}}}p0(i){return this.Jn===i?this:null}JL(i){let t;return i===""?t=this:i==="/"?t=this:i==="."?t=this:i===".."?t=this:t=this.part.findObject(i),t}get Jn(){return this.f!==null?this.f.Jn:-1}set Jn(i){this.Jn!==i&&(this.f===null&&(this.f=new ps),this.f.Jn=i)}get Ti(){return this.f!==null?this.f.Ti:null}set Ti(i){this.Ti!==i&&(this.f===null&&(this.f=new ps),this.f.Ti=i)}get $n(){return this.f!==null?this.f.$n:null}set $n(i){this.$n!==i&&(this.f===null&&(this.f=new ps),this.f.$n=i)}raiseChanged(i,t,r){this.raiseChangedEvent(2,i,this,t,r)}t(i,t,r){this.raiseChangedEvent(2,i,this,t,r)}Zn(i,t,r,o){const l=this.se;if(l.e(i,t,r,o),this.K!==1||this.Xt!==0){this.ki===null&&(this.ki=new J);const u=this.ki;u.Jt(),this.y0(u,i,t,r,o),u.ww(l)}}ZL(i,t,r){return this.pickable===!1?!1:(r._a(this.L),t?this.intersectsRect(i,r):this.containedInRect(i,r))}QL(i,t,r){if(this.pickable===!1)return!1;const o=this.naturalBounds,l=i.distanceSquaredPoint(t);return r?C.distanceLineSegmentSquared(i.x,i.y,0,0,0,o.height)<=l||C.distanceLineSegmentSquared(i.x,i.y,0,o.height,o.width,o.height)<=l||C.distanceLineSegmentSquared(i.x,i.y,o.width,o.height,o.width,0)<=l||C.distanceLineSegmentSquared(i.x,i.y,o.width,0,0,0)<=l:i.distanceSquared(0,0)<=l&&i.distanceSquared(0,o.height)<=l&&i.distanceSquared(o.width,0)<=l&&i.distanceSquared(o.width,o.height)<=l}pn(){return!0}containsPoint(i){const t=C.l();t.a(i),this.L.xt(t);const r=this.actualBounds;if(!r.isReal())return C.s(t),!1;const o=this.diagram;if(o!==null&&o.Qm){const u=o.getInputOption("extraTouchThreshold"),c=o.getInputOption("extraTouchArea"),f=c/2,g=this.naturalBounds,y=this.getDocumentScale()*o.scale,b=1/y;if(g.width*y<u&&g.height*y<u){const w=F.contains(r.x-f*b,r.y-f*b,r.width+c*b,r.height+c*b,t.x,t.y);return C.s(t),w}}let l=!1;return(this instanceof ye||this instanceof fe?F.contains(r.x-5,r.y-5,r.width+10,r.height+10,t.x,t.y):r.containsPoint(t))&&(this.si&&!this.si.containsPoint(t)?l=!1:this.Ct!==null&&this.Vi.containsPoint(i)?l=!0:l=this.lh(i)),C.s(t),l}lh(i){const t=this.naturalBounds;return F.contains(0,0,t.width,t.height,i.x,i.y)}containsRect(i){if(this.angle===0)return this.actualBounds.containsRect(i);const t=this.naturalBounds,r=F.X(0,0,t.width,t.height),o=this.L;let l=!1;const u=C.X(i.x,i.y);return r.containsPoint(o.ts(u))&&(u.e(i.x,i.bottom),r.containsPoint(o.ts(u))&&(u.e(i.right,i.bottom),r.containsPoint(o.ts(u))&&(u.e(i.right,i.y),r.containsPoint(o.ts(u))&&(l=!0)))),C.s(u),F.s(r),l}containedInRect(i,t){if(t===void 0)return i.containsRect(this.actualBounds);const r=this.naturalBounds,o=t;let l=!1;const u=C.X(0,0);return i.containsPoint(o.xt(u))&&(u.e(0,r.height),i.containsPoint(o.xt(u))&&(u.e(r.width,r.height),i.containsPoint(o.xt(u))&&(u.e(r.width,0),i.containsPoint(o.xt(u))&&(l=!0)))),C.s(u),l}intersectsRect(i,t){if(t===void 0&&(t=this.L,this.angle===0))return i.intersectsRect(this.actualBounds);const r=this.naturalBounds,o=t,l=C.X(0,0),u=C.X(0,r.height),c=C.X(r.width,r.height),f=C.X(r.width,0);let g=!1;if(i.containsPoint(o.xt(l))||i.containsPoint(o.xt(u))||i.containsPoint(o.xt(c))||i.containsPoint(o.xt(f)))g=!0;else{const y=F.X(0,0,r.width,r.height),b=C.X(i.x,i.y);y.containsPoint(o.ts(b))?g=!0:(b.e(i.x,i.bottom),y.containsPoint(o.ts(b))?g=!0:(b.e(i.right,i.bottom),y.containsPoint(o.ts(b))?g=!0:(b.e(i.right,i.y),y.containsPoint(o.ts(b))&&(g=!0)))),C.s(b),F.s(y),g||(K.kw(i,l,u)||K.kw(i,u,c)||K.kw(i,c,f)||K.kw(i,f,l))&&(g=!0)}return C.s(l),C.s(u),C.s(c),C.s(f),g}getDocumentPoint(i,t){if(t===void 0&&(t=new C),i instanceof U){const r=i,o=this.naturalBounds;return t.e(r.x*o.width+r.offsetX,r.y*o.height+r.offsetY),this.ys.xt(t),t}else return t.set(i),this.ys.xt(t),t}getDocumentBounds(i){i===void 0&&(i=new F);const t=this.naturalBounds,r=this.ys,o=C.X(0,0).L(r);return i.e(o.x,o.y,0,0),o.e(t.width,0).L(r),i.unionNoCheck(o.x,o.y,0,0),o.e(t.width,t.height).L(r),i.unionNoCheck(o.x,o.y,0,0),o.e(0,t.height).L(r),i.unionNoCheck(o.x,o.y,0,0),C.s(o),i}getDocumentAngle(){return this.ys.AD()}getDocumentScale(){if(this.w0()===!1)return this.Hc;const i=this.K;return this.panel!==null?i*this.panel.getDocumentScale():i}getLocalPoint(i,t){return t===void 0&&(t=new C),t.a(i),this.ys.ts(t),t}getNearestIntersectionPoint(i,t,r){return this.$c(i.x,i.y,t.x,t.y,r)}$c(i,t,r,o,l){const u=this.L,c=1/(u.m11*u.m22-u.m12*u.m21),f=u.m22*c,g=-u.m12*c,y=-u.m21*c,b=u.m11*c,w=c*(u.m21*u.dy-u.m22*u.dx),P=c*(u.m12*u.dx-u.m11*u.dy),E=i*f+t*y+w,N=i*g+t*b+P,_=r*f+o*y+w,R=r*g+o*b+P;l.e(0,0);const $=this.naturalBounds,q=K.yl(0,0,$.width,$.height,E,N,_,R,l);return l.L(u),q}ut(i,t,r,o){if(this.Oo()===!1)return;const l=this.Qr,u=l.right+l.left,c=l.top+l.bottom;i=Math.max(i-u,0),t=Math.max(t-c,0),r=r||0,o=o||0,r=Math.max(r-u,0),o=Math.max(o-c,0);const f=this.angle;let g=0;const y=this.desiredSize,b=this.Ab();f===90||f===270?(i=isFinite(y.height)?y.height+b:i,t=isFinite(y.width)?y.width+b:t):(i=isFinite(y.width)?y.width+b:i,t=isFinite(y.height)?y.height+b:t);let w=r||0,P=o||0;const E=this instanceof re;switch(this.zs(!0)){case 0:w=0,P=0,E&&(i=1/0,t=1/0);break;case 2:isFinite(i)&&i>r&&(w=i),isFinite(t)&&t>o&&(P=t);break;case 5:isFinite(i)&&i>r&&(w=i),P=0,E&&(t=1/0);break;case 4:isFinite(t)&&t>o&&(P=t),w=0,E&&(i=1/0);break}const N=this.maxSize,_=this.minSize;w>N.width&&_.width<N.width&&(w=N.width),P>N.height&&_.height<N.height&&(P=N.height),r=Math.max(w,_.width),o=Math.max(P,_.height),N.width<r&&(r=Math.min(_.width,r)),N.height<o&&(o=Math.min(_.height,o)),i=Math.min(N.width,i),t=Math.min(N.height,t),i=Math.max(r,i),t=Math.max(o,t),(f===90||f===270)&&(g=i,i=t,t=g,g=r,r=o,o=g),this.se.lt(),this._u(i,t,r,o),this.se.g(),this.se.isReal()||n.o("Non-real measuredBounds has been set. Object "+this+", measuredBounds: "+this.se.toString()),this.ue(!1)}_u(i,t,r,o){}Xs(){return!1}zt(i,t,r,o,l){this.td();const u=F.l();u.a(this.Ai),this.Ai.lt(),this.es()===!1?this.Ai.e(i,t,r,o):this.hh(i,t,r,o),this.Ai.g(),l===void 0?this.si=null:this.si=l;let c=!1;if(l!==void 0)c=!0;else{let f=this.panel;if(f!==null&&f.tl()&&(f=f.panel),f!==null){const g=f.Vi,y=this.measuredBounds,b=t+y.height,w=i+y.width;if(c=!(0<=i+.05&&w<=g.width+.05&&0<=t+.05&&b<=g.height+.05),this instanceof on){const P=this.naturalBounds;(this.x0>P.height||this.pi>P.width)&&(c=!0)}}}c?this.n|=256:this.n&=-257,this.Ai.isReal()||n.o("Non-real actualBounds has been set. Object "+this+", actualBounds: "+this.Ai.toString()),this.ed(u,this.Ai),this.Qn(!1),F.s(u)}hh(i,t,r,o){}commonArrange(i,t,r,o){if(this.Ai.e(i,t,r,o),this.desiredSize.isReal())return;const l=this.se,u=this.Qr,c=u.right+u.left,f=u.top+u.bottom,g=l.width+c,y=l.height+f;r+=c,o+=f;let b=this.zs(!0);switch(g===r&&y===o&&(b=0),b){case 0:(g>r||y>o)&&(this.ue(!0),this.ut(g>r?r:g,y>o?o:y,0,0));break;case 2:this.ue(!0),this.ut(r,o,0,0);break;case 5:this.ue(!0),this.ut(r,y,0,0);break;case 4:this.ue(!0),this.ut(g,o,0,0);break}}ed(i,t){const r=this.part;r!==null&&r.diagram!==null&&((r.selectionObject===this||r.resizeObject===this||r.rotateObject===this)&&r.s2(!0),this.C(),!i.equalsApproxClose(t)&&(r.ah(),this.b0(r)))}b0(i){this.portId!==null&&(i.s2(!0),i instanceof Jt&&i._L(this))}get shadowVisible(){return this.f!==null?this.f.k0:null}set shadowVisible(i){const t=this.shadowVisible;t!==i&&(this.jt(),this.f.k0=i,this.ns(!0),this.C(),this.t("shadowVisible",t,i))}MR(i,t){const r=this.naturalBounds,o=this.oh,l=o.m11,u=o.m21,c=o.dx,f=o.m12,g=o.m22,y=o.dy;let b=0,w=0,P=b,E=w;b=P*l+E*u+c,w=P*f+E*g+y;let N=b,_=w,R=0,$=0;P=r.width+t,E=0,b=P*l+E*u+c,w=P*f+E*g+y;let q=Math.min(N,b),X=Math.min(_,w);R=Math.max(N+R,b)-q,$=Math.max(_+$,w)-X,N=q,_=X,P=r.width+t,E=r.height+t,b=P*l+E*u+c,w=P*f+E*g+y,q=Math.min(N,b),X=Math.min(_,w),R=Math.max(N+R,b)-q,$=Math.max(_+$,w)-X,N=q,_=X,P=0,E=r.height+t,b=P*l+E*u+c,w=P*f+E*g+y,q=Math.min(N,b),X=Math.min(_,w),R=Math.max(N+R,b)-q,$=Math.max(_+$,w)-X,N=q,_=X;const H=i.viewportBounds,tt=H.x,Q=H.y,nt=H.width,ht=H.height;return N>nt+tt||tt>R+N||_>ht+Q||Q>$+_}Gi(i,t){if(this.SR(i,t)||!this.visible)return;const r=this.opacity;if(r===0)return;let o=1;r!==1&&(o=i.globalAlpha,i.globalAlpha=o*r);let l="";this.filter!==""&&(l=i.filter,i.filter=this.filter);const u=this.L,c=this.panel;this.w0()===!0&&this.Tb();const f=this.part;let g=!1,y=0;if(f&&t.getRenderingHint("drawShadows")&&(g=f.isShadowed,g)){const _=f.shadowOffset;y=Math.max(_.y,_.x)*t.scale*t.Bi}const b=this instanceof re&&this.tl(),w=this.Ai;if(b&&(this.tA(g,i,!1,c),this.NR(i,t),this.iA(g,i,!1,c),this.eA(g,i,!1)),b||!b&&(w.width===0||w.height===0||isNaN(w.x)||isNaN(w.y))){r!==1&&(i.globalAlpha=o),this.filter!==""&&(i.filter=l);return}const P=this.Xs();if(!t.Zh&&P&&this.MR(t,y)){r!==1&&(i.globalAlpha=o),this.filter!==""&&(i.filter=l);return}let E=(this.n&256)!==0;if(i.clipInsteadOfFill&&(E=!1),this instanceof on&&(i.font=this.font),E){const _=c.pn()?c.naturalBounds:c.actualBounds;let R=Math.max(w.x,_.x),$=Math.max(w.y,_.y),q=Math.min(w.right,_.right)-R,X=Math.min(w.bottom,_.bottom)-$;const H=this.si;if(H!==null&&(R=H.x,$=H.y,q=H.width,X=H.height),R>w.width+w.x||w.x>_.width+_.x){r!==1&&(i.globalAlpha=o),this.filter!==""&&(i.filter=l);return}i.save(),i.beginPath(),i.rect(R,$,q,X),i.clip()}if(P){if(!f.isVisible()){r!==1&&(i.globalAlpha=o),this.filter!==""&&(i.filter=l);return}if(g){const _=f.shadowOffset;i.shadowsSet(_.x*t.scale*this.scale*t.Bi,_.y*t.scale*this.scale*t.Bi,f.shadowBlur),i.shadowsOn(),i.shadowColor=f.shadowColor}}const N=this.naturalBounds;if(i.transform(u.m11,u.m12,u.m21,u.m22,u.dx,u.dy),this.tA(g,i,P,c),this.Ct!==null&&(i.commitTransform(),this.Db(i,N,w)),this.iA(g,i,P,c),this.ch(i,t),this.eA(g,i,P),E&&(i.restore(),i.clearContextCache(this instanceof re)),!u.vk()){const _=1/(u.m11*u.m22-u.m12*u.m21);i.transform(u.m22*_,-u.m12*_,-u.m21*_,u.m11*_,_*(u.m21*u.dy-u.m22*u.dx),_*(u.m12*u.dx-u.m11*u.dy))}r!==1&&(i.globalAlpha=o),this.filter!==""&&(i.filter=l)}tA(i,t,r,o){i&&this.shadowVisible===!0?t.shadowsOn():i&&this.shadowVisible===!1&&t.shadowsOff(),i&&this.Fb(o)&&this.shadowVisible===null&&t.shadowsOff()}iA(i,t,r,o){i&&(this.Ct!==null||this.Fb(o))?(this.Rb(!0),this.shadowVisible===null&&t.shadowsOff()):this.Rb(!1)}eA(i,t,r){i&&this.o2()===!0&&t.shadowsOn(),r&&i&&t.shadowsOff()}CR(i,t,r){const o=this.part;let l=!1;o&&i.getRenderingHint("drawShadows")&&(l=o.isShadowed),t.clipInsteadOfFill&&(l=!1),this.Xs()&&l&&t.shadowsOn(),l&&this.shadowVisible===!0?t.shadowsOn():l&&this.shadowVisible===!1&&t.shadowsOff();const u=this.panel;if(l&&this.Fb(u)&&this.shadowVisible===null&&t.shadowsOff(),t.il){const c=i.computePixelRatio(),f=`drop-shadow(${t.shadowOffsetX/c}px ${t.shadowOffsetY/c}px ${t.shadowBlur/c/2}px ${t.shadowColor})`;this.background!==null&&r.Ct.setAttributeNS(null,"filter",f)}return l&&(this.Ct!==null||this.Fb(u))?(this.Rb(!0),this.shadowVisible===null&&t.shadowsOff()):this.Rb(!1),l}LR(i,t,r,o){if(r.il){const l=t.computePixelRatio(),u=`drop-shadow(${r.shadowOffsetX/l}px ${r.shadowOffsetY/l}px ${r.shadowBlur/l/2}px ${r.shadowColor})`;this.l2(i,u)}o&&this.o2()===!0&&r.shadowsOn(),this.Xs()&&r.shadowsOff()}Fb(i){return i===null?!1:(i.tl()&&(i=i.panel),i.o2()||(i.type===re.Auto||i.type===re.Spot)&&i.findMainElement()!==this)}l2(i,t){}Db(i,t,r){const o=this.Ab(),l=t.x,u=t.y,c=t.width+o,f=t.height+o;this.dn(i,this.Ct,!0,!1,t,r),this.Ct instanceof ze&&this.Ct.type===3?(i.beginPath(),i.rect(l-o/2,u-o/2,c,f),i.fillContext(this.Ct,!1,null)):i.fillRect(l-o/2,u-o/2,c,f)}sA(i,t){let r=i.AR(this);if(r!==-1)if(r===0)if(i.svg.Ct)i.svg.Ct.after(t);else if(i.type===re.Table){const o=i.svg.getElementsByClassName("gojs-ts"),l=o.length!==0?o[0]:null;l!==null&&l.after(t)}else i.svg.prepend(t);else{for(;r!==0&&!i.elt(r-1).isVisibleObject();)r--;if(r===0)i.svg.prepend(t);else{const o=i.elt(r-1).svg;o!==null?o.after(t):i.svg.appendChild(t)}}}SR(i,t){if(!(i instanceof Gi))return!1;if(!this.visible||this.opacity===0)return this.svg!==null&&this.svg.parentNode!==null&&this.svg.remove(),!0;if(this.Xs()&&!this.isVisible())return this.svg!==null&&this.svg.parentNode!==null&&this.svg.remove(),!0;const r=this.panel,o=this.sd(i);if(this.Zc(i,t,o))return this.nA(this.svg),this.svg.parentElement!==null?(this.Xs()&&(i.lastDrawnPart=this.svg),!0):(this.Xs()?(i.lastDrawnPart!==null?i.lastDrawnPart.after(this.svg):i.diagramGroup.prepend(this.svg),i.lastDrawnPart=this.svg):r&&this.sA(r,this.svg),!0);if(this.Xs()&&this.isShadowed){const N=this.shadowOffset;i.shadowsSet(N.x*t.scale*this.scale*t.Bi,N.y*t.scale*this.scale*t.Bi,this.shadowBlur),i.shadowsOn(),i.shadowColor=this.shadowColor}this instanceof on&&(i.font=this.font),i.currentElement=null;const l=this.L,u=this instanceof re,c=this instanceof re?this.tl():!1,f=this.svg;this.w0()===!0&&this.Tb();const g=this.Ai;i.setCurrentTransform(1,0,0,1,0,0),i.outerGroup=!1,o&&(i.outerGroup=!0,u&&c?(i.newGroup(1,0,0,1,0,0),this.svg=i.lastCreatedElement):u?(i.newGroup(l.m11,l.m12,l.m21,l.m22,l.dx,l.dy),this.svg=i.lastCreatedElement):i.newGroup(1,0,0,1,0,0));const y=this.naturalBounds;u||i.setCurrentTransform(l.m11,l.m12,l.m21,l.m22,l.dx,l.dy),this.background!==null&&(u?(c&&i.setCurrentTransform(l.m11,l.m12,l.m21,l.m22,l.dx,l.dy),this.Db(i,y,g),c&&i.setCurrentTransform(1,0,0,1,0,0)):(i.setCurrentTransform(l.m11,l.m12,l.m21,l.m22,l.dx,l.dy),this.Db(i,y,g)),i.currentElement.Ct=i.lastCreatedElement,i.currentElement.prepend(i.lastCreatedElement));const b=this.CR(t,i,i.currentElement);this.ch(i,t),u&&i.endGroup(),i.outerGroup&&i.endGroup();const w=i.surface.ju,P=u?this.svg:i.currentElement;if(!u&&f!==null&&P!==f&&f.parentNode===this.panel.svg){const N=this.svg.getAttribute("filter");return N!==null&&P.setAttribute("filter",N),this.svg.replaceWith(P),this.svg=P,P!==null&&this.P0(i,r,g,P),this.oA(i,f),!0}if(this.svg=P,w!==null&&P===null&&i.dummyGroup(),P===null)return!0;this.P0(i,r,g,P),this.LR(P,t,i,b);const E=this.Xs()?this.opacity*i.globalAlpha:this.opacity;if(E!==1&&P.setAttributeNS(null,"opacity",E.toString()),this.filter!==""&&P.setAttributeNS(null,"filter",this.filter),this.Xs()){if(f!==null&&P!==f&&f.parentNode===i.diagramGroup){const N=f.getAttribute("filter");N!==null&&P.setAttribute("filter",N),f.replaceWith(P)}else i.lastDrawnPart?i.lastDrawnPart.after(P):i.diagramGroup.prepend(P);i.lastDrawnPart=P}else r!==null&&this.sA(r,P);return w!==null&&w(this,P),this.nA(P),!0}nA(i){const t=this,r=i.dataset;t instanceof ce&&(t.portId!==null&&(r.portId=t.portId),t instanceof re&&(isNaN(t.itemIndex)||(r.itemIndex=t.itemIndex.toString()),t instanceof Le&&(r.className=n.sn(t),t.key!==void 0&&(r.key=t.key.toString()),t instanceof se&&(t.fromNode!==null&&t.fromNode.key!==void 0&&(r.fromKey=t.fromNode.key.toString()),t.fromPortId!==""&&(r.fromPortId=t.fromPortId),t.toNode!==null&&t.toNode.key!==void 0&&(r.toKey=t.toNode.key.toString()),t.toPortId!==""&&(r.toPortId=t.toPortId)))))}P0(i,t,r,o){let l=(this.n&256)!==0;if(i.clipInsteadOfFill&&(l=!1),!l){o.removeAttributeNS(null,"clip-path"),this.oA(i,o);return}const u=t.pn()?t.naturalBounds:t.actualBounds;let c=Math.max(r.x,u.x),f=Math.max(r.y,u.y),g=Math.min(r.right,u.right)-c,y=Math.min(r.bottom,u.bottom)-f;const b=this.si;b!==null&&(c=b.x,f=b.y,g=b.width,y=b.height);const w=o.getAttribute("clip-path");let P=null;if(w!==null&&(P=i.svg.getElementById(w.split("#")[1].slice(0,-1))),P===null){const E="CLIP"+M.nu++,N={id:E},_=i.makeElement("clipPath",N),R=i.makeElement("rect",{x:c,y:f,width:g,height:y});if(this instanceof re){const $=this.L.copy().pw();R.setAttribute("transform",`matrix(${$.m11}, ${$.m12}, ${$.m21}, ${$.m22}, ${$.dx}, ${$.dy})`)}_.appendChild(R),i.svg.appendChild(_),o.setAttributeNS(null,"clip-path","url(#"+E+")")}else{const E=P.firstElementChild;E.setAttribute("x",c.toString()),E.setAttribute("y",f.toString()),E.setAttribute("width",g.toString()),E.setAttribute("height",y.toString())}}oA(i,t){const r=t.getAttribute("clip-path");if(r===null)return;const o=i.svg.getElementById(r.split("#")[1].slice(0,-1));o!==null&&o.remove()}TR(){if(this.svg===null)return;const i=this.svg.innerHTML.match(/url\(#((CLIP|GRAD).+?)\)/g),t=this.svg.ownerDocument;if(i!==null)for(const r of i){const o=t.getElementById(r.split("#")[1].slice(0,-1));o!==null&&o.remove()}this.svg.remove()}NR(i,t){const r=this.Ai,o=this.Vi,l=this.Ct;l!==null&&i.commitTransform(),l!==null&&(this.dn(i,l,!0,!1,o,r),l instanceof ze&&l.type===3?(i.beginPath(),i.rect(r.x,r.y,r.width,r.height),i.fillContext(l,!1,null)):i.fillRect(r.x,r.y,r.width,r.height)),this.ch(i,t)}ch(i,t){}h2(){this.ns(!0)}Zc(i,t,r){const o=this.svg;if(this.DR()){if(this.h2(),this.ns(!1),o===null)return!1;const g=this.svg.getAttribute("clip-path");if(g!==null){const y=i.svg.getElementById(g.split("#")[1].slice(0,-1));y!==null&&y.remove()}return!1}if(o===null)return!1;if(!this.visible)return o.remove(),!1;if(o.nodeName!=="g"&&r||o.nodeName==="g"&&!r)return!1;const l=this.L,u=this instanceof re,c=this instanceof re?this.tl():!1;if(!(u&&c))if(this instanceof Ii){const g=this.vb;i.setCurrentTransform(l.m11,l.m12,l.m21,l.m22,l.dx,l.dy),g!==null&&i.amendImageTransform(g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7]),r?o.lastElementChild.setAttributeNS(null,"transform",i.getCurrentTransform()):o.setAttributeNS(null,"transform",i.getCurrentTransform())}else if(r&&!(this instanceof re))if(this instanceof fe){const g=o.getElementsByTagName("path");for(let y=0;y<g.length;y++)g[y].setAttributeNS(null,"transform","matrix("+l.m11+", "+l.m12+", "+l.m21+", "+l.m22+", "+l.dx+", "+l.dy+")")}else(o.lastElementChild||o).setAttributeNS(null,"transform","matrix("+l.m11+", "+l.m12+", "+l.m21+", "+l.m22+", "+l.dx+", "+l.dy+")");else o.setAttributeNS(null,"transform","matrix("+l.m11+", "+l.m12+", "+l.m21+", "+l.m22+", "+l.dx+", "+l.dy+")");const f=this.Xs()?this.opacity*i.globalAlpha:this.opacity;if(f===1?o.removeAttribute("opacity"):o.setAttributeNS(null,"opacity",f.toString()),i.setCurrentTransform(1,0,0,1,0,0),this.background!==null||o.Ct!==void 0){const g=o.Ct;if(this.background===null)i.removeOldGradient(this,o.Ct,"fill"),o.Ct.remove(),o.Ct=void 0;else{if((c||r&&!(this instanceof re))&&i.setCurrentTransform(l.m11,l.m12,l.m21,l.m22,l.dx,l.dy),this.Db(i,this.naturalBounds,this.actualBounds),o.Ct){i.removeOldGradient(this,o.Ct,"fill");const y=o.Ct.getAttribute("filter");y!==null&&i.lastCreatedElement.setAttribute("filter",y),o.Ct.replaceWith(i.lastCreatedElement)}else o.prepend(i.lastCreatedElement);o.Ct=i.lastCreatedElement}g&&i.removeOldGradient(this,g,"fill")}return this.P0(i,this.panel,this.actualBounds,o),!0}sd(i){if(this.background!==null)return!0;let t=(this.n&256)!==0;return i.clipInsteadOfFill&&(t=!1),!!t}static aE(i,t,r,o,l,u,c){let f=.001;const g=u.length;i.moveTo(t,r);let y=o-t;const b=l-r;y===0&&(y=.001);const w=b/y;let P=Math.sqrt(y*y+b*b),E=0,N=!0;f=u[E%g];let _=c!==0;for(;P>=.1;){if(_){for(f=u[E++%g],f-=c;f<0;)f+=u[E++%g],N=!N;_=!1}else f=u[E++%g];f>P&&(f=P);let R=Math.sqrt(f*f/(1+w*w));y<0&&(R=-R),t+=R,r+=w*R,N?i.lineTo(t,r):i.moveTo(t,r),P-=f,N=!N}}dn(i,t,r,o,l,u){let c=1,f=1;if(typeof t=="string"){r?i.fillStyle=t:i.strokeStyle=t;return}else if(t.type===1){r?i.fillStyle=t.color:i.strokeStyle=t.color;return}let g;const y=this.Ab();c=l.width,f=l.height,o?(c=u.width,f=u.height):r||(c+=y,f+=y);const b=i instanceof Se;if(b&&t.yn&&(t.type===4||t.Qc===c&&t.Ob===f))g=t.yn;else{let w=0,P=0,E=0,N=0,_=0,R=0,$=0,q=0;if(o?($=u.x,q=u.y):r||($-=y/2,q-=y/2),w=t.start.x*c+t.start.offsetX+$,P=t.start.y*f+t.start.offsetY+q,E=t.end.x*c+t.end.offsetX+$,N=t.end.y*f+t.end.offsetY+q,t.type===2)g=i.createLinearGradient(w,P,E,N);else if(t.type===3)R=isNaN(t.endRadius)?Math.max(c,f)/2:t.endRadius,isNaN(t.startRadius)?(_=0,R=Math.max(c,f)/2):_=t.startRadius,g=i.createRadialGradient(w,P,_,E,N,R);else if(t.type===4)try{g=i.createPattern(t.pattern,"repeat")}catch{g=null}else n.xe(t.type,"Brush type");if(t.type!==4){const X=t.colorStops;if(X!==null){const H=X.iterator;for(;H.next();)g.addColorStop(H.key,H.value)}}if(b&&(t.yn=g,g!==null&&(t.Qc=c,t.Ob=f),g===null&&t.type===4&&t.Qc!==-1)){t.Qc=-1;const X=this.diagram;X!==null&&t.Qc===-1&&n.vh(()=>{X.redraw()},600)}}r?i.fillStyle=g:i.strokeStyle=g}isContainedBy(i){return i instanceof re?this.FR(this,i):!1}FR(i,t){if(i===t||t===null)return!1;let r=i.panel;for(;r!==null;){if(r===t)return!0;r=r.panel}return!1}isVisibleObject(){if(!this.visible)return!1;const i=this.panel;return i!==null?i.isVisibleObject():!0}isEnabledObject(){let i=this instanceof re?this:this.panel;for(;i!==null&&i.isEnabled;)i=i.panel;return i===null}get enabledChanged(){return this.f!==null?this.f.M0:null}set enabledChanged(i){const t=this.enabledChanged;t!==i&&(i!==null&&n.i(i,"function",ce,"enabledChanged"),this.jt(),this.f.M0=i,this.t("enabledChanged",t,i))}Tb(){if(this.Ib()===!0){const i=this.Zr;if(i.Jt(),!this.Ai.isReal()||!this.se.isReal()){this.nd(!1);return}if(i.Zi(this.Ai.x-this.se.x,this.Ai.y-this.se.y),this.scale!==1||this.angle!==0){const t=this.naturalBounds;this.y0(i,t.x,t.y,t.width,t.height)}this.nd(!1),this.pa(!0)}if(this.w0()===!0){const i=this.panel;if(i===null)this.oh.set(this.Zr),this.Hc=this.scale;else if(i.ys!==null){const t=this.oh;t.Jt(),i.pn()?t._a(i.oh):i.panel!==null&&t._a(i.panel.oh),t._a(this.Zr),this.Hc=this.scale*i.Hc}this.pa(!1)}}y0(i,t,r,o,l){if(this.K!==1&&i.K(this.K),this.Xt===0)return;const u=C.l();u.setSpot(t,r,o,l,U.Center),i.fs(this.Xt,u.x,u.y),C.s(u)}c(i){if(this.Oo())return;i===void 0&&(i=!1),this.ue(!0),this.Qn(!0);const t=this.panel;t!==null&&!i&&t.c()}_c(){this.Oo()||(this.ue(!0),this.Qn(!0))}tf(i){if(this.es())return;const t=this.panel;!i&&t!==null&&t.c(),this.Qn(!0)}td(){this.Ib()===!1&&(this.nd(!0),this.pa(!0))}a2(){this.pa(!0)}C(){const i=this.part;i!==null&&i.C()}zs(i){const t=this.stretch,r=this.panel;if(r!==null&&r.type===re.Table)return this.S0(r.getRowDefinition(this.row),r.getColumnDefinition(this.column),i);if(r!==null&&r.type===re.Auto&&r.findMainElement()===this)return this.zo(2,i);if(t===1){if(r!==null){if(r.type===re.Spot&&r.findMainElement()===this)return this.zo(2,i);const o=r.defaultStretch;return o===1?this.zo(0,i):this.zo(o,i)}return this.zo(0,i)}return this.zo(t,i)}S0(i,t,r){const o=this.stretch;if(o!==1)return this.zo(o,r);let l=null,u=null;switch(i.stretch){case 1:case 5:break;case 4:u=!0;break;case 2:u=!0;break}switch(t.stretch){case 1:case 4:break;case 5:l=!0;break;case 2:l=!0;break}const c=this.panel.defaultStretch;return l===null&&(l=c===5||c===2),u===null&&(u=c===4||c===2),l===!0&&u===!0?this.zo(2,r):l===!0?this.zo(5,r):u===!0?this.zo(4,r):this.zo(0,r)}zo(i,t){if(t)return i;if(i===0)return 0;const r=this.desiredSize;if(r.isReal())return 0;const o=!isNaN(r.width),l=!isNaN(r.height),u=this.angle;if(o)if(u!==90&&u!==270){if(i===5)return 0;if(i===2)return 4}else{if(i===4)return 0;if(i===2)return 5}if(l)if(u!==90&&u!==270){if(i===4)return 0;if(i===2)return 5}else{if(i===5)return 0;if(i===2)return 4}return i}get segmentOrientation(){return this.Ut!==null?this.Ut.N0:0}set segmentOrientation(i){const t=this.segmentOrientation;t!==i&&(this.Ut===null&&(this.Ut=new Fs),this.Ut.N0=i,this.c(),this.t("segmentOrientation",t,i),i===0&&(this.angle=0))}RR(){this.segmentOrientation=21}get segmentIndex(){return this.Ut!==null?this.Ut.C0:-1/0}set segmentIndex(i){i=Math.round(i);const t=this.segmentIndex;t!==i&&(this.Ut===null&&(this.Ut=new Fs),this.Ut.C0=i,this.c(),this.t("segmentIndex",t,i))}get segmentFraction(){return this.Ut!==null?this.Ut.L0:0}set segmentFraction(i){isNaN(i)||i<0?i=0:i>1&&(i=1);const t=this.segmentFraction;t!==i&&(this.Ut===null&&(this.Ut=new Fs),this.Ut.L0=i,this.c(),this.t("segmentFraction",t,i))}get segmentOffset(){return this.Ut!==null?this.Ut.A0:C.ko}set segmentOffset(i){const t=this.segmentOffset;t.equals(i)||(i=i.N(),this.Ut===null&&(this.Ut=new Fs),this.Ut.A0=i,this.c(),this.t("segmentOffset",t,i))}get stretch(){return this.f!==null?this.f._n:1}set stretch(i){const t=this.stretch;t!==i&&(this.jt(),this.f._n=i,this.c(),this.t("stretch",t,i))}get name(){return this.f!==null?this.f.St:""}set name(i){const t=this.name;t!==i&&(this.jt(),this.f.St=i,this.part!==null&&this.part.T0(),this.t("name",t,i))}get opacity(){return this.Wt}set opacity(i){const t=this.Wt;if(t!==i){n.i(i,"number",ce,"opacity"),(i<0||i>1)&&n.tt(i,"0 <= value <= 1",ce,"opacity"),this.Wt=i,this.t("opacity",t,i);const r=this.diagram,o=this.part;r!==null&&o!==null&&r.C(o.jh(o.actualBounds))}}get filter(){return this.Ju}set filter(i){const t=this.Ju;if(t!==i){this.Ju=i,this.ns(!0),this.t("filter",t,i);const r=this.diagram,o=this.part;r!==null&&o!==null&&r.C(o.jh(o.actualBounds))}}get visible(){return(this.n&1)!==0}set visible(i){const t=(this.n&1)!==0;if(t!==i){this.n=this.n^1,this.t("visible",t,i);const r=this.panel;r!==null?r.c():this.Xs()&&this.Ei(i),this.C(),this.rA()}}get pickable(){return(this.n&2)!==0}set pickable(i){const t=(this.n&2)!==0;t!==i&&(this.n=this.n^2,this.t("pickable",t,i))}get fromLinkableDuplicates(){return(this.n&4)!==0}set fromLinkableDuplicates(i){const t=(this.n&4)!==0;t!==i&&(this.n=this.n^4,this.t("fromLinkableDuplicates",t,i))}get fromLinkableSelfNode(){return(this.n&8)!==0}set fromLinkableSelfNode(i){const t=(this.n&8)!==0;t!==i&&(this.n=this.n^8,this.t("fromLinkableSelfNode",t,i))}get toLinkableDuplicates(){return(this.n&16)!==0}set toLinkableDuplicates(i){const t=(this.n&16)!==0;t!==i&&(this.n=this.n^16,this.t("toLinkableDuplicates",t,i))}get toLinkableSelfNode(){return(this.n&32)!==0}set toLinkableSelfNode(i){const t=(this.n&32)!==0;t!==i&&(this.n=this.n^32,this.t("toLinkableSelfNode",t,i))}get isPanelMain(){return(this.n&64)!==0}set isPanelMain(i){const t=(this.n&64)!==0;t!==i&&(this.n=this.n^64,this.c(),this.t("isPanelMain",t,i))}get isActionable(){return(this.n&128)!==0}set isActionable(i){const t=(this.n&128)!==0;t!==i&&(this.n=this.n^128,this.t("isActionable",t,i))}get background(){return this.Ct}set background(i){const t=this.Ct;t!==i&&(i!==null&&ze.od(i,"GraphObject.background"),i instanceof ze&&i.g(),this.Ct=i,this.C(),this.t("background",t,i))}o2(){return(this.n&512)!==0}Rb(i){i?this.n|=512:this.n&=-513}Jc(){return(this.n&1024)!==0}c2(i){i?this.n|=1024:this.n&=-1025}Ib(){return(this.n&2048)!==0}nd(i){i?this.n|=2048:this.n&=-2049}w0(){return(this.n&4096)!==0}pa(i){i?this.n|=4096:this.n&=-4097}Oo(){return(this.n&8192)!==0}ue(i){i?this.n|=8192:this.n&=-8193}es(){return(this.n&16384)!==0}Qn(i){i?this.n|=16384:this.n&=-16385}DR(){return(this.n&32768)!==0}ns(i){i?this.n|=32768:this.n&=-32769}get part(){if(this.Xs())return this;if(this._r!==null)return this._r;let i=this;for(i=i.panel;i;){if(i instanceof Le)return this._r=i,i;i=i.panel}return null}get svg(){return this.i2}set svg(i){this.i2=i}Fu(){this.svg=null}get panel(){return this.Vs}ya(i){this.Vs=i,this.svg!==null&&this.svg.remove()}get layer(){const i=this.part;return i!==null?i.layer:null}get diagram(){const i=this.part;return i!==null?i.diagram:null}get position(){return this.st}set position(i){const t=i.x,r=i.y,o=this.st,l=o.x,u=o.y;l!==t&&(!isNaN(l)||!isNaN(t))||u!==r&&(!isNaN(u)||!isNaN(r))?(i=i.copy(),this.f2(i,l,u)&&this.t("position",new C(l,u),i)):this.u2()}u2(){}f2(i,t,r){return this.st=i,this.tf(),!0}wc(i,t,r){this.st.x===i&&this.st.y===t||(this.st.e(i,t),this.td())}get actualBounds(){return this.Ai}get scale(){return this.K}set scale(i){const t=this.K;t!==i&&(i<=0&&n.o("GraphObject.scale for "+this+" must be greater than zero, not: "+i),this.K=i,this.c(),this.t("scale",t,i))}get angle(){return this.Xt}set angle(i){const t=this.Xt;if(t!==i){if(i=i%360,i<0&&(i+=360),t===i)return;this.Xt=i,this.rA(),this.c(),this.t("angle",t,i)}}get desiredSize(){return this.Xe}set desiredSize(i){const t=i.width,r=i.height,o=this.Xe,l=o.width,u=o.height;if((l!==t&&(!isNaN(l)||!isNaN(t))||u!==r&&(!isNaN(u)||!isNaN(r)))&&(i=i.N(),this.Xe=i,this.c(),this instanceof fe&&this.ee(),this.t("desiredSize",o,i),this.Jc())){const c=this.part;c!==null&&(this.ma(c,"width"),this.ma(c,"height"))}}get width(){return this.Xe.width}set width(i){const t=this.Xe.width;if(t!==i&&(!isNaN(t)||!isNaN(i))){const r=this.Xe,o=new z(i,this.Xe.height).g();if(this.Xe=o,this.c(),this instanceof fe&&this.ee(),this.t("desiredSize",r,o),this.Jc()){const l=this.part;l!==null&&this.ma(l,"width")}}}get height(){return this.Xe.height}set height(i){const t=this.Xe.height;if(t!==i&&(!isNaN(t)||!isNaN(i))){const r=this.Xe,o=new z(this.Xe.width,i).g();if(this.Xe=o,this.c(),this instanceof fe&&this.ee(),this.t("desiredSize",r,o),this.Jc()){const l=this.part;l!==null&&this.ma(l,"height")}}}get minSize(){return this.f!==null?this.f.xr:z.lu}set minSize(i){const t=this.minSize;t.equals(i)||(i=i.copy(),isNaN(i.width)&&(i.width=0),isNaN(i.height)&&(i.height=0),i.g(),this.jt(),this.f.xr=i,this.c(),this.t("minSize",t,i))}get maxSize(){return this.f!==null?this.f.br:z.iC}set maxSize(i){const t=this.maxSize;t.equals(i)||(i=i.copy(),isNaN(i.width)&&(i.width=1/0),isNaN(i.height)&&(i.height=1/0),i.g(),this.jt(),this.f.br=i,this.c(),this.t("maxSize",t,i))}get measuredBounds(){return this.se}get naturalBounds(){return this.Vi}Ab(){return 0}get margin(){return this.Qr}set margin(i){typeof i=="number"&&(i=new Y(i));const t=this.Qr;t.equals(i)||(i=i.N(),this.Qr=i,this.c(),this.t("margin",t,i))}get L(){return this.Ib()===!0&&this.Tb(),this.Zr}get ys(){return this.w0()===!0&&this.Tb(),this.oh}trigger(i,t,r){let o=null;return typeof i=="string"?o=new Bn(i,t,r):o=i,o.Pe=this,this.xs===null&&(this.xs=new V),this.xs.set(o.propertyName,o),this}get xs(){return this.f!==null?this.f.xs:null}set xs(i){this.xs!==i&&(this.jt(),this.f.xs=i)}get wr(){return this.f!==null?this.f.wr:0}set wr(i){this.wr!==i&&(this.jt(),this.f.wr=i)}get alignment(){return this.oi}set alignment(i){const t=this.oi;t.equals(i)||(i.isNoSpot()&&!i.isDefault()&&n.o("GraphObject.alignment for "+this+" must be a real Spot or Spot.Default, not: "+i),i=i.N(),this.oi=i,this.tf(),this.t("alignment",t,i))}get column(){return this.Bo}set column(i){i=Math.round(i);const t=this.Bo;t!==i&&(i<0&&n.tt(i,">= 0",ce,"column"),this.Bo=i,this.c(),this.t("column",t,i),this.svg!==null&&this.svg.remove())}get columnSpan(){return this.f!==null?this.f.D0:1}set columnSpan(i){i=Math.round(i);const t=this.columnSpan;t!==i&&(i<1&&n.tt(i,">= 1",ce,"columnSpan"),this.jt(),this.f.D0=i,this.c(),this.t("columnSpan",t,i))}get row(){return this.Wu}set row(i){i=Math.round(i);const t=this.Wu;t!==i&&(i<0&&n.tt(i,">= 0",ce,"row"),this.Wu=i,this.c(),this.t("row",t,i),this.svg!==null&&this.svg.remove())}get rowSpan(){return this.f!==null?this.f.F0:1}set rowSpan(i){i=Math.round(i);const t=this.rowSpan;t!==i&&(i<1&&n.tt(i,">= 1",ce,"rowSpan"),this.jt(),this.f.F0=i,this.c(),this.t("rowSpan",t,i))}get spanAllocation(){return this.f!==null?this.f.R0:null}set spanAllocation(i){const t=this.spanAllocation;t!==i&&(i!==null&&n.i(i,"function",ce,"spanAllocation"),this.jt(),this.f.R0=i,this.c(),this.t("spanAllocation",t,i))}get alignmentFocus(){return this.qc}set alignmentFocus(i){const t=this.qc;t.equals(i)||(i=i.N(),this.qc=i,this.c(),this.t("alignmentFocus",t,i))}get portId(){return this.qu}set portId(i){const t=this.qu;if(t!==i){const r=this.part;r!==null&&!(r instanceof Jt)&&n.o("Cannot set portID on a Link: "+i);const o=r;t!==null&&o!==null&&o.d2(this),this.qu=i,i!==null&&o!==null&&(o.wn=!0,o.lA(this)),this.t("portId",t,i)}}wa(){const i=this.part;if(i instanceof Jt&&(this.portId!==null||this===i.port)){const t=i.diagram;t!==null&&!t.undoManager.isUndoingRedoing&&i._L(this)}}rA(){const i=this.diagram;i===null||i.undoManager.isUndoingRedoing||(this instanceof re?this instanceof Jt?this.invalidateConnectedLinks():this.walkVisualTreeFrom(this,t=>{t.wa()}):this.wa())}get toSpot(){return this.W!==null?this.W.ca:U.None}set toSpot(i){const t=this.toSpot;t.equals(i)||(i=i.N(),this.Ke(),this.W.ca=i,this.t("toSpot",t,i),this.wa())}get toEndSegmentLength(){return this.W!==null?this.W.ua:10}set toEndSegmentLength(i){const t=this.toEndSegmentLength;t!==i&&(i<0&&n.tt(i,">= 0",ce,"toEndSegmentLength"),this.Ke(),this.W.ua=i,this.t("toEndSegmentLength",t,i),this.wa())}get toShortLength(){return this.W!==null?this.W.ga:0}set toShortLength(i){const t=this.toShortLength;t!==i&&(this.Ke(),this.W.ga=i,this.t("toShortLength",t,i),this.wa())}get toLinkable(){return this.W!==null?this.W.v0:null}set toLinkable(i){const t=this.toLinkable;t!==i&&(this.Ke(),this.W.v0=i,this.t("toLinkable",t,i))}get toMaxLinks(){return this.W!==null?this.W.O0:1/0}set toMaxLinks(i){const t=this.toMaxLinks;t!==i&&(i<0&&n.tt(i,">= 0",ce,"toMaxLinks"),this.Ke(),this.W.O0=i,this.t("toMaxLinks",t,i))}get fromSpot(){return this.W!==null?this.W.aa:U.None}set fromSpot(i){const t=this.fromSpot;t.equals(i)||(i=i.N(),this.Ke(),this.W.aa=i,this.t("fromSpot",t,i),this.wa())}get fromEndSegmentLength(){return this.W!==null?this.W.fa:10}set fromEndSegmentLength(i){const t=this.fromEndSegmentLength;t!==i&&(i<0&&n.tt(i,">= 0",ce,"fromEndSegmentLength"),this.Ke(),this.W.fa=i,this.t("fromEndSegmentLength",t,i),this.wa())}get fromShortLength(){return this.W!==null?this.W.da:0}set fromShortLength(i){const t=this.fromShortLength;t!==i&&(this.Ke(),this.W.da=i,this.t("fromShortLength",t,i),this.wa())}get fromLinkable(){return this.W!==null?this.W.I0:null}set fromLinkable(i){const t=this.fromLinkable;t!==i&&(this.Ke(),this.W.I0=i,this.t("fromLinkable",t,i))}get fromMaxLinks(){return this.W!==null?this.W.E0:1/0}set fromMaxLinks(i){const t=this.fromMaxLinks;t!==i&&(i<0&&n.tt(i,">= 0",ce,"fromMaxLinks"),this.Ke(),this.W.E0=i,this.t("fromMaxLinks",t,i))}get cursor(){return this.f!==null?this.f.Sl:""}set cursor(i){const t=this.cursor;t!==i&&(n.i(i,"string",ce,"cursor"),this.jt(),this.f.Sl=i,this.t("cursor",t,i))}get click(){return this.f!==null?this.f.Tr:null}set click(i){const t=this.click;t!==i&&(i!==null&&n.i(i,"function",ce,"click"),this.jt(),this.f.Tr=i,this.t("click",t,i))}get doubleClick(){return this.f!==null?this.f.Dr:null}set doubleClick(i){const t=this.doubleClick;t!==i&&(i!==null&&n.i(i,"function",ce,"doubleClick"),this.jt(),this.f.Dr=i,this.t("doubleClick",t,i))}get contextClick(){return this.f!==null?this.f.Fr:null}set contextClick(i){const t=this.contextClick;t!==i&&(i!==null&&n.i(i,"function",ce,"contextClick"),this.jt(),this.f.Fr=i,this.t("contextClick",t,i))}get mouseEnter(){return this.f!==null?this.f.Er:null}set mouseEnter(i){const t=this.mouseEnter;t!==i&&(i!==null&&n.i(i,"function",ce,"mouseEnter"),this.jt(),this.f.Er=i,this.t("mouseEnter",t,i))}get mouseLeave(){return this.f!==null?this.f.Ur:null}set mouseLeave(i){const t=this.mouseLeave;t!==i&&(i!==null&&n.i(i,"function",ce,"mouseLeave"),this.jt(),this.f.Ur=i,this.t("mouseLeave",t,i))}get mouseOver(){return this.f!==null?this.f.Rr:null}set mouseOver(i){const t=this.mouseOver;t!==i&&(i!==null&&n.i(i,"function",ce,"mouseOver"),this.jt(),this.f.Rr=i,this.t("mouseOver",t,i))}get mouseHover(){return this.f!==null?this.f.vr:null}set mouseHover(i){const t=this.mouseHover;t!==i&&(i!==null&&n.i(i,"function",ce,"mouseHover"),this.jt(),this.f.vr=i,this.t("mouseHover",t,i))}get mouseHold(){return this.f!==null?this.f.Or:null}set mouseHold(i){const t=this.mouseHold;t!==i&&(i!==null&&n.i(i,"function",ce,"mouseHold"),this.jt(),this.f.Or=i,this.t("mouseHold",t,i))}get mouseDragEnter(){return this.f!==null?this.f.U0:null}set mouseDragEnter(i){const t=this.mouseDragEnter;t!==i&&(i!==null&&n.i(i,"function",ce,"mouseDragEnter"),this.jt(),this.f.U0=i,this.t("mouseDragEnter",t,i))}get mouseDragLeave(){return this.f!==null?this.f.B0:null}set mouseDragLeave(i){const t=this.mouseDragLeave;t!==i&&(i!==null&&n.i(i,"function",ce,"mouseDragLeave"),this.jt(),this.f.B0=i,this.t("mouseDragLeave",t,i))}get mouseDrop(){return this.f!==null?this.f.Ir:null}set mouseDrop(i){const t=this.mouseDrop;t!==i&&(i!==null&&n.i(i,"function",ce,"mouseDrop"),this.jt(),this.f.Ir=i,this.t("mouseDrop",t,i))}get actionDown(){return this.f!==null?this.f.V0:null}set actionDown(i){const t=this.actionDown;t!==i&&(i!==null&&n.i(i,"function",ce,"actionDown"),this.jt(),this.f.V0=i,this.t("actionDown",t,i))}get actionMove(){return this.f!==null?this.f.z0:null}set actionMove(i){const t=this.actionMove;t!==i&&(i!==null&&n.i(i,"function",ce,"actionMove"),this.jt(),this.f.z0=i,this.t("actionMove",t,i))}get actionUp(){return this.f!==null?this.f.X0:null}set actionUp(i){const t=this.actionUp;t!==i&&(i!==null&&n.i(i,"function",ce,"actionUp"),this.jt(),this.f.X0=i,this.t("actionUp",t,i))}get actionCancel(){return this.f!==null?this.f.K0:null}set actionCancel(i){const t=this.actionCancel;t!==i&&(i!==null&&n.i(i,"function",ce,"actionCancel"),this.jt(),this.f.K0=i,this.t("actionCancel",t,i))}get toolTip(){return this.f!==null?this.f.Br:null}set toolTip(i){const t=this.toolTip;t!==i&&(this.jt(),this.f.Br=i,this.t("toolTip",t,i))}get contextMenu(){return this.f!==null?this.f.Vr:null}set contextMenu(i){const t=this.contextMenu;t!==i&&(this.jt(),this.f.Vr=i,this.t("contextMenu",t,i))}findBindingPanel(){let i=this instanceof re?this:this.panel;for(;i!==null;){if(i.g2())return i;i=i.panel}return null}bind(i,t,r,o){return this.ef(i,t,r,o),this}bindTwoWay(i,t,r,o){return this.ef(i,t,r,o).makeTwoWay(),this}bindModel(i,t,r,o){return this.ef(i,t,r,o).ofModel(),this}bindObject(i,t,r,o,l){return this.ef(i,t,r,o).ofObject(l),this}theme(i,t,r,o,l){return this.fh(i,t,r,o,l),this}themeData(i,t,r,o,l){return this.fh(i,t,r,o,l).ofData(),this}themeObject(i,t,r,o,l,u){return this.fh(i,t,r,o,l).ofObject(u),this}themeModel(i,t,r,o,l){return this.fh(i,t,r,o,l).ofModel(),this}ef(i,t,r,o){let l=null;return typeof i=="string"?l=new Zt(i,t,r,o):l=i,this.Y0(l),l}fh(i,t,r,o,l){let u=null;return typeof i=="string"?u=new ge(i,t,r,o,l):u=i,this.Y0(u),u}Y0(i){i.Pe=this;const t=this.findBindingPanel();t!==null&&t.hA()&&n.o("Cannot add a Binding to a template that has already been copied: "+i),this.Ti===null&&(this.Ti=new x),this.Ti.add(i)}set(i){return Object.assign(this,i),this}attach(i){return ce.m2(this,i),this}apply(i){return i(this),this}setProperties(i){return xe.a0(this,i),this}static build(i,t,...r){const o=ce.G0.get(i);if(typeof o=="function"){const l=o([i].concat(r));if(l instanceof ce)return t&&l.setProperties(t),l}n.o('GraphObject.build invoked object builder "'+i+'", but it did not return an Object')}static make(i,...t){let r=arguments,o=null,l=null;if(typeof i=="function")l=i;else if(typeof i=="string"){const c=ce.G0.get(i);typeof c=="function"?(r=Array.prototype.slice.call(r),o=c(r),n.wt(o)||n.o('GraphObject.make invoked object builder "'+i+'", but it did not return an Object')):l=e.go[i]}o===null&&((l==null||!l.constructor)&&n.o("GraphObject.make requires a class function or GoJS class name or name of an object builder, not: "+i),o=new l);let u=1;if(o instanceof xe&&r.length>1){const c=o,f=r[1];(typeof f=="string"||f instanceof HTMLDivElement)&&(c.gS(f),u++)}for(let c=u;c<r.length;c++){const f=r[c];f===void 0?n.o("Undefined value at argument "+c+" for object being constructed by GraphObject.make: "+o):ce.m2(o,f)}return o}static m2(i,t){if(typeof t=="number")ce.vR(i,t);else if(typeof t=="string")ce.OR(i,t);else if(t instanceof ce)i instanceof re||n.o("A GraphObject can only be added to a Panel, not to: "+i),i.add(t);else if(t instanceof wi){let r;t.isRow&&typeof i.getRowDefinition=="function"?r=i.getRowDefinition(t.index):!t.isRow&&typeof i.getColumnDefinition=="function"&&(r=i.getColumnDefinition(t.index)),r instanceof wi?r.Eb(t):n.o("A RowColumnDefinition can only be added to an object that implements getRowDefinition/getColumnDefinition, not to: "+i)}else if(t instanceof Ee){const r=i;r.type=t}else if(t instanceof Zt)i instanceof ce||i instanceof wi?i.bind(t):n.o("A Binding can only be applied to a GraphObject or RowColumnDefinition, not to: "+i);else if(t instanceof Bn)i instanceof ce?i.trigger(t):n.o("An AnimationTrigger can only be applied to a GraphObject, not to: "+i);else if(t instanceof dt)i instanceof lt&&i.type===4?i.figures.add(t):n.o("A PathFigure can only be added to a Path Geometry, not to: "+i);else if(t instanceof vt)i instanceof dt?i.segments.add(t):n.o("A PathSegment can only be added to a PathFigure, not to: "+i);else if(t instanceof Ie)i instanceof xe||i instanceof Ut?i.layout=t:n.o("A Layout can only be assigned to a Diagram or a Group, not to: "+i);else if(Array.isArray(t))for(let r=0;r<t.length;r++){const o=t[r];ce.m2(i,o)}else typeof t=="object"&&t!==null?ce.IR(i,t):n.o('Unknown initializer "'+t+'" for object being constructed by GraphObject.make: '+i)}static OR(i,t){if(i instanceof on)i.text=t;else if(i instanceof fe)i.figure=t;else if(i instanceof Ii)i.source=t;else if(i instanceof re){const r=Ee.Layouts.get(t);r!==null&&(i.type=r)}else if(i instanceof ze){const r=n.Oh(Wi,t);r!==null?i.type=r:n.o("Unknown Brush type as an argument to GraphObject.make: "+t)}else if(i instanceof lt){const r=n.Oh(rt,t);r!==null&&(i.type=r)}else if(i instanceof vt){const r=n.Oh(mt,t);r!==null&&(i.type=r)}}static vR(i,t){typeof i.li=="function"?i.li(t):n.lr(i,t)}static IR(i,t){if(i instanceof ze){const r=new a;for(const o in t){const l=parseFloat(o);isNaN(l)?r[o]=t[o]:i.addColorStop(l,t[o])}xe.a0(i,r)}else if(i instanceof wi){if(t.row!==void 0){const o=t.row;(o==null||o===1/0||isNaN(o)||o<0)&&n.o("Must specify non-negative integer row for RowColumnDefinition "+t+", not: "+o),i.isRow=!0,i.index=o}else if(t.column!==void 0){const o=t.column;(o==null||o===1/0||isNaN(o)||o<0)&&n.o("Must specify non-negative integer column for RowColumnDefinition "+t+", not: "+o),i.isRow=!1,i.index=o}const r=new a;for(const o in t)o==="row"||o==="column"||(r[o]=t[o]);xe.a0(i,r)}else xe.a0(i,t)}static cE(){const i=new V;for(const t in ce.G0){if(t===t.toLowerCase())continue;const r=ce.G0.get(t);typeof r=="function"&&i.set(t,r)}return i.g(),i}static defineBuilder(i,t){n.i(i,"string",ce,"defineBuilder:name"),n.i(t,"function",ce,"defineBuilder:func"),i.toLowerCase(),ce.G0.set(i,t)}static takeBuilderArgument(i,t,r){r===void 0&&(r=null);const o=i[1];if(typeof r=="function"?r(o):typeof o=="string")return i.splice(1,1),o;if(t===void 0)throw new Error("no "+(typeof r=="function"?"satisfactory":"string")+" argument for GraphObject builder "+i[0]);return t}};T(ce,"None",0),T(ce,"Default",1),T(ce,"Fill",2),T(ce,"Vertical"),T(ce,"Horizontal"),T(ce,"Uniform",6),T(ce,"UniformToFill",7),T(ce,"FlipVertical",1),T(ce,"FlipHorizontal",2),T(ce,"FlipBoth",3),T(ce,"G0",new V),ce.Vertical=4,ce.Horizontal=5,ce.defineBuilder("Button",i=>{const t="#f5f5f5",r="#737373",o="#d4d4d4",l="#737373",u="#a3a3a3",c=2.76142374915397,f=2.761423749153969,g=new re(re.Auto,{isActionable:!0,enabledChanged:(y,b)=>{if(y instanceof re){const w=y.findObject("ButtonBorder");w!==null&&(b?(y._buttonFillDisabled=w.fill,w.fill=y._buttonFillNormal):(y._buttonFillNormal=w.fill,w.fill=y._buttonFillDisabled))}},cursor:"pointer"}).attach({_buttonFillNormal:t,_buttonStrokeNormal:r,_buttonFillOver:o,_buttonStrokeOver:l,_buttonFillDisabled:u}).add(new fe("RoundedRectangle",{name:"ButtonBorder",spot1:new U(0,0,c,f),spot2:new U(1,1,-c,-f),parameter1:2,fill:t,stroke:r}));return g.mouseEnter=(y,b,w)=>{if(!b.isEnabledObject()||!(b instanceof re))return;const P=b.findObject("ButtonBorder");P instanceof fe&&(b._buttonFillNormal=P.fill,P.fill=b._buttonFillOver,b._buttonStrokeNormal=P.stroke,P.stroke=b._buttonStrokeOver)},g.mouseLeave=(y,b,w)=>{if(!b.isEnabledObject()||!(b instanceof re))return;const P=b.findObject("ButtonBorder");P instanceof fe&&(P.fill=b._buttonFillNormal,P.stroke=b._buttonStrokeNormal)},g}),ce.defineBuilder("TreeExpanderButton",i=>{const t=ce.build("Button");return t.attach({_treeExpandedFigure:"MinusLine",_treeCollapsedFigure:"PlusLine",visible:!1}),t.add(new fe("MinusLine",{name:"ButtonIcon",stroke:"#0a0a0a",strokeWidth:2,desiredSize:z.hu}).bindObject("figure","isTreeExpanded",(r,o)=>{const l=o.panel;return r?l._treeExpandedFigure:l._treeCollapsedFigure})),t.bindObject("visible","isTreeLeaf",r=>!r),t.click=(r,o)=>{let l=o.part;if(l instanceof ye&&(l=l.adornedPart),!(l instanceof Jt))return;const u=l.diagram;if(u===null)return;const c=u.commandHandler;if(l.isTreeExpanded){if(!c.canCollapseTree(l))return}else if(!c.canExpandTree(l))return;r.handled=!0,l.isTreeExpanded?c.collapseTree(l):c.expandTree(l)},t}),ce.defineBuilder("SubGraphExpanderButton",i=>{const t=ce.build("Button");return t.attach({_subGraphExpandedFigure:"MinusLine",_subGraphCollapsedFigure:"PlusLine"}),t.add(new fe("MinusLine",{name:"ButtonIcon",stroke:"#0a0a0a",strokeWidth:2,desiredSize:z.hu}).bindObject("figure","isSubGraphExpanded",(r,o)=>{const l=o.panel;return r?l._subGraphExpandedFigure:l._subGraphCollapsedFigure})),t.click=(r,o)=>{let l=o.part;if(l instanceof ye&&(l=l.adornedPart),!(l instanceof Ut))return;const u=l.diagram;if(u===null)return;const c=u.commandHandler;if(l.isSubGraphExpanded){if(!c.canCollapseSubGraph(l))return}else if(!c.canExpandSubGraph(l))return;r.handled=!0,l.isSubGraphExpanded?c.collapseSubGraph(l):c.expandSubGraph(l)},t}),ce.defineBuilder("ToolTip",i=>new ye(re.Auto,{isShadowed:!0,shadowColor:"rgba(0, 0, 0, .4)",shadowOffset:new C(0,2)}).add(new fe("RoundedRectangle",{name:"Border",parameter1:1,fill:"#f5f5f5",strokeWidth:0,spot1:new U(0,0,4,6),spot2:new U(1,1,-4,-4)}))),ce.defineBuilder("ContextMenu",i=>new ye(re.Vertical,{background:"#f5f5f5",isShadowed:!0,shadowColor:"rgba(0, 0, 0, .4)",shadowOffset:new C(0,2)}).bindObject("background","",t=>t.adornedPart!==null&&t.hasPlaceholder()?null:"#f5f5f5")),ce.defineBuilder("ContextMenuButton",i=>{const t=ce.build("Button");t.stretch=5;const r=t.findObject("ButtonBorder");return r instanceof fe&&(r.figure="Rectangle",r.strokeWidth=0,r.spot1=new U(0,0,4,6),r.spot2=new U(1,1,-4,-4)),t}),ce.defineBuilder("PanelExpanderButton",i=>{const t=ce.takeBuilderArgument(i,"COLLAPSIBLE"),r=ce.build("Button");r.attach({_buttonExpandedFigure:"M0 0 M0 6 L4 2 8 6 M8 8",_buttonCollapsedFigure:"M0 0 M0 2 L4 6 8 2 M8 8",_buttonFillNormal:"rgba(0, 0, 0, 0)",_buttonStrokeNormal:null,_buttonFillOver:"rgba(0, 0, 0, .2)",_buttonStrokeOver:null}),r.add(new fe({name:"ButtonIcon",strokeWidth:2}).bindObject("geometryString","visible",l=>l?r._buttonExpandedFigure:r._buttonCollapsedFigure,void 0,t));const o=r.findObject("ButtonBorder");return o instanceof fe&&(o.stroke=null,o.fill="rgba(0, 0, 0, 0)"),r.click=(l,u)=>{if(!(u instanceof re))return;const c=u.diagram;if(c===null||c.isReadOnly)return;let f=u.findBindingPanel();if(f===null&&(f=u.part),f!==null){const g=f.findObject(t);g!==null&&(l.handled=!0,c.startTransaction("Collapse/Expand Panel"),g.visible=!g.visible,c.commitTransaction("Collapse/Expand Panel"))}},r}),ce.defineBuilder("CheckBoxButton",i=>{const t=ce.takeBuilderArgument(i),r=ce.build("Button",{desiredSize:new z(14,14)});r.attach({"ButtonBorder.spot1":new U(0,0,1,1),"ButtonBorder.spot2":new U(1,1,-1,-1)});const o=new fe({name:"ButtonIcon",geometryString:"M0 0 M0 8.85 L4.9 13.75 16.2 2.45 M16.2 16.2",strokeWidth:2,stretch:2,geometryStretch:6,visible:!1});return t!==""&&o.bindTwoWay("visible",t),r.add(o),r.click=(l,u)=>{if(!(u instanceof re))return;const c=l.diagram;if(c===null||c.isReadOnly||t!==""&&c.model.isReadOnly)return;l.handled=!0;const f=u.findObject("ButtonIcon");c.startTransaction("checkbox"),f!==null&&(f.visible=!f.visible),typeof u._doClick=="function"&&u._doClick(l,u),c.commitTransaction("checkbox")},r}),ce.defineBuilder("CheckBox",i=>{const t=ce.takeBuilderArgument(i),r=ce.build("CheckBoxButton",{name:"Button",isActionable:!1,margin:new Y(0,1,0,0)},t),o=new re("Horizontal",{isActionable:!0,cursor:r.cursor,margin:new Y(1),mouseEnter:r.mouseEnter,mouseLeave:r.mouseLeave,click:r.click}).attach({_buttonFillNormal:r._buttonFillNormal,_buttonStrokeNormal:r._buttonStrokeNormal,_buttonFillOver:r._buttonFillOver,_buttonStrokeOver:r._buttonStrokeOver,_buttonFillDisabled:r._buttonFillDisabled,_buttonClick:r.click});return o.add(r),r.mouseEnter=null,r.mouseLeave=null,r.click=null,o});let dn=ce;class ps{constructor(){T(this,"mi");T(this,"St");T(this,"Jn");T(this,"Ti");T(this,"$n");T(this,"Ks");T(this,"Sl");T(this,"Tr");T(this,"Dr");T(this,"Fr");T(this,"Er");T(this,"Ur");T(this,"Rr");T(this,"vr");T(this,"Or");T(this,"U0");T(this,"B0");T(this,"Ir");T(this,"V0");T(this,"z0");T(this,"X0");T(this,"K0");T(this,"Br");T(this,"Vr");T(this,"M0");T(this,"R0");T(this,"xs");T(this,"xr");T(this,"br");T(this,"_n");T(this,"F0");T(this,"D0");T(this,"wr");T(this,"k0");T(this,"j0");T(this,"H0");this.mi=!1,this.St="",this.Jn=-1,this.Ti=null,this.$n=null,this.Ks=null,this.Sl="",this.Tr=null,this.Dr=null,this.Fr=null,this.Er=null,this.Ur=null,this.Rr=null,this.vr=null,this.Or=null,this.U0=null,this.B0=null,this.Ir=null,this.V0=null,this.z0=null,this.X0=null,this.K0=null,this.Br=null,this.Vr=null,this.M0=null,this.R0=null,this.xs=null,this.xr=z.lu,this.br=z.iC,this._n=1,this.F0=1,this.D0=1,this.wr=0,this.k0=null,this.j0=null,this.H0="category"}copy(){const i=new ps;return i.St=this.St,i.Jn=this.Jn,i.Ti=this.Ti,i.Ks=this.Ks,i.Sl=this.Sl,i.Tr=this.Tr,i.Dr=this.Dr,i.Fr=this.Fr,i.Er=this.Er,i.Ur=this.Ur,i.Rr=this.Rr,i.vr=this.vr,i.Or=this.Or,i.U0=this.U0,i.B0=this.B0,i.Ir=this.Ir,i.V0=this.V0,i.z0=this.z0,i.X0=this.X0,i.K0=this.K0,i.Br=this.Br,i.Vr=this.Vr,i.M0=this.M0,i.R0=this.R0,i.xs=this.xs,i.xr=this.xr.N(),i.br=this.br.N(),i._n=this._n,i.F0=this.F0,i.D0=this.D0,i.wr=this.wr,i.k0=this.k0,i.j0=this.j0,i.H0=this.H0,i}}class dl{constructor(){T(this,"m");this.m=[1,0,0,1,0,0]}copy(){const i=new dl;return i.m[0]=this.m[0],i.m[1]=this.m[1],i.m[2]=this.m[2],i.m[3]=this.m[3],i.m[4]=this.m[4],i.m[5]=this.m[5],i}translate(i,t){this.m[4]+=this.m[0]*i+this.m[2]*t,this.m[5]+=this.m[1]*i+this.m[3]*t}scale(i,t){this.m[0]*=i,this.m[1]*=i,this.m[2]*=t,this.m[3]*=t}rotate(i,t,r){if(i>=360?i-=360:i<0&&(i+=360),i===0)return;this.translate(t,r);let o=0,l=0;if(i===90)o=0,l=1;else if(i===180)o=-1,l=0;else if(i===270)o=0,l=-1;else{const y=i*Math.PI/180;o=Math.cos(y),l=Math.sin(y)}const u=this.m[0]*o+this.m[2]*l,c=this.m[1]*o+this.m[3]*l,f=this.m[0]*-l+this.m[2]*o,g=this.m[1]*-l+this.m[3]*o;this.m[0]=u,this.m[1]=c,this.m[2]=f,this.m[3]=g,this.translate(-t,-r)}}class ga{constructor(i){T(this,"type");T(this,"x1");T(this,"y1");T(this,"r1");T(this,"x2");T(this,"y2");T(this,"r2");T(this,"colors");T(this,"pattern");this.type=i,this.x1=0,this.y1=0,this.r1=0,this.x2=0,this.y2=0,this.r2=0,this.colors=[],this.pattern=null}addColorStop(i,t){this.colors.push({offset:i,color:t})}}class ma{constructor(i,t,r){T(this,"Ft");T(this,"ci");T(this,"ha");T(this,"ju");T(this,"p2");const o=t===void 0?e.document:t;this.ha=o,this.p2="http://www.w3.org/2000/svg";const l="http://www.w3.org/2000/xmlns/";o!==void 0&&(this.Ft=this.makeElement("svg",{width:"1px",height:"1px",viewBox:"0 0 1 1"}),this.style.display="block",this.style.letterSpacing="normal",this.style.wordSpacing="normal",r||(this.style.position="absolute"),this.Ft.setAttributeNS(l,"xmlns",this.p2),this.Ft.setAttributeNS(l,"xmlns:xlink","http://www.w3.org/1999/xlink")),this.ju=null,this.ci=new Gi(this,r)}resize(i,t,r,o){return this.width!==i||this.height!==t?(this.width=i,this.height=t,this.style.width=r+"px",this.style.height=o+"px",this.Ft.setAttributeNS(null,"width",r+"px"),this.Ft.setAttributeNS(null,"height",o+"px"),this.Ft.setAttributeNS(null,"viewBox","0 0 "+r+" "+o),this.ci.w2.firstElementChild.setAttributeNS(null,"width",r+"px"),this.ci.w2.firstElementChild.setAttributeNS(null,"height",o+"px"),!0):!1}makeElement(i,t,r){const o=this.ha.createElementNS(this.p2,i);if(n.wt(t))for(const l in t)o.setAttributeNS(l==="href"?"http://www.w3.org/1999/xlink":"",l,t[l]);return r!==void 0&&(o.textContent=r),o}getBoundingClientRect(){return this.Ft.getBoundingClientRect()}focus(){this.Ft.focus()}get width(){return this.Ft.width.baseVal.value}set width(i){this.Ft.setAttribute("width",i+"px")}get height(){return this.Ft.height.baseVal.value}set height(i){this.Ft.setAttribute("height",i+"px")}dispose(){this.ha=null}get style(){return this.Ft.style}}class Gi{constructor(i,t){T(this,"sf");T(this,"nf");T(this,"xn");T(this,"Di");T(this,"Ye");T(this,"fillStyle");T(this,"font");T(this,"globalAlpha");T(this,"lineCap");T(this,"lineDashOffset");T(this,"lineJoin");T(this,"lineWidth");T(this,"miterLimit");T(this,"shadowBlur");T(this,"shadowColor");T(this,"shadowOffsetX");T(this,"shadowOffsetY");T(this,"strokeStyle");T(this,"textAlign");T(this,"imageSmoothingEnabled");T(this,"clipInsteadOfFill");T(this,"lastCreatedElement");T(this,"of");T(this,"rf");T(this,"surface");T(this,"svg");T(this,"w2");T(this,"aA");T(this,"Ub");T(this,"Xo");T(this,"uh");T(this,"xa");T(this,"currentElement");T(this,"clipPathGroup");T(this,"diagramGroup");T(this,"lastDrawnPart");T(this,"currentPath");T(this,"outerGroup");T(this,"pathAttributes");T(this,"il");T(this,"Sr");T(this,"filter");T(this,"partClipRect");this.surface=i,this.svg=i.Ft,this.of=[],this.rf=[],this.fillStyle="#000000",this.font="10px sans-serif",this.globalAlpha=1,this.lineCap="butt",this.lineDashOffset=0,this.lineJoin="miter",this.lineWidth=1,this.miterLimit=10,this.shadowBlur=0,this.shadowColor="rgba(0, 0, 0, 0)",this.shadowOffsetX=0,this.shadowOffsetY=0,this.il=!1,this.strokeStyle="#000000",this.textAlign="start",this.clipInsteadOfFill=!1,this.sf=0,this.nf=0,this.xn=0,this.lastCreatedElement=null,this.currentElement=null,this.Di=[],this.pathAttributes={},this.Ub=!1,this.Xo=null,this.uh=0,this.Ye=new dl,this.clipPathGroup=this.newGroup2(),this.diagramGroup=this.newGroup2("gojs-diagram"),this.lastDrawnPart=null,this.currentPath=null;const r=M.nu++,o=this.makeElement("clipPath",{id:"mainClip"+r}),l={x:0,y:0,width:i.width,height:i.height};o.appendChild(this.makeElement("rect",l)),this.w2=o,this.svg.appendChild(this.clipPathGroup),this.clipPathGroup.appendChild(this.diagramGroup),this.svg.appendChild(o),this.clipPathGroup.setAttributeNS(null,"clip-path","url(#mainClip"+r+")"),this.aA={},this.Sr=!!t,this.filter="",this.partClipRect=null}setDiagramPosScale(i,t,r,o,l,u){this.diagramGroup===void 0?this.newGroup(i,t,r,o,l,u):this.diagramGroup.setAttribute("transform","matrix("+i+", "+t+", "+r+", "+o+", "+l+", "+u+")")}resetInnerSVG(){this.diagramGroup!==null&&(this.diagramGroup.innerHTML="")}arc(i,t,r,o,l,u,c,f){const g=2*Math.PI,y=1e-6,b=g-y,w=r*Math.cos(o),P=r*Math.sin(o),E=i+w,N=t+P,_=u?0:1;let R=u?o-l:l-o;(Math.abs(c-E)>y||Math.abs(f-N)>y)&&this.Di.push(["L",E,+N]),R<0&&(R=R%g+g),R>b?(this.Di.push(["A",r,r,0,1,_,i-w,t-P]),this.Di.push(["A",r,r,0,1,_,E,N])):R>y&&this.Di.push(["A",r,r,0,+(R>=Math.PI),_,i+r*Math.cos(l),t+r*Math.sin(l)])}beginPath(){this.Di=[],this.pathAttributes={stroke:"none",fill:"none"}}endPath(i){this.ER(this.Di,this.Ye,i||0)}bezierCurveTo(i,t,r,o,l,u){this.Di.push(["C",i,t,r,o,l,u])}clearRect(i,t,r,o){}clip(){this.pathAttributes.clipPath=!0}closePath(){this.Di.push(["z"])}createLinearGradient(i,t,r,o){const l=new ga("linear");return l.x1=i,l.y1=t,l.x2=r,l.y2=o,l}createPattern(i,t){let r="";i instanceof HTMLCanvasElement&&(r=i.toDataURL()),i instanceof HTMLImageElement&&(r=i.getAttribute("src"));const o=this.aA;if(o[r])return"url(#"+o[r]+")";const l="PATTERN"+M.nu++,u={width:i.width,height:i.height,id:l,patternUnits:"userSpaceOnUse"},c={x:0,y:0,width:i.width,height:i.height,href:r},f=this.makeElement("pattern",u);return f.appendChild(this.makeElement(xe.img,c)),this.svg.appendChild(f),o[r]=l,"url(#"+l+")"}createRadialGradient(i,t,r,o,l,u){const c=new ga("radial");return c.x1=i,c.y1=t,c.r1=r,c.x2=o,c.y2=l,c.r2=u,c}amendImageTransform(i,t,r,o,l,u,c,f){const g=c/r,y=f/o;(l!==0||u!==0)&&this.Ye.translate(l,u),(g!==1||y!==1)&&this.Ye.scale(g,y),(i!==0||t!==0)&&this.Ye.translate(-i,-t)}drawImage(i,t,r,o,l,u,c,f,g){let y="";i instanceof HTMLCanvasElement&&(y=i.toDataURL()),i instanceof HTMLImageElement&&(y=i.getAttribute("src"));const b=i instanceof HTMLImageElement?i.naturalWidth:i.width,w=i instanceof HTMLImageElement?i.naturalHeight:i.height;o===void 0&&(u=t,c=r,f=o=b,g=l=w),o=o||0,l=l||0,u=u||0,c=c||0,f=f||0,g=g||0,this.amendImageTransform(t,r,o,l,u,c,f,g);const P={x:0,y:0,width:b||o,height:w||l,href:y};!K.Y(o,f)||!K.Y(l,g)?P.preserveAspectRatio="none":y.toLowerCase().indexOf(".svg")===-1&&y.toLowerCase().indexOf("data:image/svg")===-1&&(P.preserveAspectRatio="xMidYMid slice"),(t!==0||r!==0||o!==b||l!==w)&&(o+=t,l+=r,P["clip-path"]=`path('M ${t},${r} L ${o} ${r} L ${o} ${l} L ${t} ${l} z')`),this.processCommon(xe.img,P,this.Ye),this.rd(xe.img,P)}fill(i,t){i&&(this.pathAttributes["fill-rule"]="evenodd"),this.setFill(this.pathAttributes)}fillContext(i,t,r){this.clipInsteadOfFill?this.clip():this.fill(t,r)}fillRect(i,t,r,o){this.addRect("fill",[i,t,r,o],this.Ye)}fillBackground(i,t,r,o){const l={x:i,y:t,width:r,height:o};this.processCommon("fill",l,this.Ye),this.setFill(l),this.svg.prepend(this.makeElement("rect",l))}fillText(i,t,r){this.addText("fill",[i,t,r],this.Ye)}lineTo(i,t){this.Di.push(["L",i,t])}moveTo(i,t){this.Di.push(["M",i,t])}quadraticCurveTo(i,t,r,o){this.Di.push(["Q",i,t,r,o])}rect(i,t,r,o){this.Di.push(["M",i,t],["L",i+r,t],["L",i+r,t+o],["L",i,t+o],["z"])}restore(){this.Ye=this.of.pop(),this.Di=this.of.pop();const i=this.of.pop();this.fillStyle=i.fillStyle,this.font=i.font,this.globalAlpha=i.globalAlpha,this.lineCap=i.lineCap,this.lineDashOffset=i.lineDashOffset,this.lineJoin=i.lineJoin,this.lineWidth=i.lineWidth,this.miterLimit=i.miterLimit,this.shadowBlur=i.shadowBlur,this.shadowColor=i.shadowColor,this.shadowOffsetX=i.shadowOffsetX,this.shadowOffsetY=i.shadowOffsetY,this.strokeStyle=i.strokeStyle,this.textAlign=i.textAlign,this.partClipRect=i.partClipRect}save(){const i={fillStyle:this.fillStyle,font:this.font,globalAlpha:this.globalAlpha,lineCap:this.lineCap,lineDashOffset:this.lineDashOffset,lineJoin:this.lineJoin,lineWidth:this.lineWidth,miterLimit:this.miterLimit,shadowBlur:this.shadowBlur,shadowColor:this.shadowColor,shadowOffsetX:this.shadowOffsetX,shadowOffsetY:this.shadowOffsetY,strokeStyle:this.strokeStyle,textAlign:this.textAlign,partClipRect:this.partClipRect};this.of.push(i);const t=[];for(let r=0;r<this.Di.length;r++)t.push(this.Di[r]);this.of.push(t),this.of.push(this.Ye.copy())}setTransform(i,t,r,o,l,u){i===1&&t===0&&r===0&&o===1&&l===0&&u===0||this.newGroup(i,t,r,o,l,u)}setCurrentTransform(i,t,r,o,l,u){this.Ye.m=[i,t,r,o,l,u]}getCurrentTransform(){const i=this.Ye.m;return"matrix("+i[0]+", "+i[1]+", "+i[2]+", "+i[3]+", "+i[4]+", "+i[5]+")"}scale(i,t){this.Ye.scale(i,t)}translate(i,t){this.Ye.translate(i,t)}transform(i,t,r,o,l,u){}commitTransform(){}stroke(){this.setStroke(this.pathAttributes)}strokeContext(){this.clipInsteadOfFill||this.stroke()}strokeRect(i,t,r,o){this.addRect("stroke",[i,t,r,o],this.Ye)}makeElement(i,t,r){return this.surface.makeElement(i,t,r)}rd(i,t,r){const o=this.makeElement(i,t,r);return this.currentElement!==null?this.currentElement.appendChild(o):this.currentElement=o,this.lastCreatedElement=o,o}processCommon(i,t,r){if(i==="fill"?this.setFill(t):i==="stroke"&&this.setStroke(t),r!==null){const o=r.m;t.transform="matrix("+o[0]+", "+o[1]+", "+o[2]+", "+o[3]+", "+o[4]+", "+o[5]+")"}}setFill(i){if(this.fillStyle instanceof ga){i.fill=this.addGradient(this.fillStyle,!0);return}if(/^rgba\(/.test(this.fillStyle)){const t=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(this.fillStyle);i.fill="rgb("+t[1]+","+t[2]+","+t[3]+")",i["fill-opacity"]=t[4]}else i.fill=this.fillStyle}setFillOrStrokeInPlace(i,t){const r=t?"fill":"stroke";if(this.fillStyle instanceof ga){i.setAttributeNS(null,"fill",this.addGradient(this.fillStyle,!0));return}if(/^rgba\(/.test(this.fillStyle)){const o=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(this.fillStyle);i.setAttributeNS(null,r,"rgb("+o[1]+","+o[2]+","+o[3]+")"),i.setAttributeNS(null,r+"-opacity",o[4])}else i.setAttributeNS(null,r,this.fillStyle)}setStroke(i){if(this.strokeStyle instanceof ga)i.stroke=this.addGradient(this.strokeStyle,!1);else if(/^rgba\(/.test(this.strokeStyle)){const t=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(this.strokeStyle);i.stroke="rgb("+t[1]+","+t[2]+","+t[3]+")",i["stroke-opacity"]=t[4]}else i.stroke=this.strokeStyle;i["stroke-width"]=this.lineWidth,i["stroke-linecap"]=this.lineCap,i["stroke-linejoin"]=this.lineJoin,i["stroke-miterlimit"]=this.miterLimit,this.Ub&&(i["stroke-dasharray"]=this.Xo.toString(),i["stroke-dashoffset"]=this.uh)}addGradient(i,t){let r="";const o=this.currentPath!==null?this.currentPath.getAttribute(t?"fill":"stroke"):null;if(o!==null&&o.indexOf("GRAD")!==-1){r=o.split("#")[1].slice(0,-1);const g=this.svg.getElementById(r);g!==null&&g.remove()}else r="GRAD"+M.nu++;let l;if(i.type==="linear"){const g={x1:i.x1,x2:i.x2,y1:i.y1,y2:i.y2,id:r,gradientUnits:"userSpaceOnUse"};l=this.makeElement("linearGradient",g)}else if(i.type==="radial"){const g={x1:i.x1,x2:i.x2,y1:i.y1,y2:i.y2,r1:i.r1,r2:i.r2,id:r};l=this.makeElement("radialGradient",g)}else throw new Error("invalid gradient");const u=i.colors,c=u.length,f=[];for(let g=0;g<c;g++){const y=u[g],b=y.color,w={offset:y.offset,"stop-color":b};if(/^rgba\(/.test(b)){const P=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(b);w["stop-color"]="rgb("+P[1]+","+P[2]+","+P[3]+")",w["stop-opacity"]=P[4]}f.push(w)}f.sort((g,y)=>g.offset>y.offset?1:-1);for(let g=0;g<c;g++)l.appendChild(this.makeElement("stop",f[g]));return this.svg.appendChild(l),"url(#"+r+")"}addRect(i,t,r){const o={x:t[0],y:t[1],width:t[2],height:t[3]};this.processCommon(i,o,r),this.rd("rect",o)}addText(i,t,r){let o=this.textAlign;o==="left"?o="start":o==="right"?o="end":o==="center"&&(o="middle");const l={x:t[1],y:t[2],style:"font: "+this.font,"text-anchor":o};this.processCommon(i,l,r),this.rd("text",l,t[0])}ER(i,t,r){const o=this.UR(i),l=this.pathAttributes;if(l.clipPath){this.rf.length>0&&this.rf[this.rf.length-1].setAttributeNS(null,"clip-path",'path("'+o+'")');return}if(l.d=o,this.processCommon("",l,t),this.currentPath!==null){const u=this.currentPath;if(u.nodeName!=="g")for(const c in l)c!=="transform"&&u.setAttributeNS(null,c,l[c]);else{const c=u.getElementsByTagName("path");for(const f in l)f!=="transform"&&c[r].setAttributeNS(null,f,l[f])}}else this.rd("path",l)}UR(i){const t=[];for(let r=0;r<i.length;r++){const o=i[r].slice(),l=[o.shift()];if(l[0]==="A")l.push(o.shift()+","+o.shift(),o.shift(),o.shift()+","+o.shift(),o.shift()+","+o.shift());else for(;o.length;)l.push(o.shift()+","+o.shift());t.push(l.join(" "))}return t.join(" ")}newGroup(i,t,r,o,l,u){const c=new dl;c.m=[i,t,r,o,l,u];const f={};this.processCommon("g",f,c);const g=this.rd("g",f);return this.rf.push(g),g}newGroup2(i){const t={};i&&(t.class=i);const r=this.rd("g",t);return this.rf.push(r),r}endGroup(){return this.rf.pop()}dummyGroup(){return this.newGroup2(),this.endGroup()}shadowsSet(i,t,r){this.sf=i,this.nf=t,this.xn=r}shadowsOff(){this.il=!1,this.shadowOffsetX=0,this.shadowOffsetY=0,this.shadowBlur=0}shadowsOn(){this.il=!0,this.shadowOffsetX=this.sf,this.shadowOffsetY=this.nf,this.shadowBlur=this.xn}enableDash(i,t){this.Ub=!0,this.Xo=i,this.uh=t}disableDash(){this.Ub=!1}clearContextCache(i){}setImageSmoothingEnabled(i){}rotate(i){this.Ye.rotate(i*57.2958,0,0)}getImageData(i,t,r,o){return null}measureText(i){return null}removeOldGradient(i,t,r){const o=t.getAttribute(r);if(o===null)return;const l=o.split("#");if(l.length===1)return;const u=this.svg.getElementById(l[1].slice(0,-1));if(u!==null){const c=new RegExp(u.id,"g");this.svg.innerHTML.match(c).length===1&&u.remove()}}removePartFromView(i){i.svg!==null&&i.svg.parentNode===this.diagramGroup&&i.svg.remove()}}class vi{constructor(i,t,r,o){T(this,"Ft");T(this,"ci");T(this,"ha");T(this,"ju");const l=t===void 0?e.document:t;this.ha=l,this.ju=null;const u=l.createElement("canvas");u.tabIndex=0,this.Ft=u,this.ci=new Se(u,r,o),xe.ze.set(u,i)}resize(i,t,r,o){return this.width!==i||this.height!==t?(this.width=i,this.height=t,this.style.width=r+"px",this.style.height=o+"px",!0):!1}toDataURL(i,t){return this.Ft.toDataURL(i,t)}getBoundingClientRect(){return this.Ft.getBoundingClientRect()}focus(){this.Ft.focus()}get width(){return this.Ft.width}set width(i){this.Ft.width=i}get height(){return this.Ft.height}set height(i){this.Ft.height=i}dispose(){xe.ze.delete(this.Ft),this.ha=null}get style(){return this.Ft.style}}const go=class go{constructor(i,t,r){T(this,"B");T(this,"Bb");T(this,"Vb");T(this,"zb");T(this,"q0");T(this,"sf");T(this,"nf");T(this,"xn");T(this,"xa");T(this,"il");T(this,"Sr");this.B=i.getContext?i.getContext("2d",t):null,this.B===null&&n.o("Browser does not support HTML Canvas Element"),this.Bb="",this.Vb="",this.zb="",this.q0=!1,this.sf=0,this.nf=0,this.xn=0,this.il=!1,this.xa=new J,this.Sr=!!r}setImageSmoothingEnabled(i){this.B.imageSmoothingEnabled=i}get fillStyle(){return this.B.fillStyle}set fillStyle(i){this.zb!==i&&(this.B.fillStyle=i,this.zb=i)}get font(){return this.B.font}set font(i){this.Bb!==i&&(this.B.font=i,this.Bb=i)}get globalAlpha(){return this.B.globalAlpha}set globalAlpha(i){this.B.globalAlpha=i}get lineCap(){return this.B.lineCap}set lineCap(i){this.B.lineCap=i}get lineDashOffset(){return this.B.lineDashOffset}set lineDashOffset(i){this.B.lineDashOffset=i}get lineJoin(){return this.B.lineJoin}set lineJoin(i){this.B.lineJoin=i}get lineWidth(){return this.B.lineWidth}set lineWidth(i){this.B.lineWidth=i}get miterLimit(){return this.B.miterLimit}set miterLimit(i){this.B.miterLimit=i}get shadowBlur(){return this.B.shadowBlur}set shadowBlur(i){this.B.shadowBlur=i}get shadowColor(){return this.B.shadowColor}set shadowColor(i){this.B.shadowColor=i}get shadowOffsetX(){return this.B.shadowOffsetX}set shadowOffsetX(i){this.B.shadowOffsetX=i}get shadowOffsetY(){return this.B.shadowOffsetY}set shadowOffsetY(i){this.B.shadowOffsetY=i}get strokeStyle(){return this.B.strokeStyle}set strokeStyle(i){this.Vb!==i&&(this.B.strokeStyle=i,this.Vb=i)}get textAlign(){return this.B.textAlign}set textAlign(i){this.B.textAlign=i}get imageSmoothingEnabled(){return this.B.imageSmoothingEnabled}set imageSmoothingEnabled(i){this.B.imageSmoothingEnabled=i}get filter(){return this.B.filter}set filter(i){i===""?this.B.filter="none":this.B.filter=i}arc(i,t,r,o,l,u,c,f){this.B.arc(i,t,r,o,l,u)}beginPath(){this.B.beginPath()}endPath(){}bezierCurveTo(i,t,r,o,l,u){this.B.bezierCurveTo(i,t,r,o,l,u)}clearRect(i,t,r,o){this.commitTransform(),this.B.clearRect(i,t,r,o)}clip(i){i?this.B.clip(i):this.B.clip()}closePath(){this.B.closePath()}createLinearGradient(i,t,r,o){return this.B.createLinearGradient(i,t,r,o)}createPattern(i,t){return this.B.createPattern(i,t)}createRadialGradient(i,t,r,o,l,u){return this.B.createRadialGradient(i,t,r,o,l,u)}drawImage(i,t,r,o,l,u,c,f,g){o===void 0?this.B.drawImage(i,t,r):this.B.drawImage(i,t,r,o,l,u,c,f,g)}fill(i,t){t?this.B.fill(t,i?"evenodd":"nonzero"):this.B.fill(i?"evenodd":"nonzero")}fillRect(i,t,r,o){this.B.fillRect(i,t,r,o)}fillBackground(i,t,r,o){this.B.fillRect(i,t,r,o)}fillText(i,t,r){this.B.fillText(i,t,r)}getImageData(i,t,r,o){return this.B.getImageData(i,t,r,o)}lineTo(i,t){this.B.lineTo(i,t)}measureText(i){return this.B.measureText(i)}moveTo(i,t){this.B.moveTo(i,t)}quadraticCurveTo(i,t,r,o){this.B.quadraticCurveTo(i,t,r,o)}rect(i,t,r,o){this.B.rect(i,t,r,o)}restore(){this.B.restore()}save(){this.commitTransform(),this.B.save()}rotate(i){this.xa.fs(i*57.2958,0,0)}setTransform(i,t,r,o,l,u){this.xa.setTo(i,t,r,o,l,u)}scale(i,t){this.xa.K(i,t)}translate(i,t){this.xa.Zi(i,t)}stroke(i){i?this.B.stroke(i):this.B.stroke()}transform(i,t,r,o,l,u){if(i===1&&t===0&&r===0&&o===1&&l===0&&u===0)return;const c=this.xa,f=c.m11*i+c.m21*t,g=c.m12*i+c.m22*t,y=c.m11*r+c.m21*o,b=c.m12*r+c.m22*o;c.dx=c.m11*l+c.m21*u+c.dx,c.dy=c.m12*l+c.m22*u+c.dy,c.m11=f,c.m12=g,c.m21=y,c.m22=b}commitTransform(){const i=this.xa;this.B.setTransform(i.m11,i.m12,i.m21,i.m22,i.dx,i.dy)}fillContext(i,t,r){this.radialFill(i,t,r)||this.fillOrClip(t,r)}radialFill(i,t,r){if(!(i instanceof ze)||i.type!==3)return!1;const o=i.Qc,l=i.Ob;return l>o?(this.scale(o/l,1),this.translate((l-o)/2,0)):o>l&&(this.scale(1,l/o),this.translate(0,(o-l)/2)),this.fillOrClip(t,r),l>o?(this.translate(-(l-o)/2,0),this.scale(1/(o/l),1)):o>l&&(this.translate(0,-(o-l)/2),this.scale(1,1/(l/o))),!0}strokeContext(){this.q0||this.stroke()}fillOrClip(i,t){this.q0?this.clip(t):this.fill(i,t)}get clipInsteadOfFill(){return this.q0}set clipInsteadOfFill(i){this.q0=i}shadowsSet(i,t,r){this.sf=i,this.nf=t,this.xn=r}shadowsOff(){this.il=!1,this.shadowOffsetX=0,this.shadowOffsetY=0,this.shadowBlur=0}shadowsOn(){this.il=!0,this.shadowOffsetX=this.sf,this.shadowOffsetY=this.nf,this.shadowBlur=this.xn}enableDash(i,t){const r=this.B;r.setLineDash!==void 0&&(r.setLineDash(i),r.lineDashOffset=t)}disableDash(){const i=this.B;i.setLineDash!==void 0&&(i.setLineDash(go.EmptyArray),i.lineDashOffset=0)}clearContextCache(i){i&&(this.Bb=""),this.Vb="",this.zb=""}removePartFromView(i){}};T(go,"EmptyArray",Object.freeze([]));let Se=go;var Wi=(W=>(W[W.Solid=1]="Solid",W[W.Linear=2]="Linear",W[W.Radial=3]="Radial",W[W.Pattern=4]="Pattern",W))(Wi||{}),mu=(W=>(W[W.Lab=1]="Lab",W[W.HSL=2]="HSL",W[W.Oklch=3]="Oklch",W))(mu||{});class ho{constructor(){T(this,"n0");T(this,"n1");T(this,"n2");T(this,"n3");this.n0=0,this.n1=0,this.n2=0,this.n3=0}}const St=class St{constructor(i,t){T(this,"h");T(this,"_");T(this,"ba");T(this,"ei");T(this,"ms");T(this,"W0");T(this,"J0");T(this,"bn");T(this,"$0");T(this,"yn");T(this,"Qc");T(this,"Ob");if(M.Yi(this),this.h=!1,i===void 0)this._=1,this.ba="black";else if(typeof i=="string"){const o=n.Oh(Wi,i);o!==null?(this._=o,this.ba="black"):(this._=1,this.ba=i)}else this._=i,this.ba="black";const r=this._;if(r===2?(this.ei=U.TopCenter,this.ms=U.BottomCenter):r===3?(this.ei=U.Center,this.ms=U.Center):(this.ei=U.None,this.ms=U.None),this.W0=0,this.J0=NaN,this.bn=null,this.$0=null,this.yn=null,this.Qc=0,this.Ob=0,t){const o={};for(const l in t)isFinite(parseFloat(l))?this.addColorStop(parseFloat(l),t[l]):o[l]=t[l];Object.assign(this,o)}}copy(){const i=new St;return i._=this._,i.ba=this.ba,i.ei=this.ei.N(),i.ms=this.ms.N(),i.W0=this.W0,i.J0=this.J0,this.bn!==null&&(i.bn=this.bn.copy()),i.$0=this.$0,i}g(){return this.h=!0,this.bn!==null&&this.bn.g(),this}lt(){return Object.isFrozen(this)&&n.o("cannot thaw constant: "+this),this.h=!1,this.bn!==null&&this.bn.lt(),this}li(i){i in Wi?this.type=i:n.lr(this,i)}toString(){let i="Brush(";if(this.type===1)i+=this.color;else if(this.type===2?i+="Linear ":this.type===3?i+="Radial ":this.type===4?i+="Pattern ":i+="(unknown) ",i+=this.start+" "+this.end,this.colorStops!==null){const t=this.colorStops.iterator;for(;t.next();){const r=t.key,o=t.value;i+=" "+r+":"+o}}return i+=")",i}addColorStop(i,t){return this.h&&n.D(this),(typeof i!="number"||!isFinite(i)||i>1||i<0)&&n.tt(i,"0 <= loc <= 1",St,"addColorStop:loc"),n.i(t,"string",St,"addColorStop:color"),this.bn===null&&(this.bn=new V),this.bn.set(i,t),this._===1&&(this.type=2),this.yn=null,this}get type(){return this._}set type(i){this.h&&n.D(this,i),this._=i,this.start.isNoSpot()&&(i===2?this.start=U.TopCenter:i===3&&(this.start=U.Center)),this.end.isNoSpot()&&(i===2?this.end=U.BottomCenter:i===3&&(this.end=U.Center)),this.yn=null}get color(){return this.ba}set color(i){this.h&&n.D(this,i),this.ba=i,this.yn=null}get start(){return this.ei}set start(i){this.h&&n.D(this,i),this.ei=i.N(),this.yn=null}get end(){return this.ms}set end(i){this.h&&n.D(this,i),this.ms=i.N(),this.yn=null}get startRadius(){return this.W0}set startRadius(i){this.h&&n.D(this,i),i<0&&n.tt(i,">= zero",St,"startRadius"),this.W0=i,this.yn=null}get endRadius(){return this.J0}set endRadius(i){this.h&&n.D(this,i),i<0&&n.tt(i,">= zero",St,"endRadius"),this.J0=i,this.yn=null}get colorStops(){return this.bn}set colorStops(i){this.h&&n.D(this,i),this.bn=i,this.yn=null}get pattern(){return this.$0}set pattern(i){this.h&&n.D(this,i),this.$0=i,this.yn=null}static randomColor(i,t){i===void 0&&(i=128),t===void 0&&(t=Math.max(i,255));const r=Math.abs(t-i);let o=Math.floor(i+Math.random()*r).toString(16),l=Math.floor(i+Math.random()*r).toString(16),u=Math.floor(i+Math.random()*r).toString(16);return o.length<2&&(o="0"+o),l.length<2&&(l="0"+l),u.length<2&&(u="0"+u),"#"+o+l+u}static isValidColor(i){return e.CSS?e.CSS.supports("color",i):!0}static lighten(i){return St.lightenBy(i)}lightenBy(i,t){this.h&&n.D(this);const r=i===void 0||typeof i!="number"?.2:i,o=t===void 0?3:t;if(this.type===1)St.Do(this.color),this.color=St.ld(r,o);else if((this.type===2||this.type===3)&&this.colorStops!==null){const l=this.colorStops.iterator;for(;l.next();)St.Do(l.value),this.addColorStop(l.key,St.ld(r,o))}return this}static lightenBy(i,t,r){const o=t===void 0||typeof t!="number"?.2:t,l=r===void 0?3:r;return St.Do(i),St.ld(o,l)}static darken(i){return St.darkenBy(i)}darkenBy(i,t){this.h&&n.D(this);const r=i===void 0||typeof i!="number"?.2:i,o=t===void 0?3:t;if(this.type===1)St.Do(this.color),this.color=St.ld(-r,o);else if((this.type===2||this.type===3)&&this.colorStops!==null){const l=this.colorStops.iterator;for(;l.next();)St.Do(l.value),this.addColorStop(l.key,St.ld(-r,o))}return this}static darkenBy(i,t,r){const o=t===void 0||typeof t!="number"?.2:t,l=r===void 0?3:r;return St.Do(i),St.ld(-o,l)}static mix(i,t,r){St.Do(i);const o=St.j.n0,l=St.j.n1,u=St.j.n2,c=St.j.n3;St.Do(t),r===void 0&&(r=.5);const f=Math.round((St.j.n0-o)*r+o),g=Math.round((St.j.n1-l)*r+l),y=Math.round((St.j.n2-u)*r+u),b=Math.round((St.j.n3-c)*r+c);return`rgba(${f}, ${g}, ${y}, ${b})`}isDark(){if(this.type===1)return St.isDark(this.color);if((this.type===2||this.type===3)&&this.colorStops!==null){const i=this.colorStops;if(this.type===3)return St.isDark(i.first().value);if(i.get(.5)!==null)return St.isDark(i.get(.5));if(i.count===2){const f=i.toArray();return St.isDark(St.mix(f[0].value,f[1].value))}const t=i.iterator;let r=-1,o=-1,l=1,u=1;for(;t.next();){const f=t.key,g=Math.abs(.5-t.key);l>u&&g<l?(r=f,l=g):u>=l&&g<u&&(o=f,u=g)}if(r>o){let f=r;r=o,o=f,f=l,l=u,u=f}const c=o-r;return St.isDark(St.mix(i.get(r),i.get(o),1-u/c))}return!1}static isDark(i){return i?i instanceof St?i.isDark():(St.Do(i),(299*St.j.n0+587*St.j.n1+114*St.j.n2)/1e3<128):!1}static ld(i,t){switch(t){case 1:return St.BR(),St.to.n0=Math.min(100,Math.max(0,St.to.n0+100*i)),St.VR(),"rgba("+St.j.n0+", "+St.j.n1+", "+St.j.n2+", "+St.j.n3+")";case 2:return St.vM(),St.Ii.n2=Math.min(100,Math.max(0,St.Ii.n2+100*i)),"hsla("+St.Ii.n0+", "+St.Ii.n1+"%, "+St.Ii.n2+"%, "+St.Ii.n3+")";case 3:return St.zR(),St.io.n0=Math.min(100,Math.max(0,St.io.n0+100*i)),St.XR(),"rgba("+St.j.n0+", "+St.j.n1+", "+St.j.n2+", "+St.j.n3+")";default:n.o("Unknown color space: "+t)}}static Do(i){const t=St.el;if(t===null)return;t.clearRect(0,0,1,1),t.fillStyle="#000000";const r=t.fillStyle;if(t.fillStyle=i,t.fillStyle!==r){t.fillRect(0,0,1,1);const o=t.getImageData(0,0,1,1).data;St.j.n0=o[0],St.j.n1=o[1],St.j.n2=o[2],St.j.n3=o[3]/255}else t.fillStyle="#FFFFFF",t.fillStyle,t.fillStyle=i,t.fillStyle,St.j.n0=0,St.j.n1=0,St.j.n2=0,St.j.n3=1}static vM(){const i=St.j.n0/255,t=St.j.n1/255,r=St.j.n2/255,o=Math.max(i,t,r),l=Math.min(i,t,r),u=o-l;let c,f;const g=(o+l)/2;if(u===0)c=f=0;else{switch(o){case i:c=(t-r)/u%6;break;case t:c=(r-i)/u+2;break;case r:c=(i-t)/u+4;break}c*=60,c<0&&(c+=360),f=u/(1-Math.abs(2*g-1))}St.Ii.n0=Math.round(c),St.Ii.n1=Math.round(f*100),St.Ii.n2=Math.round(g*100),St.Ii.n3=St.j.n3}static fE(){const i=St.Ii.n0,t=St.Ii.n1/100,r=St.Ii.n2/100;let o,l,u;const c=(1-Math.abs(2*r-1))*t,f=i/60,g=c*(1-Math.abs(f%2-1));f>=0&&f<1?(o=c,l=g,u=0):f>=1&&f<2?(o=g,l=c,u=0):f>=2&&f<3?(o=0,l=c,u=g):f>=3&&f<4?(o=0,l=g,u=c):f>=4&&f<5?(o=g,l=0,u=c):f>=5&&f<6&&(o=c,l=0,u=g);const y=r-.5*c;o+=y,l+=y,u+=y,St.j.n0=Math.round(o*255),St.j.n1=Math.round(l*255),St.j.n2=Math.round(u*255),St.j.n3=St.Ii.n3}static BR(){St.cA(),St.KR()}static VR(){St.YR(),St.fA()}static b2(i){return i/=255,i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4)}static k2(i){return i<=.0031308?i*12.92:1.055*Math.pow(i,1/2.4)-.055}static cA(){const i=St.b2(St.j.n0),t=St.b2(St.j.n1),r=St.b2(St.j.n2);St.Rt.n0=.4124564*i+.3575761*t+.1804375*r,St.Rt.n1=.2126729*i+.7151522*t+.072175*r,St.Rt.n2=.0193339*i+.119192*t+.9503041*r,St.Rt.n3=St.j.n3}static fA(){const i=3.2404542*St.Rt.n0+-1.5371385*St.Rt.n1+-.4985314*St.Rt.n2,t=-.969266*St.Rt.n0+1.8760108*St.Rt.n1+.041556*St.Rt.n2,r=.0556434*St.Rt.n0+-.2040259*St.Rt.n1+1.0572252*St.Rt.n2;St.j.n0=St.k2(i)*255,St.j.n1=St.k2(t)*255,St.j.n2=St.k2(r)*255,St.j.n3=St.Rt.n3,St.j.n0=Math.round(St.j.n0),St.j.n0>255?St.j.n0=255:St.j.n0<0&&(St.j.n0=0),St.j.n1=Math.round(St.j.n1),St.j.n1>255?St.j.n1=255:St.j.n1<0&&(St.j.n1=0),St.j.n2=Math.round(St.j.n2),St.j.n2>255?St.j.n2=255:St.j.n2<0&&(St.j.n2=0)}static M2(i){return i>St.P2?Math.pow(i,1/3):(St.Xb*i+16)/116}static KR(){const i=St.M2(St.Rt.n0*100/St.hd[0]),t=St.M2(St.Rt.n1*100/St.hd[1]),r=St.M2(St.Rt.n2*100/St.hd[2]);St.to.n0=116*t-16,St.to.n1=500*(i-t),St.to.n2=200*(t-r),St.to.n3=St.Rt.n3}static uA(i){const t=i*i*i;return t>St.P2?t:(116*i-16)/St.Xb}static YR(){const i=(St.to.n0+16)/116,t=St.to.n1/500+i,r=i-St.to.n2/200;St.Rt.n0=St.hd[0]/100*St.uA(t),St.Rt.n1=St.hd[1]/100*(St.to.n0>St.Xb*St.P2?Math.pow(i,3):St.to.n0/St.Xb),St.Rt.n2=St.hd[2]/100*St.uA(r),St.Rt.n3=St.to.n3}static GR(){let i=.8190224*St.Rt.n0+.3619062*St.Rt.n1+-.1288737*St.Rt.n2,t=.03298366*St.Rt.n0+.9292868*St.Rt.n1+.03614466*St.Rt.n2,r=.04817719*St.Rt.n0+.2642395*St.Rt.n1+.6335478*St.Rt.n2;i=Math.cbrt(i),t=Math.cbrt(t),r=Math.cbrt(r),St.fi.n0=.2104542*i+.7936177*t+-.004072046*r,St.fi.n1=1.977998*i+-2.428592*t+.4505937*r,St.fi.n2=.02590403*i+.7827717*t+-.8086757*r,St.fi.n3=St.Rt.n3,St.fi.n0*=100}static jR(){St.fi.n0/=100;let i=.9999999*St.fi.n0+.3963377*St.fi.n1+.2158037*St.fi.n2,t=1.000000009*St.fi.n0+-.1055613*St.fi.n1+-.06385417*St.fi.n2,r=1.00000005*St.fi.n0+-.08948418*St.fi.n1+-1.291485*St.fi.n2;i=i**3,t=t**3,r=r**3,St.Rt.n0=1.2268798*i+-.5578149*t+.281391*r,St.Rt.n1=-.04057576*i+1.112286*t+-.07171106*r,St.Rt.n2=-.07637294*i+-.4214933*t+1.586924*r,St.Rt.n3=St.fi.n3}static HR(){const i=Math.atan2(St.fi.n2,St.fi.n1)*180/Math.PI;St.io.n0=St.fi.n0,St.io.n1=Math.sqrt(St.fi.n1**2+St.fi.n2**2),St.io.n2=i>=0?i:i+360,St.io.n3=St.fi.n3}static qR(){St.fi.n0=St.io.n0,St.fi.n1=St.io.n1*Math.cos(St.io.n2*Math.PI/180),St.fi.n2=St.io.n1*Math.sin(St.io.n2*Math.PI/180),St.fi.n3=St.io.n3}static zR(){St.cA(),St.GR(),St.HR()}static XR(){St.qR(),St.jR(),St.fA()}static od(i,t){typeof i=="string"||i instanceof St||n.o("Value for "+t+" must be a color string or a Brush, not "+i)}};T(St,"P2",216/24389),T(St,"Xb",24389/27),T(St,"hd",[95.047,100,108.883]),T(St,"Solid",1),T(St,"Linear",2),T(St,"Radial",3),T(St,"Pattern",4),T(St,"Lab",1),T(St,"HSL",2),T(St,"el",xe.isUsingDOM()?new vi(null,void 0,{willReadFrequently:!0}).ci:null),T(St,"j",new ho),T(St,"Ii",new ho),T(St,"Rt",new ho),T(St,"to",new ho),T(St,"fi",new ho),T(St,"io",new ho);let ze=St;const ts=class ts{constructor(){T(this,"St","Base")}static definePanelLayout(i,t){t.name=i,ts.Layouts.set(i,t)}get name(){return this.St}set name(i){this.St=i}get classType(){return re}measure(i,t,r,o,l,u,c){}measureElement(i,t,r,o,l){i.ut(t,r,o,l)}arrange(i,t,r){}arrangeElement(i,t,r,o,l,u){i.zt(t,r,o,l,u)}remeasureObject(i){i._c()}Gi(i,t,r){}};T(ts,"Layouts",new V);let Ee=ts;class yh extends Ee{constructor(){super()}measure(i,t,r,o,l,u,c){const f=o.length,g=i.Ko();for(let y=0;y<f;y++){const b=o[y];if(!b.visible&&b!==g)continue;const w=b.margin,P=w.right+w.left,E=w.top+w.bottom;b.ut(t,r,u,c);const N=b.measuredBounds,_=Math.max(N.width+P,0),R=Math.max(N.height+E,0);let $=b.position.x,q=b.position.y;if(isFinite($)||($=0),isFinite(q)||(q=0),b instanceof fe&&b.isGeometryPositioned){const X=b.strokeWidth/2;$-=X,q-=X}l.unionNoCheck($,q,_,R)}}arrange(i,t,r){const o=t.length,l=i.padding,u=r.x-l.left,c=r.y-l.top;for(let f=0;f<o;f++){const g=t[f],y=g.measuredBounds,b=g.margin,w=g.position.x,P=g.position.y;let E=isNaN(w)?-u:w-u,N=isNaN(P)?-c:P-c;if(g instanceof fe&&g.isGeometryPositioned){const _=g.strokeWidth/2;E-=_,N-=_}g.visible&&g.zt(E+b.left,N+b.top,y.width,y.height)}}}Ee.definePanelLayout("Position",new yh);class Hi extends Ee{constructor(){super()}measure(i,t,r,o,l,u,c){const f=o.length,g=n.rt(),y=i.Ko();for(let w=0;w<f;w++){const P=o[w];if(!P.visible&&P!==y)continue;const E=P.zs(!1);if(E!==0&&E!==5){g.push(P);continue}P.ut(1/0,r,0,c);const N=P.margin,_=P.measuredBounds,R=Math.max(_.width+N.right+N.left,0),$=Math.max(_.height+N.top+N.bottom,0);l.width+=R,l.height=Math.max(l.height,$)}const b=g.length;i.desiredSize.height?r=Math.min(i.desiredSize.height,i.maxSize.height):l.height!==0&&(r=Math.min(l.height,i.maxSize.height));for(let w=0;w<b;w++){const P=g[w];if(!P.visible&&P!==y)continue;const E=P.margin,N=E.right+E.left,_=E.top+E.bottom;P.ut(1/0,r,0,c);const R=P.measuredBounds,$=Math.max(R.width+N,0),q=Math.max(R.height+_,0);l.width+=$,l.height=Math.max(l.height,q)}n.it(g)}arrange(i,t,r){const o=t.length,l=i.padding,u=l.top,c=i.isOpposite;let f=c?r.width:l.left;for(let g=0;g<o;g++){const y=u,b=t[g];if(!b.visible)continue;const w=b.measuredBounds,P=b.margin,E=P.top+P.bottom,N=u+l.bottom;let _=w.height;const R=b.zs(!1);(isNaN(b.desiredSize.height)&&R===2||R===4)&&(_=Math.max(r.height-E-N,0));const $=_+E+N;let q=b.alignment;q.isDefault()&&(q=i.defaultAlignment),q.isSpot()||(q=U.Center),c&&(f-=w.width+P.left+P.right),b.zt(f+q.offsetX+P.left,y+q.offsetY+P.top+(r.height*q.y-$*q.y),w.width,_),c||(f+=w.width+P.left+P.right)}}}Ee.definePanelLayout("Horizontal",new Hi);class vh extends Ee{constructor(){super()}measure(i,t,r,o,l,u,c){const f=o.length,g=n.rt(),y=i.Ko();for(let w=0;w<f;w++){const P=o[w];if(!P.visible&&P!==y)continue;const E=P.zs(!1);if(E!==0&&E!==4){g.push(P);continue}const N=P.margin,_=N.right+N.left,R=N.top+N.bottom;P.ut(t,1/0,u,0);const $=P.measuredBounds,q=Math.max($.width+_,0),X=Math.max($.height+R,0);l.Po(Math.max(l.width,q),l.height+X)}const b=g.length;if(b!==0){i.desiredSize.width?t=Math.min(i.desiredSize.width,i.maxSize.width):l.width!==0&&(t=Math.min(l.width,i.maxSize.width));for(let w=0;w<b;w++){const P=g[w];if(!P.visible&&P!==y)continue;const E=P.margin,N=E.right+E.left,_=E.top+E.bottom;P.ut(t,1/0,u,0);const R=P.measuredBounds,$=Math.max(R.width+N,0),q=Math.max(R.height+_,0);l.width=Math.max(l.width,$),l.height+=q}n.it(g)}}arrange(i,t,r){const o=t.length,l=i.padding,u=l.left,c=i.isOpposite;let f=c?r.height:l.top;for(let g=0;g<o;g++){const y=u,b=t[g];if(!b.visible)continue;const w=b.measuredBounds,P=b.margin,E=P.left+P.right,N=u+l.right;let _=w.width;const R=b.zs(!1);(isNaN(b.desiredSize.width)&&R===2||R===5)&&(_=Math.max(r.width-E-N,0));const $=_+E+N;let q=b.alignment;q.isDefault()&&(q=i.defaultAlignment),q.isSpot()||(q=U.Center),c&&(f-=w.height+P.bottom+P.top),b.zt(y+q.offsetX+P.left+(r.width*q.x-$*q.x),f+q.offsetY+P.top,_,w.height),c||(f+=w.height+P.bottom+P.top)}}}Ee.definePanelLayout("Vertical",new vh);class Ed extends Ee{constructor(){super()}measure(i,t,r,o,l,u,c){const f=o.length;if(f===0)return;const g=i.findMainElement();let y=g.margin,b=0,w=0;const P=y.right+y.left,E=y.top+y.bottom;g.ut(t,r,u,c);let N=g.measuredBounds,_=N.width,R=N.height,$=Math.max(_+P,0),q=Math.max(R+E,0);const X=i.isClipping,H=F.X(-y.left,-y.top,$,q);let tt=F.X(0,0,_,R);this.S2(g,tt,!0),_=tt.width,R=tt.height;let Q=!0;const nt=i.Ko();let ht;for(let it=0;it<f;it++){const st=o[it];let ct=t,ut=r;if(st===g||!st.visible&&st!==nt)continue;y=st.margin;let pt=y.left,Tt=y.top;switch(b=y.right+y.left,w=y.top+y.bottom,ht=st.zs(!1),ht){case 2:ct=_,ut=R,b=0,w=0,pt=0,Tt=0;break;case 5:ct=_,b=0,pt=0;break;case 4:ut=R,w=0,Tt=0;break}st.ut(ct,ut,0,0),N=st.measuredBounds,$=Math.max(N.width+b,0),q=Math.max(N.height+w,0);let Et=st.alignment;Et.isDefault()&&(Et=i.defaultAlignment),Et.isSpot()||(Et=U.Center);let m=st.alignmentFocus;m.isDefault()&&(m=U.Center);let k=null;st instanceof re&&st.eo!==""&&(k=st.findObject(st.eo),k===st&&(k=null));let D=tt.x-pt,G=tt.y-Tt;if(k!==null){st.zt(0,0,N.width,N.height);const Z=k.actualBounds,et=C.X(Z.x+(m.x*Z.width-m.offsetX),Z.y+(m.y*Z.height-m.offsetY));for(k=k.panel;k!==st;)k.L.xt(et),k=k.panel;D+=Et.x*_+Et.offsetX-et.x,G+=Et.y*R+Et.offsetY-et.y,C.s(et)}else D+=Et.x*_+Et.offsetX-(m.x*N.width+m.offsetX),G+=Et.y*R+Et.offsetY-(m.y*N.height+m.offsetY);Q?(Q=!1,l.e(D,G,$,q)):l.unionNoCheck(D,G,$,q)}switch(Q?l.a(H):X?l.intersect(tt.x,tt.y,tt.width,tt.height):l.unionNoCheck(H.x,H.y,H.width,H.height),F.s(H),F.s(tt),ht=g.stretch,ht===1&&(ht=g.zs(!1)),ht){case 0:return;case 2:if(!isFinite(t)&&!isFinite(r))return;break;case 5:if(!isFinite(t))return;break;case 4:if(!isFinite(r))return;break}N=g.measuredBounds,_=N.width,R=N.height,$=Math.max(_+P,0),q=Math.max(R+E,0),y=g.margin,tt=F.X(-y.left,-y.top,$,q),this.S2(g,tt,!0),_=tt.width,R=tt.height;for(let it=0;it<f;it++){const st=o[it];if(st===g||!st.visible&&st!==nt)continue;y=st.margin,b=y.right+y.left,w=y.top+y.bottom,N=st.measuredBounds,$=Math.max(N.width+b,0),q=Math.max(N.height+w,0);let ct=st.alignment;ct.isDefault()&&(ct=i.defaultAlignment),ct.isSpot()||(ct=U.Center);let ut=st.alignmentFocus;ut.isDefault()&&(ut=U.Center),Q?(Q=!1,l.e(ct.x*_+ct.offsetX-(ut.x*N.width+ut.offsetX)-y.left,ct.y*R+ct.offsetY-(ut.y*N.height+ut.offsetY)-y.top,$,q)):l.unionNoCheck(ct.x*_+ct.offsetX-(ut.x*N.width+ut.offsetX)-y.left,ct.y*R+ct.offsetY-(ut.y*N.height+ut.offsetY)-y.top,$,q)}Q?l.a(H):X?l.intersect(tt.x,tt.y,tt.width,tt.height):l.unionNoCheck(H.x,H.y,H.width,H.height),F.s(tt)}arrange(i,t,r){const o=t.length;if(o===0)return;const l=i.findMainElement(),u=l.measuredBounds,c=u.width,f=u.height,g=i.padding,y=g.left,b=g.top;let w=y-r.x,P=b-r.y;l.zt(w,P,c,f);const E=F.X(0,0,c,f);this.S2(l,E,!1);for(let N=0;N<o;N++){const _=t[N];if(_===l)continue;const R=_.measuredBounds,$=R.width,q=R.height;let X=_.alignment;X.isDefault()&&(X=i.defaultAlignment),X.isSpot()||(X=U.Center);let H=_.alignmentFocus;H.isDefault()&&(H=U.Center);let tt=null;if(_ instanceof re&&_.eo!==""&&(tt=_.findObject(_.eo),tt===_&&(tt=null)),tt!==null){const Q=tt.actualBounds,nt=C.X(Q.x+(H.x*Q.width-H.offsetX),Q.y+(H.y*Q.height-H.offsetY));for(tt=tt.panel;tt!==_;)tt.L.xt(nt),tt=tt.panel;w=X.x*E.width+X.offsetX-nt.x,P=X.y*E.height+X.offsetY-nt.y,C.s(nt)}else w=X.x*E.width+X.offsetX-(H.x*$+H.offsetX),P=X.y*E.height+X.offsetY-(H.y*q+H.offsetY);w+=E.x-r.x,P+=E.y-r.y,_.visible&&_.zt(y+w,b+P,$,q)}F.s(E)}S2(i,t,r){let o=null;if(i instanceof re&&i.eo!==""&&(o=i.findObject(i.eo),o===i&&(o=null)),o!==null)for(r&&i.zt(0,0,t.width,t.height),t.a(o.actualBounds),o=o.panel;o!==i;)o.L.ww(t),o=o.panel}}Ee.definePanelLayout("Spot",new Ed);class Ld extends Ee{constructor(){super()}measure(i,t,r,o,l,u,c){const f=o.length;if(f===0)return;const g=i.findMainElement();let y=g.margin,b=t,w=r;const P=y.right+y.left,E=y.top+y.bottom;g.ut(t,r,u,c);let N=g.measuredBounds,_=0,R=null;g instanceof fe&&(R=g,_=R.strokeWidth*R.scale);let $=Math.max(N.width+P,0),q=Math.max(N.height+E,0),X=i.N2(g);const H=X.x*$+X.offsetX,tt=X.y*q+X.offsetY;let Q=i.C2(g);const nt=Q.x*$+Q.offsetX,ht=Q.y*q+Q.offsetY;isFinite(t)&&(b=Math.max(Math.abs(H-nt)-_,0)),isFinite(r)&&(w=Math.max(Math.abs(tt-ht)-_,0));let it=0,st=0;u>0&&(it=Math.max(Math.abs(X.x*u+X.offsetX-(Q.x*u+Q.offsetX))-_,0)),c>0&&(st=Math.max(Math.abs(X.y*c+X.offsetY-(Q.y*c+Q.offsetY))-_,0));const ct=z.l();ct.e(0,0);const ut=i.Ko();for(let m=0;m<f;m++){const k=o[m];if(k===g||!k.visible&&k!==ut)continue;y=k.margin;const D=y.right+y.left,G=y.top+y.bottom;k.ut(b,w,it,st),N=k.measuredBounds,$=Math.max(N.width+D,0),q=Math.max(N.height+G,0),ct.e(Math.max($,ct.width),Math.max(q,ct.height))}if(f===1){N=g.measuredBounds,l.width=$,l.height=q,z.s(ct);return}X=i.N2(g),Q=i.C2(g);let pt=0,Tt=0;Q.x!==X.x&&Q.y!==X.y&&(pt=ct.width/Math.abs(Q.x-X.x),Tt=ct.height/Math.abs(Q.y-X.y)),z.s(ct),_=0,R!==null&&(_=R.strokeWidth*R.scale,R.QP()===6&&(pt=Tt=Math.max(pt,Tt))),pt+=Math.abs(X.offsetX)+Math.abs(Q.offsetX)+_,Tt+=Math.abs(X.offsetY)+Math.abs(Q.offsetY)+_;let Et=g.stretch;switch(Et===1&&(Et=g.zs(!1)),Et){case 0:u=0,c=0;break;case 2:isFinite(t)&&(pt=t),isFinite(r)&&(Tt=r);break;case 5:isFinite(t)&&(pt=t),c=0;break;case 4:u=0,isFinite(r)&&(Tt=r);break}g._c(),g.ut(pt,Tt,u,c),l.width=g.measuredBounds.width+P,l.height=g.measuredBounds.height+E}arrange(i,t,r){const o=t.length;if(o===0)return;const l=i.findMainElement(),u=l.measuredBounds,c=F.l();c.e(0,0,1,1);let f=l.margin;const g=f.left,y=f.top,b=i.padding,w=b.left,P=b.top;let E=g,N=y,_=u.width,R=u.height;l.zt(w+E,P+N,_,R);const $=i.N2(l),q=i.C2(l),X=0+$.x*u.width+$.offsetX,H=0+$.y*u.height+$.offsetY,tt=0+q.x*u.width+q.offsetX,Q=0+q.y*u.height+q.offsetY;c.x=X,c.y=H,c.unionNoCheck(tt,Q,0,0),c.x+=g+w,c.y+=y+P;for(let nt=0;nt<o;nt++){const ht=t[nt];if(ht===l)continue;const it=ht.measuredBounds;f=ht.margin;const st=Math.max(it.width+f.right+f.left,0),ct=Math.max(it.height+f.top+f.bottom,0);let ut=ht.alignment;ut.isDefault()&&(ut=i.defaultAlignment),ut.isSpot()||(ut=U.Center),E=c.width*ut.x+ut.offsetX-st*ut.x+f.left+c.x,N=c.height*ut.y+ut.offsetY-ct*ut.y+f.top+c.y,_=c.width,R=c.height,ht.visible&&(F.contains(c.x,c.y,c.width,c.height,E,N,it.width,it.height)?ht.zt(E,N,it.width,it.height):ht.zt(E,N,it.width,it.height,new F(c.x,c.y,c.width,c.height)))}F.s(c)}}Ee.definePanelLayout("Auto",new Ld);class _d extends Ee{constructor(){super(),this.name="Table"}measure(i,t,r,o,l,u,c){let f=o.length;const g=n.rt(),y=n.rt();for(let qt=0;qt<f;qt++){const Vt=o[qt],oe=Vt instanceof re?Vt:null;if(oe!==null&&oe.tl()&&Vt.visible){y.push(oe);const Ce=oe.T.r,xn=Ce.length;for(let Rn=0;Rn<xn;Rn++){const In=Ce[Rn];oe.type===re.TableRow?In.row=Vt.row:oe.type===re.TableColumn&&(In.column=Vt.column),g.push(In)}}else g.push(Vt)}f=g.length,f===0&&(i.getRowDefinition(0),i.getColumnDefinition(0));const b=[];for(let qt=0;qt<f;qt++){const Vt=g[qt];Vt.visible&&(Vt.ue(!0),Vt.Qn(!0),b[Vt.row]||(b[Vt.row]=[]),b[Vt.row][Vt.column]||(b[Vt.row][Vt.column]=[]),b[Vt.row][Vt.column].push(Vt))}n.it(g);const w=n.rt(),P=n.rt(),E=n.rt(),N={count:0},_={count:0};let R=t,$=r;const q=i.Ge,X=i.je;let H=null;f=q.length;for(let qt=0;qt<f;qt++)H=q[qt],H!==void 0&&(H.actual=0);f=X.length;for(let qt=0;qt<f;qt++)H=X[qt],H!==void 0&&(H.actual=0);let tt=b.length,Q=0;for(let qt=0;qt<tt;qt++)b[qt]&&(Q=Math.max(Q,b[qt].length));const nt=Math.min(i.topIndex,tt-1),ht=Math.min(i.leftIndex,Q-1);let it=0,st;tt=b.length;const ct=i.Ko();for(let qt=0;qt<tt;qt++){if(!b[qt])continue;Q=b[qt].length;const Vt=i.getRowDefinition(qt);Vt.actual=0,Vt.ji=0;for(let oe=0;oe<Q;oe++){if(!b[qt][oe])continue;const Ce=i.getColumnDefinition(oe);w[oe]===void 0&&(Ce.actual=0,Ce.ji=0,w[oe]=!0);const xn=b[qt][oe],Rn=xn.length;for(let In=0;In<Rn;In++){const qn=xn[In];if(!qn.visible&&qn!==ct)continue;const es=qn.rowSpan>1,ln=qn.columnSpan>1;(es||ln)&&!(qt<nt)&&!(oe<ht)&&P.push(qn);const qi=qn.margin,ni=qi.right+qi.left,ki=qi.top+qi.bottom;st=qn.S0(Vt,Ce,!1);const ns=qn.desiredSize,Be=!isNaN(ns.width),ws=!isNaN(ns.height);if(st!==0&&!(Be&&ws)&&!(qt<nt)&&!(oe<ht)&&(!ln&&N[oe]===void 0&&(st===2||st===5)&&(N[oe]=-1,N.count++),!es&&_[qt]===void 0&&(st===2||st===4)&&(_[qt]=-1,_.count++),!es&&!ln&&E.push(qn)),qn.ut(1/0,1/0,0,0),qt<nt||oe<ht)continue;const Zi=qn.measuredBounds,mo=Math.max(Zi.width+ni,0),ka=Math.max(Zi.height+ki,0);if(qn.rowSpan===1&&(st===0||st===5)){H=i.getRowDefinition(qt);const yo=H.computeEffectiveSpacing(),Wd=H.ot===0;it=Math.max(ka-H.actual,0),it+(Wd?yo:0)>$&&(it=Math.max($-yo,0)),H.ji=H.ji+it,H.actual=H.ot+it,$=Math.max($-(it+(Wd?yo:0)),0)}if(qn.columnSpan===1&&(st===0||st===4)){H=i.getColumnDefinition(oe);const yo=H.computeEffectiveSpacing(),Wd=H.ot===0;it=Math.max(mo-H.actual,0),it+(Wd?yo:0)>R&&(it=Math.max(R-yo,0)),H.ji=H.ji+it,H.actual=H.ot+it,R=Math.max(R-(it+(Wd?yo:0)),0)}(es||ln)&&qn._c()}}}n.it(w);let ut=0,pt=0;f=i.columnCount;for(let qt=0;qt<f;qt++){const Vt=X[qt];Vt!==void 0&&(ut+=isNaN(Vt.ge)?Vt.ji:Vt.ge,Vt.ji!==0&&(ut+=Vt.computeEffectiveSpacing()))}f=i.rowCount;for(let qt=0;qt<f;qt++){const Vt=q[qt];Vt!==void 0&&(pt+=isNaN(Vt.ge)?Vt.ji:Vt.ge,Vt.ji!==0&&(pt+=Vt.computeEffectiveSpacing()))}R=Math.max(t-ut,0),$=Math.max(r-pt,0);let Tt=$,Et=R;f=E.length;for(let qt=0;qt<f;qt++){const Vt=E[qt],oe=i.getRowDefinition(Vt.row),Ce=i.getColumnDefinition(Vt.column),xn=Vt.measuredBounds,Rn=Vt.margin,In=Rn.right+Rn.left,qn=Rn.top+Rn.bottom;Ce.ji===0&&N[Vt.column]!==void 0?N[Vt.column]=Math.max(xn.width+In,N[Vt.column]):N[Vt.column]=null,oe.ji===0&&_[Vt.row]!==void 0?_[Vt.row]=Math.max(xn.height+qn,_[Vt.row]):_[Vt.row]=null}let m=0,k=0,D;for(D in _)D!=="count"&&(m+=_[D]);for(D in N)D!=="count"&&(k+=N[D]);const G=z.l();for(let qt=0;qt<f;qt++){const Vt=E[qt];if(!Vt.visible&&Vt!==ct)continue;const oe=i.getRowDefinition(Vt.row),Ce=i.getColumnDefinition(Vt.column);let xn=0;isFinite(Ce.width)?xn=Ce.width:(isFinite(R)&&N[Vt.column]!==null?k===0?xn=Ce.actual+R:xn=N[Vt.column]/k*Et:N[Vt.column]!==null?xn=R:xn=Ce.actual||R,xn=Math.max(0,xn-Ce.computeEffectiveSpacing()));let Rn=0;switch(isFinite(oe.height)?Rn=oe.height:(isFinite($)&&_[Vt.row]!==null?m===0?Rn=oe.actual+$:Rn=_[Vt.row]/m*Tt:_[Vt.row]!==null?Rn=$:Rn=oe.actual||$,Rn=Math.max(0,Rn-oe.computeEffectiveSpacing())),G.e(Math.max(Ce.minimum,Math.min(xn,Ce.maximum)),Math.max(oe.minimum,Math.min(Rn,oe.maximum))),st=Vt.S0(oe,Ce,!1),st){case 5:G.height=Math.max(G.height,oe.actual+$);break;case 4:G.width=Math.max(G.width,Ce.actual+R);break}const In=Vt.margin,qn=In.right+In.left,es=In.top+In.bottom;Vt._c();let ln=Ce.minimum,qi=oe.minimum;const ni=Vt.measuredBounds;ni.width===0&&N[Vt.column]!==null&&(ln=Math.max(ln,N[Vt.column])),ni.height===0&&_[Vt.row]!==null&&(qi=Math.max(ln,_[Vt.row])),Vt.ut(G.width,G.height,ln,qi);const ki=Vt.measuredBounds;let ns=Math.max(ki.width+qn,0),Be=Math.max(ki.height+es,0);isFinite(R)&&(ns=Math.min(ns,G.width)),isFinite($)&&(Be=Math.min(Be,G.height));let ws=0;ws=oe.actual,oe.actual=Math.max(oe.actual,Be),oe.ji=Math.max(oe.ji,Be),it=oe.actual-ws,$=Math.max($-it,0),_[Vt.row]===null&&(Tt=Math.max(Tt-it,0)),ws=Ce.actual,Ce.actual=Math.max(Ce.actual,ns),Ce.ji=Math.max(Ce.ji,ns),it=Ce.actual-ws,R=Math.max(R-it,0),N[Vt.column]===null&&(Et=Math.max(Et-it,0))}n.it(E);const Z=z.l(),et=n.rt(),ft=n.rt();if(f=P.length,f!==0)for(let qt=0;qt<tt;qt++){if(!b[qt])continue;Q=b[qt].length;const Vt=i.getRowDefinition(qt);et[qt]=Vt.actual;for(let oe=0;oe<Q;oe++){if(!b[qt][oe])continue;const Ce=i.getColumnDefinition(oe);ft[oe]=Ce.actual}}for(let qt=0;qt<f;qt++){const Vt=P[qt];if(!Vt.visible&&Vt!==ct)continue;const oe=i.getRowDefinition(Vt.row),Ce=i.getColumnDefinition(Vt.column);switch(G.e(Math.max(Ce.minimum,Math.min(t,Ce.maximum)),Math.max(oe.minimum,Math.min(r,oe.maximum))),st=Vt.S0(oe,Ce,!1),st){case 2:ft[Ce.index]!==0&&(G.width=Math.min(G.width,ft[Ce.index])),et[oe.index]!==0&&(G.height=Math.min(G.height,et[oe.index]));break;case 5:ft[Ce.index]!==0&&(G.width=Math.min(G.width,ft[Ce.index]));break;case 4:et[oe.index]!==0&&(G.height=Math.min(G.height,et[oe.index]));break}isFinite(Ce.width)&&(G.width=Ce.width),isFinite(oe.height)&&(G.height=oe.height),Z.e(0,0);let xn=Ce.minimum,Rn=oe.minimum;for(let Be=1;Be<Vt.rowSpan&&!(Vt.row+Be>=i.rowCount);Be++)H=i.getRowDefinition(Vt.row+Be),it=0,st===2||st===4?it=Math.max(H.minimum,et[Vt.row+Be]===0?H.maximum:Math.min(et[Vt.row+Be],H.maximum)):it=Math.max(H.minimum,isNaN(H.ge)?H.maximum:Math.min(H.ge,H.maximum)),Z.height+=it,Rn+=H.minimum;for(let Be=1;Be<Vt.columnSpan&&!(Vt.column+Be>=i.columnCount);Be++)H=i.getColumnDefinition(Vt.column+Be),it=0,st===2||st===5?it=Math.max(H.minimum,ft[Vt.column+Be]===0?H.maximum:Math.min(ft[Vt.column+Be],H.maximum)):it=Math.max(H.minimum,isNaN(H.ge)?H.maximum:Math.min(H.ge,H.maximum)),Z.width+=it,xn+=H.minimum;G.width+=Z.width,G.height+=Z.height;const In=Vt.margin,qn=In.right+In.left,es=In.top+In.bottom;Vt.ut(G.width,G.height,xn,Rn);const ln=Vt.measuredBounds,qi=Math.max(ln.width+qn,0),ni=Math.max(ln.height+es,0);let ki=0;for(let Be=0;Be<Vt.rowSpan&&!(Vt.row+Be>=i.rowCount);Be++)H=i.getRowDefinition(Vt.row+Be),ki+=H.total||0;if(ki<ni){let Be=ni-ki;const ws=ni-ki;if(Vt.spanAllocation!==null){const Zi=Vt.spanAllocation;for(let mo=0;mo<Vt.rowSpan&&!(Be<=0||Vt.row+mo>=i.rowCount);mo++){H=i.getRowDefinition(Vt.row+mo);const ka=H.ot||0,yo=Zi(Vt,H,ws);H.actual=Math.min(H.maximum,ka+yo),H.ot!==ka&&(Be-=H.ot-ka)}}for(;Be>0;){const Zi=H.ot||0;if(isNaN(H.height)&&H.maximum>Zi&&(H.actual=Math.min(H.maximum,Zi+Be),H.ot!==Zi&&(Be-=H.ot-Zi)),H.index===0)break;H=i.getRowDefinition(H.index-1)}}let ns=0;for(let Be=0;Be<Vt.columnSpan&&!(Vt.column+Be>=i.columnCount);Be++)H=i.getColumnDefinition(Vt.column+Be),ns+=H.total||0;if(ns<qi){let Be=qi-ns;const ws=qi-ns;if(Vt.spanAllocation!==null){const Zi=Vt.spanAllocation;for(let mo=0;mo<Vt.columnSpan&&!(Be<=0||Vt.column+mo>=i.columnCount);mo++){H=i.getColumnDefinition(Vt.column+mo);const ka=H.ot||0,yo=Zi(Vt,H,ws);H.actual=Math.min(H.maximum,ka+yo),H.ot!==ka&&(Be-=H.ot-ka)}}for(;Be>0;){const Zi=H.ot||0;if(isNaN(H.width)&&H.maximum>Zi&&(H.actual=Math.min(H.maximum,Zi+Be),H.ot!==Zi&&(Be-=H.ot-Zi)),H.index===0)break;H=i.getColumnDefinition(H.index-1)}}}n.it(P),z.s(Z),z.s(G),et!==void 0&&n.it(et),ft!==void 0&&n.it(ft);let bt=0,Pt=0;const Dt=i.desiredSize,Gt=i.maxSize;st=i.zs(!0),ut=0,pt=0;let Bt=0,Ht=0;f=i.columnCount;for(let qt=0;qt<f;qt++)if(X[qt]!==void 0){if(H=i.getColumnDefinition(qt),isFinite(H.width)){Bt+=H.width,Bt+=H.computeEffectiveSpacing();continue}else if(H.Kb()===2){Bt+=H.ot,Bt+=H.computeEffectiveSpacing();continue}H.ot!==0&&(ut+=H.ot,ut+=H.computeEffectiveSpacing())}isFinite(Dt.width)?bt=Math.min(Dt.width,Gt.width):st!==0&&isFinite(t)?bt=t:bt=ut,bt=Math.max(bt,isFinite(t)?Math.min(u,t):u),bt=Math.max(bt-Bt,0);const Fe=ut===0?1:Math.max(bt/ut,1);for(let qt=0;qt<f;qt++)X[qt]!==void 0&&(H=i.getColumnDefinition(qt),!isFinite(H.width)&&H.Kb()!==2&&(H.actual=H.ot*Fe),H.position=l.width,H.ot!==0&&(l.width+=H.ot,l.width+=H.computeEffectiveSpacing()));f=i.rowCount;for(let qt=0;qt<f;qt++)if(q[qt]!==void 0){if(H=i.getRowDefinition(qt),isFinite(H.height)){Ht+=H.height,Ht+=H.computeEffectiveSpacing();continue}else if(H.Kb()===2){Ht+=H.ot,Ht+=H.computeEffectiveSpacing();continue}H.ot!==0&&(pt+=H.ot,pt+=H.computeEffectiveSpacing())}isFinite(Dt.height)?Pt=Math.min(Dt.height,Gt.height):st!==0&&isFinite(r)?Pt=r:Pt=pt,Pt=Math.max(Pt,isFinite(r)?Math.min(c,r):c),Pt=Math.max(Pt-Ht,0);const de=pt===0?1:Math.max(Pt/pt,1);for(let qt=0;qt<f;qt++)q[qt]!==void 0&&(H=i.getRowDefinition(qt),!isFinite(H.height)&&H.Kb()!==2&&(H.actual=H.ot*de),H.position=l.height,H.ot!==0&&(l.height+=H.ot,l.height+=H.computeEffectiveSpacing()));f=y.length;for(let qt=0;qt<f;qt++){const Vt=y[qt];let oe=0,Ce=0;Vt.type===re.TableRow?(oe=l.width,H=i.getRowDefinition(Vt.row),Ce=H.actual):(H=i.getColumnDefinition(Vt.column),oe=H.actual,Ce=l.height),Vt.measuredBounds.e(0,0,oe,Ce),Vt.ue(!1)}n.it(y),i.dh=b}arrange(i,t,r){const o=t.length,l=i.padding,u=l.left,c=l.top,f=i.dh;if(f===null)return;let g=0,y=0;const b=f.length;let w=0;for(let ht=0;ht<b;ht++)f[ht]&&(w=Math.max(w,f[ht].length));const P=i.Ge,E=i.je;let N=0,_=0,R=Math.min(i.topIndex,b-1);if(P.length>0){for(;R!==b&&(P[R]===void 0||P[R].ot===0);)R++;R=Math.max(Math.min(R,b-1),0),N=-P[R].position}let $=Math.min(i.leftIndex,w-1);if(E.length>0){for(;$!==w&&(E[$]===void 0||E[$].ot===0);)$++;$=Math.max(Math.min($,w-1),0),_=-E[$].position}let q=0,X=0;for(;q!==b&&P[q]===void 0;)q++;for(;X!==b&&E[X]===void 0;)X++;const H=i.part;let tt=i.getRowDefinition(q),Q=i.getColumnDefinition(X);for(let ht=0;ht<t.length;ht++){const it=t[ht];if(!(it instanceof re&&it.visible&&it.tl()))continue;it.type===re.TableRow?(tt=i.getRowDefinition(it.row),Q=i.getColumnDefinition(X)):(tt=i.getRowDefinition(q),Q=i.getColumnDefinition(it.column)),y=tt.position+N+c,tt.ot!==0&&(y+=tt.computeEffectiveSpacingTop(Math.max(q,R))),g=Q.position+_+u,Q.ot!==0&&(g+=Q.computeEffectiveSpacingTop(Math.max(X,$)));const st=it.measuredBounds;it.td(),it.actualBounds.lt();const ct=it.actualBounds,ut=F.X(ct.x,ct.y,ct.width,ct.height);if(ct.x=it.type===re.TableRow?u:g,ct.y=it.type===re.TableColumn?c:y,ct.width=st.width,ct.height=st.height,it.actualBounds.g(),it.Qn(!1),ut.equalsApproxClose(ct)){F.s(ut);continue}H!==null&&(H.ah(),it.b0(H)),F.s(ut)}const nt=z.l();for(let ht=0;ht<b;ht++){if(!f[ht])continue;w=f[ht].length;const it=i.getRowDefinition(ht);y=it.position+N+c,it.ot!==0&&(y+=it.computeEffectiveSpacingTop(Math.max(q,R)));for(let st=0;st<w;st++){if(!f[ht][st])continue;const ct=i.getColumnDefinition(st);g=ct.position+_+u,ct.ot!==0&&(g+=ct.computeEffectiveSpacingTop(Math.max(X,$)));const ut=f[ht][st],pt=ut.length;for(let Tt=0;Tt<pt;Tt++){const Et=ut[Tt],m=Et.measuredBounds;nt.e(0,0);for(let ni=1;ni<Et.rowSpan&&!(ht+ni>=i.rowCount);ni++){const ki=i.getRowDefinition(ht+ni);ki.ot!==0&&(nt.height+=ki.total)}for(let ni=1;ni<Et.columnSpan&&!(st+ni>=i.columnCount);ni++){const ki=i.getColumnDefinition(st+ni);ki.ot!==0&&(nt.width+=ki.total)}const k=ct.ot+nt.width,D=it.ot+nt.height;let G=g,Z=y;const et=k,ft=D,bt=g,Pt=y;let Dt=k,Gt=D;g+k>r.width&&(Dt=Math.max(r.width-g,0)),y+D>r.height&&(Gt=Math.max(r.height-y,0));let Bt=Et.alignment,Ht=0,Fe=0,de=0,qt=0;if(Bt.isDefault()){Bt=i.defaultAlignment,Bt.isSpot()||(Bt=U.Center),Ht=Bt.x,Fe=Bt.y,de=Bt.offsetX,qt=Bt.offsetY;const ni=ct.alignment,ki=it.alignment;ni.isSpot()&&(Ht=ni.x,de=ni.offsetX),ki.isSpot()&&(Fe=ki.y,qt=ki.offsetY)}else Ht=Bt.x,Fe=Bt.y,de=Bt.offsetX,qt=Bt.offsetY;(isNaN(Ht)||isNaN(Fe))&&(Ht=.5,Fe=.5,de=0,qt=0);let Vt=m.width,oe=m.height;const Ce=Et.margin,xn=Ce.left+Ce.right,Rn=Ce.top+Ce.bottom,In=Et.S0(it,ct,!1);isNaN(Et.desiredSize.width)&&(In===2||In===5)&&(Vt=Math.max(k-xn,0)),isNaN(Et.desiredSize.height)&&(In===2||In===4)&&(oe=Math.max(D-Rn,0));const qn=Et.maxSize,es=Et.minSize;Vt=Math.min(qn.width,Vt),oe=Math.min(qn.height,oe),Vt=Math.max(es.width,Vt),oe=Math.max(es.height,oe);const ln=Vt+xn,qi=oe+Rn;G+=et*Ht-ln*Ht+de+Ce.left,Z+=ft*Fe-qi*Fe+qt+Ce.top,Et.visible&&(F.contains(bt,Pt,Dt,Gt,G,Z,m.width,m.height)?Et.zt(G,Z,Vt,oe):Et.zt(G,Z,Vt,oe,new F(bt,Pt,Dt,Gt)))}}}z.s(nt);for(let ht=0;ht<o;ht++){const it=t[ht],st=it instanceof re?it:null;if(st!==null&&st.tl()){const ct=it.actualBounds;it.naturalBounds.lt(),it.naturalBounds.e(0,0,ct.width,ct.height),it.naturalBounds.g()}}}}Ee.definePanelLayout("Table",new _d);class Dd extends Ee{constructor(){super()}measure(i,t,r,o,l,u,c){}arrange(i,t,r){}}Ee.definePanelLayout("TableRow",new Dd);class Ds extends Ee{constructor(){super()}measure(i,t,r,o,l,u,c){}arrange(i,t,r){}}Ee.definePanelLayout("TableColumn",new Ds);class Rd extends Ee{constructor(){super()}measure(i,t,r,o,l,u,c){o.length!==1&&n.o("Viewbox Panel must contain exactly one GraphObject.");const f=o[0];f.K=1,f._c(),f.ut(1/0,1/0,u,c);let g=f.measuredBounds;const y=f.margin,b=y.right+y.left,w=y.top+y.bottom;if(isFinite(t)||isFinite(r)){const P=f.scale,E=g.width,N=g.height,_=Math.max(t-b,0),R=Math.max(r-w,0);let $=1;i.viewboxStretch===6?(E!==0&&N!==0&&($=Math.min(_/E,R/N)),$===0&&($=1e-4),f.K*=$):(E!==0&&N!==0&&($=Math.max(_/E,R/N)),$===0&&($=1e-4),f.K*=$),P!==f.scale&&(f.ue(!0),f.ut(1/0,1/0,u,c))}g=f.measuredBounds,l.width=isFinite(t)?t:Math.max(g.width+b,0),l.height=isFinite(r)?r:Math.max(g.height+w,0)}arrange(i,t,r){const o=t[0],l=o.measuredBounds,u=o.margin,c=u.right+u.left,f=u.top+u.bottom,g=Math.max(l.width+c,0),y=Math.max(l.height+f,0);let b=o.alignment;b.isDefault()&&(b=i.defaultAlignment),b.isSpot()||(b=U.Center),o.zt(r.width*b.x-g*b.x+b.offsetX,r.height*b.y-y*b.y+b.offsetY,l.width,l.height)}}Ee.definePanelLayout("Viewbox",new Rd);class fl extends Ee{constructor(){super()}measure(i,t,r,o,l,u,c){i.bi===null&&(i.bi=new Rs),this.WR(i),this.JR(i)}arrange(i,t,r){}Gi(i,t,r){const o=i.naturalBounds,l=o.width,u=o.height;t.save(),t.beginPath(),t.rect(0,0,l,u),t.clip(),t.endPath(),this.$R(i,t,r),t.restore(),t.clearContextCache(!1)}$R(i,t,r){let o=i.getDocumentScale()*r.scale;o<=0&&(o=1);const l=i.gridCellSize,u=l.width,c=l.height,f=i.naturalBounds,g=i.actualBounds,y=f.width,b=f.height,w=Math.ceil(y/u),P=Math.ceil(b/c),E=i.gridOrigin,N=E.x,_=E.y,R=i.bi.Z0,$=i.T.r,q=$.length;for(let X=0;X<q;X++){const H=$[X];if(!H.visible)continue;const tt=H.interval||1,Q=Math.abs(tt);if(u*Q*o<2)continue;let nt=H.segmentIndex;(!isFinite(nt)||isNaN(nt))&&(nt=0),nt<0&&(nt=Q-Math.min(-nt,Q)),nt=Math.round(nt%Q);const ht=H.opacity;let it=1;if(ht!==1){if(ht===0)continue;it=t.globalAlpha,t.globalAlpha=it*ht}const st=R[X];let ct=!1;const ut=H.strokeDashArray;if(ut!==null&&(ct=!0,t.enableDash(ut,H.strokeDashOffset)),H.stroke!==null&&H.strokeWidth>0&&(H.figure==="LineV"||H.figure==="LineH")){if(t.lineWidth=H.strokeWidth,i.dn(t,H.stroke,!1,!1,f,g),t.beginPath(),H.figure==="LineV"){const pt=Math.floor((N-u)/u);for(let Tt=pt;Tt<=pt+w;Tt++){const Et=Tt*u+N;0<=Et&&Et<=y&&this.Yb(Tt,tt,nt,st)&&(t.moveTo(Et,0),t.lineTo(Et,b))}}else if(H.figure==="LineH"){const pt=Math.floor((_-c)/c);for(let Tt=pt;Tt<=pt+P;Tt++){const Et=Tt*c+_;0<=Et&&Et<=b&&this.Yb(Tt,tt,nt,st)&&(t.moveTo(0,Et),t.lineTo(y,Et))}}t.stroke(),t.endPath()}else if(H.fill!==null){if(i.dn(t,H.fill,!0,!1,f,g),H.figure==="BarV"){let pt=H.width;isNaN(pt)&&(pt=u);const Tt=Math.floor((N-u)/u);for(let Et=Tt;Et<=Tt+w;Et++){const m=Et*u+N;0<=m+pt&&m<=y&&this.Yb(Et,tt,nt,st)&&t.fillRect(m,0,pt,b)}}else if(H.figure==="BarH"){let pt=H.height;isNaN(pt)&&(pt=c);const Tt=Math.floor((_-c)/c);for(let Et=Tt;Et<=Tt+P;Et++){const m=Et*c+_;0<=m+pt&&m<=b&&this.Yb(Et,tt,nt,st)&&t.fillRect(0,m,y,pt)}}}ct&&t.disableDash(),ht!==1&&(t.globalAlpha=it)}}Yb(i,t,r,o){if(t<0)return i%t===r;if(i%t!==r)return!1;const l=o.length;for(let u=0;u<l;u++){const c=o[u];if(i%c===r)return!1}return!0}JR(i){const t=[],r=i.T.r,o=r.length;for(let l=0;l<o;l++){const u=r[l],c=[];if(t.push(c),!u.visible)continue;const f=u.interval;if(f<0)continue;const g=u.figure,y=this.L2(g);for(let b=0;b<o;b++){if(b===l)continue;const w=r[b];if(!w.visible)continue;const P=w.figure;if(this.L2(P)!==y)continue;const E=w.interval;E>f&&c.push(E)}}i.bi.Z0=t}L2(i){return i==="LineV"||i==="BarV"}WR(i){let t=1,r=1;const o=i.T.r,l=o.length;for(let f=0;f<l;f++){const g=o[f],y=Math.abs(g.interval);y<2||(this.L2(g.figure)?r=r*y/K.dC(r,y):t=t*y/K.dC(t,y))}const u=i.gridCellSize,c=i.bi;c.Xc.isReal()?c.Xc.e(r*u.width,t*u.height):c.Xc=new z(r*u.width,t*u.height)}}Ee.definePanelLayout("Grid",new fl);class Id extends Ee{constructor(){super()}measure(i,t,r,o,l,u,c){const f=o.length;if(!(i instanceof ye||i instanceof se))return;let g=null,y=null;if(i instanceof se&&(g=i),i instanceof ye&&(y=i,g=y.adornedPart,i.lf===null&&(i.lf=[])),!(g instanceof se))return;const b=g;if(f===0){i.naturalBounds.Po(0,0),i.measuredBounds.e(0,0,0,0);return}const w=i instanceof ye?null:g.path,P=g.routeBounds,E=i.Yo;E.e(0,0,P.width,P.height);const N=b.points,_=g.pointsCount;y!==null?y.ad(!1):g!==null&&g.ad(!1);const R=P.width,$=P.height,q=i.lf;if(q.length=0,w!==null){this.measureLinkPath(i,R,$,w);const Q=w.measuredBounds;E.unionRect(Q),q.push(Q)}const X=J.l(),H=C.l(),tt=C.l();for(let Q=0;Q<f;Q++){const nt=o[Q];if(nt===w)continue;let ht=nt.measuredBounds;if(nt.isPanelMain&&nt instanceof fe){this.measureLinkPath(i,R,$,nt),ht=nt.measuredBounds,E.unionRect(ht),q.push(ht);continue}if(_<2){nt.ut(1/0,1/0,0,0),ht=nt.measuredBounds,E.unionRect(ht),q.push(ht);continue}const it=nt.segmentIndex,st=nt.segmentFraction;let ct=nt.alignmentFocus;ct.isNoSpot()&&(ct=U.Center);const ut=nt.segmentOrientation,pt=nt.segmentOffset;let Tt=0,Et=0,m=0,k=0;if(isNaN(it)){const Bt=b.ft,Ht=n.rt();Bt.getPointAndAngleAlongPath(st,Ht);const Fe=C.X(Ht[0],Ht[1]);k=Ht[2],ut!==0&&(m=b.computeAngle(nt,ut,k),nt.Xt=m,nt.ue(!0),nt.Qn(!0)),Tt=Fe.x,Et=Fe.y,C.s(Fe),n.it(Ht)}else if(it<-_||it>=_){const Bt=C.l();b.dA(Bt),k=b.midAngle,ut!==0&&(m=b.computeAngle(nt,ut,k),nt.Xt=m,nt.ue(!0),nt.Qn(!0)),Tt=Bt.x-P.x,Et=Bt.y-P.y,C.s(Bt)}else{let Bt,Ht,Fe=0;if(it>=0?(Bt=N.elt(it),Ht=it<_-1?N.elt(it+1):Bt):(Fe=_+it,Bt=N.elt(Fe),Ht=Fe>0?N.elt(Fe-1):Bt),k=0,Bt.equalsApprox(Ht)){let de,qt;it>=0?(de=it>0?N.elt(it-1):Bt,qt=it<_-2?N.elt(it+2):Ht):(de=Fe<_-1?N.elt(Fe+1):Bt,qt=Fe>1?N.elt(Fe-2):Ht);const Vt=de.distanceSquaredPoint(Bt),oe=Ht.distanceSquaredPoint(qt);Vt>oe+10?k=it>=0?de.directionPoint(Bt):Bt.directionPoint(de):oe>Vt+10?k=it>=0?Ht.directionPoint(qt):qt.directionPoint(Ht):k=it>=0?de.directionPoint(qt):qt.directionPoint(de)}else k=it>=0?Bt.directionPoint(Ht):Ht.directionPoint(Bt);ut!==0&&(m=b.computeAngle(nt,ut,k),nt.Xt=m,nt.ue(!0),nt.Qn(!0)),Tt=Bt.x+(Ht.x-Bt.x)*st-P.x,Et=Bt.y+(Ht.y-Bt.y)*st-P.y}nt.ut(1/0,1/0,0,0),ht=nt.measuredBounds;const D=nt.naturalBounds;let G=0;nt instanceof fe&&(G=nt.strokeWidth);const Z=D.width+G,et=D.height+G;X.Jt(),X.Zi(-ht.x,-ht.y),X.K(nt.scale,nt.scale),X.fs(ut===0?nt.angle:k,Z/2,et/2),(ut===22||ut===26)&&X.fs(90,Z/2,et/2),(ut===23||ut===27)&&X.fs(-90,Z/2,et/2),ut===28&&(k>45&&k<135||k>225&&k<315)&&X.fs(-k,Z/2,et/2);const ft=new F(0,0,Z,et);H.setRectSpot(ft,ct),X.xt(H);const bt=-H.x+G/2*nt.scale,Pt=-H.y+G/2*nt.scale;tt.a(pt);const Dt=isNaN(pt.x),Gt=isNaN(pt.y);if(Dt||Gt){const Bt=Z/2+3,Ht=et/2+3,Fe=k>=45&&k<=135,de=k>=225&&k<=315;ut===0&&(Fe||de)?(tt.x=Gt?Bt:pt.y,tt.y=Dt?Ht:pt.x,Fe?it>=0||isNaN(it)&&st<.5||Dt&&(tt.y=-Ht):de&&((it>=0||isNaN(it)&&st<.5)&&Dt&&(tt.y=-Ht),Gt&&(tt.x=-Bt))):(Dt&&(it>=0||isNaN(it)&&st<.5?tt.x=Bt:tt.x=-Bt),Gt&&(tt.y=-Ht),tt.rotate(k))}else tt.rotate(k);Tt+=tt.x,Et+=tt.y,ft.e(Tt+bt,Et+Pt,ht.width,ht.height),q.push(ft),E.unionRect(ft)}if(g!==null){const Q=g.labelNodes;for(;Q.next();)Q.value.ut(1/0,1/0)}i.Yo=E,i.position.e(P.x+E.x,P.y+E.y),l.Po(E.width||0,E.height||0),J.s(X),C.s(H),C.s(tt)}arrange(i,t,r){const o=t.length;if(!(i instanceof ye||i instanceof se))return;let l=i,u=null;i instanceof ye&&(u=i,l=u.adornedPart);const c=i,f=i instanceof ye?null:l.path,g=i.lf;if(g.length!==0){let P=0;if(f!==null&&P<g.length){const E=g[P];P++,f.zt(E.x-c.Yo.x,E.y-c.Yo.y,E.width,E.height)}for(let E=0;E<o;E++){const N=t[E];if(N!==f&&P<g.length){const _=g[P];P++,N.zt(_.x-c.Yo.x,_.y-c.Yo.y,_.width,_.height)}}}const y=l.points,b=y.count;if(b>=2&&c instanceof se){const P=c.labelNodes;for(;P.next();){const E=P.value;c.ZR(E,b,y)}}u!==null?u.ad(!1):l.ad(!1);const w=i.gA(C.l());i.location.e(i.position.x+w.x,i.position.y+w.y),C.s(w)}measureLinkPath(i,t,r,o){if(o.Oo()===!1)return;let l=o.strokeWidth;if(l===0&&i instanceof ye&&i.type===re.Link&&i.adornedObject instanceof fe&&(l=i.adornedObject.strokeWidth),l=l*o.K,i instanceof se&&i.ft!==null){const u=i.geometry.bounds;o.Zn(u.x-l/2,u.y-l/2,u.width+l,u.height+l)}else if(i instanceof ye&&i.adornedPart.ft!==null){const u=i.adornedPart.ft.bounds;o.Zn(u.x-l/2,u.y-l/2,u.width+l,u.height+l)}else o.Zn(-(l/2),-(l/2),t+l,r+l);o.QR(),o.ue(!1)}}Ee.definePanelLayout("Link",new Id);class Fd extends Ee{constructor(){super()}measure(i,t,r,o,l,u,c){const f=i.findMainElement();i.He=[];const g=f.margin,y=g.right+g.left,b=g.top+g.bottom;f.ut(t,r,u,c);const w=f.measuredBounds,P=w.width,E=w.height,N=Math.max(P+y,0),_=Math.max(E+b,0),R=new F(-g.left,-g.top,N,_);i.He.push(R),l.a(R),this.determineGraduatedMarks(i,f);const $=i.bs;if($===null)return;const q=o.length;for(let X=0;X<q;X++){const H=o[X],tt=$[X];!H.visible||H===f||tt.length===0||(H instanceof fe?this.measureGraduatedTicks(i,H,tt,l):H instanceof on&&this.measureGraduatedLabels(i,H,tt,l),H.ue(!1))}}arrange(i,t,r){if(i.He===null)return;const o=i.findMainElement(),l=i.bs;if(l===null)return;const u=i.He;let c=0,f=u[c];c++,o!==null&&o.zt(f.x-r.x,f.y-r.y,f.width,f.height);const g=t.length;for(let y=0;y<g;y++){const b=t[y],w=l[y];!b.visible||b===o||w.length===0||(f=u[c],c++,b.zt(f.x-r.x,f.y-r.y,f.width,f.height))}i.He=null}measureGraduatedTicks(i,t,r,o){let l=t.alignmentFocus;l.isNoSpot()&&(l=U.TopCenter);const u=t.angle;t.Xt=0,t.ut(1/0,1/0,0,0),t.Xt=u;const c=t.measuredBounds,f=c.width,g=c.height,y=F.X(0,0,f,g),b=C.l();b.setRectSpot(y,l),F.s(y);const w=-b.x,P=-b.y,E=new F,N=r.length;for(let _=0;_<N;_++){const R=r[_],$=R.pt.x,q=R.pt.y,X=R.angle;for(let H=0;H<4;H++){switch(H){case 0:b.e(w,P);break;case 1:b.e(w+f,P);break;case 2:b.e(w,P+g);break;case 3:b.e(w+f,P+g);break}b.rotate(X+t.angle),b.offset($,q),_===0&&H===0?E.e(b.x,b.y,0,0):E.unionPoint(b),b.offset(-$,-q),b.rotate(-X-t.angle)}}C.s(b),i.He!==null&&i.He.push(E),o.unionNoCheck(E.x,E.y,E.width,E.height)}measureGraduatedLabels(i,t,r,o){i.Se===null&&(i.Se=new on);const l=i.Se;this.mA(t,l);let u=t.alignmentFocus;u.isNoSpot()&&(u=U.TopCenter);const c=t.segmentOrientation,f=t.segmentOffset,g=new F;let y=0,b=0,w=0,P=0,E=0;const N=r.length;for(let _=0;_<N;_++){const R=r[_];y=R.pt.x,b=R.pt.y,w=R.angle,P=t.angle,E=t.angle,c!==0&&(c===21||c===25?E=w+t.angle:E=w,P=se.computeAngle(c,E)),l.Xt=P,l.text=R.text||"",l.ut(1/0,1/0,0,0);const $=l.measuredBounds,q=l.naturalBounds,X=q.width,H=q.height,tt=J.l();tt.Jt(),tt.Zi(-$.x,-$.y),tt.K(l.scale,l.scale),tt.fs(E,X/2,H/2),(c===22||c===26)&&tt.fs(90,X/2,H/2),(c===23||c===27)&&tt.fs(-90,X/2,H/2),c===28&&(w>45&&w<135||w>225&&w<315)&&tt.fs(-w,X/2,H/2);const Q=F.X(0,0,X,H),nt=C.l();nt.setRectSpot(Q,u),tt.xt(nt);const ht=-nt.x,it=-nt.y,st=C.l();st.a(f),isNaN(st.x)&&(st.x=X/2+3),isNaN(st.y)&&(st.y=-(H/2+3)),st.rotate(w),y+=st.x+ht,b+=st.y+it;const ct=new F(y,b,$.width,$.height),ut=new F($.x,$.y,$.width,$.height),pt=new F(q.x,q.y,q.width,q.height);R.labelAngle=P,R.lineCount=l.lineCount,R.lines=l.getMetrics(),R.actualBounds=ct,R.measuredBounds=ut,R.naturalBounds=pt,_===0?g.a(ct):g.unionRect(ct),C.s(st),C.s(nt),F.s(Q),J.s(tt)}i.He!==null&&i.He.push(g),o.unionNoCheck(g.x,g.y,g.width,g.height)}determineGraduatedMarks(i,t){const r=t.geometry,o=t.strokeWidth,l=r.flattenedSegments,u=r.flattenedLengths,c=r.flattenedTotalLength,f=l.length;let g=0,y=0;const b=n.rt();for(let q=0;q<f;q++){const X=l[q],H=[];g=0,y=0;const tt=X.length;for(let Q=0;Q<tt;Q+=2){const nt=X[Q],ht=X[Q+1];if(Q===0){g=nt,y=ht;continue}let it=Math.atan2(ht-y,nt-g)*180/Math.PI;it<0&&(it+=360),H.push(it),g=nt,y=ht}b.push(H)}const w=this._R(i),P=i.T.r,E=P.length;let N=0,_=0,R=c;i.bs=[];let $;for(let q=0;q<E;q++){const X=P[q];if($=[],!X.visible||X===t){i.bs.push($);continue}const H=Math.abs(X.interval),tt=i.graduatedTickUnit;if(tt*H*c/i.graduatedRange<2&&X.graduatedSkip===null){i.bs.push($);continue}let Q=u[0][0],nt=0,ht=0;_=c*X.graduatedStart-1e-4,R=c*X.graduatedEnd+1e-4;const it=tt*H;let st=i.graduatedTickBase;if(st<i.graduatedMin){let Tt=(i.graduatedMin-st)/it;Tt=Tt%1===0?Tt:Math.floor(Tt+1),st+=Tt*it}else if(st>i.graduatedMin+it){const Tt=Math.floor((st-i.graduatedMin)/it);st-=Tt*it}const ct=w[q],ut=st,pt=i.graduatedMax*1e-6;for(let Tt=1;st<=i.graduatedMax+pt;Tt++){if(this.tv(i,st-i.graduatedTickBase,ct)&&(st>i.graduatedMax&&(st=i.graduatedMax),(X.graduatedSkip===null||X instanceof on&&!X.graduatedSkip(st,X)||X instanceof fe&&!X.graduatedSkip(st,X))&&(N=(st-i.graduatedMin)*c/i.graduatedRange,N>c&&(N=c),_<=N&&N<=R))){let Et=b[nt][ht],m=u[nt][ht];for(;nt<u.length;){for(;N>Q&&ht<u[nt].length-1;)ht++,Et=b[nt][ht],m=u[nt][ht],Q+=m;if(N<=Q)break;nt++,ht=0,Et=b[nt][ht],m=u[nt][ht],Q+=m}const k=l[nt],D=k[ht*2],G=k[ht*2+1],Z=k[ht*2+2],et=k[ht*2+3],ft=(N-(Q-m))/m,bt=new C(D+(Z-D)*ft+o/2-r.bounds.x,G+(et-G)*ft+o/2-r.bounds.y);if(bt.scale(t.scale,t.scale),Et=this.iv(Et,ft,k,b[nt],ht),X instanceof on){let Pt="";X.graduatedFunction!==null?(Pt=X.graduatedFunction(st,X),Pt=Pt!=null?Pt.toString():""):Pt=(+st.toFixed(2)).toString(),Pt!==""&&$.push({pt:bt,angle:Et,text:Pt})}else $.push({pt:bt,angle:Et})}st=ut+Tt*it}i.bs.push($)}n.it(b)}iv(i,t,r,o,l){if(t<.5005&&t>.4995)return i;let u=i;if(t<.5?l>0?u=o[l-1]:K.Y(r[0],r[r.length-2])&&K.Y(r[1],r[r.length-1])&&(u=o[o.length-1]):t>.5&&(l+1<o.length?u=o[l+1]:K.Y(r[0],r[r.length-2])&&K.Y(r[1],r[r.length-1])&&(u=o[0])),i!==u){let c=Math.abs(i-u);if(c>180&&(i<u?i+=360:u+=360,c=Math.abs(i-u)),t<5e-4||t>.9995)return(i+u)/2%360;if(c<10){const f=1-Math.abs(.5-t);return(i*f+u*(1-f))%360}}return i}_R(i){if(i.os===null){const t=[],r=i.T.r,o=r.length;for(let l=0;l<o;l++){const u=r[l],c=[];if(t.push(c),!u.visible)continue;const f=u.interval;if(!(f<0))for(let g=0;g<o;g++){if(g===l)continue;const y=r[g];if(!y.visible||u.constructor!==y.constructor)continue;const b=y.interval;b>f&&c.push(b)}}i.os=t}return i.os}tv(i,t,r){const o=r.length;for(let l=0;l<o;l++){const u=r[l]*i.graduatedTickUnit,c=t%u,f=i.graduatedTickUnit*1e-6;if(c<f&&c>-f)return!1}return!0}Gi(i,t,r){const o=r.Zh;r.Zh=!0;const l=i.naturalBounds,u=l.width,c=l.height,f=t instanceof Gi;t.save(),t.beginPath(),t.rect(-1,-1,u+1,c+1),t.clip(),t.endPath();const g=i.findMainElement();g.Gi(t,r);let y=i.getDocumentScale()*r.scale;y<=0&&(y=1);const b=g.actualBounds,w=i.T.r,P=i.bs,E=w.length;for(let N=0;N<E;N++){const _=w[N],R=P[N],$=R.length;if(!(!_.visible||_===g||R.length===0)){if(_ instanceof fe){if(i.graduatedTickUnit*_.interval*g.geometry.flattenedTotalLength/i.graduatedRange*y<2&&_.graduatedSkip===null)continue;const q=_.measuredBounds,X=_.strokeWidth*_.scale;let H=_.alignmentFocus;H.isNoSpot()&&(H=U.TopCenter);for(let tt=0;tt<$;tt++){const Q=R[tt].pt,nt=R[tt].angle;this.ev(_,Q,b,nt,q,X,H),_.Gi(t,r),f&&(i.svg.appendChild(_.svg),_.svg=null),_.Zr.Jt()}}else if(_ instanceof on){i.Se===null&&(i.Se=new on);const q=i.Se;this.mA(_,q);for(let X=0;X<$;X++){const H=R[X];if(H.actualBounds&&H.measuredBounds&&H.naturalBounds){q.sv(H);const tt=H.actualBounds;q.zt(tt.x,tt.y,tt.width,tt.height),this.nv(q,b,tt,H.measuredBounds,H.naturalBounds),q._r=_.part,q.Vs=_.panel,q.Gi(t,r),q.Vs=null,q._r=null,f&&(i.svg.appendChild(q.svg),q.svg=null)}}}}}r.Zh=o,t.restore(),t.clearContextCache(!0)}ev(i,t,r,o,l,u,c){const f=i.Zr;f.Jt(),f.Zi(t.x+r.x,t.y+r.y),f.fs(o+i.angle,0,0),f.Zi(-l.width*c.x+c.offsetX+u/2,-l.height*c.y+c.offsetY+u/2),f.K(i.scale,i.scale),i.nd(!1),i.oh.set(i.Zr),i.Hc=i.scale,i.pa(!1)}nv(i,t,r,o,l){const u=i.Zr;u.Jt(),u.Zi(r.x+t.x,r.y+t.y),u.Zi(-o.x,-o.y),i.y0(u,l.x,l.y,l.width,l.height),i.nd(!1),i.oh.set(i.Zr),i.Hc=i.scale,i.pa(!1)}mA(i,t){t.ov(i)}}Ee.definePanelLayout("Graduated",new Fd);var xh=(W=>(W[W.Uniform=6]="Uniform",W[W.UniformToFill=7]="UniformToFill",W))(xh||{});const ie=class ie extends dn{constructor(t,r){super();T(this,"_");T(this,"T");T(this,"Zt");T(this,"cd");T(this,"Xn");T(this,"sl");T(this,"eo");T(this,"Yo");T(this,"A2");T(this,"O");T(this,"fd");T(this,"at");T(this,"bi");T(this,"Qt");T(this,"ud");T(this,"gh");T(this,"Ys");if(this._=null,t===void 0)this._=ie.Position;else if(typeof t=="string"){const o=Ee.Layouts.get(t);o!==null&&(this._=o)}else t instanceof Ee?this._=t:t&&(this._=ie.Position,r=t);this._===null&&n.o("Panel type not specified or PanelLayout not loaded: "+t),this.n|=4194304|(this._===ie.Grid?1048576:0),this.T=new x,this.Zt=Y.Ug,this.cd=U.Default,this.Xn=1,this.sl=null,this.eo="",this.Yo=new F(NaN,NaN,NaN,NaN),this.A2=null,this.O=null,this.fd=6,this.bi=null,this.at=null,this.Qt=null,this.ud=NaN,this.gh=null,this.Ys=null,r&&Object.assign(this,r)}cloneProtected(t){super.cloneProtected(t),t._=this._,t.Zt=this.Zt.N(),t.cd=this.cd.N(),t.Xn=this.Xn,t.eo=this.eo,t.Yo.a(this.Yo),this.O!==null&&(t.O=this.O.copy(t)),t.fd=this.fd,this.at!==null&&(t.at=this.at.copy()),this.bi!==null&&(t.bi=this.bi.copy()),t.Qt=this.Qt,t.ud=this.ud,t.gh=this.gh}Vo(t){super.Vo(t),t.T=this.T;const r=t.T.r,o=r.length;for(let l=0;l<o;l++){const u=r[l];u.Vs=t}t.sl=null}copy(){const t=super.copy();if(t!==null){const r=this.T.r,o=r.length;for(let l=0;l<o;l++){const u=r[l].copy();t.rv(u)}return t}else return null}toString(){return"Panel("+this.type.name+")#"+M.cs(this)}get type(){return this._}set type(t){const r=this._;r!==t&&(this._=t,this.hf=this._===ie.Grid,this.c(),this.t("type",r,t))}get elements(){return this.T.iterator}get naturalBounds(){return this.Vi}get padding(){return this.Zt}set padding(t){typeof t=="number"?(t<0&&n.tt(t,">= 0",ie,"padding"),t=new Y(t)):(t.left<0&&n.tt(t.left,">= 0",ie,"padding:value.left"),t.right<0&&n.tt(t.right,">= 0",ie,"padding:value.right"),t.top<0&&n.tt(t.top,">= 0",ie,"padding:value.top"),t.bottom<0&&n.tt(t.bottom,">= 0",ie,"padding:value.bottom"));const r=this.Zt;r.equals(t)||(t=t.N(),this.Zt=t,this.c(),this.t("padding",r,t))}get defaultAlignment(){return this.cd}set defaultAlignment(t){const r=this.cd;r.equals(t)||(t=t.N(),this.cd=t,this.c(),this.t("defaultAlignment",r,t))}get defaultStretch(){return this.Xn}set defaultStretch(t){const r=this.Xn;r!==t&&(this.Xn=t,this.c(),this.t("defaultStretch",r,t))}get defaultSeparatorPadding(){return this.O!==null?this.O.Q0:Y.Ug}set defaultSeparatorPadding(t){typeof t=="number"&&(t=new Y(t));const r=this.defaultSeparatorPadding;r.equals(t)||(t=t.N(),this.O===null&&(this.O=new fn),this.O.Q0=t,this.c(),this.t("defaultSeparatorPadding",r,t))}get defaultRowSeparatorStroke(){return this.O!==null?this.O._0:null}set defaultRowSeparatorStroke(t){const r=this.defaultRowSeparatorStroke;r!==t&&(t===null||typeof t=="string"||t instanceof ze)&&(t instanceof ze&&t.g(),this.O===null&&(this.O=new fn),this.O._0=t,this.C(),this.t("defaultRowSeparatorStroke",r,t))}get defaultRowSeparatorStrokeWidth(){return this.O!==null?this.O.tp:1}set defaultRowSeparatorStrokeWidth(t){const r=this.defaultRowSeparatorStrokeWidth;r!==t&&isFinite(t)&&t>=0&&(this.O===null&&(this.O=new fn),this.O.tp=t,this.c(),this.t("defaultRowSeparatorStrokeWidth",r,t))}get defaultRowSeparatorDashArray(){return this.O!==null?this.O.ip:null}set defaultRowSeparatorDashArray(t){const r=this.defaultRowSeparatorDashArray;if(r!==t){if(t!==null&&!Array.isArray(t)&&n.xe(t,"Array",ie,"defaultRowSeparatorDashArray:value"),t!==null){const o=t.length;let l=0;for(let u=0;u<o;u++){const c=t[u];(typeof c!="number"||!(c>=0)||!isFinite(c))&&n.o("defaultRowSeparatorDashArray value "+c+" at index "+u+" must be a positive number or zero."),l+=c}if(l===0){if(r===null)return;t=null}}this.O===null&&(this.O=new fn),this.O.ip=t,this.C(),this.t("defaultRowSeparatorDashArray",r,t)}}get defaultColumnSeparatorStroke(){return this.O!==null?this.O.ep:null}set defaultColumnSeparatorStroke(t){const r=this.defaultColumnSeparatorStroke;r!==t&&(t===null||typeof t=="string"||t instanceof ze)&&(t instanceof ze&&t.g(),this.O===null&&(this.O=new fn),this.O.ep=t,this.C(),this.t("defaultColumnSeparatorStroke",r,t))}get defaultColumnSeparatorStrokeWidth(){return this.O!==null?this.O.sp:1}set defaultColumnSeparatorStrokeWidth(t){const r=this.defaultColumnSeparatorStrokeWidth;r!==t&&isFinite(t)&&t>=0&&(this.O===null&&(this.O=new fn),this.O.sp=t,this.c(),this.t("defaultColumnSeparatorStrokeWidth",r,t))}get defaultColumnSeparatorDashArray(){return this.O!==null?this.O.np:null}set defaultColumnSeparatorDashArray(t){const r=this.defaultColumnSeparatorDashArray;if(r!==t){if(t!==null&&!Array.isArray(t)&&n.xe(t,"Array",ie,"defaultColumnSeparatorDashArray:value"),t!==null){const o=t.length;let l=0;for(let u=0;u<o;u++){const c=t[u];(typeof c!="number"||!(c>=0)||!isFinite(c))&&n.o("defaultColumnSeparatorDashArray value "+c+" at index "+u+" must be a positive number or zero."),l+=c}if(l===0){if(r===null)return;t=null}}this.O===null&&(this.O=new fn),this.O.np=t,this.C(),this.t("defaultColumnSeparatorDashArray",r,t)}}get dh(){return this.O!==null?this.O.dh:null}set dh(t){this.O===null&&(this.O=new fn),this.O.dh=t}get viewboxStretch(){return this.fd}set viewboxStretch(t){const r=this.fd;r!==t&&(this.fd=t,this.c(),this.t("viewboxStretch",r,t))}get gridCellSize(){return this.bi!==null?this.bi.dd:z.tC}set gridCellSize(t){this.bi===null&&(this.bi=new Rs);const r=this.bi.dd;if(!r.equals(t)){(!t.isReal()||t.width===0||t.height===0)&&n.o("Invalid Panel.gridCellSize: "+t),this.bi.dd=t.N();const o=this.diagram;o!==null&&this===o.grid&&o.Hr(),this.C(),this.t("gridCellSize",r,t)}}get gridOrigin(){return this.bi!==null?this.bi.gd:C.ko}set gridOrigin(t){this.bi===null&&(this.bi=new Rs);const r=this.bi.gd;if(!r.equals(t)){t.isReal()||n.o("Invalid Panel.gridOrigin: "+t),this.bi.gd=t.N();const o=this.diagram;o!==null&&this===o.grid&&o.Hr(),this.C(),this.t("gridOrigin",r,t)}}get graduatedMin(){return this.at!==null?this.at.op:0}set graduatedMin(t){const r=this.graduatedMin;if(r!==t&&(this.at===null&&(this.at=new qr),this.at.op=t,this.c(),this.t("graduatedMin",r,t),this.Jc())){const o=this.part;o!==null&&this.ma(o,"graduatedRange")}}get graduatedMax(){return this.at!==null?this.at.rp:100}set graduatedMax(t){const r=this.graduatedMax;if(r!==t&&(this.at===null&&(this.at=new qr),this.at.rp=t,this.c(),this.t("graduatedMax",r,t),this.Jc())){const o=this.part;o!==null&&this.ma(o,"graduatedRange")}}get graduatedRange(){return this.graduatedMax-this.graduatedMin}get graduatedTickUnit(){return this.at!==null?this.at.lp:10}set graduatedTickUnit(t){const r=this.graduatedTickUnit;r!==t&&t>0&&(this.at===null&&(this.at=new qr),this.at.lp=t,this.c(),this.t("graduatedTickUnit",r,t))}get graduatedTickBase(){return this.at!==null?this.at.hp:0}set graduatedTickBase(t){const r=this.graduatedTickBase;r!==t&&(this.at===null&&(this.at=new qr),this.at.hp=t,this.c(),this.t("graduatedTickBase",r,t))}get bs(){return this.at!==null?this.at.bs:null}set bs(t){this.at!==null?this.at.bs=t:t!==null&&(this.at=new qr,this.at.bs=t)}get He(){return this.at!==null?this.at.He:null}set He(t){this.at!==null?this.at.He=t:t!==null&&(this.at=new qr,this.at.He=t)}get os(){return this.at!==null?this.at.os:null}set os(t){this.at!==null?this.at.os=t:t!==null&&(this.at=new qr,this.at.os=t)}get Se(){return this.at!==null?this.at.Se:null}set Se(t){this.at!==null?this.at.Se=t:t!==null&&(this.at=new qr,this.at.Se=t)}b0(t){super.b0(t);const r=this.T.r,o=r.length;for(let l=0;l<o;l++)r[l].b0(t)}ch(t,r){if(this._===ie.Grid){t.commitTransform(),this._.Gi(this,t,r);return}if(this._===ie.Graduated){t.commitTransform(),this._.Gi(this,t,r);return}if(this._===ie.Table)if(t.commitTransform(),t instanceof Gi){const f=t.currentElement;t.currentElement=t.newGroup2("gojs-ts"),this.T2(t,r),t.endGroup(),t.currentElement=f}else this.T2(t,r);const o=this.isClipping&&this._===ie.Spot;o&&t.save();const l=this.findMainElement(),u=this.T.r,c=u.length;for(let f=0;f<c;f++){const g=u[f];o&&g===l&&(t.clipInsteadOfFill=!0),g.Gi(t,r),o&&g===l&&(t.clipInsteadOfFill=!1)}o&&(t.restore(),t.clearContextCache(!0))}T2(t,r){t.lineCap="butt";const o=this.rowCount>0?this.Ge:null,l=this.columnCount>0?this.je:null;o!==null&&this.Gb(t,r,!0,o,!0),l!==null&&this.Gb(t,r,!1,l,!0),o!==null&&this.pA(t,!0,o),l!==null&&this.pA(t,!1,l),o!==null&&this.Gb(t,r,!0,o,!1),l!==null&&this.Gb(t,r,!1,l,!1)}pA(t,r,o){const l=o.length,u=this.actualBounds,c=this.naturalBounds;let f=!0;for(let g=0;g<l;g++){const y=o[g];if(y===void 0||y.actual===0)continue;if(f){f=!1;continue}if(r){if(y.position>c.height)continue}else if(y.position>c.width)continue;let b=y.separatorStrokeWidth;isNaN(b)&&(b=r?this.defaultRowSeparatorStrokeWidth:this.defaultColumnSeparatorStrokeWidth);let w=y.separatorStroke;if(w===null&&(w=r?this.defaultRowSeparatorStroke:this.defaultColumnSeparatorStroke),b===0||w===null)continue;this.dn(t,w,!1,!1,c,u);let P=!1,E=y.separatorDashArray;E===null&&(E=r?this.defaultRowSeparatorDashArray:this.defaultColumnSeparatorDashArray),E!==null&&(P=!0,t.enableDash(E,0)),t.beginPath();const N=y.position+b;r?N>c.height&&(b-=N-c.height):N>c.width&&(b-=N-c.width);let _=y.position+b/2;t.lineWidth=b;const R=this.Zt;if(r){_+=R.top;const $=R.left,q=c.width-R.right;t.moveTo($,_),t.lineTo(q,_)}else{_+=R.left;const $=R.top,q=c.height-R.bottom;t.moveTo(_,$),t.lineTo(_,q)}t.stroke(),t.endPath(),P&&t.disableDash()}}Gb(t,r,o,l,u){const c=l.length,f=this.actualBounds,g=this.naturalBounds,y=this.yA(!0),b=this.yA(!1);for(let w=0;w<c;w++){const P=l[w];if(P===void 0||P.background===null||P.coversSeparators===u||P.actual===0)continue;const E=o?f.height:f.width;if(P.position>E)continue;let N=P.computeEffectiveSpacing(),_=P.separatorStrokeWidth;isNaN(_)&&(_=o?this.defaultRowSeparatorStrokeWidth:this.defaultColumnSeparatorStrokeWidth);let R=P.separatorStroke;R===null&&(R=o?this.defaultRowSeparatorStroke:this.defaultColumnSeparatorStroke),(R===null||P.index===(o?y:b))&&(_=0),N-=_;const $=P.position+_;let q=N+P.actual;if($+q>E&&(q=E-$),q<=0)continue;const X=this.Zt;this.dn(t,P.background,!0,!1,g,f),o?t.fillRect(X.left,$+X.top,f.width-(X.left+X.right),q):t.fillRect($+X.left,X.top,q,f.height-(X.top+X.bottom))}}yA(t){const r=t?this.rowCount:this.columnCount;for(let o=0;o<r;o++){const l=t?this.Ge[o]:this.je[o];if(l!==void 0)return l.index}return 0}h2(){const t=this.T.r,r=t.length;for(let o=0;o<r;o++)t[o].h2();this.ns(!0)}Zc(t,r,o){if(!super.Zc(t,r,o))return!1;if(this.type===ie.Table){const c=this.svg.getElementsByClassName("gojs-ts"),f=c.length!==0?c[0]:null;f!==null&&(f.innerHTML=""),t.currentElement=f,this.T2(t,r),t.currentElement=null}else{if(this._===ie.Grid)return this.svg.innerHTML="",this.svg.remove(),!1;if(this._===ie.Graduated)return this.svg.innerHTML="",this.svg.remove(),!1}const l=this.T.r,u=l.length;for(let c=0;c<u;c++)l[c].Gi(t,r);return!0}sd(t){return!0}P0(t,r,o,l){if(!this.isClipping){if(this.Xs()&&t.partClipRect!==null){const u=t.partClipRect,c=this.T.r;let f=0,g=0;for(let y=0;y<c.length;y++){if(!c[y].isVisibleObject())continue;const b=c[y].actualBounds;f=y===0?b.x:Math.min(b.x,f),g=y===0?b.y:Math.min(b.y,g)}l.setAttributeNS(null,"clip-path",`path('M ${u.x-o.x-f},${u.y-o.y-g} l ${u.width} 0 l 0 ${u.height} l -${u.width} 0 z')`);return}super.P0(t,r,o,l)}}$c(t,r,o,l,u){const c=this.pn(),f=this.L,g=1/(f.m11*f.m22-f.m12*f.m21);let y=f.m22*g,b=-f.m12*g,w=-f.m21*g,P=f.m11*g,E=g*(f.m21*f.dy-f.m22*f.dx),N=g*(f.m12*f.dx-f.m11*f.dy);if(this.background!==null){const _=t*y+r*w+E,R=t*b+r*P+N,$=o*y+l*w+E,q=o*b+l*P+N;u.e(0,0);const X=this.naturalBounds,H=K.yl(0,0,X.width,X.height,_,R,$,q,u);return u.L(f),H}else{c||(y=1,b=0,w=0,P=1,E=0,N=0);const _=t*y+r*w+E,R=t*b+r*P+N,$=o*y+l*w+E,q=o*b+l*P+N;u.e($,q);let X=($-_)*($-_)+(q-R)*(q-R),H=!1;const tt=this.T.r,Q=tt.length,nt=C.l();let ht=null,it=1/0,st=null;const ct=this.isClipping&&this._===ie.Spot;ct&&(st=C.l(),ht=this.findMainElement(),H=ht.$c(_,R,$,q,st),H&&(it=(_-st.x)*(_-st.x)+(R-st.y)*(R-st.y)));for(let ut=0;ut<Q;ut++){const pt=tt[ut];if(!pt.visible||pt===ht||!pt.$c(_,R,$,q,nt))continue;H=!0;const Tt=(_-nt.x)*(_-nt.x)+(R-nt.y)*(R-nt.y);Tt<X&&(X=Tt,u.set(nt))}return ct&&(it>X&&u.set(st),C.s(st)),C.s(nt),c&&u.L(f),H}}Fu(){const t=this.T.r,r=t.length;for(let o=0;o<r;o++)t[o].Fu();super.Fu()}c(t){if(this.Oo())return;super.c(t);let r=null;(this._===ie.Auto||this._===ie.Link)&&(r=this.findMainElement());const o=this.T.r,l=o.length;for(let u=0;u<l;u++){const c=o[u];if((c===r||c.isPanelMain)&&c.c(!0),c.desiredSize.isReal())continue;const f=c.zs(!1);!(c instanceof zn)&&!(c instanceof ie)&&!(c instanceof on)&&f===0||c.c(!0)}}_c(){if(this.Oo())return;this.ue(!0),this.Qn(!0);const t=this.T.r,r=t.length;for(let o=0;o<r;o++)t[o]._c()}td(){if(this.Ib()===!1){this.nd(!0),this.pa(!0);const t=this.T.r,r=t.length;for(let o=0;o<r;o++)t[o].a2()}}a2(){this.pa(!0);const t=this.T.r,r=t.length;for(let o=0;o<r;o++)t[o].a2()}_u(t,r,o,l){const u=this.Yo;u.e(0,0,0,0);const c=this.desiredSize,f=this.minSize;o===void 0&&(o=f.width,l=f.height),o=Math.max(o,f.width),l=Math.max(l,f.height);const g=this.maxSize;isNaN(c.width)||(t=Math.min(c.width,g.width)),isNaN(c.height)||(r=Math.min(c.height,g.height)),t=Math.max(o,t),r=Math.max(l,r);const y=this.Zt;t=Math.max(t-y.left-y.right,0),r=Math.max(r-y.top-y.bottom,0);const b=this.T.r;this._.measure(this,t,r,b,u,o,l);let w=u.width+y.left+y.right,P=u.height+y.top+y.bottom;isFinite(c.width)&&(w=c.width),isFinite(c.height)&&(P=c.height),w=Math.min(g.width,w),P=Math.min(g.height,P),w=Math.max(f.width,w),P=Math.max(f.height,P),w=Math.max(o,w),P=Math.max(l,P),u.Po(w,P),this.naturalBounds.Po(w,P),this.Zn(0,0,w,P)}findMainElement(){if(this.sl===null){const t=this.T.r,r=t.length;if(r===0)return null;for(let o=0;o<r;o++){const l=t[o];if(l.isPanelMain===!0)return this.sl=l,l}this.sl=t[0]}return this.sl}Ko(){return this.part!==null?this.part.locationObject:null}get panelLayoutState(){return this.A2}set panelLayoutState(t){this.A2=t}hh(t,r,o,l){const u=this.T.r;if(this.actualBounds.e(t,r,o,l),!this.desiredSize.isReal()){let c=this.zs(!0);const f=this.measuredBounds,g=f.width,y=f.height,b=this.Qr,w=b.left+b.right,P=b.top+b.bottom;switch(g===o&&y===l&&(c=0),c){case 0:(g>o||y>l)&&(this.c(),this.ut(g>o?o:g,y>l?l:y,0,0));break;case 2:this.c(!0),this.ut(o+w,l+P,0,0);break;case 5:this.c(!0),this.ut(o+w,y+P,0,0);break;case 4:this.c(!0),this.ut(g+w,l+P,0,0);break}}this._.arrange(this,u,this.Yo)}lh(t){const r=this.naturalBounds,o=this.Ko();if(F.contains(0,0,r.width,r.height,t.x,t.y)){const l=this.T.r,u=l.length,c=C.X(0,0);for(let f=u;f--;){const g=l[f];if(!(!g.visible&&g!==o)&&(c.set(t).Ee(g.L),g.containsPoint(c)))return C.s(c),!0}return C.s(c),this.Ct!==null}return!1}p0(t){if(this.Jn===t)return this;const r=this.T.r,o=r.length;for(let l=0;l<o;l++){const u=r[l].p0(t);if(u!==null)return u}return null}walkVisualTreeFrom(t,r){if(r(this,t),t instanceof ie){const o=t.T.r,l=o.length;for(let u=0;u<l;u++)this.walkVisualTreeFrom(o[u],r)}}Wr(t){this.wA(this,t)}wA(t,r){r(t);const o=t.T.r,l=o.length;for(let u=0;u<l;u++){const c=o[u];c instanceof ie&&this.wA(c,r)}}lv(t){this.xA(this,t)}xA(t,r){if(r(t),t instanceof ie){const o=t.T.r,l=o.length;for(let u=0;u<l;u++)this.xA(o[u],r)}}findInVisualTree(t){return this.bA(this,t)}bA(t,r){if(r(t))return t;if(t instanceof ie){const o=t.T.r,l=o.length;for(let u=0;u<l;u++){const c=this.bA(o[u],r);if(c!==null)return c}}return null}findObject(t){if(this.name===t)return this;const r=this.T.r;let o=r.length;this.hv()&&(o=this.ap());for(let l=0;l<o;l++){const u=r[l];if(u instanceof ie){const c=u.findObject(t);if(c!==null)return c}if(u.name===t)return u}return null}kA(){const t=this.T.r,r=t.length;let o=0;for(let l=0;l<r;l++){const u=t[l];u instanceof ie?o=Math.max(o,u.kA()):u instanceof fe&&(o=Math.max(o,u.av()))}return o}pn(){return!(this.type===ie.TableRow||this.type===ie.TableColumn)}tl(){return this.type===ie.TableRow||this.type===ie.TableColumn}_C(t,r,o){if(this.pickable===!1||(r===void 0&&(r=null),o===void 0&&(o=null),this.es()))return null;const l=this.naturalBounds,u=1/this.getDocumentScale(),c=this.pn(),f=c?t:C.X(t.x,t.y).Ee(this.L),g=this.diagram;let y=10,b=5;if(g!==null&&(y=g.getInputOption("extraTouchArea"),b=y/2),F.contains(-(b*u),-(b*u),l.width+y*u,l.height+y*u,f.x,f.y)){if(!this.hf){const P=this.T.r,E=P.length,N=C.l(),_=this.isClipping&&this._===ie.Spot,R=_?this.findMainElement():null;if(_&&(R.pn()?N.set(t).Ee(R.L):N.set(t),!R.containsPoint(N)))return C.s(N),c||C.s(f),null;const $=this.Ko();for(let q=E;q--;){const X=P[q];if(!X.visible&&X!==$||(X.pn()?N.set(t).Ee(X.L):N.set(t),_&&X===R))continue;let H=null;if(X instanceof ie?H=X._C(N,r,o):X.pickable===!0&&X.containsPoint(N)&&(H=X),H!==null&&(r!==null&&(H=r(H)),H!==null&&(o===null||o(H))))return C.s(N),c||C.s(f),H}C.s(N)}if(this.background===null)return c||C.s(f),null;const w=F.contains(0,0,l.width,l.height,f.x,f.y)?this:null;return c||C.s(f),w}return c||C.s(f),null}tL(t,r,o,l){if(this.pickable===!1)return!1;r===void 0&&(r=null),o===void 0&&(o=null);const u=this.naturalBounds,c=this.pn(),f=c?t:C.X(t.x,t.y).Ee(this.L),g=this.tl(),y=F.contains(0,0,u.width,u.height,f.x,f.y);if(g||y){if(!this.hf){const b=this.T.r,w=b.length,P=C.l(),E=this.Ko();for(let N=w;N--;){const _=b[N];if(!_.visible&&_!==E)continue;_.pn()?P.set(t).Ee(_.L):P.set(t);let R=_;const $=_ instanceof ie?_:null;if($!==null?$.tL(P,r,o,l):R.containsPoint(P)){if(R.pickable===!1)continue;r!==null&&(R=r(R)),R!==null&&(o===null||o(R))&&l.add(R)}}C.s(P)}return c||C.s(f),y&&this.background!==null}return c||C.s(f),!1}Om(t,r,o,l,u,c){if(this.pickable===!1)return!1;r===void 0&&(r=null),o===void 0&&(o=null);let f=c;if(c===void 0&&(f=J.l(),f.Jt()),f._a(this.L),this.containedInRect(t,f))return this.D2(r,o,u),c===void 0&&J.s(f),!0;if(this.intersectsRect(t,f)){if(!this.hf){const g=this.Ko(),y=this.T.r,b=y.length;for(let w=b;w--;){const P=y[w];if(!P.visible&&P!==g)continue;const E=P.actualBounds,N=this.naturalBounds;if(E.x>N.width||E.y>N.height||E.x+E.width<0||E.y+E.height<0)continue;let _=P;const R=P instanceof ie?P:null,$=J.l();$.set(f),(R!==null?R.Om(t,r,o,l,u,$):_.ZL(t,l,$))&&(r!==null&&(_=r(_)),_!==null&&(o===null||o(_))&&u.add(_)),J.s($)}}return c===void 0&&J.s(f),l}return c===void 0&&J.s(f),!1}D2(t,r,o){const l=this.T.r,u=l.length;for(let c=u;c--;){const f=l[c];if(!f.visible)continue;const g=f.actualBounds,y=this.naturalBounds;if(g.x>y.width||g.y>y.height||g.x+g.width<0||g.y+g.height<0)continue;f instanceof ie&&f.D2(t,r,o);let b=f;t!==null&&(b=t(b)),b!==null&&(r===null||r(b))&&o.add(b)}}iL(t,r,o,l,u,c){if(this.pickable===!1)return!1;o===void 0&&(o=null),l===void 0&&(l=null);const f=this.naturalBounds,g=this.pn(),y=g?t:C.X(t.x,t.y).Ee(this.L),b=g?r:C.X(r.x,r.y).Ee(this.L),w=y.distanceSquaredPoint(b),P=y.x>0&&y.x<f.width&&y.y>0&&y.y<f.height||C.distanceLineSegmentSquared(y.x,y.y,0,0,0,f.height)<=w||C.distanceLineSegmentSquared(y.x,y.y,0,f.height,f.width,f.height)<=w||C.distanceLineSegmentSquared(y.x,y.y,f.width,f.height,f.width,0)<=w||C.distanceLineSegmentSquared(y.x,y.y,f.width,0,0,0)<=w,E=y.distanceSquared(0,0)<=w&&y.distanceSquared(0,f.height)<=w&&y.distanceSquared(f.width,0)<=w&&y.distanceSquared(f.width,f.height)<=w;if(g||(C.s(y),C.s(b)),P){if(!this.hf){const N=C.l(),_=C.l(),R=this.Ko(),$=this.T.r,q=$.length;for(let X=q;X--;){const H=$[X];if(!H.visible&&H!==R)continue;const tt=H.actualBounds,Q=this.naturalBounds;if(g&&(tt.x>Q.width||tt.y>Q.height||tt.x+tt.width<0||tt.y+tt.height<0))continue;if(H.pn()){const it=H.L;N.set(t).Ee(it),_.set(r).Ee(it)}else N.set(t),_.set(r);let nt=H;const ht=H instanceof ie?H:null;(ht!==null?ht.iL(N,_,o,l,u,c):nt.QL(N,_,u))&&(o!==null&&(nt=o(nt)),nt!==null&&(l===null||l(nt))&&c.add(nt))}C.s(N),C.s(_)}return u?P:E}return!1}N2(t){let r=null;if(t instanceof fe){r=t.spot1,r===U.Default&&(r=null);const o=t.geometry;o!==null&&r===null&&(r=o.spot1)}return r===null&&(r=U.TopLeft),r}C2(t){let r=null;if(t instanceof fe){r=t.spot2,r===U.Default&&(r=null);const o=t.geometry;o!==null&&r===null&&(r=o.spot2)}return r===null&&(r=U.BottomRight),r}add(...t){for(let r=0;r<t.length;r++)this.insertAt(this.T.count,t[r]);return this}elt(t){return this.T.elt(t)}insertAt(t,r){r instanceof Le&&n.o("Cannot add a Part to a Panel: "+r+"; use a Panel instead"),(this===r||this.isContainedBy(r))&&(this===r&&n.o("Cannot make a Panel contain itself: "+this.toString()),n.o("Cannot make a Panel indirectly contain itself: "+this.toString()+" already contains "+r.toString()));const o=r.panel;if(o!==null&&o!==this&&n.o("Cannot add a GraphObject that already belongs to another Panel to this Panel: "+r.toString()+", already contained by "+o.toString()+", cannot be shared by this Panel: "+this.toString()),this._===ie.Grid&&!(r instanceof fe)&&n.o("Can only add Shapes to a Grid Panel, not: "+r),this._===ie.Graduated&&!(r instanceof fe||r instanceof on)&&n.o("Can only add Shapes or TextBlocks to a Graduated Panel, not: "+r),r.ya(this),r._r=null,this.itemArray!==null){const f=r.data;f!==null&&typeof f=="object"&&(this.Ys===null&&(this.Ys=new V),this.Ys.set(f,r))}const l=this.T;let u=-1;if(o===this){let f=-1;const g=this.T.r,y=g.length;for(let b=0;b<y;b++)if(g[b]===r){f=b;break}if(f!==-1){if(f===t||f+1>=l.count&&t>=l.count)return;l.removeAt(f),u=f}else n.o("element "+r.toString()+" has panel "+o.toString()+" but is not contained by it.")}(t<0||t>l.count)&&(t=l.count),l.insertAt(t,r),(t===0||r.isPanelMain)&&(this.sl=null),this.Oo()||this.c(),r.c(!1),r.portId!==null?this.wn=!0:r instanceof ie&&r.wn===!0&&(this.wn=!0),this.os=null,this.isEnabledObject()||this.jb(r,!1);const c=this.part;if(c!==null){c.T0(),c.af(),this.wn&&c instanceof Jt&&(c.wn=!0),c.wn&&c instanceof Jt&&(c.ne=null);const f=this.diagram;if(f!==null&&f.undoManager.isUndoingRedoing)return;u!==-1&&c.raiseChangedEvent(4,"elements",this,r,null,u,null),c.raiseChangedEvent(3,"elements",this,null,r,null,t)}}get wn(){return(this.n&8388608)!==0}set wn(t){(this.n&8388608)!==0!==t&&(this.n=this.n^8388608)}e2(){return(this.n&16777216)!==0}F2(t){t?this.n|=16777216:this.n&=-16777217}rv(t){t.ya(this),t._r=null;const r=this.T,o=r.count;r.insertAt(o,t);const l=this.part;if(l!==null){l.T0(),t.portId!==null&&l instanceof Jt&&(l.wn=!0);const u=this.diagram;if(u!==null&&u.undoManager.isUndoingRedoing)return;l.raiseChangedEvent(3,"elements",this,null,t,null,o)}}AR(t){const r=this.T.r,o=r.length;let l=-1;for(let u=0;u<o;u++)if(r[u]===t){l=u;break}return l}remove(t){const r=this.T.r,o=r.length;let l=-1;for(let u=0;u<o;u++)if(r[u]===t){l=u;break}l!==-1&&this.te(l,!0)}removeAt(t){t>=0&&this.te(t,!0)}te(t,r){const o=this.T,l=o.elt(t);if(l._r=null,l.ya(null),this.Ys!==null){const c=l.data;typeof c=="object"&&this.Ys.delete(c)}o.removeAt(t),this.ue(!1),this.c(),this.sl===l&&(this.sl=null),this.os=null;const u=this.part;if(u!==null){u.T0(),u.af(),u.invalidateAdornments(),u instanceof Jt&&(l instanceof ie?l.walkVisualTreeFrom(l,(f,g)=>u.d2(g,r)):u.d2(l,r));const c=this.diagram;if(c!==null&&c.undoManager.isUndoingRedoing)return;u.raiseChangedEvent(4,"elements",this,l,null,t,null)}}get Ge(){return this.O===null&&(this.O=new fn),this.O.Ge}get rowCount(){return this.O===null?0:this.Ge.length}getRowDefinition(t){t<0&&n.tt(t,">= 0",ie,"getRowDefinition:idx"),t=Math.round(t);const r=this.Ge;if(r[t]===void 0){const o=new wi;o.ya(this),o.isRow=!0,o.index=t,r[t]=o,this.raiseChangedEvent(3,"rowdefs",this,null,o,null,t)}return r[t]}removeRowDefinition(t){if(t<0&&n.tt(t,">= 0",ie,"removeRowDefinition:idx"),this.rowCount===0)return;t=Math.round(t);const r=this.Ge,o=r[t];if(o){r[t]=void 0;let l=r.length-1;for(;l>=0&&r[l--]===void 0;)r.length--;this.raiseChangedEvent(4,"rowdefs",this,o,null,t,null),this.c()}}TL(t,r){const o=this.Ge;if(!(t<0)){if(o[t]=r instanceof wi?r:void 0,!r){let l=o.length-1;for(;l>=0&&o[l--]===void 0;)o.length--}this.c()}}get je(){return this.O===null&&(this.O=new fn),this.O.je}get columnCount(){return this.O===null?0:this.je.length}getColumnDefinition(t){t<0&&n.tt(t,">= 0",ie,"getColumnDefinition:idx"),t=Math.round(t);const r=this.je;if(r[t]===void 0){const o=new wi;o.ya(this),o.isRow=!1,o.index=t,r[t]=o,this.raiseChangedEvent(3,"coldefs",this,null,o,null,t)}return r[t]}removeColumnDefinition(t){if(t<0&&n.tt(t,">= 0",ie,"removeColumnDefinition:idx"),this.columnCount===0)return;t=Math.round(t);const r=this.je,o=r[t];if(o){r[t]=void 0;let l=r.length-1;for(;l>=0&&r[l--]===void 0;)r.length--;this.raiseChangedEvent(4,"coldefs",this,o,null,t,null),this.c()}}DL(t,r){const o=this.je;if(!(t<0)){if(o[t]=r instanceof wi?r:void 0,!r){let l=o.length-1;for(;l>=0&&o[l--]===void 0;)o.length--}this.c()}}addRowColumnDefinition(t){let r=null;return t.isRow?r=this.getRowDefinition(t.index):t.isRow||(r=this.getColumnDefinition(t.index)),r&&r.Eb(t),this}addRowDefinition(t,r){const o=this.getRowDefinition(t);return o&&o.Eb(new wi(r)),this}addColumnDefinition(t,r){const o=this.getColumnDefinition(t);return o&&o.Eb(new wi(r)),this}get rowSizing(){return this.O!==null?this.O.cp:3}set rowSizing(t){const r=this.rowSizing;r!==t&&(this.O===null&&(this.O=new fn),this.O.cp=t,this.c(),this.t("rowSizing",r,t))}get columnSizing(){return this.O!==null?this.O.fp:3}set columnSizing(t){const r=this.columnSizing;r!==t&&(this.O===null&&(this.O=new fn),this.O.fp=t,this.c(),this.t("columnSizing",r,t))}get topIndex(){return this.O!==null?this.O.dp:0}set topIndex(t){const r=this.topIndex;r!==t&&((!isFinite(t)||t<0)&&n.o("Panel.topIndex must be greater than zero and a real number, not: "+t),this.O===null&&(this.O=new fn),this.O.dp=t,this.c(),this.t("topIndex",r,t))}get leftIndex(){return this.O!==null?this.O.gp:0}set leftIndex(t){const r=this.leftIndex;r!==t&&((!isFinite(t)||t<0)&&n.o("Panel.leftIndex must be greater than zero and a real number, not: "+t),this.O===null&&(this.O=new fn),this.O.gp=t,this.c(),this.t("leftIndex",r,t))}findRowForLocalY(t){if(t<0||this.type!==ie.Table||this.rowCount===0)return-1;let r=0;const o=this.Ge,l=o.length;let u=this.topIndex;for(;u<l;u++){const c=o[u];if(c!==void 0&&(r+=c.total,t<r))return u}return u}findColumnForLocalX(t){if(t<0||this.type!==ie.Table||this.columnCount===0)return-1;let r=0;const o=this.je,l=o.length;let u=this.leftIndex;for(;u<l;u++){const c=o[u];if(c!==void 0&&(r+=c.total,t<r))return u}return u}graduatedPointForValue(t,r){if(r===void 0&&(r=new C(NaN,NaN)),this.type!==ie.Graduated)return r.e(NaN,NaN),r;t=Math.min(Math.max(t,this.graduatedMin),this.graduatedMax);const o=this.findMainElement();return o.geometry.getPointAlongPath((t-this.graduatedMin)/this.graduatedRange,r),o.L.xt(r)}graduatedValueForPoint(t){if(this.type!==ie.Graduated)return NaN;const r=this.findMainElement();return r.L.ts(t),r.geometry.getFractionForPoint(t)*this.graduatedRange+this.graduatedMin}get data(){return this.Qt}set data(t){const r=this.Qt;if(r!==t){const o=this instanceof Le&&!(this instanceof ye);o&&n.i(t,"object",ie,"data"),this.hi(),this.Qt=t;const l=this.diagram;if(l!==null)if(o)l.partManager.cv(this,r,t);else{const u=this.panel;u!==null&&u.Ys!==null&&(r!==null&&u.Ys.delete(r),t!==null&&u.Ys.set(t,this))}if(this.t("data",r,t),l!==null&&l.undoManager.isUndoingRedoing)return;t!==null&&this.updateTargetBindings()}}get itemIndex(){return this.ud}set itemIndex(t){const r=this.ud;r!==t&&(this.ud=t,this.t("itemIndex",r,t))}get Ks(){return this.f!==null?this.f.Ks:null}set Ks(t){this.Ti!==t&&(this.f===null&&(this.f=new ps),this.f.Ks=t)}g2(){return this.Ks!==null}hA(){const t=this.Ks;return t!==null&&t.h}hi(){let t=this.Ks;if(t===null)this.data!==null&&n.o("Template cannot have .data be non-null: "+this),this.Ks=t=new x;else if(t.h)return this;const r=new x;this.F2(!1),this.walkVisualTreeFrom(this,(u,c)=>{c.rh();const f=c.Ti;if(f!==null){c.c2(!1);const g=f.iterator;for(;g.next();){const y=g.value;y.mode===2&&c.c2(!0);const b=y.sourceName;if(y.isToObject){b==="/"&&u.F2(!0);const w=y.$L(u,c);w!==null&&(r.add(w),w.$n===null&&(w.$n=new x),w.$n.add(y))}t.add(y)}}if(c instanceof ie&&c.type===ie.Table){if(c.rowCount>0){const g=c.Ge,y=g.length;for(let b=0;b<y;b++){const w=g[b];if(w!==void 0&&w.Gs!==null){const P=w.Gs.iterator;for(;P.next();){const E=P.value;E.Pe=w,E.md=2,E.cf=w.index,t.add(E)}}}}if(c.columnCount>0){const g=c.je,y=g.length;for(let b=0;b<y;b++){const w=g[b];if(w!==void 0&&w.Gs!==null){const P=w.Gs.iterator;for(;P.next();){const E=P.value;E.Pe=w,E.md=1,E.cf=w.index,t.add(E)}}}}}});const o=r.iterator;for(;o.next();){const u=o.value;if(u.$n!==null){u.c2(!0);const c=u.$n.iterator;for(;c.next();){const f=c.value;u.Ti===null&&(u.Ti=new x),u.Ti.add(f)}}u.$n=null}let l=t.iterator;for(;l.next();){const u=l.value;let c=u.Pe;if(c!==null){u.Pe=null;const f=u.targetProperty,g=f.indexOf(".");if(g>0&&c instanceof ie){const y=f.substring(0,g),b=f.substring(g+1),w=c.findObject(y);w!==null?(c=w,u.targetProperty=b):(n.ri('Warning: unable to find GraphObject named "'+y+'" for Binding: '+u.toString()),c=null)}if(c instanceof wi){const y=M.cs(c.panel);u.targetId=y===void 0?-1:y,c.panel.Jn=u.targetId}else if(c instanceof dn){const y=M.cs(c);u.targetId=y===void 0?-1:y,c.Jn=u.targetId}else n.o("Unknown type of binding target: "+c);u.check(c)}}return t.g(),this instanceof Le&&this.Me()&&this.ensureBounds(),this}copyTemplate(t){t===void 0&&(t=!1);const r=this.copy();return r.lv(o=>{o instanceof ie&&(o.Ks=null,o.Qt=null);const l=o.Ti;l!==null&&(o.Ti=null,l.each(c=>o.bind(c.copy())));const u=o.xs;u!==null&&(o.xs=null,u.each(c=>o.trigger(c.value.copy())))}),t&&r.hi(),r}updateTargetBindings(t){const r=this.Ks;if(r===null)return;t===void 0&&(t="");const o=r.iterator;for(;o.next();){const l=o.value,u=this.PA(l,t);if(u===null)continue;const{data:c,elt:f}=u;l.isToTheme&&this.diagram===null||f!==void 0&&l.updateTarget(f,c)}}Io(){if(this.diagram!==null)if(this.g2()){const t=this.Ks.iterator;for(;t.next();){const r=t.value;if(!r.isToTheme)continue;const o=this.PA(r);if(o===null)continue;const{data:l,elt:u}=o;u!==void 0&&r.updateTarget(u,l)}}else{const t=this.T.r,r=t.length;for(let o=0;o<r;o++)t[o].Io()}}PA(t,r=""){const o=t.sourceProperty;if(r!==""&&o!==""&&o!==r)return null;const l=t.targetProperty;if(t.converter===null&&l==="")return null;let u=this.data;const c=t.sourceName;if(t.isToObject){if(u=this.JL(c),u===null)return null}else if(t.isToModel){const b=this.diagram;if(b===null)return null;u=b.model.modelData}let f=this;const g=t.targetId;if(g!==-1){if(f=this.p0(g),f===null)return null}else t.Pe!==null&&(f=t.Pe);c==="/"?u=f.part:c==="."?u=f:c===".."&&(u=f.panel);const y=t.md;if(y!==0){if(!(f instanceof ie))return null;y===1?f=f.getColumnDefinition(t.cf):y===2&&(f=f.getRowDefinition(t.cf))}return{data:u,elt:f}}get itemArray(){return this.gh}set itemArray(t){const r=this.gh;if(r!==t||t!==null&&this.fv(t)){const o=this.diagram;if(r!==t&&(o!==null&&r!==null&&o.partManager.MS(this,o),this.gh=t,o!==null&&t!==null&&o.partManager.PS(this,o)),this.t("itemArray",r,t),o!==null&&o.undoManager.isUndoingRedoing)return;this.MA(r,t)}}findItemPanelForData(t){return t==null||this.Ys===null?null:(n.i(t,"object",ie,"findItemPanelForData"),this.Ys.get(t))}fv(t){const r=this.T.r,o=r.length,l=t.length;let u=0,c=null;for(;u<o&&(c=r[u],!(c instanceof ie)||c.data===null);)u++,c=r[u];if(o-u!==l)return!0;if(c===null)return l>0;let f=0;for(;u<o&&f<l;){if(c=r[u],!(c instanceof ie)||c.data!==t[f])return!0;u++,f++}return!1}ap(){if(this.type===ie.Spot||this.type===ie.Auto)return Math.min(this.T.length,1);if(this.type===ie.Link){const t=this.T,r=t.length;let o=0;for(;o<r;o++){const l=t.elt(o);if(!(l instanceof fe)||!l.isPanelMain)return o}return o}if(this.type===ie.Table&&this.T.length>0){const t=this.T.elt(0);if(t.isPanelMain&&t instanceof ie&&t.tl())return 1}return 0}rebuildItemElements(){const t=this.ap();for(;this.T.length>t;)this.te(this.T.length-1,!1);this.MA(null,this.itemArray)}MA(t,r){const o=this.ap(),l=r;if(l===null||l.length===0){for(;this.T.length>o;)this.te(this.T.length-1,!1);return}if(this.T.length<=o){const u=l.length;for(let c=0;c<u;c++)this.Hb(l[c],c,!0)}else{let u=o;for(let f=0;f<l.length;f++,u++){const g=l[f],y=u<this.T.length?this.T.elt(u):null;if(y instanceof ie){if(y.data!==g){const b=this.R2(y.data,f),w=this.R2(g,f);let P=w!==b;if(!P){const E=this.v2(y.data,f,b);P=this.v2(g,f,w)!==E}P?(this.te(u,!1),this.Hb(g,f,!1)):y.data=g}}else this.Hb(g,f,!1)}for(;u<this.T.length;)this.te(u,!1);this.sl=null,this.O2(o,0),this.Oo()||this.c(),this.os=null,this.isEnabledObject()||this.jb(this,!1);const c=this.part;c!==null&&(c.T0(),c.af(),this.wn&&c instanceof Jt&&(c.wn=!0),c.wn&&c instanceof Jt&&(c.ne=null))}}Hb(t,r,o){if(t==null||r<0)return null;const l=this.R2(t,r),u=this.v2(t,r,l);if(u!==null){u.hi();const c=u.copy();if(c.e2()){const g=this.findBindingPanel();g!==null&&g.F2(!0)}typeof t=="object"&&(this.Ys===null&&(this.Ys=new V),this.Ys.set(t,c));const f=r+this.ap();return this.insertAt(f,c),o&&(c.Qt=t,this.O2(f,r),c.Qt=null),c.data=t,c}return null}uv(t){if(t<0)return;const r=t+this.ap();this.te(r,!0),this.O2(r,t)}O2(t,r){const o=this.T;let l=t,u=r;for(;l<o.length;){const c=o.elt(l);c instanceof ie&&c.dv(l,u),l++,u++}}dv(t,r){this.type===ie.TableRow?this.row=t:this.type===ie.TableColumn&&(this.column=t),this.itemIndex=r}hv(){return this.gh!==null||this.itemTemplateMap!==null}get itemTemplate(){return this.itemTemplateMap===null?null:this.itemTemplateMap.get("")}set itemTemplate(t){if(this.itemTemplateMap===null){if(t===null)return;this.itemTemplateMap=new V}const r=this.itemTemplateMap.get("");if(r!==t){(t instanceof Le||t.isPanelMain)&&n.o("Panel.itemTemplate must not be a Part or be Panel.isPanelMain: "+t),this.itemTemplateMap.set("",t),this.t("itemTemplate",r,t);const o=this.diagram;if(o!==null&&o.undoManager.isUndoingRedoing)return;this.rebuildItemElements()}}get itemTemplateMap(){return this.f!==null?this.f.j0:null}set itemTemplateMap(t){const r=this.itemTemplateMap;if(r!==t){const o=t.iterator;for(;o.next();)o.value;this.jt(),this.f.j0=t,this.t("itemTemplateMap",r,t);const l=this.diagram;if(l!==null&&l.undoManager.isUndoingRedoing)return;this.rebuildItemElements()}}get itemCategoryProperty(){return this.f!==null?this.f.H0:"category"}set itemCategoryProperty(t){const r=this.itemCategoryProperty;r!==t&&(typeof t!="string"&&typeof t!="function"&&n.xe(t,"string or function",ie,"itemCategoryProperty"),this.jt(),this.f.H0=t,this.t("itemCategoryProperty",r,t))}R2(t,r){if(t===null)return"";const o=this.itemCategoryProperty;let l="";if(typeof o=="function")l=o(t);else if(typeof o=="string"&&typeof t=="object"){if(o==="")return"";l=Qt.vt(t,o)}else return"";if(l===void 0)return"";if(typeof l=="string")return l;n.o("Panel.getCategoryForItemData found a non-string category for "+t+": "+l)}v2(t,r,o){const l=this.itemTemplateMap;let u=null;return l!==null&&(u=l.get(o)),u===null&&(l!==null&&(u=l.get("")),u===null&&(ie.SA||(ie.SA=!0,n.ri('No item template Panel found for category "'+o+'" on '+this),n.ri("  Using default item template."),ie.NA=new ie().add(new on().bind("text","",n.toString).theme("stroke","text"))),u=ie.NA)),u}get hf(){return(this.n&1048576)!==0}set hf(t){const r=(this.n&1048576)!==0;r!==t&&(n.i(t,"boolean",ie,"isAtomic"),this.n=this.n^1048576,this.t("isAtomic",r,t))}get isClipping(){return(this.n&2097152)!==0}set isClipping(t){const r=(this.n&2097152)!==0;r!==t&&(this.n=this.n^2097152,this instanceof Ut&&(this.si=null),this.c(),this.t("isClipping",r,t))}get isOpposite(){return(this.n&33554432)!==0}set isOpposite(t){const r=(this.n&33554432)!==0;r!==t&&(n.i(t,"boolean",ie,"isOpposite"),this.n=this.n^33554432,this.c(),this.t("isOpposite",r,t))}get isEnabled(){return(this.n&4194304)!==0}set isEnabled(t){const r=(this.n&4194304)!==0;if(r!==t){n.i(t,"boolean",ie,"isEnabled");const o=this.panel===null||this.panel.isEnabledObject();this.n=this.n^4194304,this.t("isEnabled",r,t);const l=this.diagram;if(l!==null&&l.undoManager.isUndoingRedoing)return;o&&this.jb(this,t)}}jb(t,r){const o=t.enabledChanged;if(o!==null&&o(t,r),t instanceof ie){const l=t.T.r,u=l.length;for(let c=0;c<u;c++){const f=l[c];r&&f instanceof ie&&!f.isEnabled||this.jb(f,r)}}}get alignmentFocusName(){return this.eo}set alignmentFocusName(t){const r=this.eo;r!==t&&(this.eo=t,this.c(),this.t("alignmentFocusName",r,t))}static definePanelLayout(t,r){Ee.definePanelLayout(t,r)}};T(ie,"uE",!1),T(ie,"SA",!1),T(ie,"NA",null),T(ie,"Position",Ee.Layouts.get("Position")),T(ie,"Horizontal",Ee.Layouts.get("Horizontal")),T(ie,"Vertical",Ee.Layouts.get("Vertical")),T(ie,"Spot",Ee.Layouts.get("Spot")),T(ie,"Auto",Ee.Layouts.get("Auto")),T(ie,"Table",Ee.Layouts.get("Table")),T(ie,"Viewbox",Ee.Layouts.get("Viewbox")),T(ie,"TableRow",Ee.Layouts.get("TableRow")),T(ie,"TableColumn",Ee.Layouts.get("TableColumn")),T(ie,"Link",Ee.Layouts.get("Link")),T(ie,"Grid",Ee.Layouts.get("Grid")),T(ie,"Graduated",Ee.Layouts.get("Graduated"));let re=ie;re.definePanelLayout=re.definePanelLayout;class qr{constructor(){T(this,"op");T(this,"rp");T(this,"lp");T(this,"hp");T(this,"bs");T(this,"He");T(this,"os");T(this,"Se");this.op=0,this.rp=100,this.lp=10,this.hp=0,this.bs=null,this.He=null,this.os=null,this.Se=null}copy(){const i=new qr;return i.op=this.op,i.rp=this.rp,i.lp=this.lp,i.hp=this.hp,i.bs=this.bs,i.He=this.He,i.os=this.os,i.Se=this.Se,i}}class Rs{constructor(){T(this,"dd");T(this,"gd");T(this,"Xc");T(this,"Z0");this.dd=z.tC,this.gd=C.ko,this.Xc=z.gw,this.Z0=[]}copy(){const i=new Rs;return i.dd=this.dd.copy(),i.gd=this.gd.copy(),i.Xc=this.Xc.copy(),i.Z0=this.Z0,i}}class fn{constructor(){T(this,"Ge");T(this,"je");T(this,"cp");T(this,"fp");T(this,"dp");T(this,"gp");T(this,"Q0");T(this,"tp");T(this,"_0");T(this,"ip");T(this,"sp");T(this,"ep");T(this,"np");T(this,"dh");this.Ge=[],this.je=[],this.cp=3,this.fp=3,this.dp=0,this.gp=0,this.Q0=Y.Ug,this.tp=1,this._0=null,this.ip=null,this.sp=1,this.ep=null,this.np=null,this.dh=null}copy(i){const t=new fn,r=this.Ge,o=r.length,l=t.Ge;for(let g=0;g<o;g++){if(r[g]===void 0)continue;const y=r[g].copy();y.ya(i),l[g]=y}const u=this.je,c=u.length,f=t.je;for(let g=0;g<c;g++){if(u[g]===void 0)continue;const y=u[g].copy();y.ya(i),f[g]=y}return t.cp=this.cp,t.fp=this.fp,t.dp=this.dp,t.gp=this.gp,t.Q0=this.Q0.N(),t.tp=this.tp,t._0=this._0,t.ip=this.ip,t.sp=this.sp,t.ep=this.ep,t.np=this.np,t.dh=this.dh,t}}var pl=(W=>(W[W.Default=1]="Default",W[W.None=2]="None",W[W.ProportionalExtra=3]="ProportionalExtra",W))(pl||{});const $r=class $r{constructor(i){T(this,"Vs");T(this,"mp");T(this,"Dt");T(this,"ka");T(this,"Pa");T(this,"oi");T(this,"st");T(this,"pd");T(this,"_n");T(this,"Go");T(this,"yd");T(this,"wd");T(this,"Ma");T(this,"Ct");T(this,"xd");T(this,"Gs");T(this,"ot");T(this,"ji");T(this,"ge");M.Yi(this),this.Vs=null,this.mp=!0,this.Dt=0,this.ge=NaN,this.ka=0,this.Pa=1/0,this.oi=U.Default,this.ot=0,this.ji=0,this.st=0,this.Gs=null,this.pd=1,this._n=1,this.Go=null,this.yd=null,this.wd=NaN,this.Ma=null,this.Ct=null,this.xd=!1,i&&(Object.assign(this,i),i.column!==void 0?(this.isRow=!1,this.index=i.column):i.row!==void 0&&(this.isRow=!0,this.index=i.row))}copy(){const i=new $r;return i.mp=this.mp,i.Dt=this.Dt,i.ge=this.ge,i.ka=this.ka,i.Pa=this.Pa,i.oi=this.oi,i.ot=this.ot,i.ji=this.ji,i.st=this.st,i._n=this._n,i.pd=this.pd,this.Go===null?i.Go=null:i.Go=this.Go.N(),i.yd=this.yd,i.wd=this.wd,i.Ma=null,this.Ma!==null&&(i.separatorDashArray=this.separatorDashArray.slice()),i.Ct=this.Ct,i.xd=this.xd,i.Gs=this.Gs,i}Eb(i){i.isRow?this.height=i.height:this.width=i.width,this.minimum=i.minimum,this.maximum=i.maximum,this.alignment=i.alignment,this.stretch=i.stretch,this.sizing=i.sizing,this.Go=i.separatorPadding===null?null:i.separatorPadding.N(),this.separatorStroke=i.separatorStroke,this.separatorStrokeWidth=i.separatorStrokeWidth,this.Ma=null,i.separatorDashArray&&(this.Ma=i.separatorDashArray.slice()),this.background=i.background,this.coversSeparators=i.coversSeparators,this.Gs=i.Gs}li(i){i in pl?this.sizing=i:n.lr(this,i)}toString(){return"RowColumnDefinition "+(this.isRow?"(Row ":"(Column ")+this.index+") #"+M.cs(this)}ya(i){this.Vs=i}computeEffectiveSpacingTop(i){let t=0;const r=this.Vs;if(this.index!==i){let l=this.separatorStroke;l===null&&r!==null&&(l=this.isRow?r.defaultRowSeparatorStroke:r.defaultColumnSeparatorStroke),l!==null&&(t=this.separatorStrokeWidth,isNaN(t)&&(r!==null?t=this.isRow?r.defaultRowSeparatorStrokeWidth:r.defaultColumnSeparatorStrokeWidth:t=0))}let o=this.Go;if(o===null)if(r!==null)o=r.defaultSeparatorPadding;else return t;return t+(this.isRow?o.top:o.left)}computeEffectiveSpacing(){let i=0;const t=this.Vs;let r=0;const o=this.isRow;if(t!==null&&t.type===re.Table){const u=o?t.Ge.length:t.je.length;for(let c=0;c<u;c++){const f=o?t.Ge[c]:t.je[c];if(f!==void 0&&f.ot!==0){r=f.index;break}}}if(this.index!==r){let u=this.separatorStroke;u===null&&t!==null&&(u=o?t.defaultRowSeparatorStroke:t.defaultColumnSeparatorStroke),u!==null&&(i=this.separatorStrokeWidth,isNaN(i)&&(t!==null?i=o?t.defaultRowSeparatorStrokeWidth:t.defaultColumnSeparatorStrokeWidth:i=0))}let l=this.Go;if(l===null)if(t!==null)l=t.defaultSeparatorPadding;else return i;return i+(this.isRow?l.top+l.bottom:l.left+l.right)}t(i,t,r,o,l){const u=this.Vs;if(u!==null&&(u.raiseChangedEvent(2,i,this,t,r,o,l),this.Gs!==null)){const c=u.diagram;if(c!==null&&!c.fe){const f=u.findBindingPanel();if(f!==null){const g=f.data;if(g!==null){const y=this.Gs.iterator;for(;y.next();)y.value.updateSource(this,g,i,f)}}}}}get panel(){return this.Vs}get isRow(){return this.mp}set isRow(i){this.mp=i}get index(){return this.Dt}set index(i){this.Dt=i}get height(){return this.ge}set height(i){const t=this.ge;t!==i&&(i<0&&n.tt(i,">= 0",$r,"height"),this.ge=i,this.actual=this.ot,this.panel!==null&&this.panel.c(),this.t("height",t,i))}get width(){return this.ge}set width(i){const t=this.ge;t!==i&&(i<0&&n.tt(i,">= 0",$r,"width"),this.ge=i,this.actual=this.ot,this.panel!==null&&this.panel.c(),this.t("width",t,i))}get minimum(){return this.ka}set minimum(i){const t=this.ka;t!==i&&((i<0||!isFinite(i))&&n.tt(i,">= 0",$r,"minimum"),this.ka=i,this.actual=this.ot,this.panel!==null&&this.panel.c(),this.t("minimum",t,i))}get maximum(){return this.Pa}set maximum(i){const t=this.Pa;t!==i&&(i<0&&n.tt(i,">= 0",$r,"maximum"),this.Pa=i,this.actual=this.ot,this.panel!==null&&this.panel.c(),this.t("maximum",t,i))}get alignment(){return this.oi}set alignment(i){const t=this.oi;t.equals(i)||(this.oi=i.N(),this.panel!==null&&this.panel.c(),this.t("alignment",t,i))}get stretch(){return this._n}set stretch(i){const t=this._n;t!==i&&(this._n=i,this.panel!==null&&this.panel.c(),this.t("stretch",t,i))}get separatorPadding(){return this.Go}set separatorPadding(i){typeof i=="number"&&(i=new Y(i));const t=this.Go;(i===null||t===null||!t.equals(i))&&(i!==null&&(i=i.N()),this.Go=i,this.panel!==null&&this.panel.c(),this.t("separatorPadding",t,i))}get separatorStroke(){return this.yd}set separatorStroke(i){const t=this.yd;t!==i&&(i!==null&&ze.od(i,"RowColumnDefinition.separatorStroke"),i instanceof ze&&i.g(),this.yd=i,this.panel!==null&&this.panel.c(),this.t("separatorStroke",t,i))}get separatorStrokeWidth(){return this.wd}set separatorStrokeWidth(i){const t=this.wd;t!==i&&(this.wd=i,this.panel!==null&&this.panel.c(),this.t("separatorStrokeWidth",t,i))}get separatorDashArray(){return this.Ma}set separatorDashArray(i){const t=this.Ma;if(t!==i){if(i!==null&&!Array.isArray(i)&&n.xe(i,"Array",$r,"separatorDashArray:value"),i!==null){const r=i.length;let o=0;for(let l=0;l<r;l++){const u=i[l];(typeof u!="number"||!(u>=0)||!isFinite(u))&&n.o("separatorDashArray value "+u+" at index "+l+" must be a positive number or zero."),o+=u}if(o===0){if(t===null)return;i=null}}this.Ma=i,this.panel!==null&&this.panel.C(),this.t("separatorDashArray",t,i)}}get background(){return this.Ct}set background(i){const t=this.Ct;t!==i&&(i!==null&&ze.od(i,"RowColumnDefinition.background"),i instanceof ze&&i.g(),this.Ct=i,this.panel!==null&&this.panel.C(),this.t("background",t,i))}get coversSeparators(){return this.xd}set coversSeparators(i){const t=this.xd;t!==i&&(n.i(i,"boolean",$r,"coversSeparators"),this.xd=i,this.panel!==null&&this.panel.C(),this.t("coversSeparators",t,i))}get sizing(){return this.pd}set sizing(i){const t=this.pd;t!==i&&(this.pd=i,this.panel!==null&&this.panel.c(),this.t("sizing",t,i))}Kb(){if(this.sizing===1){const i=this.Vs;return this.isRow?i.rowSizing:i.columnSizing}return this.sizing}get actual(){return this.ot}set actual(i){isNaN(this.ge)?this.ot=Math.max(Math.min(this.Pa,i),this.ka):this.ot=Math.max(Math.min(this.Pa,this.ge),this.ka)}get measured(){return this.ji}set measured(i){this.ji=i}get total(){return this.ot+this.computeEffectiveSpacing()}get position(){return this.st}set position(i){this.st=i}bind(i,t,r,o){return this.ef(i,t,r,o),this}bindTwoWay(i,t,r,o){const l=this.ef(i,t,r,o);return o===void 0&&l.makeTwoWay(),this}theme(i,t,r,o,l){return this.fh(i,t,r,o,l),this}themeData(i,t,r,o,l){return this.fh(i,t,r,o,l).ofData(),this}themeObject(i,t,r,o,l,u){return this.fh(i,t,r,o,l).ofObject(u),this}themeModel(i,t,r,o,l){return this.fh(i,t,r,o,l).ofModel(),this}ef(i,t,r,o){let l=null;return typeof i=="string"?l=new Zt(i,t,r,o):l=i,this.Y0(l),l}fh(i,t,r,o,l){let u=null;return typeof i=="string"?u=new ge(i,t,r,o,l):u=i,this.Y0(u),u}Y0(i){i.Pe=this;const t=this.panel;if(t!==null){const r=t.findBindingPanel();r!==null&&r.hA()&&n.o("Cannot add a Binding to a RowColumnDefinition that is already frozen: "+i+" on "+t)}this.Gs===null&&(this.Gs=new x),this.Gs.add(i)}};T($r,"Default",1),T($r,"None",2),T($r,"ProportionalExtra",3);let wi=$r;const nn=class nn extends dn{constructor(t,r){super();T(this,"ft");T(this,"ks");T(this,"bd");T(this,"Sa");T(this,"Hi");T(this,"jo");T(this,"Xo");T(this,"Lt");T(this,"kd");T(this,"Pd");T(this,"$");this.ft=null,this.ks=null,this.bd="None",this.Sa="black",this.Hi="black",this.jo=1,this.Xo=null,this.Lt=null,this.kd=NaN,this.Pd=NaN,this.$=null,typeof t=="string"?this.figure=t:t&&Object.assign(this,t),r&&Object.assign(this,r)}cloneProtected(t){super.cloneProtected(t),t.ft=this.ft,t.ks=this.ks,t.bd=this.bd,t.Sa=this.Sa,t.Hi=this.Hi,t.jo=this.jo,this.Xo!==null&&(t.Xo=this.Xo.slice()),this.Lt!==null&&(this.Lt.mi?t.Lt=this.Lt:t.Lt=this.Lt.copy()),t.kd=this.kd,t.Pd=this.Pd,this.$!==null&&(t.$=this.$.copy())}Na(){this.Lt===null?this.Lt=new Ze:this.Lt.mi&&(this.Lt=this.Lt.copy())}rh(){super.rh(),this.Lt!==null&&(this.Lt.mi=!0)}li(t){t in gt?this.geometryStretch=t:super.li(t)}toString(){return"Shape("+(this.figure!=="None"?this.figure:this.toArrow!=="None"?this.toArrow:this.fromArrow)+")#"+M.cs(this)}gv(t,r){const o=this.pathPattern;o.ut(1/0,1/0);const l=o.measuredBounds;o.zt(0,0,l.width,l.height);const u=this.geometry;t.save(),t.beginPath();const c=n.rt();if(u.type===1)c.push(u.startX),c.push(u.startY),c.push(u.endX),c.push(u.endY),this.Md(t,r,c,o);else if(u.type===4){const f=u.figures.iterator;for(;f.next();){const g=f.value;c.length=0,c.push(g.startX),c.push(g.startY);let y=g.startX,b=g.startY,w=y,P=b;const E=g.segments.r,N=E.length;for(let _=0;_<N;_++){const R=E[_];switch(R.type){case 1:this.Md(t,r,c,o),c.length=0,c.push(R.endX),c.push(R.endY),y=R.endX,b=R.endY,w=y,P=b;break;case 2:c.push(R.endX),c.push(R.endY),y=R.endX,b=R.endY;break;case 3:K.Un(y,b,R.point1X,R.point1Y,R.point2X,R.point2Y,R.endX,R.endY,.5,c),y=R.endX,b=R.endY;break;case 4:K.Bg(y,b,R.point1X,R.point1Y,R.endX,R.endY,.5,c),y=R.endX,b=R.endY;break;case 5:{const $=R.So(g),q=$.length;if(q===0){c.push(R.centerX),c.push(R.centerY),y=R.centerX,b=R.centerY;break}for(let X=0;X<q;X++){const H=$[X];K.Un(y,b,H[2],H[3],H[4],H[5],H[6],H[7],.5,c),y=H[6],b=H[7]}break}case 6:{const $=R.Ih(g,y,b),q=$.length;if(q===0){c.push(R.endX),c.push(R.endY),y=R.endX,b=R.endY;break}for(let X=0;X<q;X++){const H=$[X];K.Un(y,b,H[2],H[3],H[4],H[5],H[6],H[7],.5,c),y=H[6],b=H[7]}break}default:n.o("Segment not of valid type: "+R.type)}R.isClosed&&(c.push(w),c.push(P),this.Md(t,r,c,o))}this.Md(t,r,c,o)}}else if(u.type===2)c.push(u.startX),c.push(u.startY),c.push(u.endX),c.push(u.startY),c.push(u.endX),c.push(u.endY),c.push(u.startX),c.push(u.endY),c.push(u.startX),c.push(u.startY),this.Md(t,r,c,o);else if(u.type===3){const f=new dt;f.startX=u.endX,f.startY=(u.startY+u.endY)/2;const g=new vt(5);g.startAngle=0,g.sweepAngle=360,g.centerX=(u.startX+u.endX)/2,g.centerY=(u.startY+u.endY)/2,g.radiusX=Math.abs(u.startX-u.endX)/2,g.radiusY=Math.abs(u.startY-u.endY)/2,f.add(g);const y=g.So(f),b=y.length;if(b===0)c.push(g.centerX),c.push(g.centerY);else{let w=f.startX,P=f.startY;for(let E=0;E<b;E++){const N=y[E];K.Un(w,P,N[2],N[3],N[4],N[5],N[6],N[7],.5,c),w=N[6],P=N[7]}}this.Md(t,r,c,o)}n.it(c),t.restore(),t.clearContextCache(!1)}mv(t){let r=t.measuredBounds.width;return t instanceof nn&&(r-=t.strokeWidth),r<1&&(r=1),r}Md(t,r,o,l){const u=o.length;if(u<4)return;const c=l.measuredBounds,f=Math.max(1,c.width),g=c.height;let y=o[0],b=o[1],w=0,P=0,E=0,N=0,_=0,R=0,$=0,q=0;const X=n.rt();for(let ct=2;ct<u;ct+=2)w=o[ct],P=o[ct+1],E=w-y,N=P-b,E===0&&(E=.001),_=N/E,R=Math.atan2(N,E),$=Math.sqrt(E*E+N*N),X.push([E,R,_,$]),q+=$,y=w,b=P;y=o[0],b=o[1];const H=this.mv(l);let tt=H;const Q=f/2;let nt=Q!==0,ht=0,it=X[ht];E=it[0],R=it[1],_=it[2],$=it[3];let st=0;for(;q>=.1;){if(st===0&&(nt?(tt=H,tt-=Q,q-=Q,nt=!1):tt=H,tt===0&&(tt=1)),tt>q){tt=q,n.it(X);return}tt>$?(st=tt-$,tt=$):st=0;let ct=Math.sqrt(tt*tt/(1+_*_));if(E<0&&(ct=-ct),y+=ct,b+=_*ct,t.translate(y,b),t.rotate(R),t.translate(-(f/2),-(g/2)),st===0&&l.ch(t,r),t.translate(f/2,g/2),t.rotate(-R),t.translate(-y,-b),q-=tt,$-=tt,st!==0){if(ht++,ht===X.length){n.it(X);return}it=X[ht],E=it[0],R=it[1],_=it[2],$=it[3],tt=st}}n.it(X)}ch(t,r){const o=t instanceof Gi;let l=this.Hi;const u=this.Sa;if(l===null&&u===null)return;const c=this.ft;if(c===null)return;t.commitTransform();const f=this.actualBounds,g=this.naturalBounds;u!==null&&this.dn(t,u,!0,!1,g,f);const y=this.part;let b=this.jo;l!==null&&b===0&&y!==null&&(this.isPanelMain||y.findMainElement()===this)&&(b=y.pv()),b===0&&(l=null),l!==null&&b!==0&&(this.dn(t,l,!1,!1,g,f),t.lineWidth=b,t.lineJoin=this.strokeJoin,t.lineCap=this.strokeCap,t.miterLimit=this.strokeMiterLimit);let w=!1;y&&r.getRenderingHint("drawShadows")&&(w=y.isShadowed),t.il===!1&&(w=!1);let P=!0;l!==null&&(u===null||u==="transparent")&&(P=!1);let E=!1;const N=this.strokeDashArray;if(N!==null&&(E=!0,t.enableDash(N,this.strokeDashOffset)),c.type===1)t.beginPath(),t.moveTo(c.startX,c.startY),t.lineTo(c.endX,c.endY),l!==null&&t.strokeContext(),t.endPath();else if(c.type===2){const _=c.startX,R=c.startY,$=c.endX,q=c.endY,X=Math.min(_,$),H=Math.min(R,q),tt=Math.abs($-_),Q=Math.abs(q-R);t.beginPath(),t.rect(X,H,tt,Q),u!==null&&t.fillContext(u,!1,null),l!==null&&(P&&w&&t.shadowsOff(),t.strokeContext(),P&&w&&t.shadowsOn()),t.endPath()}else if(c.type===3){const _=c.startX,R=c.startY,$=c.endX,q=c.endY,X=Math.abs($-_)/2,H=Math.abs(q-R)/2,tt=Math.min(_,$)+X,Q=Math.min(R,q)+H;t.beginPath(),t.moveTo(tt,Q-H),t.bezierCurveTo(tt+K.En*X,Q-H,tt+X,Q-K.En*H,tt+X,Q),t.bezierCurveTo(tt+X,Q+K.En*H,tt+K.En*X,Q+H,tt,Q+H),t.bezierCurveTo(tt-K.En*X,Q+H,tt-X,Q+K.En*H,tt-X,Q),t.bezierCurveTo(tt-X,Q-K.En*H,tt-K.En*X,Q-H,tt,Q-H),t.closePath(),u!==null&&t.fillContext(u,!1,null),l!==null&&(P&&w&&t.shadowsOff(),t.strokeContext(),P&&w&&t.shadowsOn()),t.endPath()}else if(c.type===4){const _=c.figures,R=_.length;for(let $=0;$<R;$++){const q=_.r[$];o?this.buildPath(t,q):q.Be===null&&(q.Be=new Path2D,this.buildPath(q.Be,q));const X=q.isFilled;w?q.isShadowed?(X===!0&&u!=="transparent"&&u!==null&&t.fillContext(u,q.isEvenOdd,q.Be),l!==null&&(X&&P&&t.shadowsOff(),t.stroke(q.Be),X&&P&&t.shadowsOn())):(t.shadowsOff(),X&&u!=="transparent"&&u!==null&&t.fillContext(u,q.isEvenOdd,q.Be),l!==null&&t.stroke(q.Be),t.shadowsOn()):(X&&u!==null&&t.fillContext(u,q.isEvenOdd,q.Be),l!==null&&t.stroke(q.Be)),t.endPath($)}}E&&t.disableDash(),this.pathPattern!==null&&this.gv(t,r)}buildPath(t,r){t instanceof Path2D||t.beginPath(),t.moveTo(r.startX,r.startY);const o=r.segments.r,l=o.length;let u=null;for(let c=0;c<l;c++){const f=o[c];switch(f.type){case 1:t.moveTo(f.endX,f.endY);break;case 2:t.lineTo(f.endX,f.endY);break;case 3:t.bezierCurveTo(f.point1X,f.point1Y,f.point2X,f.point2Y,f.endX,f.endY);break;case 4:t.quadraticCurveTo(f.point1X,f.point1Y,f.endX,f.endY);break;case 5:if(f.radiusX===f.radiusY){const g=u!==null?u.endX:r.startX,y=u!==null?u.endY:r.startY,b=Math.PI/180;t.arc(f.point1X,f.point1Y,f.radiusX,f.startAngle*b,(f.startAngle+f.sweepAngle)*b,f.sweepAngle<0,g,y)}else{const g=f.So(r),y=g.length;if(y===0){t.lineTo(f.centerX,f.centerY);break}for(let b=0;b<y;b++){const w=g[b];b===0&&t.lineTo(w[0],w[1]),t.bezierCurveTo(w[2],w[3],w[4],w[5],w[6],w[7])}}break;case 6:{let g=0,y=0,b;if(u!==null&&u.type===5){b=u.So(r);const P=b.length;if(P===0){t.lineTo(f.endX,f.endY);break}const E=b[P-1]||null;E!==null&&(g=E[6],y=E[7])}else g=u!==null?u.endX:r.startX,y=u!==null?u.endY:r.startY;b=f.Ih(r,g,y);const w=b.length;if(w===0){t.lineTo(f.endX,f.endY);break}for(let P=0;P<w;P++){const E=b[P];t.bezierCurveTo(E[2],E[3],E[4],E[5],E[6],E[7])}break}}f.isClosed&&t.closePath(),u=f}}Zc(t,r,o){if(!super.Zc(t,r,o)||this.Hi===null&&this.Sa===null||this.ft===null||this.pathPattern!==null)return!1;const l=this.svg.getElementsByTagName("path");return this.geometry.figures.length!==l.length?!1:(t.currentPath=this.svg,this.ch(t,r),t.currentPath=null,!0)}sd(t){return this.geometry!==null&&this.geometry.figures.length>1||this.pathPattern!==null?!0:super.sd(t)}l2(t,r){if(t.nodeName!=="g")t.setAttributeNS(null,"filter",r);else{const o=t.getElementsByTagName("path");for(let l=0;l<o.length;l++)o[l].setAttributeNS(null,"filter",r)}}getDocumentPoint(t,r){if(r===void 0&&(r=new C),t instanceof U){const o=t;o.isNoSpot()&&n.o("getDocumentPoint Spot must be a real, specific Spot, not: "+o.toString());const l=this.naturalBounds,u=this.strokeWidth;return r.e(o.x*(l.width+u)-u/2+l.x+o.offsetX,o.y*(l.height+u)-u/2+l.y+o.offsetY),this.ys.xt(r),r}else return r.set(t),this.ys.xt(r),r}getDocumentBounds(t){t===void 0&&(t=new F);const r=this.naturalBounds,o=this.ys,l=F.X(r.x,r.y,r.width,r.height),u=this.strokeWidth;l.inflate(u/2,u/2);const c=C.X(l.x,l.y).L(o);return t.e(c.x,c.y,0,0),c.e(l.right,l.y).L(o),t.unionNoCheck(c.x,c.y,0,0),c.e(l.right,l.bottom).L(o),t.unionNoCheck(c.x,c.y,0,0),c.e(l.x,l.bottom).L(o),t.unionNoCheck(c.x,c.y,0,0),F.s(l),C.s(c),t}lh(t,r){const o=this.geometry;if(o===null||this.fill===null&&this.stroke===null)return!1;const l=o.bounds;let u=this.strokeWidth/2;o.type===1&&!r&&(u+=2);const c=F.l();if(c.a(l),c.inflate(u+2,u+2),!c.containsPoint(t))return F.s(c),!1;const f=u+1e-4;if(o.type===1){if(this.stroke===null)return!1;const g=(o.startX-o.endX)*(t.x-o.endX)+(o.startY-o.endY)*(t.y-o.endY),y=(o.endX-o.startX)*(t.x-o.startX)+(o.endY-o.startY)*(t.y-o.startY);return g<0||y<0?!1:(F.s(c),K.vi(o.startX,o.startY,o.endX,o.endY,u,t.x,t.y))}else if(o.type===2){const g=o.startX,y=o.startY,b=o.endX,w=o.endY;if(c.x=Math.min(g,b),c.y=Math.min(y,w),c.width=Math.abs(b-g),c.height=Math.abs(w-y),this.fill===null){if(c.inflate(-f,-f),c.containsPoint(t))return F.s(c),!1;c.inflate(f,f)}this.stroke!==null&&c.inflate(u,u);const P=c.containsPoint(t);return F.s(c),P}else if(o.type===3){const g=o.startX,y=o.startY,b=o.endX,w=o.endY;let P=Math.min(g,b),E=Math.min(y,w);const N=Math.abs(b-g),_=Math.abs(w-y);let R=N/2,$=_/2;if(P=t.x-(P+R),E=t.y-(E+$),this.fill===null){if(R-=f,$-=f,R<=0||$<=0||P*P/(R*R)+E*E/($*$)<=1)return F.s(c),!1;R+=f,$+=f}return this.stroke!==null&&(R+=f,$+=f),F.s(c),R<=0||$<=0?!1:P*P/(R*R)+E*E/($*$)<=1}else{if(o.type===4)return F.s(c),this.fill===null?o.xC(t.x,t.y,u):o.Bk(t,u,this.strokeWidth>1,r);n.o("Unknown Geometry type: "+o.type)}}_u(t,r,o,l){const u=this.desiredSize,c=this.jo;t=Math.max(t,0),r=Math.max(r,0);let f;if(this.ks!==null)f=this.geometry.bounds;else{const _=this.figure;let R=nn.I2[_];if(R===void 0){let $=K.Mo[_];typeof $=="string"&&($=K.Mo[$]),typeof $=="function"?(R=$(null,100,100),nn.I2[_]=R):n.o("Unsupported Figure: "+_)}f=R.bounds}let g=f.width,y=f.height,b=f.width,w=f.height;switch(this.zs(!0)){case 0:o=0,l=0;break;case 2:b=Math.max(t-c,0),w=Math.max(r-c,0);break;case 5:b=Math.max(t-c,0),l=0;break;case 4:o=0,w=Math.max(r-c,0);break}isFinite(u.width)&&(b=u.width),isFinite(u.height)&&(w=u.height);const P=this.maxSize,E=this.minSize;o=Math.max(o-c,E.width),l=Math.max(l-c,E.height),b=Math.min(P.width,b),w=Math.min(P.height,w),b=isFinite(b)?Math.max(o,b):Math.max(g,o),w=isFinite(w)?Math.max(l,w):Math.max(y,l);const N=this.QP();switch(N){case 0:break;case 2:g=b,y=w;break;case 6:{let _=Math.min(b/g,w/y);isFinite(_)||(_=1),g=g*_,y=y*_;break}default:n.o(N+" is not a valid geometryStretch.")}if(this.ks!==null){g===0&&(g=.001),y===0&&(y=.001);const _=(this.ks!==null?this.ks:this.ft).XD(g,y);this.ft=_}else(this.ft===null||!K.Y(this.ft.ic,t-c)||!K.Y(this.ft.ec,r-c))&&(this.ft=nn.yv(this,g,y));f=this.ft.bounds,t===1/0||r===1/0?this.Zn(f.x-c/2,f.y-c/2,t===0&&g===0?0:f.width+c,r===0&&y===0?0:f.height+c):this.Zn(-(c/2),-(c/2),b+c,w+c),u.isReal()?(b=u.width,w=u.height,b=Math.min(P.width,b),w=Math.min(P.height,w),b=Math.max(E.width,b),w=Math.max(E.height,w),this.Vi.e(0,0,b,w)):this.Vi.a(f)}QP(){const t=this.geometryStretch;return this.ks!==null?t===1?2:t:t===1?nn.I2[this.figure].defaultStretch:t}hh(t,r,o,l){this.commonArrange(t,r,o,l)}getNearestIntersectionPoint(t,r,o){return this.$c(t.x,t.y,r.x,r.y,o)}$c(t,r,o,l,u){const c=this.L,f=1/(c.m11*c.m22-c.m12*c.m21),g=c.m22*f,y=-c.m12*f,b=-c.m21*f,w=c.m11*f,P=f*(c.m21*c.dy-c.m22*c.dx),E=f*(c.m12*c.dx-c.m11*c.dy),N=t*g+r*b+P,_=t*y+r*w+E,R=o*g+l*b+P,$=o*y+l*w+E,q=this.jo/2;let X=this.ft;X===null&&(this.ut(1/0,1/0),X=this.ft);const H=X.bounds;let tt=!1;if(X.type===1)if(this.strokeWidth<=1.5)tt=K.Bn(X.startX,X.startY,X.endX,X.endY,N,_,R,$,u);else{let Q=0,nt=0;if(X.startX===X.endX)Q=q,nt=0;else{const ut=(X.endY-X.startY)/(X.endX-X.startX);nt=q/Math.sqrt(1+ut*ut),Q=nt*ut}const ht=n.rt();let it=new C;K.Bn(X.startX+Q,X.startY+nt,X.endX+Q,X.endY+nt,N,_,R,$,it)&&ht.push(it),it=new C,K.Bn(X.startX-Q,X.startY-nt,X.endX-Q,X.endY-nt,N,_,R,$,it)&&ht.push(it),it=new C,K.Bn(X.startX+Q,X.startY+nt,X.startX-Q,X.startY-nt,N,_,R,$,it)&&ht.push(it),it=new C,K.Bn(X.endX+Q,X.endY+nt,X.endX-Q,X.endY-nt,N,_,R,$,it)&&ht.push(it);const st=ht.length;if(st===0)return n.it(ht),!1;tt=!0;let ct=1/0;for(let ut=0;ut<st;ut++){const pt=ht[ut],Tt=(pt.x-N)*(pt.x-N)+(pt.y-_)*(pt.y-_);Tt<ct&&(ct=Tt,u.x=pt.x,u.y=pt.y)}n.it(ht)}else if(X.type===2)tt=K.yl(H.x-q,H.y-q,H.x+H.width+q,H.y+H.height+q,N,_,R,$,u);else if(X.type===3){const Q=F.X(H.x,H.y,H.width,H.height).inflate(q,q);tt=this.wv(Q,N,_,R,$,u),F.s(Q)}else if(X.type===4){let Q=0,nt=0,ht=0,it=0;const st=C.l();let ct=R-N,ut=$-_,pt=ct*ct+ut*ut,Tt=N,Et=_;if(pt>0&&H.contains(Tt,Et)&&(st.x=Tt,st.y=Et,this.containsPoint(st)))for(ct!==0&&Math.abs(ct)<.5?(ut*=.5/ct,ct=.5):ut!==0&&Math.abs(ut)<.5&&(ct*=.5/ut,ut=.5),Tt-=ct,Et-=ut;H.contains(Tt,Et);)Tt-=ct,Et-=ut;const m=.6;u.x=R,u.y=$;for(let Z=0;Z<X.figures.count;Z++){const et=X.figures.r[Z],ft=et.isFilled?Tt:N,bt=et.isFilled?Et:_,Pt=et.segments;Q=et.startX,nt=et.startY;let Dt=Q,Gt=nt;for(let Bt=0;Bt<Pt.count;Bt++){const Ht=Pt.r[Bt],Fe=Ht.type;ht=Ht.endX,it=Ht.endY;let de=!1;switch(Fe){case 1:Dt=ht,Gt=it;break;case 2:de=this.qb(Q,nt,ht,it,ft,bt,R,$,st);break;case 3:{de=K.Vg(Q,nt,Ht.point1X,Ht.point1Y,Ht.point2X,Ht.point2Y,ht,it,ft,bt,R,$,m,st);break}case 4:{de=K.Vg(Q,nt,Q+2/3*(Ht.point1X-Q),nt+2/3*(Ht.point1Y-nt),ht+2/3*(Ht.point1X-ht),it+2/3*(Ht.point1Y-it),ht,it,ft,bt,R,$,m,st);break}case 5:case 6:{const qt=Ht.type===5?Ht.So(et):Ht.Ih(et,Q,nt),Vt=qt.length;if(Vt===0){de=this.qb(Q,nt,Ht.type===5?Ht.centerX:Ht.endX,Ht.type===5?Ht.centerY:Ht.endY,ft,bt,R,$,st);break}let oe=null;for(let Ce=0;Ce<Vt;Ce++){if(oe=qt[Ce],Ce===0&&this.qb(Q,nt,oe[0],oe[1],ft,bt,R,$,st)){const xn=this.Wb(ft,bt,st,pt,u);xn<pt&&(pt=xn,tt=!0)}if(K.Vg(oe[0],oe[1],oe[2],oe[3],oe[4],oe[5],oe[6],oe[7],ft,bt,R,$,m,st)){const xn=this.Wb(ft,bt,st,pt,u);xn<pt&&(pt=xn,tt=!0)}}ht=oe[6],it=oe[7];break}default:n.o("Unknown Segment type: "+Fe)}if(Q=ht,nt=it,de){const qt=this.Wb(ft,bt,st,pt,u);qt<pt&&(pt=qt,tt=!0)}if(Ht.isClosed&&(ht=Dt,it=Gt,this.qb(Q,nt,ht,it,ft,bt,R,$,st))){const qt=this.Wb(ft,bt,st,pt,u);qt<pt&&(pt=qt,tt=!0)}}}let k=o-t,D=l-r;const G=Math.sqrt(k*k+D*D);G!==0&&(k/=G,D/=G),u.x-=k*q,u.y-=D*q,C.s(st)}else n.o("Unknown Geometry type: "+X.type);return tt?(this.L.xt(u),!0):!1}Wb(t,r,o,l,u){const c=o.x-t,f=o.y-r,g=c*c+f*f;return g<l?(u.x=o.x,u.y=o.y,g):l}qb(t,r,o,l,u,c,f,g,y){if(K.Y(t,o)&&K.Y(r,l)||K.Y(u,f)&&K.Y(c,g))return!1;let b=!1;const w=(u-f)*(r-l)-(c-g)*(t-o);if(w===0)return!1;if(y.x=((u*g-c*f)*(t-o)-(u-f)*(t*l-r*o))/w,y.y=((u*g-c*f)*(r-l)-(c-g)*(t*l-r*o))/w,(t>o?t-o:o-t)<(r>l?r-l:l-r)){const P=r<l?r:l,E=r<l?l:r;(y.y>P||K.Y(y.y,P))&&(y.y<E||K.Y(y.y,E))&&(b=!0)}else{const P=t<o?t:o,E=t<o?o:t;(y.x>P||K.Y(y.x,P))&&(y.x<E||K.Y(y.x,E))&&(b=!0)}return b}xv(t,r,o){return this.pickable===!1?!1:(o._a(this.L),r?this.bv(t,o):this.containedInRect(t,o))}containedInRect(t,r){if(r===void 0)return t.containsRect(this.actualBounds);let o=this.ft;o===null&&(this.ut(1/0,1/0),o=this.ft);const l=o.bounds,u=this.strokeWidth/2;let c=!1;const f=C.l();return f.e(l.x-u,l.y-u),t.containsPoint(r.xt(f))&&(f.e(l.x-u,l.bottom+u),t.containsPoint(r.xt(f))&&(f.e(l.right+u,l.bottom+u),t.containsPoint(r.xt(f))&&(f.e(l.right+u,l.y-u),t.containsPoint(r.xt(f))&&(c=!0)))),C.s(f),c}intersectsRect(t,r){if(this.containedInRect(t,r)||r===void 0&&(r=this.L,t.containsRect(this.actualBounds)))return!0;const o=J.l();o.set(r),o.pw();const l=t.left,u=t.right,c=t.top,f=t.bottom,g=C.l();if(g.e(l,c),o.xt(g),this.lh(g,!0)||(g.e(u,c),o.xt(g),this.lh(g,!0))||(g.e(l,f),o.xt(g),this.lh(g,!0))||(g.e(u,f),o.xt(g),this.lh(g,!0)))return C.s(g),!0;const y=C.l(),b=C.l();o.set(r),o.hC(this.L),o.pw(),y.x=u,y.y=c,y.L(o),g.x=l,g.y=c,g.L(o);let w=!1;return this.Ca(g,y,b)?w=!0:(g.x=u,g.y=f,g.L(o),this.Ca(g,y,b)?w=!0:(y.x=l,y.y=f,y.L(o),this.Ca(g,y,b)?w=!0:(g.x=l,g.y=c,g.L(o),this.Ca(g,y,b)&&(w=!0)))),C.s(g),J.s(o),C.s(y),C.s(b),w}Ca(t,r,o){if(!this.getNearestIntersectionPoint(t,r,o))return!1;const l=t.x,u=t.y,c=r.x,f=r.y,g=o.x,y=o.y;if(l===c){let b=0,w=0;return u<f?(b=u,w=f):(b=f,w=u),y>=b&&y<=w}else{let b=0,w=0;return l<c?(b=l,w=c):(b=c,w=l),g>=b&&g<=w}}bv(t,r){if(this.containedInRect(t,r)||r===void 0&&(r=this.L,t.containsRect(this.actualBounds)))return!0;const o=t.left,l=t.right,u=t.top,c=t.bottom,f=C.l(),g=C.l(),y=C.l(),b=J.l();b.set(r),b.hC(this.L),b.pw(),g.x=l,g.y=u,g.L(b),f.x=o,f.y=u,f.L(b);let w=!1;return this.Ca(f,g,y)?w=!0:(f.x=l,f.y=c,f.L(b),this.Ca(f,g,y)?w=!0:(g.x=o,g.y=c,g.L(b),this.Ca(f,g,y)?w=!0:(f.x=o,f.y=u,f.L(b),this.Ca(f,g,y)&&(w=!0)))),J.s(b),C.s(f),C.s(g),C.s(y),w}QL(t,r,o){if(o&&this.fill!==null&&this.lh(t,!0))return!0;let l=t.distanceSquaredPoint(r);const u=l;this.strokeWidth>1.5&&(l=this.strokeWidth/2+Math.sqrt(l),l*=l);let c=this.ft;if(c===null&&(this.ut(1/0,1/0),c=this.ft,c===null))return!1;if(!o){const P=c.bounds,E=P.x,N=P.y,_=P.x+P.width,R=P.y+P.height;if(C.distanceSquared(t.x,t.y,E,N)<=l&&C.distanceSquared(t.x,t.y,_,N)<=l&&C.distanceSquared(t.x,t.y,E,R)<=l&&C.distanceSquared(t.x,t.y,_,R)<=l)return!0}function f(P,E){const N=P.length;for(let _=0;_<N;_+=2)if(E.distanceSquared(P[_],P[_+1])>l)return!0;return!1}const g=c.startX,y=c.startY,b=c.endX,w=c.endY;if(c.type===1){const P=C.distanceLineSegmentSquared(t.x,t.y,g,y,b,w),E=(b-g)*(t.x-g)+(w-y)*(t.y-y),N=(g-b)*(t.x-b)+(y-w)*(t.y-w),_=E>=0&&N>=0?l:u;return P<=_}else if(c.type===2){let P=!1;return o&&(P=C.distanceLineSegmentSquared(t.x,t.y,g,y,g,w)<=l||C.distanceLineSegmentSquared(t.x,t.y,g,y,b,y)<=l||C.distanceLineSegmentSquared(t.x,t.y,b,y,b,w)<=l||C.distanceLineSegmentSquared(t.x,t.y,g,w,b,w)<=l),P}else if(c.type===3){const P=(g+b)/2,E=(y+w)/2,N=t.x-P,_=t.y-E,R=Math.abs(b-g)/2,$=Math.abs(w-y)/2;if(R===0||$===0)return C.distanceLineSegmentSquared(t.x,t.y,g,y,b,w)<=l;if(o){const q=K.RD(R,$,N,_);return q*q<=l}else return!(C.distanceSquared(N,_,-R,0)>=l||C.distanceSquared(N,_,0,-$)>=l||C.distanceSquared(N,_,0,$)>=l||C.distanceSquared(N,_,R,0)>=l)}else if(c.type===4){const P=c.bounds,E=P.x,N=P.y,_=P.x+P.width,R=P.y+P.height;if(t.x>_&&t.x<E&&t.y>R&&t.y<N&&C.distanceLineSegmentSquared(t.x,t.y,E,N,E,R)>l&&C.distanceLineSegmentSquared(t.x,t.y,E,N,_,N)>l&&C.distanceLineSegmentSquared(t.x,t.y,_,R,E,R)>l&&C.distanceLineSegmentSquared(t.x,t.y,_,R,_,N)>l)return!1;const $=Math.sqrt(l);if(o){if(this.fill===null?c.xC(t.x,t.y,$):c.Bk(t,$,!0,!1))return!0}else{const q=c.figures;for(let X=0;X<q.count;X++){const H=q.r[X];let tt=H.startX,Q=H.startY;if(t.distanceSquared(tt,Q)>l)return!1;const nt=H.segments.r,ht=nt.length;for(let it=0;it<ht;it++){const st=nt[it];switch(st.type){case 1:case 2:if(tt=st.endX,Q=st.endY,t.distanceSquared(tt,Q)>l)return!1;break;case 3:{const ct=n.rt();K.Un(tt,Q,st.point1X,st.point1Y,st.point2X,st.point2Y,st.endX,st.endY,.8,ct);const ut=f(ct,t);if(n.it(ct),ut||(tt=st.endX,Q=st.endY,t.distanceSquared(tt,Q)>l))return!1;break}case 4:{const ct=n.rt();K.Bg(tt,Q,st.point1X,st.point1Y,st.endX,st.endY,.8,ct);const ut=f(ct,t);if(n.it(ct),ut||(tt=st.endX,Q=st.endY,t.distanceSquared(tt,Q)>l))return!1;break}case 5:case 6:{const ct=st.type===5?st.So(H):st.Ih(H,tt,Q),ut=ct.length;if(ut===0){if(tt=st.type===5?st.centerX:st.endX,Q=st.type===5?st.centerY:st.endY,t.distanceSquared(tt,Q)>l)return!1;break}let pt=null;const Tt=n.rt();for(let Et=0;Et<ut;Et++)if(pt=ct[Et],Tt.length=0,K.Un(pt[0],pt[1],pt[2],pt[3],pt[4],pt[5],pt[6],pt[7],.8,Tt),f(Tt,t))return n.it(Tt),!1;n.it(Tt),pt!==null&&(tt=pt[6],Q=pt[7]);break}default:n.o("Unknown Segment type: "+st.type)}}}return!0}}return!1}wv(t,r,o,l,u,c){if(t.width===0)return K.Bn(t.x,t.y,t.x,t.y+t.height,r,o,l,u,c);if(t.height===0)return K.Bn(t.x,t.y,t.x+t.width,t.y,r,o,l,u,c);{const f=t.width/2,g=t.height/2,y=t.x+f,b=t.y+g;let w=9999;if(r!==l&&(w=(o-u)/(r-l)),Math.abs(w)<9999){const P=o-b-w*(r-y);if(f*f*(w*w)+g*g-P*P<0)return c.x=NaN,c.y=NaN,!1;const E=Math.sqrt(f*f*(w*w)+g*g-P*P),N=(-(f*f*w*P)+f*g*E)/(g*g+f*f*(w*w))+y,_=(-(f*f*w*P)-f*g*E)/(g*g+f*f*(w*w))+y,R=w*(N-y)+P+b,$=w*(_-y)+P+b,q=Math.abs((r-N)*(r-N))+Math.abs((o-R)*(o-R)),X=Math.abs((r-_)*(r-_))+Math.abs((o-$)*(o-$));q<X?(c.x=N,c.y=R):(c.x=_,c.y=$)}else{const P=g*g,E=f*f,N=r-y,_=P-P/E*(N*N);if(_<0)return c.x=NaN,c.y=NaN,!1;const R=Math.sqrt(_),$=b+R,q=b-R,X=Math.abs($-o),H=Math.abs(q-o);X<H?(c.x=r,c.y=$):(c.x=r,c.y=q)}return!0}}av(){return this.jo/2*this.strokeMiterLimit*this.getDocumentScale()}get geometry(){return this.ft!==null?this.ft:this.ks}set geometry(t){const r=this.ft,o=this.ks;if(r===t)return;t!==null?(this.ft=t.g(),this.ks=this.ft):(this.ft=null,this.ks=null);const l=this.part;if(l!==null&&l.af(),this.c(),this.t("geometry",r||o,t),this.Jc()){const u=this.part;u!==null&&this.ma(u,"geometryString")}}get geometryString(){return this.geometry===null?"":this.geometry.toString()}set geometryString(t){const r=lt.parse(t),o=r.normalize();this.geometry=r;const l=C.X(-o.x,-o.y);this.position=l,C.s(l)}get isGeometryPositioned(){return(this.n&1048576)!==0}set isGeometryPositioned(t){const r=(this.n&1048576)!==0;r!==t&&(this.n=this.n^1048576,this.c(),this.t("isGeometryPositioned",r,t))}ee(){this.ft=null}get fill(){return this.Sa}set fill(t){const r=this.Sa;r!==t&&(t!==null&&ze.od(t,"Shape.fill"),t instanceof ze&&t.g(),this.Sa=t,this.C(),this.t("fill",r,t))}get stroke(){return this.Hi}set stroke(t){const r=this.Hi;r!==t&&(t!==null&&ze.od(t,"Shape.stroke"),t instanceof ze&&t.g(),this.Hi=t,this.C(),this.t("stroke",r,t))}get strokeWidth(){return this.jo}set strokeWidth(t){const r=this.jo;if(r!==t)if(t>=0){this.jo=t,this.c();const o=this.part;o!==null&&o.af(),this.t("strokeWidth",r,t)}else n.tt(t,"value >= 0",nn,"strokeWidth:value")}Ab(){return this.jo}get strokeCap(){return this.Lt!==null?this.Lt.pp:"butt"}set strokeCap(t){const r=this.strokeCap;r!==t&&(typeof t=="string"&&(t==="butt"||t==="round"||t==="square")?(this.Na(),this.Lt.pp=t,this.C(),this.t("strokeCap",r,t)):n.tt(t,'"butt", "round", or "square"',nn,"strokeCap"))}get strokeJoin(){return this.Lt!==null?this.Lt.yp:"miter"}set strokeJoin(t){const r=this.strokeJoin;r!==t&&(typeof t=="string"&&(t==="miter"||t==="bevel"||t==="round")?(this.Na(),this.Lt.yp=t,this.C(),this.t("strokeJoin",r,t)):n.tt(t,'"miter", "bevel", or "round"',nn,"strokeJoin"))}get strokeMiterLimit(){return this.Lt!==null?this.Lt.wp:10}set strokeMiterLimit(t){const r=this.strokeMiterLimit;if(r!==t&&t>=1){this.Na(),this.Lt.wp=t,this.C();const o=this.part;o!==null&&o.af(),this.t("strokeMiterLimit",r,t)}}get strokeDashArray(){return this.Xo}set strokeDashArray(t){const r=this.Xo;if(r!==t){if(t!==null&&!Array.isArray(t)&&n.xe(t,"Array",nn,"strokeDashArray:value"),t!==null){const o=t.length;let l=0;for(let u=0;u<o;u++){const c=t[u];(!(c>=0)||!isFinite(c))&&n.o("strokeDashArray:value "+c+" at index "+u+" must be a positive number or zero."),l+=c}if(l===0){if(r===null)return;t=null}}this.Xo=t,this.C(),this.t("strokeDashArray",r,t)}}get strokeDashOffset(){return this.Lt!==null?this.Lt.uh:0}set strokeDashOffset(t){const r=this.strokeDashOffset;r!==t&&t>=0&&(this.Na(),this.Lt.uh=t,this.C(),this.t("strokeDashOffset",r,t))}get figure(){return this.bd}set figure(t){const r=this.bd;if(r!==t){let o=K.Mo[t];if(typeof o=="function"?o=t:(o=K.Mo[t.toLowerCase()],o||n.o("Unknown Shape.figure: "+t)),r!==o){const l=this.part;l!==null&&l.af(),this.bd=o,this.ks=null,this.ee(),this.c(),this.t("figure",r,o)}}}get toArrow(){return this.Ut!==null?this.Ut.xp:"None"}set toArrow(t){const r=this.toArrow;if(t===!0?t="Standard":t===!1&&(t=""),r!==t){const o=nn.CA(t);o===null?n.o("Unknown Shape.toArrow: "+t):r!==o&&(this.Ut===null&&(this.Ut=new Fs),this.Ut.xp=o,this.ks=null,this.ee(),this.c(),this.LA(o),this.t("toArrow",r,o))}}get fromArrow(){return this.Ut!==null?this.Ut.bp:"None"}set fromArrow(t){const r=this.fromArrow;if(t===!0?t="Standard":t===!1&&(t=""),r!==t){const o=nn.CA(t);o===null?n.o("Unknown Shape.fromArrow: "+t):r!==o&&(this.Ut===null&&(this.Ut=new Fs),this.Ut.bp=o,this.ks=null,this.ee(),this.c(),this.LA(o),this.t("fromArrow",r,o))}}LA(t){const r=this.diagram;if(r!==null&&r.undoManager.isUndoingRedoing)return;this.RR();const o=U.MiddleRight;this.toArrow!=="None"?(this.segmentIndex=-1,this.alignmentFocus=o):this.fromArrow!=="None"&&(this.segmentIndex=0,this.alignmentFocus=new U(1-o.x,o.y))}get spot1(){return this.Lt!==null?this.Lt.Vn:U.Default}set spot1(t){const r=this.spot1;r.equals(t)||(t=t.N(),this.Na(),this.Lt.Vn=t,this.c(),this.t("spot1",r,t))}get spot2(){return this.Lt!==null?this.Lt.zn:U.Default}set spot2(t){const r=this.spot2;r.equals(t)||(t=t.N(),this.Na(),this.Lt.zn=t,this.c(),this.t("spot2",r,t))}get parameter1(){return this.kd}set parameter1(t){const r=this.kd;r!==t&&(this.kd=t,this.ee(),this.c(),this.t("parameter1",r,t))}get parameter2(){return this.Pd}set parameter2(t){const r=this.Pd;r!==t&&(this.Pd=t,this.ee(),this.c(),this.t("parameter2",r,t))}get naturalBounds(){return this.Vi}QR(){const t=this.desiredSize;if(!t.isReal()&&this.ft!==null){const r=this.ft.bounds;this.Vi.a(r)}else this.Vi.e(0,0,t.width,t.height)}get pathPattern(){return this.Lt!==null?this.Lt.kp:null}set pathPattern(t){const r=this.pathPattern;r!==t&&(this.Na(),this.Lt.kp=t,this.C(),this.t("pathPattern",r,t))}get geometryStretch(){return this.Lt!==null?this.Lt.Pp:1}set geometryStretch(t){const r=this.geometryStretch;r!==t&&(this.Na(),this.Lt.Pp=t,this.c(),this.t("geometryStretch",r,t))}get interval(){return this.$!==null?this.$.ff:1}set interval(t){const r=this.interval;if(t=Math.round(t),r!==t&&t!==0&&isFinite(t)){this.$===null&&(this.$=new Ne),this.$.ff=t;const o=this.diagram;o!==null&&this.panel===o.grid&&o.Hr(),this.c();const l=this.panel;l!==null&&(l.os=null),this.t("interval",r,t)}}get graduatedStart(){return this.$!==null?this.$.uf:0}set graduatedStart(t){const r=this.graduatedStart;r!==t&&(t<0?t=0:t>1&&(t=1),this.$===null&&(this.$=new Ne),this.$.uf=t,this.c(),this.t("graduatedStart",r,t))}get graduatedEnd(){return this.$!==null?this.$.df:1}set graduatedEnd(t){const r=this.graduatedEnd;r!==t&&(t<0?t=0:t>1&&(t=1),this.$===null&&(this.$=new Ne),this.$.df=t,this.c(),this.t("graduatedEnd",r,t))}get graduatedSkip(){return this.$!==null?this.$.gf:null}set graduatedSkip(t){const r=this.graduatedSkip;r!==t&&(t!==null&&n.i(t,"function",nn,"graduatedSkip"),this.$===null&&(this.$=new Ne),this.$.gf=t,this.c(),this.t("graduatedSkip",r,t))}static yv(t,r,o){let l=null;if(t.toArrow!=="None")l=nn.so[t.toArrow];else if(t.fromArrow!=="None")l=nn.so[t.fromArrow];else{let u=K.Mo[t.figure];typeof u=="string"&&(u=K.Mo[u]),u===void 0&&n.o("Unknown Shape.figure: "+t.figure),l=u(t,r,o),l.ic=r,l.ec=o}if(l===null){const u=K.Mo.Rectangle;typeof u=="function"&&(l=u(t,r,o))}return l}static getFigureGenerators(){const t=new V;for(const r in K.Mo){if(r===r.toLowerCase())continue;const o=K.Mo[r];t.set(r,o)}return t.g(),t}static defineFigureGenerator(t,r){n.i(t,"string",nn,"defineFigureGenerator:name"),typeof r=="string"||n.i(r,"function",nn,"defineFigureGenerator:func");const o=t.toLowerCase(),l=K.Mo;l[t]=r,l[o]=t}static getArrowheadGeometries(){const t=new V;for(const r in K.Kg)if(nn.so[r]===void 0){const o=lt.parse(K.Kg[r],!1);nn.so[r]=o;const l=r.toLowerCase();l!==r&&(nn.so[l]=r)}for(const r in nn.so){if(r===r.toLowerCase())continue;const o=nn.so[r];o instanceof lt&&t.set(r,o)}return t.g(),t}static defineArrowheadGeometry(t,r){n.i(t,"string",nn,"defineArrowheadGeometry:name");let o=null;typeof r=="string"?(n.i(r,"string",nn,"defineArrowheadGeometry:pathstr"),o=lt.parse(r,!1)):o=r;const l=t.toLowerCase();(l==="none"||t===l)&&n.o("Shape.defineArrowheadGeometry name must not be empty or None or all-lower-case: "+t);const u=nn.so;u[t]=o,u[l]=t}static CA(t){let r=nn.so[t];if(r===void 0){const o=t.toLowerCase();if(o==="none")return"None";if(r=nn.so[o],r===void 0){let l=null;for(const u in K.Kg)if(u.toLowerCase()===o){l=u;break}if(l!==null){const u=lt.parse(K.Kg[l],!1);return nn.so[l]=u,o!==l&&(nn.so[o]=l),l}}}return typeof r=="string"?r:r instanceof lt?t:null}};T(nn,"so",new a),T(nn,"I2",new a);let fe=nn;class Ze{constructor(){T(this,"mi");T(this,"pp");T(this,"yp");T(this,"wp");T(this,"uh");T(this,"kp");T(this,"Pp");T(this,"Vn");T(this,"zn");this.mi=!1,this.pp="butt",this.yp="miter",this.wp=10,this.uh=0,this.kp=null,this.Pp=1,this.Vn=U.Default,this.zn=U.Default}copy(){const i=new Ze;return i.pp=this.pp,i.yp=this.yp,i.wp=this.wp,i.uh=this.uh,i.kp=this.kp,i.Pp=this.Pp,i.Vn=this.Vn.N(),i.zn=this.zn.N(),i}}var Sn=(W=>(W[W.None=0]="None",W[W.Fit=1]="Fit",W[W.DesiredSize=2]="DesiredSize",W[W.BreakAll=3]="BreakAll",W))(Sn||{}),ya=(W=>(W[W.Clip=0]="Clip",W[W.Ellipsis=1]="Ellipsis",W))(ya||{}),Zr=(W=>(W[W.Trim=0]="Trim",W[W.None=1]="None",W))(Zr||{});const we=class we extends dn{constructor(t,r){super();T(this,"ai");T(this,"Hi");T(this,"kn");T(this,"Le");T(this,"pi");T(this,"x0");T(this,"Sd");T(this,"$");T(this,"J");T(this,"Fl");T(this,"no");T(this,"Pn");T(this,"Ae");T(this,"Fi");T(this,"Mn");return this.n|=2097152,this.ai="",this.Hi="black",this.kn="13px sans-serif",this.Le=0,this.pi=0,this.x0=0,this.Sd=null,this.$=null,this.J=null,this.Fl=0,this.no=null,this.Pn=0,this.Ae=null,this.Fi=null,this.Mn=null,typeof t=="string"?this.text=t:t&&Object.assign(this,t),r&&Object.assign(this,r),this}cloneProtected(t){super.cloneProtected(t),t.ai=this.ai,t.Hi=this.Hi,t.kn=this.kn,t.Le=this.Le,t.pi=this.pi,t.x0=this.x0,t.Sd=this.Sd,this.$!==null&&(t.$=this.$.copy()),this.J!==null&&(this.J.mi?t.J=this.J:t.J=this.J.copy()),t.Fl=this.Fl,t.no=this.no,t.Pn=this.Pn,t.Ae=this.Ae,t.Fi=this.Fi,t.Mn=this.Mn}Sn(){this.J===null?this.J=new gs:this.J.mi&&(this.J=this.J.copy())}rh(){super.rh(),this.J!==null&&(this.J.mi=!0)}ov(t){this.n=t.n|2048|4096,this.Wt=t.opacity,this.Ct=t.background,this.Xe=t.desiredSize.N(),this.minSize=t.minSize.N(),this.maxSize=t.maxSize.N(),t.ki!==null?this.ki=t.ki.copy():this.ki=null,this.K=t.scale,this.Xt=t.angle,this.stretch=t.stretch,this.Qr=t.margin.N(),this.oi=t.alignment.N(),this.qc=t.alignmentFocus.N(),this.segmentFraction=t.segmentFraction,this.segmentOffset=t.segmentOffset.N(),this.segmentOrientation=t.segmentOrientation,t.si!==null&&(this.si=t.si.copy()),this.shadowVisible=t.shadowVisible,this.ai=t.ai,this.Hi=t.Hi,this.kn=t.kn,this.$!==null&&(this.$=t.$.copy()),t.J!==null&&(t.J.mi?this.J=t.J:this.J=t.J.copy()),this.Fl=t.Fl}sv(t){if(this.ai=t.text||"",this.Xt=t.labelAngle||0,this.Le=t.lineCount||0,this.kv(t.lines),t.naturalBounds&&(this.Vi=t.naturalBounds),t.actualBounds){const r=t.actualBounds;this.zt(r.x,r.y,r.width,r.height)}}li(t){t in Sn?this.wrap=t:super.li(t)}toString(){return this.ai.length>22?'TextBlock("'+this.ai.substring(0,20)+'"...)':'TextBlock("'+this.ai+'")'}static getEllipsis(){return we.Mp}static setEllipsis(t){we.Mp=t,we.Jb=new a,we.E2=0}static getBaseline(){return we.$b}static setBaseline(t){we.$b=t}static getUnderline(){return we.Zb}static setUnderline(t){we.Zb=t}c(){super.c()}get font(){return this.kn}set font(t){const r=this.kn;r!==t&&(this.kn=t,this.no=null,this.c(),this.t("font",r,t))}static isValidFont(t){return e.CSS?e.CSS.supports("font",t):!0}get text(){return this.ai}set text(t){const r=this.ai;t!=null?t=t.toString():t="",r!==t&&(this.ai=t,this.c(),this.t("text",r,t),this.ns(!0))}get textAlign(){return this.J!==null?this.J.Sp:"start"}set textAlign(t){const r=this.textAlign;r!==t&&(t==="start"||t==="end"||t==="left"||t==="right"||t==="center")&&(this.Sn(),this.J.Sp=t,this.C(),this.t("textAlign",r,t))}get flip(){return this.J!==null?this.J.oo:0}set flip(t){const r=this.flip;r!==t&&(this.Sn(),this.J.oo=t,this.C(),this.t("flip",r,t))}get verticalAlignment(){return this.J!==null?this.J.nl:U.Top}set verticalAlignment(t){const r=this.verticalAlignment;r.equals(t)||(t=t.N(),this.Sn(),this.J.nl=t,this.tf(),this.t("verticalAlignment",r,t))}get naturalBounds(){if(!this.Vi.isReal()){const t=z.l();this.U2(this.ai,999999,t);let r=t.width;z.s(t);let o=this.AA(r);const l=this.desiredSize;isNaN(l.width)||(r=l.width),isNaN(l.height)||(o=l.height),this.Vi.Po(r,o)}return this.Vi}get isMultiline(){return(this.n&2097152)!==0}set isMultiline(t){const r=(this.n&2097152)!==0;r!==t&&(this.n=this.n^2097152,this.c(),this.t("isMultiline",r,t))}get isUnderline(){return(this.n&4194304)!==0}set isUnderline(t){const r=(this.n&4194304)!==0;r!==t&&(this.n=this.n^4194304,this.ns(!0),this.C(),this.t("isUnderline",r,t))}get isStrikethrough(){return(this.n&8388608)!==0}set isStrikethrough(t){const r=(this.n&8388608)!==0;r!==t&&(this.n=this.n^8388608,this.ns(!0),this.C(),this.t("isStrikethrough",r,t))}get wrap(){return this.J!==null?this.J.Np:2}set wrap(t){const r=this.wrap;r!==t&&(this.Sn(),this.J.Np=t,this.c(),this.t("wrap",r,t))}get overflow(){return this.J!==null?this.J.Cp:0}set overflow(t){const r=this.overflow;r!==t&&(this.Sn(),this.J.Cp=t,this.c(),this.t("overflow",r,t))}get isOverflowed(){return(this.n&16777216)!==0}B2(t){t?this.n|=16777216:this.n&=-16777217}get stroke(){return this.Hi}set stroke(t){const r=this.Hi;r!==t&&(t!==null&&ze.od(t,"TextBlock.stroke"),t instanceof ze&&t.g(),this.Hi=t,this.C(),this.t("stroke",r,t))}get lineCount(){return this.Le}get lineHeight(){return this.Lp()}get editable(){return(this.n&1048576)!==0}set editable(t){const r=(this.n&1048576)!==0;r!==t&&(this.n=this.n^1048576,this.t("editable",r,t))}get textEditor(){return this.J!==null?this.J.Ap:null}set textEditor(t){const r=this.textEditor;r!==t&&(this.Sn(),this.J.Ap=t,this.t("textEditor",r,t))}get errorFunction(){return this.J!==null?this.J.rs:null}set errorFunction(t){const r=this.errorFunction;r!==t&&(t!==null&&n.i(t,"function",we,"errorFunction"),this.Sn(),this.J.rs=t,this.t("errorFunction",r,t))}get interval(){return this.$!==null?this.$.ff:1}set interval(t){const r=this.interval;if(t=Math.round(t),r!==t&&t!==0&&isFinite(t)){this.$===null&&(this.$=new Ne),this.$.ff=t,this.c();const o=this.panel;o!==null&&(o.os=null),this.t("interval",r,t)}}get graduatedStart(){return this.$!==null?this.$.uf:0}set graduatedStart(t){const r=this.graduatedStart;r!==t&&(t<0?t=0:t>1&&(t=1),this.$===null&&(this.$=new Ne),this.$.uf=t,this.c(),this.t("graduatedStart",r,t))}get graduatedEnd(){return this.$!==null?this.$.df:1}set graduatedEnd(t){const r=this.graduatedEnd;r!==t&&(t<0?t=0:t>1&&(t=1),this.$===null&&(this.$=new Ne),this.$.df=t,this.c(),this.t("graduatedEnd",r,t))}get graduatedFunction(){return this.$!==null?this.$.Tp:null}set graduatedFunction(t){const r=this.graduatedFunction;r!==t&&(t!==null&&n.i(t,"function",we,"graduatedFunction"),this.$===null&&(this.$=new Ne),this.$.Tp=t,this.c(),this.t("graduatedFunction",r,t))}get graduatedSkip(){return this.$!==null?this.$.gf:null}set graduatedSkip(t){const r=this.graduatedSkip;r!==t&&(t!==null&&n.i(t,"function",we,"graduatedSkip"),this.$===null&&(this.$=new Ne),this.$.gf=t,this.c(),this.t("graduatedSkip",r,t))}ch(t,r){if(this.Hi===null||this.ai.length===0||this.kn===null)return;const o=this.naturalBounds,l=this.actualBounds,u=o.width,c=o.height,f=this.Lp();let g=t.textAlign=this.textAlign;const y=r.Ku;g==="start"?g=y?"right":"left":g==="end"&&(g=y?"left":"right");const b=this.isUnderline,w=this.isStrikethrough;this.dn(t,this.Hi,!0,!1,o,l),(b||w)&&this.dn(t,this.Hi,!1,!1,o,l);const P=0;let E=0;const N=u;let _=!1;const R=this.ys,$=R.dx-(f*R.m21+R.dx),q=R.dy-(f*R.m22+R.dy);let X=$*$+q*q;const H=r.scale;X=X*H*H,X<8&&(_=!0),r.ni!==t&&(_=!1),r.ni instanceof Gi&&(_=!1),r.getRenderingHint("textGreeking")===!1&&(_=!1);const tt=this.spacingAbove,Q=this.spacingBelow;switch(this.flip){case 0:break;case 2:t.translate(u,0),t.scale(-1,1);break;case 1:t.translate(0,c),t.scale(1,-1);break;case 3:t.translate(u,c),t.scale(-1,-1);break}t.commitTransform();const nt=this.Le,ht=(tt+f+Q)*nt;if(c>ht){const it=this.verticalAlignment;E=it.y*c-it.y*ht+it.offsetY}if(nt===1&&this.Mn!==null){let it=this.pi;it>N&&(it=N),E+=tt,this.TA(this.Mn,t,P,E,N,f,it,_,g,b,w)}else if(this.Ae!==null&&this.Fi!==null)for(let it=0;it<nt;it++){let st=this.Ae[it];st>N&&(st=N),E+=tt,this.TA(this.Fi[it],t,P,E,N,f,st,_,g,b,w),E+=f+Q}switch(this.flip){case 0:break;case 2:t.scale(-1,1),t.translate(-u,0);break;case 1:t.scale(1,-1),t.translate(0,-c);break;case 3:t.scale(-1,-1),t.translate(-u,-c);break}}TA(t,r,o,l,u,c,f,g,y,b,w){let P=0;if(g){y==="left"?P=0:y==="right"?P=u-f:y==="center"&&(P=(u-f)/2),r.fillRect(o+P,l+c*.25,f,1);return}y==="left"?P=0:y==="right"?P=u:y==="center"&&(P=u/2);const E=we.$b!==null?we.$b(this,c):c*.75;r.fillText(t,o+P,l+E);let N=c/20|0;if(N===0&&(N=1),y==="right"?P-=f:y==="center"&&(P-=f/2),b){const _=we.Zb!==null?we.Zb(this,c):c*.8;this.DA(o+P,l+_,o+P+f,l+_,N,r),r instanceof Gi&&r.lastCreatedElement.classList.add("gojs-td")}if(w){let _=l+c-c/2.2|0;N%2!==0&&(_+=.5),this.DA(o+P,_,o+P+f,_,N,r),r instanceof Gi&&r.lastCreatedElement.classList.add("gojs-td")}}DA(t,r,o,l,u,c){c.beginPath(),c.lineWidth=u,c.moveTo(t,r),c.lineTo(o,l),c.stroke(),c.endPath()}Zc(t,r,o){if(!super.Zc(t,r,o))return!1;if(this.dn(t,this.Hi,!0,!1,this.naturalBounds,this.actualBounds),o){if(this.svg.getElementsByTagName("text").length===0)return!0;const l=this.svg.getElementsByClassName("gojs-td");for(let u=0;u<l.length;u++)t.setFillOrStrokeInPlace(l[u],!1)}else this.Pv(this.svg,this.text,t);return!0}Pv(t,r,o){t.innerHTML=r,o.setFillOrStrokeInPlace(t,!0)}sd(t){return this.lineCount>1||this.isUnderline||this.isStrikethrough?!0:super.sd(t)}l2(t,r){if(t.nodeName!=="g")t.setAttributeNS(null,"filter",r);else{const o=t.getElementsByTagName("text");for(let l=0;l<o.length;l++)o[l].setAttributeNS(null,"filter",r)}}Mv(){this.Pn=0,this.pi=0,this.no=null,this.Ae=null,this.Fi=null,this.Mn=null}_u(t,r,o,l){const u=this.Le;this.Fl=t,this.B2(!1);const c=this.kn;we.el!==null&&we.FA!==c&&(we.el.font=c,we.FA=c),this.Mv();let f=0,g=0;isNaN(this.desiredSize.width)?(f=this.Sv(),f=Math.min(f,t/this.scale)):f=this.desiredSize.width,this.panel!==null&&(f=Math.min(f,this.panel.maxSize.width)),g=this.AA(f),isNaN(this.desiredSize.height)?g=Math.min(g,r/this.scale):g=this.desiredSize.height,this.Nv(t,g),(this.wrap===1||isNaN(this.desiredSize.width))&&(f=isNaN(t)?this.pi:Math.min(t,this.pi)),f=Math.max(o,f),g=Math.max(l,g),this.Vi.Po(f,g),this.Zn(0,0,f,g),this.svg!==null&&u!==this.Le&&this.ns(!0)}hh(t,r,o,l){this.commonArrange(t,r,o,l)}Nn(t,r){this.Mn===null?(this.Mn=t,this.pi=r):((this.Fi===null||this.Ae===null)&&(this.Fi=[],this.Ae=[],this.Fi.push(this.Mn),this.Ae.push(this.pi)),this.Fi.push(t),this.Ae.push(r),this.Fi.length>this.maxLines&&(this.n|=16777216))}U2(t,r,o){const l=this.formatting===0;l&&(t=t.trim());let u=0,c=0,f=0;const g=this.kn,y=this.spacingAbove+this.spacingBelow,b=Math.max(0,this.Lp()+y),w=this.overflow===1?this.RA(g):0;if(this.Le>=this.maxLines){o!==null&&o.e(0,b);return}let P=t;if(this.wrap===0){if(this.Pn=1,c=this.getStringWidth(t),w===0||c<=r){this.pi=Math.max(this.pi,c),this.Nn(t,this.pi),o!==null&&o.e(c,b);return}let N=this.Nd(P);P=P.substring(N.length);let _=this.Nd(P);for(c=this.getStringWidth(N+_),f=0;_.length>0&&c<=r;){N+=_,P=P.substring(_.length),_=this.Nd(P),f=c;let R=N+_;l&&(R=R.trim()),c=this.getStringWidth(R)}for(l&&(_=_.trim()),N+=_,r=Math.max(1,r-w);this.getStringWidth(N)>r&&N.length>1;)N=N.substring(0,N.length-1);this.B2(!0),N+=we.Mp,f=this.getStringWidth(N),this.pi=f,this.Nn(N,f),o!==null&&o.e(f,b);return}let E=0;for(P.length===0&&(E=1,this.Nn(P,0));P.length>0;){let N=this.Nd(P);for(P=P.substring(N.length);this.getStringWidth(N)>r;){let $=1;for(c=this.getStringWidth(N.substring(0,$)),f=0;c<=r;)$++,f=c,c=this.getStringWidth(N.substring(0,$));let q=0;$===1?(q=c,u=Math.max(u,c)):(q=f,u=Math.max(u,f)),$--,$<1&&($=1);const X=N.substring(0,$);if(this.Nn(X,q),E++,N=N.substring($),this.Le+E>this.maxLines)break}let _=this.Nd(P);for(c=this.getStringWidth(N+_),f=0;_.length>0&&c<=r;){N+=_,P=P.substring(_.length),_=this.Nd(P),f=c;let $=N+_;l&&($=$.trim()),c=this.getStringWidth($)}if(l&&(N=N.trim()),N==="")continue;N[N.length-1]==="Â­"&&(N=N.substring(0,N.length-1)+"â");let R=0;if(_.length===0?(R=c,u=Math.max(u,c)):(f=this.getStringWidth(N),R=f,u=Math.max(u,f)),this.Nn(N,R),E++,this.Le+E>this.maxLines)break}this.Pn=Math.min(this.maxLines,E),this.pi=Math.max(this.pi,u),o!==null&&o.e(this.pi,b*this.Pn)}Nv(t,r){if(this.pi===0||this.Ae===null||this.Fi===null||this.overflow!==1)return;const o=this.kn,l=this.overflow===1?this.RA(o):0,u=this.spacingAbove+this.spacingBelow,c=Math.max(0,this.Lp()+u),f=Math.min(this.maxLines-1,Math.max(Math.floor(r/c+.01)-1,0));if(f+1>=this.Fi.length)return;this.B2(!0);let g=this.Fi[f];const y=Math.max(1,t-l);for(;this.getStringWidth(g)>y&&g.length>1;)g=g.substring(0,g.length-1);g+=we.Mp;const b=this.getStringWidth(g);this.Fi[f]=g,this.Fi=this.Fi.slice(0,f+1),this.Ae[f]=b,this.Ae=this.Ae.slice(0,f+1),this.Pn=this.Fi.length,this.pi=Math.max(this.pi,b),this.Le=this.Pn,this.Le===1&&(this.Mn=this.Fi[0])}Nd(t){if(this.wrap===3)return t.substring(0,1);let r=t.length,o=0;const l=we.Cv;for(;o<r&&!l.test(t.charAt(o));)o++;for(this.formatting===1&&(r=Math.min(r,o+1));o<r&&l.test(t.charAt(o));)o++;return o>=t.length?t:t.substring(0,o)}getStringWidth(t){return we.el===null?t.length*8:we.el.measureText(t).width}Lp(){if(this.no!==null)return this.no;const t=this.kn;let r=0;return we.el===null?(r=16,this.no=r,r):(we.V2[t]!==void 0&&we.vA<5e3?r=we.V2[t]:(r=we.el.measureText("M").width*1.3,we.V2[t]=r,we.vA++),this.no=r,r)}RA(t){if(we.el===null)return 6;let r=0;return we.Jb[t]!==void 0&&we.E2<5e3?r=we.Jb[t]:(r=we.el.measureText(we.Mp).width,we.Jb[t]=r,we.E2++),r}Qb(t,r){return t.indexOf(`
`,r)}AA(t){let r=this.ai.replace(/\r\n/g,`
`).replace(/\r/g,`
`);const o=this.spacingAbove+this.spacingBelow,l=Math.max(0,this.Lp()+o);if(r.length===0)return this.pi=0,this.Le=1,l;if(!this.isMultiline){const y=this.Qb(r,0);y>=0&&(r=r.substring(0,y))}let u=0;this.Le=0;let c=0,f=-1,g=!1;for(;!g;){if(f=this.Qb(r,c),f===-1&&(f=r.length,g=!0),c<=f){const y=r.substring(c,f);if(this.wrap!==0){this.Pn=0;const b=z.l();this.U2(y,t,b),u+=b.height,z.s(b),this.Le+=this.Pn}else this.U2(y,t,null),u+=l,this.Le++;this.Le===this.maxLines&&(g=!0)}c=f+1}return this.x0=u,u}Sv(){let t=this.ai.replace(/\r\n/g,`
`).replace(/\r/g,`
`);if(t.length===0)return 8;if(this.isMultiline){let r=0,o=0,l=!1;for(;!l;){let u=this.Qb(t,o);u===-1&&(u=t.length,l=!0);let c=t.substring(o,u);this.formatting===0&&(c=c.trim()),r=Math.max(r,this.getStringWidth(c)),o=u+1}return r}else{const r=this.Qb(t,0);return r>=0&&(t=t.substring(0,r)),this.getStringWidth(t)}}get textValidation(){return this.J!==null?this.J.Dl:null}set textValidation(t){const r=this.textValidation;r!==t&&(t!==null&&n.i(t,"function",we,"textValidation"),this.Sn(),this.J.Dl=t,this.t("textValidation",r,t))}get textEdited(){return this.J!==null?this.J.Dp:null}set textEdited(t){const r=this.textEdited;r!==t&&(t!==null&&n.i(t,"function",we,"textEdited"),this.Sn(),this.J.Dp=t,this.t("textEdited",r,t))}get spacingAbove(){return this.J!==null?this.J.Fp:0}set spacingAbove(t){const r=this.spacingAbove;r!==t&&(this.Sn(),this.J.Fp=t,this.c(),this.t("spacingAbove",r,t))}get spacingBelow(){return this.J!==null?this.J.Rp:0}set spacingBelow(t){const r=this.spacingBelow;r!==t&&(this.Sn(),this.J.Rp=t,this.c(),this.t("spacingBelow",r,t))}get formatting(){return this.J!==null?this.J.vp:0}set formatting(t){const r=this.formatting;r!==t&&(this.Sn(),this.J.vp=t,this.c(),this.t("formatting",r,t))}get maxLines(){return this.J!==null?this.J.Op:1/0}set maxLines(t){const r=this.maxLines;r!==t&&(t=Math.floor(t),t<=0&&n.tt(t,"> 0",we,"maxLines"),this.Sn(),this.J.Op=t,this.c(),this.t("maxLines",r,t))}getMetrics(){return[this.pi,this.Fl,this.no,this.Pn,this.Ae,this.Fi,this.Mn]}kv(t){t!==void 0&&(this.pi=t[0],this.Fl=t[1],this.no=t[2],this.Pn=t[3],this.Ae=t[4],this.Fi=t[5],this.Mn=t[6])}get metrics(){return{arrSize:this.Ae!==null?this.Ae:[this.pi],arrText:this.Fi!==null?this.Fi:[this.Mn],maxLineWidth:this.pi,fontHeight:this.no}}get choices(){return this.Sd}set choices(t){const r=this.Sd;r!==t&&(this.Sd=t,this.t("choices",r,t))}};T(we,"$b",null),T(we,"Zb",null),T(we,"None",0),T(we,"WrapFit",1),T(we,"WrapDesiredSize",2),T(we,"WrapBreakAll",3),T(we,"OverflowClip",0),T(we,"OverflowEllipsis",1),T(we,"FormatTrim",0),T(we,"FormatNone",1),T(we,"Cv",new RegExp("[ âÂ­]")),T(we,"V2",new a),T(we,"vA",0),T(we,"Jb",new a),T(we,"E2",0),T(we,"Mp","..."),T(we,"FA",""),T(we,"el",xe.isUsingDOM()?new vi(null).ci:null);let on=we;class gs{constructor(){T(this,"mi");T(this,"rs");T(this,"oo");T(this,"vp");T(this,"Op");T(this,"Cp");T(this,"Fp");T(this,"Rp");T(this,"Sp");T(this,"Dp");T(this,"Ap");T(this,"Dl");T(this,"nl");T(this,"Np");this.mi=!1,this.rs=null,this.oo=0,this.vp=0,this.Op=1/0,this.Cp=0,this.Fp=0,this.Rp=0,this.Sp="start",this.Dp=null,this.Ap=null,this.Dl=null,this.nl=U.Top,this.Np=2}copy(){const i=new gs;return i.rs=this.rs,i.oo=this.oo,i.vp=this.vp,i.Op=this.Op,i.Cp=this.Cp,i.Fp=this.Fp,i.Rp=this.Rp,i.Sp=this.Sp,i.Dp=this.Dp,i.Ap=this.Ap,i.Dl=this.Dl,i.nl=this.nl,i.Np=this.Np,i}}class Ne{constructor(){T(this,"ff");T(this,"uf");T(this,"df");T(this,"Tp");T(this,"gf");this.ff=1,this.uf=0,this.df=1,this.Tp=null,this.gf=null}copy(){const i=new Ne;return i.ff=this.ff,i.uf=this.uf,i.df=this.df,i.Tp=this.Tp,i.gf=this.gf,i}}var Cn=(W=>(W[W.None=0]="None",W[W.Fill=2]="Fill",W[W.Uniform=6]="Uniform",W[W.UniformToFill=7]="UniformToFill",W))(Cn||{});const Tn=class Tn extends dn{constructor(t,r){super();T(this,"ol");T(this,"yt");T(this,"rl");T(this,"mf");T(this,"rs");T(this,"ll");T(this,"pf");T(this,"oo");T(this,"yf");T(this,"wf");T(this,"vb");this.n|=2097152,this.ol=null,this.yt="",this.rl=F.LD,this.mf=2,this.rs=null,this.ll=null,this.pf=U.Center,this.oo=0,this.yf=null,this.wf=null,this.vb=null,typeof t=="string"?this.source=t:t&&Object.assign(this,t),r&&Object.assign(this,r)}cloneProtected(t){super.cloneProtected(t),t.yt=this.yt,t.element=this.ol,t.rl=this.rl.N(),t.mf=this.mf,t.oo=this.oo,t.rs=this.rs,t.ll=this.ll,t.pf=this.pf.N(),t.wf=this.wf}li(t){t in Cn?this.imageStretch=t:super.li(t)}toString(){return"Picture("+this.source+")#"+M.cs(this)}get xf(){return(this.n&1048576)!==0}set xf(t){this.xf!==t&&(this.n=this.n^1048576)}get Ip(){return(this.n&2097152)!==0}set Ip(t){this.Ip!==t&&(this.n=this.n^2097152)}get mn(){return(this.n&4194304)!==0}set mn(t){this.mn!==t&&(this.n=this.n^4194304)}static clearCache(t){t===void 0&&(t=""),n.i(t,"string",Tn,"clearCache:url"),t!==""?Tn.Ep[t]&&(delete Tn.Ep[t],Tn._b--):(Tn.Ep=new a,Tn._b=0)}static vL(t,r){r.OA||(r.t1=o=>{Tn.Lv(r,o),t.desiredSize.isReal()||(t.ue(!1),t.c())},r.i1=o=>Tn.Av(r,o),r.addEventListener("load",r.t1),r.addEventListener("error",r.i1),r.OA=!0)}static mR(t){t.t1&&t.removeEventListener("load",t.t1),t.i1&&t.removeEventListener("error",t.i1),delete t.t1,delete t.i1,delete t.OA}get element(){return this.ol}set element(t){const r=this.ol;if(this.ns(!0),r!==t){this.xf=t instanceof HTMLCanvasElement;const o=t instanceof HTMLImageElement;t!==null&&!(o||t instanceof HTMLVideoElement||this.xf)&&n.o("Picture.element must be an instance of Image, Canvas, or Video, not: "+t);const l=this.diagram;l!==null&&l.TS(this),this.ol=t,t!==null&&o&&t.ss===void 0&&(t.ss=new M),l!==null&&o&&l.AS(this),this.t("element",r,t),this.C()}}dR(){const t=this.ol;if(t===null)return;const r=this.desiredSize.isReal();(this.xf||t.complete===!0)&&(t.f0&&(t.Up instanceof Event&&this.rs!==null?this.rs(this,t.Up):t.mn===!0&&!t.Up&&this.ll!==null&&t.z2&&this.ll(this,t.z2)),t.mn=!0),t.mn&&r&&this.diagram!==null&&this.diagram.Xu.add(this)}Tv(){if(this.ol===null){this.yf=!1;return}const t=new vi(null).ci;try{t.drawImage(this.ol,0,0)}catch{this.Ip=!1}try{t.getImageData(0,0,1,1).data[3]&&(this.yf=!1),this.yf=!1}catch{this.yf=!0}}get source(){return this.yt}set source(t){const r=this.yt;if(r!==t){this.ns(!0),n.i(t,"string",Tn,"source"),this.yt=t;let o=Tn.Ep;if(!xe.isUsingDOM()){this.t("source",r,t);return}let l=null;if(o[t]!==void 0)l=o[t];else if(t!==""){Tn._b>30&&(Tn.clearCache(),o=Tn.Ep),l=n.en("img"),l.f0=!0,Tn.vL(this,l);const u=this.wf;u!==null&&(l.crossOrigin=u(this)),l.src=t,o[t]=l,Tn._b++}this.element=l,l!==null&&l.__goCache===void 0&&(l.__goCache=new gl),this.c(),this.C(),this.t("source",r,t)}}static Lv(t,r){t.mn=!0,t.Up=!1;let o;const l=t.ss.copy();if(l==null)return;const u=l.iterator;for(;u.next();){const c=u.value;c.C();const f=t.getAttribute("src")||"",g=c.$l.get(f);if(g===null)continue;const y=g.length;for(let b=0;b<y;b++)o=g[b],o.desiredSize.isReal()||c.Xu.add(o),o.ns(!0),c.requestUpdate(),t.f0&&(t.z2===void 0&&(t.z2=r),o.ll!==null&&o.ll(o,r))}t.ss.clear()}static Av(t,r){t.Up=r;let o;const l=t.ss.copy();if(l==null)return;const u=l.iterator;for(;u.next();){const c=u.value,f=t.getAttribute("src")||"",g=c.$l.get(f);if(g===null)continue;const y=g.length,b=n.rt();for(let w=0;w<y;w++)b.push(g[w]);if(t.f0)for(let w=0;w<y;w++)o=b[w],o.rs!==null&&o.rs(o,r);n.it(b)}t.ss.clear()}reloadSource(){if(this.source==="")return;Tn.clearCache(this.source);const t=this.source;this.source="",this.source=t}redraw(){this.C(),this.ns(!0)}get sourceCrossOrigin(){return this.wf}set sourceCrossOrigin(t){if(this.wf!==t&&(t!==null&&n.i(t,"function",Tn,"sourceCrossOrigin"),this.wf=t,this.element!==null)){const r=this.element.getAttribute("src");t===null&&typeof r=="string"?this.element.crossOrigin=null:t!==null&&(this.element.crossOrigin=t(this)),this.element.src=r}}get sourceRect(){return this.rl}set sourceRect(t){const r=this.rl;r.equals(t)||(t=t.N(),this.rl=t,this.C(),this.t("sourceRect",r,t))}get imageStretch(){return this.mf}set imageStretch(t){const r=this.mf;r!==t&&(this.mf=t,this.C(),this.t("imageStretch",r,t))}get flip(){return this.oo}set flip(t){const r=this.oo;r!==t&&(this.oo=t,this.C(),this.t("flip",r,t))}get imageAlignment(){return this.pf}set imageAlignment(t){const r=this.pf;r.equals(t)||(t=t.N(),this.pf=t,this.C(),this.t("imageAlignment",r,t))}get errorFunction(){return this.rs}set errorFunction(t){const r=this.rs;r!==t&&(t!==null&&n.i(t,"function",Tn,"errorFunction"),this.rs=t,this.t("errorFunction",r,t))}get successFunction(){return this.ll}set successFunction(t){const r=this.ll;r!==t&&(t!==null&&n.i(t,"function",Tn,"successFunction"),this.ll=t,this.t("successFunction",r,t))}ch(t,r){const o=this.ol;if(o===null)return;const l=o.getAttribute("src");if(o instanceof HTMLImageElement&&(l===null||l==="")||o.Up instanceof Event&&t instanceof Se)return;const u=t instanceof Gi,c=this.naturalBounds;let f=0,g=0;const y=this.xf;let b=y?+o.width:o.naturalWidth,w=y?+o.height:o.naturalHeight;if(b===void 0&&o.videoWidth&&(b=o.videoWidth),w===void 0&&o.videoHeight&&(w=o.videoHeight),b===0||w===0)return;const P=b,E=w;this.sourceRect.isReal()&&(f=this.rl.x,g=this.rl.y,b=this.rl.width,w=this.rl.height);let N=b,_=w;const R=this.mf,$=this.pf;switch(R){case 0:if(this.sourceRect.isReal())break;N>=c.width&&(f=f+$.offsetX+(N*$.x-c.width*$.x)),_>=c.height&&(g=g+$.offsetY+(_*$.y-c.height*$.y)),b=Math.min(c.width,N),w=Math.min(c.height,_);break;case 2:N=c.width,_=c.height;break;case 6:case 7:let pt=0;R===6?(pt=Math.min(c.height/_,c.width/N),N*=pt,_*=pt):R===7&&(pt=Math.max(c.height/_,c.width/N),N*=pt,_*=pt,N>=c.width&&(f=(f+$.offsetX+(N*$.x-c.width*$.x)/N)*b),_>=c.height&&(g=(g+$.offsetY+(_*$.y-c.height*$.y)/_)*w),b*=1/(N/c.width),w*=1/(_/c.height),N=c.width,_=c.height);break}const q=b*w,X=this.getDocumentScale()*r.scale,H=N*X,tt=_*X,Q=H*tt,nt=q/Q,ht=o.__goCache;let it=null;const st=Tn.Dv;if(!u){if(o.mn&&ht!==void 0&&Q>4&&nt>st*st){ht.Ot===null&&(ht.IA(4,P,E,o),ht.IA(16,P,E,o));const pt=ht.Ot,Tt=pt.length;for(let Et=0;Et<Tt&&pt[Et].Cd*pt[Et].Cd<nt;Et++)it=pt[Et]}if(!r.zu&&(this.yf===null&&this.Tv(),this.yf))return}const ct=N<c.width?$.offsetX+(c.width*$.x-N*$.x):0,ut=_<c.height?$.offsetY+(c.height*$.y-_*$.y):0;switch(this.flip){case 0:break;case 2:t.translate(Math.min(c.width,N),0),t.scale(-1,1);break;case 1:t.translate(0,Math.min(c.height,_)),t.scale(1,-1);break;case 3:t.translate(Math.min(c.width,N),Math.min(c.height,_)),t.scale(-1,-1);break}if(t.commitTransform(),r.getRenderingHint("pictureRatioOptimization")&&!r.Zh&&ht!==void 0&&it!==null&&it.Cd!==1){t.save();const pt=it.Cd;try{t.drawImage(it.yt,f/pt,g/pt,Math.min(it.yt.width,b/pt),Math.min(it.yt.height,w/pt),ct,ut,Math.min(c.width,N),Math.min(c.height,_)),t instanceof Gi&&(this.vb=[f/pt,g/pt,Math.min(it.yt.width,b/pt),Math.min(it.yt.height,w/pt),ct,ut,Math.min(c.width,N),Math.min(c.height,_)])}catch{this.Ip=!1}t.restore()}else try{t.drawImage(o,f,g,b,w,ct,ut,Math.min(c.width,N),Math.min(c.height,_)),t instanceof Gi&&(this.vb=[f,g,b,w,ct,ut,Math.min(c.width,N),Math.min(c.height,_)])}catch{this.Ip=!1}switch(this.flip){case 0:break;case 2:t.scale(-1,1),t.translate(-Math.min(c.width,N),0);break;case 1:t.scale(1,-1),t.translate(0,-Math.min(c.height,_));break;case 3:t.scale(-1,-1),t.translate(-Math.min(c.width,N),-Math.min(c.height,_));break}}get naturalBounds(){return this.Vi}_u(t,r,o,l){const u=this.desiredSize,c=this.zs(!0),f=this.ol,g=this.xf;let y=0,b=0;(g||!this.mn&&f&&f.complete)&&(this.mn=!0),f===null?(isFinite(u.width)||(t=o),isFinite(u.height)||(r=l)):(y=g?+f.width:f.naturalWidth,b=g?+f.height:f.naturalHeight),!isFinite(u.width)&&c!==2&&c!==5?f!==null&&this.mn!==!1&&(this.sourceRect.isReal()?t=this.sourceRect.width:t=y):(isFinite(t)||(this.sourceRect.isReal()?t=this.sourceRect.width:f!==null&&(t=y)),o=0),!isFinite(u.height)&&c!==2&&c!==4?f!==null&&this.mn!==!1&&(this.sourceRect.isReal()?r=this.sourceRect.height:r=b):(isFinite(r)||(this.sourceRect.isReal()?r=this.sourceRect.height:f!==null&&(r=b)),l=0),isFinite(u.width)&&(t=u.width),isFinite(u.height)&&(r=u.height);const w=this.maxSize,P=this.minSize;o=Math.max(o||0,P.width),l=Math.max(l||0,P.height),t=Math.min(w.width,t),r=Math.min(w.height,r),t=Math.max(o,t),r=Math.max(l,r),f!==null&&!f.complete&&(isFinite(t)||(t=0),isFinite(r)||(r=0)),this.Vi.Po(t,r),this.Zn(0,0,t,r)}hh(t,r,o,l){this.commonArrange(t,r,o,l)}};T(Tn,"Ep",new a),T(Tn,"_b",0),T(Tn,"Dv",4);let Ii=Tn;class gl{constructor(){T(this,"Ot");this.Ot=null}IA(i,t,r,o){this.Ot===null&&(this.Ot=[]);const l=new vi(null),u=l.ci,c=1/i;if(l.width=t/i,l.height=r/i,l.width===0||l.height===0)return;const f=new vr(l.Ft,i);let g=o,y=1;if(this.Ot.length>0){const b=this.Ot[this.Ot.length-1];g=b.yt,y=b.Cd}u.setTransform(c*y,0,0,c*y,0,0),u.commitTransform(),u.drawImage(g,0,0),this.Ot.push(f)}}class vr{constructor(i,t){T(this,"yt");T(this,"Cd");this.yt=i,this.Cd=t}}const Vs=class Vs{constructor(){T(this,"Mi");T(this,"qg");this.qg=new lt,this.Mi=null}Jt(i){i!==null?(i.lt(),this.qg=i,i.figures.clear()):this.qg=new lt,this.Mi=null}uu(i,t,r,o,l,u){if(o!==void 0&&o===!0){const c=new vt(1);c.endX=i,c.endY=t,this.Mi.segments.add(c)}else this.Mi=new dt,this.Mi.startX=i,this.Mi.startY=t,this.Mi.isFilled=r,this.Mi.isEvenOdd=u||!1,this.qg.figures.add(this.Mi);l!==void 0&&(this.Mi.isShadowed=l)}UD(){const i=this.Mi.segments.length;i>0&&this.Mi.segments.elt(i-1).close()}BD(){this.Mi.segments.length>0&&(this.Mi.isFilled=!0)}VD(i){this.Mi.isShadowed=i}dE(i){this.Mi.isEvenOdd=i}OD(i,t,r){r===void 0&&(r=!1);const o=new vt(1);o.endX=i,o.endY=t,r&&o.close(),this.Mi.segments.add(o)}ur(i,t,r){r===void 0&&(r=!1);const o=new vt(2);o.endX=i,o.endY=t,r&&o.close(),this.Mi.segments.add(o)}dr(i,t,r,o,l,u,c){c===void 0&&(c=!1);const f=new vt(3);f.point1X=i,f.point1Y=t,f.point2X=r,f.point2Y=o,f.endX=l,f.endY=u,c&&f.close(),this.Mi.segments.add(f)}Mw(i,t,r,o,l){l===void 0&&(l=!1);const u=new vt(4);u.point1X=i,u.point1Y=t,u.endX=r,u.endY=o,l&&u.close(),this.Mi.segments.add(u)}ID(i,t,r,o,l,u,c){u===void 0&&(u=0),c===void 0&&(c=!1);const f=new vt(5);f.startAngle=i,f.sweepAngle=t,f.centerX=r,f.centerY=o,f.radiusX=l,u!==0?f.radiusY=u:f.radiusY=l,c&&f.close(),this.Mi.segments.add(f)}ED(i,t,r,o,l,u,c,f){f===void 0&&(f=!1);const g=new vt(6,u,c,i,t,r,o,l);f&&g.close(),this.Mi.segments.add(g)}static mC(i){const t=Vs.X2;if(t!==null)return Vs.X2=null,t.Jt(i),t;{const r=new Vs;return r.Jt(i),r}}static pC(i){Vs.X2=i}};T(Vs,"X2",null);let jo=Vs;{const W=function(l,u){const c=l.toLowerCase(),f=K.Mo;f[l]=u,f[c]=l};W("Rectangle",(l,u,c)=>{const f="r"+u+","+c;let g=K.cr[f];return g!==void 0||(g=new lt(2),g.endX=u,g.endY=c,K.fr<K.Yg&&(K.cr[f]=g,K.fr++)),g}),W("Square",(l,u,c)=>{const f="s"+u+","+c;let g=K.cr[f];return g!==void 0||(g=new lt(2),g.endX=u,g.endY=c,g.defaultStretch=6,K.fr<K.Yg&&(K.cr[f]=g,K.fr++)),g});const i=(l,u,c,f,g)=>{(isNaN(f)||f<0)&&(f=5),isNaN(g)&&(g=15);const y="rr"+u+","+c+","+f+","+g;let b=K.cr[y];if(b!==void 0)return b;let w=f;(g&1)===1?(w=Math.min(w,(g&2)===2?u/3:u),w=Math.min(w,(g&8)===8?c/3:c)):w=0;const P=new dt(w,0,!0);b=new lt().add(P);const E=U.TopLeft.copy(),N=U.BottomRight.copy();if((g&2)===2){let _=f;_=Math.min(_,(g&1)===1?u/3:u),_=Math.min(_,(g&4)===4?c/3:c);const R=_*K.En;P.add(new vt(2,u-_,0)).add(new vt(3,u,_,u-R,0,u,R)),E.offsetY=R,N.offsetX=-R}else P.add(new vt(2,u,0));if((g&4)===4){let _=f;_=Math.min(_,(g&8)===8?u/3:u),_=Math.min(_,(g&2)===2?c/3:c);const R=_*K.En;P.add(new vt(2,u,c-_)).add(new vt(3,u-_,c,u,c-R,u-R,c)),N.offsetX=-R,N.offsetY=-R}else P.add(new vt(2,u,c));if((g&8)===8){let _=f;_=Math.min(_,(g&4)===4?u/3:u),_=Math.min(_,(g&1)===1?c/3:c);const R=_*K.En;P.add(new vt(2,_,c)).add(new vt(3,0,c-_,R,c,0,c-R)),E.offsetX=R,N.offsetY=-R}else P.add(new vt(2,0,c));if((g&1)===1){const _=w*K.En;P.add(new vt(2,0,w)).add(new vt(3,w,0,0,_,_,0).close()),E.offsetX=_,E.offsetY=_}else P.add(new vt(2,0,0).close());return b.spot1=E,b.spot2=N,K.fr<K.Yg&&(K.cr[y]=b,K.fr++),b};W("RoundedRectangle",(l,u,c)=>{const f=l?l.parameter1:NaN,g=l?l.parameter2:NaN;return i(l,u,c,f,g)}),W("Border","RoundedRectangle"),W("RoundedTopRectangle",(l,u,c)=>{const f=l?l.parameter1:NaN;return i(l,u,c,f,3)}),W("RoundedBottomRectangle",(l,u,c)=>{const f=l?l.parameter1:NaN;return i(l,u,c,f,12)}),W("RoundedLeftRectangle",(l,u,c)=>{const f=l?l.parameter1:NaN;return i(l,u,c,f,9)}),W("RoundedRightRectangle",(l,u,c)=>{const f=l?l.parameter1:NaN;return i(l,u,c,f,6)}),W("Ellipse",(l,u,c)=>{const f="e"+u+","+c;let g=K.cr[f];return g!==void 0||(g=new lt(3),g.endX=u,g.endY=c,g.spot1=U.Fk,g.spot2=U.Rk,K.fr<K.Yg&&(K.cr[f]=g,K.fr++)),g}),W("Circle",(l,u,c)=>{const f="c"+u+","+c;let g=K.cr[f];return g!==void 0||(g=new lt(3),g.endX=u,g.endY=c,g.spot1=U.Fk,g.spot2=U.Rk,g.defaultStretch=6,K.fr<K.Yg&&(K.cr[f]=g,K.fr++)),g}),W("TriangleRight",(l,u,c)=>new lt().add(new dt(0,0).add(new vt(2,u,.5*c)).add(new vt(2,0,c).close())).setSpots(0,.25,.5,.75)),W("TriangleDown",(l,u,c)=>new lt().add(new dt(0,0).add(new vt(2,u,0)).add(new vt(2,.5*u,c).close())).setSpots(.25,0,.75,.5)),W("TriangleLeft",(l,u,c)=>new lt().add(new dt(u,c).add(new vt(2,0,.5*c)).add(new vt(2,u,0).close())).setSpots(.5,.25,1,.75)),W("TriangleUp",(l,u,c)=>new lt().add(new dt(u,c).add(new vt(2,0,c)).add(new vt(2,.5*u,0).close())).setSpots(.25,.5,.75,1)),W("Triangle","TriangleUp"),W("Diamond",(l,u,c)=>new lt().add(new dt(.5*u,0).add(new vt(2,0,.5*c)).add(new vt(2,.5*u,c)).add(new vt(2,u,.5*c).close())).setSpots(.25,.25,.75,.75)),W("LineH",(l,u,c)=>{const f=new lt(1);return f.startX=0,f.startY=c/2,f.endX=u,f.endY=c/2,f}),W("LineV",(l,u,c)=>{const f=new lt(1);return f.startX=u/2,f.startY=0,f.endX=u/2,f.endY=c,f}),W("None","Rectangle"),W("BarH","Rectangle"),W("BarV","Rectangle"),W("MinusLine","LineH"),W("PlusLine",(l,u,c)=>new lt().add(new dt(0,c/2,!1).add(new vt(2,u,c/2)).add(new vt(1,u/2,0)).add(new vt(2,u/2,c)))),W("XLine",(l,u,c)=>new lt().add(new dt(0,c,!1).add(new vt(2,u,0)).add(new vt(1,0,0)).add(new vt(2,u,c)))),W("LineRight",(l,u,c)=>new lt().add(new dt(.25*u,0,!1).add(new vt(2,.75*u,.5*c)).add(new vt(2,.25*u,c)))),W("LineDown",(l,u,c)=>new lt().add(new dt(0,.25*c,!1).add(new vt(2,.5*u,.75*c)).add(new vt(2,u,.25*c)))),W("LineLeft",(l,u,c)=>new lt().add(new dt(.75*u,0,!1).add(new vt(2,.25*u,.5*c)).add(new vt(2,.75*u,c)))),W("LineUp",(l,u,c)=>new lt().add(new dt(0,.75*c,!1).add(new vt(2,.5*u,.25*c)).add(new vt(2,u,.75*c)))),W("Capsule",(l,u,c)=>{const f=new lt;if(u<c){const g=new dt(0,u/2,!0);return f.add(g),g.add(new vt(5,180,180,u/2,u/2,u/2,u/2)),g.add(new vt(2,u,c-u/2)),g.add(new vt(5,0,180,u/2,c-u/2,u/2,u/2)),g.add(new vt(2,0,u/2)),f.spot1=new U(.156,0,0,u*.156),f.spot2=new U(.844,1,0,-u*.156),f}else if(u>c){const g=new dt(c/2,0,!0);return f.add(g),g.add(new vt(2,u-c/2,0)),g.add(new vt(5,270,180,u-c/2,c/2,c/2,c/2)),g.add(new vt(2,c/2,c)),g.add(new vt(5,90,180,c/2,c/2,c/2,c/2)),f.spot1=new U(0,.156,c*.156,0),f.spot2=new U(1,.844,-c*.156,0),f}else return f.type=3,f.endX=u,f.endY=c,f.spot1=U.Fk,f.spot2=U.Rk,f});const t=(l,u)=>new dt(l,u,!1,!1),r=(l,u,c)=>l.add(new vt(2,u,c)),o=(l,u,c)=>l.add(new vt(1,u,c));W("Borders",(l,u,c)=>{let f=l?l.parameter1:NaN;isNaN(f)?f=10:f=f&15;const g=new lt;let y;return f===10?(y=t(u,0),r(y,u,c),o(y,0,c),r(y,0,0)):f===5?(y=t(0,0),r(y,u,0),o(y,u,c),r(y,0,c)):f===1?(y=t(0,0),r(y,u,0),o(y,u,c)):f===2?(y=t(u,0),r(y,u,c)):f===4?(y=t(u,c),r(y,0,c)):f===8?(y=t(0,c),r(y,0,0),o(y,u,c)):f===3?(y=t(0,0),r(y,u,0),r(y,u,c)):f===6?(y=t(u,0),r(y,u,c),r(y,0,c)):f===12?(y=t(u,c),r(y,0,c),r(y,0,0)):f===9?(y=t(0,c),r(y,0,0),r(y,u,0)):f===7?(y=t(0,0),r(y,u,0),r(y,u,c),r(y,0,c)):f===14?(y=t(u,0),r(y,u,c),r(y,0,c),r(y,0,0)):f===13?(y=t(u,c),r(y,0,c),r(y,0,0),r(y,u,0)):f===11?(y=t(0,c),r(y,0,0),r(y,u,0),r(y,u,c)):f===15?(y=t(0,0),r(y,u,0),r(y,u,c),r(y,0,c),y.add(new vt(2,0,0).close())):(y=t(0,0),o(y,u,c)),g.add(y),g})}K.Kg={"":"",Standard:"F1 m 0,0 l 8,4 -8,4 2,-4 z",Backward:"F1 m 8,0 l -2,4 2,4 -8,-4 z",Triangle:"F1 m 0,0 l 8,4.62 -8,4.62 z",BackwardTriangle:"F1 m 8,4 l 0,4 -8,-4 8,-4 0,4 z",Boomerang:"F1 m 0,0 l 8,4 -8,4 4,-4 -4,-4 z",BackwardBoomerang:"F1 m 8,0 l -8,4 8,4 -4,-4 4,-4 z",SidewaysV:"m 0,0 l 8,4 -8,4 0,-1 6,-3 -6,-3 0,-1 z",BackwardV:"m 8,0 l -8,4 8,4 0,-1 -6,-3 6,-3 0,-1 z",OpenTriangle:"m 0,0 l 8,4 -8,4",BackwardOpenTriangle:"m 8,0 l -8,4 8,4",OpenTriangleLine:"m 0,0 l 8,4 -8,4 m 8.5,0 l 0,-8",BackwardOpenTriangleLine:"m 8,0 l  -8,4 8,4 m -8.5,0 l 0,-8",OpenTriangleTop:"m 0,0 l 8,4 m 0,4",BackwardOpenTriangleTop:"m 8,0 l -8,4 m 0,4",OpenTriangleBottom:"m 0,8 l 8,-4",BackwardOpenTriangleBottom:"m 0,4 l 8,4",HalfTriangleTop:"F1 m 0,0 l 0,4 8,0 z m 0,8",BackwardHalfTriangleTop:"F1 m 8,0 l 0,4 -8,0 z m 0,8",HalfTriangleBottom:"F1 m 0,4 l 0,4 8,-4 z",BackwardHalfTriangleBottom:"F1 m 8,4 l 0,4 -8,-4 z",ForwardSemiCircle:"m 4,0 b 270 180 0 4 4",BackwardSemiCircle:"m 4,8 b 90 180 0 -4 4",Feather:"m 0,0 l 3,4 -3,4",BackwardFeather:"m 3,0 l -3,4 3,4",DoubleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardDoubleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4",TripleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardTripleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4 m 3,-8 l -3,4 3,4",ForwardSlash:"m 0,8 l 5,-8",BackSlash:"m 0,0 l 5,8",DoubleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8",DoubleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8",TripleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8 m -2,8 l 4,-8",TripleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8 m -2,-8 l 4,8",Fork:"m 0,4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",BackwardFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4",LineFork:"m 0,0 l 0,8 m 0,-4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",BackwardLineFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4 m 8,-8 l 0,8",CircleFork:"F1 m 6,4 b 0 360 -3 0 3 z m 0,0 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",BackwardCircleFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 6,0 b 0 360 -3 0 3",CircleLineFork:"F1 m 6,4 b 0 360 -3 0 3 z m 1,-4 l 0,8 m 0,-4 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",BackwardCircleLineFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 0,-4 l 0,8 m 7,-4 b 0 360 -3 0 3",Circle:"F1 m 8,4 b 0 360 -4 0 4 z",Block:"F1 m 0,0 l 0,8 8,0 0,-8 z",StretchedDiamond:"F1 m 0,3 l 5,-3 5,3 -5,3 -5,-3 z",Diamond:"F1 m 0,4 l 4,-4 4,4 -4,4 -4,-4 z",Chevron:"F1 m 0,0 l 5,0 3,4 -3,4 -5,0 3,-4 -3,-4 z",StretchedChevron:"F1 m 0,0 l 8,0 3,4 -3,4 -8,0 3,-4 -3,-4 z",NormalArrow:"F1 m 0,2 l 4,0 0,-2 4,4 -4,4 0,-2 -4,0 z",X:"m 0,0 l 8,8 m 0,-8 l -8,8",TailedNormalArrow:"F1 m 0,0 l 2,0 1,2 3,0 0,-2 2,4 -2,4 0,-2 -3,0 -1,2 -2,0 1,-4 -1,-4 z",DoubleTriangle:"F1 m 0,0 l 4,4 -4,4 0,-8 z  m 4,0 l 4,4 -4,4 0,-8 z",BigEndArrow:"F1 m 0,0 l 5,2 0,-2 3,4 -3,4 0,-2 -5,2 0,-8 z",ConcaveTailArrow:"F1 m 0,2 h 4 v -2 l 4,4 -4,4 v -2 h -4 l 2,-2 -2,-2 z",RoundedTriangle:"F1 m 0,1 a 1,1 0 0 1 1,-1 l 7,3 a 0.5,1 0 0 1 0,2 l -7,3 a 1,1 0 0 1 -1,-1 l 0,-6 z",SimpleArrow:"F1 m 1,2 l -1,-2 2,0 1,2 -1,2 -2,0 1,-2 5,0 0,-2 2,2 -2,2 0,-2 z",AccelerationArrow:"F1 m 0,0 l 0,8 0.2,0 0,-8 -0.2,0 z m 2,0 l 0,8 1,0 0,-8 -1,0 z m 3,0 l 2,0 2,4 -2,4 -2,0 0,-8 z",BoxArrow:"F1 m 0,0 l 4,0 0,2 2,0 0,-2 2,4 -2,4 0,-2 -2,0 0,2 -4,0 0,-8 z",TriangleLine:"F1 m 8,4 l -8,-4 0,8 8,-4 z m 0.5,4 l 0,-8",CircleEndedArrow:"F1 m 10,4 l -2,-3 0,2 -2,0 0,2 2,0 0,2 2,-3 z m -4,0 b 0 360 -3 0 3 z",DynamicWidthArrow:"F1 m 0,3 l 2,0 2,-1 2,-2 2,4 -2,4 -2,-2 -2,-1 -2,0 0,-2 z",EquilibriumArrow:"m 0,3 l 8,0 -3,-3 m 3,5 l -8,0 3,3",FastForward:"F1 m 0,0 l 3.5,4 0,-4 3.5,4 0,-4 1,0 0,8 -1,0 0,-4 -3.5,4 0,-4 -3.5,4 0,-8 z",Kite:"F1 m 0,4 l 2,-4 6,4 -6,4 -2,-4 z",HalfArrowTop:"F1 m 0,0 l 4,4 4,0 -8,-4 z m 0,8",HalfArrowBottom:"F1 m 0,8 l 4,-4 4,0 -8,4 z",OpposingDirectionDoubleArrow:"F1 m 0,4 l 2,-4 0,2 4,0 0,-2 2,4 -2,4 0,-2 -4,0 0,2 -2,-4 z",PartialDoubleTriangle:"F1 m 0,0 4,3 0,-3 4,4 -4,4 0,-3 -4,3 0,-8 z",LineCircle:"F1 m 0,0 l 0,8 m 7 -4 b 0 360 -3 0 3 z",DoubleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",TripleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",CircleLine:"F1 m 6 4 b 0 360 -3 0 3 z m 1,-4 l 0,8",DiamondCircle:"F1 m 8,4 l -4,4 -4,-4 4,-4 4,4 m 8,0 b 0 360 -4 0 4 z",PlusCircle:"F1 m 8,4 b 0 360 -4 0 4 l -8 0 z m -4 -4 l 0 8",OpenRightTriangleTop:"m 8,0 l 0,4 -8,0 m 0,4",OpenRightTriangleBottom:"m 8,8 l 0,-4 -8,0",Line:"m 0,0 l 0,8",DoubleLine:"m 0,0 l 0,8 m 2,0 l 0,-8",TripleLine:"m 0,0 l 0,8 m 2,0 l 0,-8 m 2,0 l 0,8",PentagonArrow:"F1 m 8,4 l -4,-4 -4,0 0,8 4,0 4,-4 z"};var Bo=(W=>(W[W.None=0]="None",W[W.Added=1]="Added",W[W.Removed=2]="Removed",W[W.Shown=4]="Shown",W[W.Hidden=8]="Hidden",W[W.NodeSized=16]="NodeSized",W[W.GroupLayout=32]="GroupLayout",W[W.NodeReplaced=64]="NodeReplaced",W[W.Standard=127]="Standard",W[W.All=16777215]="All",W))(Bo||{});const an=class an extends re{constructor(t,r){let o;t===void 0||t instanceof Ee||typeof t=="string"?o=t:t&&(r=t);super(o);T(this,"P");T(this,"Ho");T(this,"F");T(this,"hl");T(this,"al");T(this,"qo");T(this,"ai");T(this,"Wo");T(this,"mh");T(this,"js");T(this,"Jo");T(this,"Ld");T(this,"EM");T(this,"EA");T(this,"Bp");T(this,"Vp");this.P=2408959,this.Ho="",this.F=null,this.hl="",this.al=null,this.qo=null,this.ai="",this.Wo=null,this.mh=null,this.js=new C(NaN,NaN).g(),this.Jo=null,this.Ld=NaN,this.EM=-1,this.EA=new F,this.Bp=null,this.Vp=NaN,r&&Object.assign(this,r)}cloneProtected(t){super.cloneProtected(t),t.P=this.P&-4097|16384|32768,t.Ho=this.Ho,this.F!==null&&(this.F.mi?t.F=this.F:t.F=this.F.copy()),t.hl=this.hl,t.qo=null,t.ai=this.ai,t.js.a(this.js),t.Ld=this.Ld}Vo(t){super.Vo(t),t.ah(),t.al=null,t.Jo=null,t.Bp=null}toString(){let t=n.sn(this.constructor)+"#"+M.cs(this);return this.data!==null&&(t+="("+n.toString(this.data)+")"),t}qi(){this.F===null?this.F=new $n:this.F.mi&&(this.F=this.F.copy())}rh(){super.rh(),this.F!==null&&(this.F.mi=!0)}Wc(t,r,o,l,u,c,f){const g=this.diagram;g!==null&&(t===3&&r==="elements"?u instanceof re?u.Wr(y=>{g.partManager.PS(y,g)}):u instanceof Ii&&g.AS(u):t===4&&r==="elements"&&(u instanceof re?u.Wr(y=>g.partManager.MS(y,g)):u instanceof Ii&&g.TS(u)),g.raiseChangedEvent(t,r,o,l,u,c,f))}updateTargetBindings(t){if(super.updateTargetBindings(t),this.data===null)return;const r=this.T.r,o=r.length;for(let u=0;u<o;u++){const c=r[u];c instanceof re&&c.Wr(f=>{f.data!==null&&f.updateTargetBindings()})}const l=this.adornments;for(;l.next();)l.value.updateTargetBindings(t)}Io(){if(super.Io(),this.g2()){const r=this.T.r,o=r.length;for(let l=0;l<o;l++){const u=r[l];u instanceof re&&u.Wr(c=>c.Io())}}const t=this.adornments;for(;t.next();)t.value.Io()}updateRelationshipsFromData(){var t;this.data!==null&&((t=this.diagram)==null||t.partManager.updateRelationshipsFromData(this))}get key(){const t=this.diagram;if(t!==null)return t.model.getKeyForNodeData(this.data)}get adornments(){return this.qo===null?h.instance:this.qo.iteratorValues}findAdornment(t){const r=this.qo;return r===null?null:r.get(t)}addAdornment(t,r){if(r===null)return;let o=null,l=this.qo;if(l!==null&&(o=l.get(t)),o!==r){if(o!==null){const c=o.diagram;c!==null&&c.remove(o)}l===null&&(l=new V,this.qo=l),r.Ho!==t&&(r.category=t),l.set(t,r);const u=this.diagram;if(u!==null){u.add(r);const c=r.adornedObject;if(c!==null){const f=c.findBindingPanel();f!==null&&(r.data=f.data)}}}}removeAdornment(t){const r=this.qo;if(r===null)return;const o=r.get(t);if(o!==null){const l=o.diagram;l!==null&&(l.remove(o),o.data=null)}r.delete(t),r.count===0&&(this.qo=null)}clearAdornments(){const t=this.qo;if(t===null)return;const r=n.rt(),o=t.iterator;for(;o.next();){const u=o.key;r.push(u)}const l=r.length;for(let u=0;u<l;u++)this.removeAdornment(r[u]);n.it(r)}updateAdornments(){const t=this.diagram;if(t===null)return;this.Fv(t),this.Rv(t);let r=this.adornments;for(;r.next();){const o=r.value;o.c(),o.hasPlaceholder()&&o.placeholder.c()}for(r=this.adornments;r.next();)r.value.updateTargetBindings()}invalidateAdornments(){const t=this.diagram;t!==null&&(t._l(),this.UA()!==!0&&this.BA(!0))}UM(){this.UA()!==!1&&(this.updateAdornments(),this.BA(!1))}Fv(t){const r="Selection";if(this.isSelected&&this.selectionAdorned){const o=this.selectionObject;if(o!==null&&this.actualBounds.isReal()&&this.isVisible()&&o.isVisibleObject()&&o.actualBounds.isReal()){let l=this.findAdornment(r);if(l===null){let u=this.selectionAdornmentTemplate;if(u===null&&(this.Ll()?u=t.linkSelectionAdornmentTemplate:this instanceof Ut?u=t.groupSelectionAdornmentTemplate:u=t.nodeSelectionAdornmentTemplate),!(u instanceof ye))return;u.hi(),l=u.copy(),l!==null&&(this.Ll()&&this.selectionObject===this.path&&(l.type=re.Link),l.adornedObject=o)}if(l!==null){l.type===re.Link&&l.c(),this.addAdornment(r,l);return}}}this.removeAdornment(r)}Rv(t){const r=this;t.toolManager.mouseDownTools.each(o=>{o.isEnabled&&o.updateAdornments(r)}),t.toolManager.updateAdornments(r)}OM(t){this.Wo=t,t===null&&this.TR()}get layer(){return this.Wo}get diagram(){const t=this.Wo;return t==null?null:t.diagram}get layerName(){return this.hl}set layerName(t){const r=this.hl;if(r===t)return;n.i(t,"string",an,"layerName");let o=this.diagram;if(o!==null&&(o.findLayer(t)===null||o.partManager.addsToTemporaryLayer))return;this.hl=t,o!==null&&o.invalidateDocumentBounds(),this.t("layerName",r,t);const l=this.layer;if(l===null||l.name===t||(o=l.diagram,o===null))return;const u=o.findLayer(t);if(u===null||u===l)return;let c=l.te(-1,this,!0);c>=0&&o.raiseChangedEvent(4,"parts",l,this,null,c,!0),c=u.Hh(99999999,this,!0),l.visible!==u.visible&&this.Ei(u.visible),c>=0&&o.raiseChangedEvent(3,"parts",u,null,this,!0,c);const f=this.layerChanged;if(f===null)return;const g=o.G;o.G=!0,f(this,l,u),o.G=g}get layerChanged(){return this.F!==null?this.F.zp:null}set layerChanged(t){const r=this.layerChanged;r!==t&&(t!==null&&n.i(t,"function",an,"layerChanged"),this.qi(),this.F.zp=t,this.t("layerChanged",r,t))}get zOrder(){return this.Ld}set zOrder(t){const r=this.Ld;if(r===t)return;n.i(t,"number",an,"zOrder"),this.Ld=t;const o=this.layer;o!==null&&o.px(-1,this),this.t("zOrder",r,t);const l=this.diagram;l!==null&&l.C()}vv(){const t=this.layer;t!==null&&t.px(-1,this)}e1(){if(this.th()!==!1)return;this.K2(!0),this.td();const t=this.diagram;t!==null&&(t.r0(this),t.requestUpdate())}VA(){if(this.P|=2097152,this.th()===!1)return;const t=this.position,r=this.location;(!r.isReal()||!t.isReal())&&this.zA(t,r);const o=this.Ai,l=F.l().a(o);o.lt(),o.x=t.x,o.y=t.y,o.g(),this.ed(l,o),F.s(l),this.K2(!1)}Zn(t,r,o,l){const u=this.se;u.e(t,r,o,l),this.ki===null&&(this.ki=new J);const c=this.ki;c.Jt(),this.y0(c,t,r,o,l),this.ki=c,c.vk()||c.ww(u)}y0(t,r,o,l,u){if(this.K!==1&&t.K(this.K),this.Xt===0)return;let c=U.Center;this.locationSpot.isSpot()&&(c=this.locationSpot);const f=C.l();if(this.locationObject!==this){const g=this.locationObject,y=g.naturalBounds;f.setSpot(y.x,y.y,y.width,y.height,c),g.ki!==null&&g.ki.xt(f),f.offset(-g.measuredBounds.x,-g.measuredBounds.y);let b=g.panel;for(;b!==null&&b!==this;)b.ki!==null&&b.ki.xt(f),f.offset(-b.measuredBounds.x,-b.measuredBounds.y),b=b.panel}else f.setSpot(r,o,l,u,c);t.fs(this.Xt,f.x,f.y),C.s(f)}get locationObject(){if(this.Jo===null)if(this instanceof ye&&this.type!==re.Link&&this.hasPlaceholder())this.Jo=this.placeholder;else{const t=this.locationObjectName;if(t!==""){const r=this.findObject(t);r!==null?this.Jo=r:this.Jo=this}else this.Jo=this}return this.Jo.visible?this.Jo:this}get minLocation(){return this.F!==null?this.F.Xp:C.$N}set minLocation(t){const r=this.minLocation;r.equals(t)||(t=t.N(),this.qi(),this.F.Xp=t,this.t("minLocation",r,t))}get maxLocation(){return this.F!==null?this.F.Kp:C.ZN}set maxLocation(t){const r=this.maxLocation;r.equals(t)||(t=t.N(),this.qi(),this.F.Kp=t,this.t("maxLocation",r,t))}get locationObjectName(){return this.F!==null?this.F.Yp:""}set locationObjectName(t){const r=this.locationObjectName;r!==t&&(this.qi(),this.F.Yp=t,this.Jo=null,this.c(),this.t("locationObjectName",r,t))}get locationSpot(){return this.F!==null?this.F.Gp:U.TopLeft}set locationSpot(t){const r=this.locationSpot;r.equals(t)||(t=t.N(),this.qi(),this.F.Gp=t,this.c(),this.t("locationSpot",r,t))}move(t,r){r===!0?this.location=t:this.position=t}moveTo(t,r,o){const l=C.X(t,r);this.move(l,o),C.s(l)}isVisible(){if(!this.visible)return!1;const t=this.layer;if(t!==null){if(!t.visible)return!1;const o=t.diagram;if(o!==null&&o.animationManager.sx(this))return!0}const r=this.containingGroup;return!(r!==null&&(!r.isSubGraphExpanded||!r.isVisible()))}Ei(t){const r=this.diagram;t?(this.invalidateLayout(4),this.invalidateAdornments(),r!==null&&r.r0(this)):(this.invalidateLayout(8),this.clearAdornments()),this.ah(),r!==null&&(r.invalidateDocumentBounds(),r.C())}findObject(t){if(this.name===t)return this;let r=this.Bp;if(r===null&&(this.Bp=r=new V),r.get(t)!==null)return r.get(t);const o=super.findObject(t);return o!==null?(r.set(t,o),o):(r.set(t,null),null)}T0(){this.Bp=null}getRelativePoint(t,r,o){o===void 0&&(o=new C);const l=r.isNoSpot()?U.Center:r,u=t.naturalBounds;if(o.e(u.width*l.x+l.offsetX,u.height*l.y+l.offsetY),t===null||t===this)return o;t.L.xt(o);let c=t.panel;for(;c!==null&&c!==this;)c.L.xt(o),c=c.panel;return this.ki!==null&&this.ki.xt(o),o.offset(-this.se.x,-this.se.y),o}getDocumentBounds(t){return t===void 0&&(t=new F),t.a(this.actualBounds)}ensureBounds(){this.ut(1/0,1/0),this.zt()}gA(t){const r=this.locationSpot,o=this.locationObject,l=o.naturalBounds,u=o instanceof fe?o.strokeWidth:0;if(t.setSpot(0,0,l.width+u,l.height+u,r),o!==this){t.offset(-u/2,-u/2),o.L.xt(t);let c=o.panel;for(;c!==null&&c!==this;)c.L.xt(t),c=c.panel}return this.ki!==null&&this.ki.xt(t),t.offset(-this.se.x,-this.se.y),t}jh(t,r){const o=r===void 0?this.EA:r,l=this.Ov(),u=l*2;if(!this.isShadowed)return o.e(t.x-1-l,t.y-1-l,t.width+2+u,t.height+2+u),o;let c=t.x,f=t.y,g=t.width,y=t.height;const b=this.shadowBlur,w=this.shadowOffset;return g+=b,y+=b,c-=b/2,f-=b/2,w.x>0?g+=w.x:(c+=w.x,g-=w.x),w.y>0?y+=w.y:(f+=w.y,y-=w.y),o.e(c-1,f-1,g+2,y+2),o}pv(){return this.type===re.Link&&this instanceof ye&&this.category==="Selection"&&this.adornedObject instanceof fe&&this.adornedPart.findMainElement()===this.adornedObject?this.adornedObject.strokeWidth:0}Ov(){return isNaN(this.Vp)&&(this.Vp=this.kA()),this.Vp}af(){this.Vp=NaN}zt(){if(this.es()===!1){this.VA();return}this.Qn(!1);const t=this.Ai,r=F.l();r.a(t);const o=this.Cl();this.hh(0,0,this.se.width,this.se.height);const l=this.position;this.zA(l,this.location),t.lt(),t.x=l.x,t.y=l.y,t.g(),this.ed(r,t),r.equals(t)?this.Us(o):this.Me()&&(!K.u(r.width,t.width)||!K.u(r.height,t.height))&&this.EM>=0&&this.invalidateLayout(16),F.s(r),this.K2(!1)}ed(t,r){const o=this.diagram;if(o===null)return;let l=!1;if(o.$h===!1&&t.isReal()){const u=F.l();u.a(o.documentBounds),u.subtractMargin(o.padding),t.x>u.x&&t.y>u.y&&t.right<u.right&&t.bottom<u.bottom&&r.x>u.x&&r.y>u.y&&r.right<u.right&&r.bottom<u.bottom&&(l=!0),F.s(u)}(this.Iv()===!0||!t.equals(r))&&this.ML(l,o),o.C(),!(!t.isReal()&&!r.isReal()||t.equalsApproxClose(r))&&(this instanceof Jt&&!o.undoManager.isUndoingRedoing&&this.invalidateConnectedLinks(),this.ah())}get location(){return this.js}set location(t){const r=t.x,o=t.y,l=this.js;(l.x!==r&&(!isNaN(l.x)||!isNaN(r))||l.y!==o&&(!isNaN(l.y)||!isNaN(o)))&&(t=t.copy(),this.Ev(t,l)&&this.t("location",l,t.copy()))}Ev(t,r){if(this.Ll())return!1;if(this.js=t,this.P|=2097152,this.es()===!1){this.e1();const o=this.st;if(o.isReal()){const l=this.diagram;if(l===null||l.animationManager.isTicking||!l.undoManager.isUndoingRedoing){const u=o.copy();o.e(o.x+(t.x-r.x),o.y+(t.y-r.y)),this.XA(l,o,u.x,u.y),this.t("position",u,o.copy())}}}return!0}f2(t,r,o){if(this.Ll()||!t.isReal())return!1;const l=this.diagram;if(l!==null&&this.XA(l,t,r,o),this.st=t,this.P&=-2097153,this.js.isReal()&&(l===null||l.animationManager.isTicking||!l.undoManager.isUndoingRedoing)){const u=this.js;this.js=new C(u.x+(t.x-r),u.y+(t.y-o)),this.t("location",u,this.js.copy())}return this.th()===!1&&this.es()===!1&&(this.e1(),this.VA()),!0}XA(t,r,o,l){if(t===null||this instanceof ye)return;const u=t.animationManager;u.xi&&u.qC(this,new C(o,l),r,!1)}wc(t,r,o){const l=this.js,u=this.st;if(o){if(l.x===t&&l.y===r)return;this.th()||this.es()?u.e(NaN,NaN):u.e(u.x+t-l.x,u.y+r-l.y),l.e(t,r)}else{if(u.x===t&&u.y===r)return;l.e(l.x+t-u.x,l.y+r-u.y),u.e(t,r)}this.e1()}u2(){this.P&=-2097153,this.e1()}zA(t,r){const o=this.gA(C.l()),l=this.diagram,u=r.isReal(),c=t.isReal();u&&c?this.P&2097152?this.KA(t,r,l,o):this.YA(t,r,l,o):u?this.KA(t,r,l,o):c&&this.YA(t,r,l,o),this.P|=2097152,C.s(o),this.td()}KA(t,r,o,l){const u=t.x,c=t.y;if(t.e(r.x-l.x,r.y-l.y),o!==null){const f=o.animationManager,g=f.defaultAnimation.isAnimating;!g&&f.xi&&!(this instanceof ye)&&f.qC(this,new C(u,c),t,!1),!g&&!(t.x===u&&t.y===c)&&this.t("position",new C(u,c),t.copy())}}YA(t,r,o,l){const u=r.copy();r.e(t.x+l.x,t.y+l.y),!r.equals(u)&&o!==null&&this.t("location",u,r.copy())}ML(t,r){this.s2(!1),this instanceof Jt&&r.IS(this),!this.layer.isTemporary&&!t&&r.invalidateDocumentBounds();const o=this.Ai,l=r.viewportBounds;l.isReal()?this.Cl()?(o.intersectsRectPlus(l,10)||this.Us(!1),this.updateAdornments()):this.isVisible()&&o.intersectsRect(l)?(this.Us(!0),this.updateAdornments()):this.invalidateAdornments():r.Oc=!0}qr(){return!0}Me(){return!0}Ll(){return!1}Xs(){return!0}hasPlaceholder(){return!1}get category(){return this.Ho}set category(t){const r=this.Ho;if(r===t)return;this.svg!==null&&(this.svg.remove(),this.ns(!0)),n.i(t,"string",an,"category");const o=this.diagram,l=this.data;let u=null;if(o!==null&&l!==null&&!(this instanceof ye)){const c=o.model.undoManager;c.isEnabled&&!c.isUndoingRedoing&&(u=this.clone(),u.T.addAll(this.T))}if(this.Ho=t,this.t("category",r,t),o!==null&&l!==null&&!(this instanceof ye)){const c=o.model;if(c.undoManager.isUndoingRedoing)return;if(this.Ll()){o.partManager.setLinkCategoryForData(l,t);const f=o.partManager.findLinkTemplateForCategory(t);if(f!==null){f.hi();const g=f.copy();g!==null&&this.Y2(g,r,t)}}else{c!==null&&c.setCategoryForNodeData(l,t);const f=o.partManager.findTemplateForNodeData(l,t);if(f!==null){f.hi();const g=f.copy();if(g!==null&&!(g instanceof se)){const y=this.location.copy();this.Y2(g,r,t),this.location.isReal()||(this.location=y)}}}if(u!==null){const f=this.clone();f.T.addAll(this.T),this.t("self",u,f)}}else if(this instanceof ye){const c=this.adornedPart;if(c!==null){const f=c.qo;f!==null&&f.delete(r),c.addAdornment(this.category,this)}}}get self(){return this}set self(t){this.Y2(t,this.category,t.category)}Y2(t,r,o){t.constructor!==this.constructor&&(an.GA||(an.GA=!0,n.ri('Should not change the class of the Part when changing category from "'+r+'" to "'+o+'"'),n.ri("  Old class: "+n.sn(this.constructor)+", new class: "+n.sn(t.constructor)+", part: "+this.toString()))),this.clearAdornments();const l=this.data,u=this.layerName,c=this.isSelected,f=this.isHighlighted;let g=!0,y=!0,b=!1;this instanceof Jt&&(g=this.isTreeLeaf,y=this.isTreeExpanded,b=this.wasTreeExpanded),t.Vo(this),t.cloneProtected(this),this.Ho=o,this.svg!==null&&(this.svg.remove(),this.svg=null,this.ns(!0)),this.c(),this.C();const w=this.diagram;let P=!0;w!==null&&(P=w.skipsUndoManager,w.skipsUndoManager=!0),this.Qt=l,this.P=c?this.P|4096:this.P&-4097,this.P=f?this.P|524288:this.P&-524289,this instanceof Jt&&(this.E=g?this.E|4:this.E&-5,this.E=y?this.E|1:this.E&-2,this.E=b?this.E|2:this.E&-3),l!==null&&this.updateTargetBindings();const E=this.layerName;E!==u&&(this.hl=u,this.layerName=E),w!==null&&(w.skipsUndoManager=P),this.Me()&&this.invalidateLayout(64)}canCopy(){if(!this.copyable)return!1;const t=this.layer;if(t===null)return!0;if(!t.allowCopy)return!1;const r=t.diagram;return r===null?!0:!!r.allowCopy}canDelete(){if(!this.deletable)return!1;const t=this.layer;if(t===null)return!0;if(!t.allowDelete)return!1;const r=t.diagram;return r===null?!0:!!r.allowDelete}canEdit(){if(!this.textEditable)return!1;const t=this.layer;if(t===null)return!0;if(!t.allowTextEdit)return!1;const r=t.diagram;return r===null?!0:!!r.allowTextEdit}canGroup(){if(!this.groupable)return!1;const t=this.layer;if(t===null)return!0;if(!t.allowGroup)return!1;const r=t.diagram;return r===null?!0:!!r.allowGroup}canMove(){if(!this.movable)return!1;const t=this.layer;if(t===null)return!0;if(!t.allowMove)return!1;const r=t.diagram;return r===null?!0:!!r.allowMove}canReshape(){if(!this.reshapable)return!1;const t=this.layer;if(t===null)return!0;if(!t.allowReshape)return!1;const r=t.diagram;return r===null?!0:!!r.allowReshape}canResize(){if(!this.resizable)return!1;const t=this.layer;if(t===null)return!0;if(!t.allowResize)return!1;const r=t.diagram;return r===null?!0:!!r.allowResize}canRotate(){if(!this.rotatable)return!1;const t=this.layer;if(t===null)return!0;if(!t.allowRotate)return!1;const r=t.diagram;return r===null?!0:!!r.allowRotate}canSelect(){if(!this.selectable)return!1;const t=this.layer;if(t===null)return!0;if(!t.allowSelect)return!1;const r=t.diagram;return r===null?!0:!!r.allowSelect}get copyable(){return(this.P&1)!==0}set copyable(t){const r=(this.P&1)!==0;r!==t&&(this.P=this.P^1,this.t("copyable",r,t))}get deletable(){return(this.P&2)!==0}set deletable(t){const r=(this.P&2)!==0;r!==t&&(this.P=this.P^2,this.t("deletable",r,t))}get textEditable(){return(this.P&4)!==0}set textEditable(t){const r=(this.P&4)!==0;r!==t&&(this.P=this.P^4,this.t("textEditable",r,t),this.invalidateAdornments())}get groupable(){return(this.P&8)!==0}set groupable(t){const r=(this.P&8)!==0;r!==t&&(this.P=this.P^8,this.t("groupable",r,t))}get movable(){return(this.P&16)!==0}set movable(t){const r=(this.P&16)!==0;r!==t&&(this.P=this.P^16,this.t("movable",r,t))}get selectionAdorned(){return(this.P&32)!==0}set selectionAdorned(t){const r=(this.P&32)!==0;r!==t&&(this.P=this.P^32,this.t("selectionAdorned",r,t),this.invalidateAdornments())}get isInDocumentBounds(){return(this.P&64)!==0}set isInDocumentBounds(t){const r=(this.P&64)!==0;if(r!==t){this.P=this.P^64;const o=this.diagram;o!==null&&o.invalidateDocumentBounds(),this.t("isInDocumentBounds",r,t)}}get isLayoutPositioned(){return(this.P&128)!==0}set isLayoutPositioned(t){const r=(this.P&128)!==0;r!==t&&(this.P=this.P^128,this.t("isLayoutPositioned",r,t),this.invalidateLayout(t?4:8))}get selectable(){return(this.P&256)!==0}set selectable(t){const r=(this.P&256)!==0;r!==t&&(this.P=this.P^256,this.t("selectable",r,t),this.invalidateAdornments())}get reshapable(){return(this.P&512)!==0}set reshapable(t){const r=(this.P&512)!==0;r!==t&&(this.P=this.P^512,this.t("reshapable",r,t),this.invalidateAdornments())}get resizable(){return(this.P&1024)!==0}set resizable(t){const r=(this.P&1024)!==0;r!==t&&(this.P=this.P^1024,this.t("resizable",r,t),this.invalidateAdornments())}get rotatable(){return(this.P&2048)!==0}set rotatable(t){const r=(this.P&2048)!==0;r!==t&&(this.P=this.P^2048,this.t("rotatable",r,t),this.invalidateAdornments())}get isSelected(){return(this.P&4096)!==0}set isSelected(t){const r=(this.P&4096)!==0;if(r!==t){const o=this.diagram;if(t){if(!this.canSelect())return;if(o!==null){const c=o.maxSelectionCount;if(o.selection.count>=c)return}}this.P=this.P^4096;let l=!1;if(o!==null){l=o.skipsUndoManager,o.skipsUndoManager=!0;const c=o.selection;c.lt(),t?c.add(this):c.delete(this),c.g()}this.t("isSelected",r,t),this.invalidateAdornments();const u=this.selectionChanged;u!==null&&u(this),o!==null&&(o.requestUpdate(),o.skipsUndoManager=l)}}get isHighlighted(){return(this.P&524288)!==0}set isHighlighted(t){const r=(this.P&524288)!==0;if(r!==t){this.P=this.P^524288;const o=this.diagram;if(o!==null){const u=o.highlighteds;u.lt(),t?u.add(this):u.delete(this),u.g()}this.t("isHighlighted",r,t),this.C();const l=this.highlightedChanged;l!==null&&l(this)}}get isShadowed(){return(this.P&8192)!==0}set isShadowed(t){const r=(this.P&8192)!==0;r!==t&&(this.P=this.P^8192,this.ns(!0),this.t("isShadowed",r,t),this.C())}UA(){return(this.P&16384)!==0}BA(t){t?this.P|=16384:this.P&=-16385}th(){return(this.P&32768)!==0}K2(t){t?this.P|=32768:this.P&=-32769}Iv(){return(this.P&65536)!==0}s2(t){t?this.P|=65536:this.P&=-65537}Cl(){return(this.P&131072)!==0}Us(t){t?this.P|=131072:this.P&=-131073}jA(){return(this.P&1048576)!==0}s1(t){t?this.P|=1048576:this.P&=-1048577}get isAnimated(){return(this.P&262144)!==0}set isAnimated(t){const r=(this.P&262144)!==0;r!==t&&(this.P=this.P^262144,this.t("isAnimated",r,t))}get highlightedChanged(){return this.F!==null?this.F.jp:null}set highlightedChanged(t){const r=this.highlightedChanged;r!==t&&(t!==null&&n.i(t,"function",an,"highlightedChanged"),this.qi(),this.F.jp=t,this.t("highlightedChanged",r,t))}get selectionObjectName(){return this.F!==null?this.F.Hp:""}set selectionObjectName(t){const r=this.selectionObjectName;r!==t&&(this.qi(),this.F.Hp=t,this.al=null,this.t("selectionObjectName",r,t))}get selectionAdornmentTemplate(){return this.F!==null?this.F.qp:null}set selectionAdornmentTemplate(t){const r=this.selectionAdornmentTemplate;r!==t&&(this.qi(),this.F.qp=t,this.t("selectionAdornmentTemplate",r,t))}get selectionObject(){if(this.al===null){const t=this.selectionObjectName;if(t!==null&&t!==""){const r=this.findObject(t);r!==null?this.al=r:this.al=this}else if(this instanceof se){const r=this.path;r!==null?this.al=r:this.al=this}else this.al=this}return this.al}get selectionChanged(){return this.F!==null?this.F.Wp:null}set selectionChanged(t){const r=this.selectionChanged;r!==t&&(t!==null&&n.i(t,"function",an,"selectionChanged"),this.qi(),this.F.Wp=t,this.t("selectionChanged",r,t))}get resizeAdornmentTemplate(){return this.F!==null?this.F.Jp:null}set resizeAdornmentTemplate(t){const r=this.resizeAdornmentTemplate;r!==t&&(this.qi(),this.F.Jp=t,this.t("resizeAdornmentTemplate",r,t))}get resizeObjectName(){return this.F!==null?this.F.$p:""}set resizeObjectName(t){const r=this.resizeObjectName;r!==t&&(this.qi(),this.F.$p=t,this.t("resizeObjectName",r,t))}get resizeObject(){const t=this.resizeObjectName;if(t!==""){const r=this.findObject(t);if(r!==null)return r}return this}get resizeCellSize(){return this.F!==null?this.F.Zp:z.gw}set resizeCellSize(t){const r=this.resizeCellSize;r.equals(t)||(t=t.N(),this.qi(),this.F.Zp=t,this.t("resizeCellSize",r,t))}get rotateAdornmentTemplate(){return this.F!==null?this.F.Qp:null}set rotateAdornmentTemplate(t){const r=this.rotateAdornmentTemplate;r!==t&&(this.qi(),this.F.Qp=t,this.t("rotateAdornmentTemplate",r,t))}get rotateObjectName(){return this.F!==null?this.F._p:""}set rotateObjectName(t){const r=this.rotateObjectName;r!==t&&(this.qi(),this.F._p=t,this.t("rotateObjectName",r,t))}get rotateObject(){const t=this.rotateObjectName;if(t!==""){const r=this.findObject(t);if(r!==null)return r}return this}get rotationSpot(){return this.F!==null?this.F.ty:U.Default}set rotationSpot(t){const r=this.rotationSpot;r.equals(t)||(t=t.N(),this.qi(),this.F.ty=t,this.t("rotationSpot",r,t))}get text(){return this.ai}set text(t){const r=this.ai;r!==t&&(this.ai=t,this.t("text",r,t))}get containingGroup(){return this.mh}set containingGroup(t){if(this.Me()){const r=this.mh;if(r!==t){t!==null&&(this===t||t.isMemberOf(this))&&(this===t&&n.o("Cannot make a Group a member of itself: "+this.toString()),n.o("Cannot make a Group indirectly contain itself: "+this.toString()+" already contains "+t.toString())),this.invalidateLayout(2);const o=this.diagram;if(r!==null?r.G2(this):this instanceof Ut&&o!==null&&o.Yr.delete(this),this.mh=t,t!==null?t.j2(this):this instanceof Ut&&o!==null&&o.Yr.add(this),this.invalidateLayout(1),o!==null&&o.G){const u=this.data,c=o.model;if(u!==null&&c.jc()){const f=t!==null?t.data:null;c.setGroupForData(u,c.getKeyForNodeData(f))}}const l=this.containingGroupChanged;if(l!==null){let u=!0;o!==null&&(u=o.G,o.G=!0),l(this,r,t),o!==null&&(o.G=u)}if(this instanceof Ut){const u=new M;an.sh(u,this,!0,0,!0);const c=u.iterator;for(;c.next();){const f=c.value;if(f instanceof Jt){const g=f.linksConnected;for(;g.next();)g.value.Ad()}}}if(this instanceof Jt){const u=this.linksConnected;for(;u.next();)u.value.Ad();const c=this.labeledLink;c!==null&&c.Ad()}this.t("containingGroup",r,t),t!==null&&t.vv()}}else n.o("cannot set the Part.containingGroup of a Link or Adornment")}ah(){const t=this.containingGroup;t!==null&&(t.hasPlaceholder()&&t.placeholder.c(),t.c(),t.invalidateConnectedLinks())}C(){const t=this.diagram;t!==null&&!this.es()&&!this.th()&&this.isVisible()&&this.Ai.isReal()&&t.C(this.jh(this.Ai))}c(){if(this.Oo())return;super.c();const t=this.diagram;t!==null&&(t.r0(this),this instanceof Jt&&this.labeledLink!==null&&this.labeledLink.tf(),t.requestUpdate(!0))}tf(t){if(this.es())return;const r=this.diagram;r!==null&&(r.r0(this),this instanceof Jt&&this.invalidateConnectedLinks(),r.requestUpdate()),this.Qn(!0)}Um(t){if(!t){const r=this.mh;r!==null&&r.j2(this)}}Bm(t){if(!t){const r=this.mh;r!==null&&r.G2(this)}}zc(){const t=this.data;if(t!==null){const r=this.diagram;if(r!==null){const o=r.model;o!==null&&o.removeNodeData(t)}}}get containingGroupChanged(){return this.F!==null?this.F.iy:null}set containingGroupChanged(t){const r=this.containingGroupChanged;r!==t&&(t!==null&&n.i(t,"function",an,"containingGroupChanged"),this.qi(),this.F.iy=t,this.t("containingGroupChanged",r,t))}findSubGraphLevel(){return this.H2(this)}H2(t){const r=t.containingGroup;if(r!==null)return 1+this.H2(r);if(t instanceof Jt){const o=t.labeledLink;if(o!==null)return this.H2(o)}return 0}findTopLevelPart(){return this.q2(this)}q2(t){const r=t.containingGroup;if(r!==null)return this.q2(r);if(t instanceof Jt){const o=t.labeledLink;if(o!==null)return this.q2(o)}return t}get isTopLevel(){return!(this.containingGroup!==null||this instanceof Jt&&this.labeledLink!==null)}isMemberOf(t){return t instanceof Ut?this.W2(this,t):!1}W2(t,r){if(t===r||r===null)return!1;const o=t.containingGroup;if(o!==null&&(o===r||this.W2(o,r)))return!0;if(t instanceof Jt){const l=t.labeledLink;if(l!==null)return this.W2(l,r)}return!1}findCommonContainingGroup(t){if(t===null)return null;if(this===t)return this.containingGroup;let r=this;for(;r!==null;){if(r instanceof Ut&&r.s1(!0),r instanceof Jt){const l=r.labeledLink;l!==null&&(r=l)}r=r.containingGroup}let o=null;for(r=t;r!==null;){if(r.jA()){o=r;break}if(r instanceof Jt){const l=r.labeledLink;l!==null&&(r=l)}r=r.containingGroup}for(r=this;r!==null;){if(r instanceof Ut&&r.s1(!1),r instanceof Jt){const l=r.labeledLink;l!==null&&(r=l)}r=r.containingGroup}return o}get layoutConditions(){return this.F!==null?this.F.ey:127}set layoutConditions(t){const r=this.layoutConditions;r!==t&&(this.qi(),this.F.ey=t,this.t("layoutConditions",r,t))}canLayout(){if(!this.isLayoutPositioned||!this.isVisible())return!1;const t=this.layer;return!(t!==null&&t.isTemporary||this instanceof Jt&&this.isLinkLabel)}Uv(t){if(!this.isLayoutPositioned||!(t&this.layoutConditions))return!1;const r=this.layer;if(r!==null&&r.isTemporary||this instanceof Jt&&this.isLinkLabel)return!1;const o=this.diagram;return!(o!==null&&o.undoManager.isUndoingRedoing)}invalidateLayout(t){if(t===void 0&&(t=16777215),!this.Uv(t))return;const r=this.mh;if(r!==null){const o=r.layout;o!==null?o.invalidateLayout():r.invalidateLayout(t)}else{const o=this.diagram;if(o!==null){const l=o.layout;l!==null&&l.invalidateLayout()}}}SL(){if(!this.isVisible())return!1;const t=this.layer;return!(t!==null&&t.isTemporary)}static sh(t,r,o,l,u,c){if(c===void 0&&(c=null),!t.has(r)&&!(c!==null&&!c(r))&&!(r instanceof ye)){if(t.add(r),r instanceof Jt){if(o&&r instanceof Ut){const f=r.memberParts;for(;f.next();){const g=f.value;an.sh(t,g,o,l,u,c)}}if(u!==!1){const f=r.linksConnected;for(;f.next();){const g=f.value;if(t.has(g))continue;const y=g.fromNode,b=g.toNode,w=y===null||t.has(y),P=b===null||t.has(b);(u?w&&P:w||P)&&an.sh(t,g,o,l,u,c)}}if(l>1){const f=r.findTreeChildrenNodes();for(;f.next();){const g=f.value;an.sh(t,g,o,l-1,u,c)}}}else if(r instanceof se){const f=r.labelNodes;for(;f.next();){const g=f.value;an.sh(t,g,o,l,u,c)}}}}get dragComputation(){return this.F!==null?this.F.sy:null}set dragComputation(t){const r=this.dragComputation;r!==t&&(t!==null&&n.i(t,"function",an,"dragComputation"),this.qi(),this.F.sy=t,this.t("dragComputation",r,t))}get shadowOffset(){return this.F!==null?this.F.ny:C.QN}set shadowOffset(t){const r=this.shadowOffset;r.equals(t)||(t=t.N(),this.qi(),this.F.ny=t,this.C(),this.t("shadowOffset",r,t))}get shadowColor(){return this.F!==null?this.F.oy:"gray"}set shadowColor(t){const r=this.shadowColor;r!==t&&(this.qi(),this.F.oy=t,this.C(),this.t("shadowColor",r,t))}get shadowBlur(){return this.F!==null?this.F.xn:4}set shadowBlur(t){const r=this.shadowBlur;r!==t&&(this.qi(),this.F.xn=t,this.C(),this.t("shadowBlur",r,t))}};T(an,"LayoutNone",0),T(an,"LayoutAdded",1),T(an,"LayoutRemoved",2),T(an,"LayoutShown",4),T(an,"LayoutHidden",8),T(an,"LayoutNodeSized",16),T(an,"LayoutGroupLayout",32),T(an,"LayoutNodeReplaced",64),T(an,"LayoutStandard",127),T(an,"LayoutAll",16777215),T(an,"GA",!1);let Le=an;class $n{constructor(){T(this,"mi");T(this,"zp");T(this,"iy");T(this,"qp");T(this,"Hp");T(this,"Wp");T(this,"jp");T(this,"Jp");T(this,"$p");T(this,"Zp");T(this,"Qp");T(this,"_p");T(this,"ty");T(this,"Yp");T(this,"Gp");T(this,"Xp");T(this,"Kp");T(this,"sy");T(this,"ey");T(this,"ny");T(this,"oy");T(this,"xn");this.mi=!1,this.zp=null,this.iy=null,this.qp=null,this.Hp="",this.Wp=null,this.jp=null,this.Jp=null,this.$p="",this.Zp=z.gw,this.Qp=null,this._p="",this.ty=U.Default,this.Yp="",this.Gp=U.TopLeft,this.Xp=C.$N,this.Kp=C.ZN,this.sy=null,this.ey=127,this.ny=C.QN,this.oy="gray",this.xn=4}copy(){const i=new $n;return i.zp=this.zp,i.iy=this.iy,i.qp=this.qp,i.Hp=this.Hp,i.Wp=this.Wp,i.jp=this.jp,i.Jp=this.Jp,i.$p=this.$p,i.Zp=this.Zp.N(),i.Qp=this.Qp,i._p=this._p,i.ty=this.ty.N(),i.Yp=this.Yp,i.Gp=this.Gp.N(),i.Xp=this.Xp.N(),i.Kp=this.Kp.N(),i.sy=this.sy,i.ey=this.ey,i.ny=this.ny.N(),i.oy=this.oy,i.xn=this.xn,i}}class ye extends Le{constructor(t,r){let o;t===void 0||t instanceof Ee||typeof t=="string"?o=t:t&&(r=t);super(o);T(this,"ds");T(this,"It");T(this,"WP");T(this,"JP");T(this,"lf");this.P&=-257,this.hl="Adornment",this.ds=null,this.WP=0,this.JP=!1,this.It=null,this.lf=null,r&&Object.assign(this,r)}toString(){const t=this.adornedPart;return"Adornment("+this.category+")"+(t!==null?t.toString():"")}updateRelationshipsFromData(){}ad(t){const r=this.adornedObject,o=r==null?void 0:r.part;if(!(o instanceof se)||!(r instanceof fe))return;const l=o.path;let u=l.geometry;o.ad(t),u=l.geometry;const c=this.T.r,f=c.length;for(let g=0;g<f;g++){const y=c[g];y.isPanelMain&&y instanceof fe&&(y.ft=u)}}hasPlaceholder(){return this.It!==null&&this.It.isVisibleObject()}get placeholder(){return this.It}get adornedObject(){return this.ds}set adornedObject(t){const r=this.adornedPart;let o=null;t!==null&&(o=t.part),r!==null&&(t===null||r!==o)&&r.removeAdornment(this.category),this.ds=t,o!==null&&o.addAdornment(this.category,this)}get adornedPart(){const t=this.ds;return t!==null?t.part:null}qr(){const t=this.ds;if(t===null)return!0;const r=t.part;return r===null||!r.es()}Me(){return!1}get containingGroup(){return null}Wc(t,r,o,l,u,c,f){if(t===3&&r==="elements"){if(u instanceof zn)this.It===null&&(this.It=u);else if(u instanceof re){const g=u.findInVisualTree(y=>y instanceof zn);g instanceof zn&&this.It===null&&(this.It=g)}}else t===4&&r==="elements"&&this.It!==null&&(l===this.It?this.It=null:l instanceof re&&this.It.isContainedBy(l)&&(this.It=null));super.Wc(t,r,o,l,u,c,f)}updateAdornments(){}zc(){}}var ms=(W=>(W[W.None=0]="None",W[W.Evenly=1]="Evenly",W[W.Packed=2]="Packed",W))(ms||{});const wr=class wr extends Le{constructor(t,r){let o;t===void 0||t instanceof Ee||typeof t=="string"?o=t:t&&(r=t);super(o);T(this,"E");T(this,"gt");T(this,"bf");T(this,"cl");T(this,"ph");T(this,"ne");T(this,"_t");this.E=13,this.gt=null,this._t=new x,this.bf=null,this.cl=null,this.ne=null,this.ph=!1,r&&Object.assign(this,r)}cloneProtected(t){super.cloneProtected(t),t.E=this.E,this.gt!==null&&(this.gt.mi?t.gt=this.gt:t.gt=this.gt.copy())}Vo(t){super.Vo(t),t.invalidateConnectedLinks(),t.cl=this.cl,t.ne=null}fl(){this.gt===null?this.gt=new va:this.gt.mi&&(this.gt=this.gt.copy())}rh(){super.rh(),this.gt!==null&&(this.gt.mi=!0)}HA(t){t!==null&&(this.cl===null&&(this.cl=new M),this.cl.add(t))}qA(t){t!==null&&this.cl!==null&&this.cl.delete(t)}WA(t,r,o){if(t===null||this.cl===null)return null;const l=this.cl.iterator;for(;l.next();){const u=l.value;if(u.ry===this&&u.o1===t&&u.J2===r&&u.$2===o||u.ry===t&&u.o1===this&&u.J2===o&&u.$2===r)return u}return null}invalidateLinkBundle(t,r,o){r==null&&(r=""),o==null&&(o="");const l=this.WA(t,r,o);l!==null&&l.Td()}Wc(t,r,o,l,u,c,f){t===3&&r==="elements"?this.ne=null:t===4&&r==="elements"&&(this.ne=null),super.Wc(t,r,o,l,u,c,f)}invalidateConnectedLinks(t){const r=this.linksConnected;for(;r.next();){const o=r.value;t!==void 0&&t.has(o)||(this.me(o.fromPort),this.me(o.toPort),o.invalidateRoute())}}_L(t){const r=this.linksConnected;for(;r.next();){const o=r.value;o.fromPort!==t&&o.toPort!==t||(this.me(o.fromPort),this.me(o.toPort),o.invalidateRoute())}}me(t){if(t===null)return;const r=t.$u;r!==null&&r.Td();const o=t.part,l=o.containingGroup;l!==null&&!o.isVisible()&&l.me(l.port)}qr(){return!0}get portSpreading(){return this.gt!==null?this.gt.ly:1}set portSpreading(t){const r=this.portSpreading;if(r!==t){this.fl(),this.gt.ly=t,this.t("portSpreading",r,t);const o=this.diagram;if(o!==null&&o.undoManager.isUndoingRedoing)return;this.invalidateConnectedLinks()}}get avoidable(){return(this.E&8)!==0}set avoidable(t){const r=(this.E&8)!==0;if(r!==t){this.E=this.E^8;const o=this.diagram;o!==null&&o.IS(this),this.t("avoidable",r,t)}}get avoidableMargin(){return this.gt!==null?this.gt.hy:Y.oC}set avoidableMargin(t){typeof t=="number"&&(t=new Y(t));const r=this.avoidableMargin;if(!r.equals(t)){t=t.N(),this.fl(),this.gt.hy=t;const o=this.diagram;o!==null&&o.IS(this),this.t("avoidableMargin",r,t)}}canAvoid(){return this.avoidable&&!this.isLinkLabel}getAvoidableRect(t){return t.set(this.actualBounds),t.addMargin(this.avoidableMargin),t}findVisibleNode(){let t=this;for(;t!==null&&!t.isVisible();)t=t.containingGroup;return t}isVisible(){if(!super.isVisible())return!1;let t=!0,r=1;const o=this.diagram;if(o!==null){if(o.animationManager.sx(this))return!0;t=o.isTreePathToChildren,r=o.treeCollapsePolicy}if(r===1){const u=this.findTreeParentNode();if(u!==null&&!u.isTreeExpanded)return!1}else if(r===2){const u=t?this.findLinksInto():this.findLinksOutOf();let c=!1,f=!1;for(;u.next();){const g=u.value;if(g.isTreeLink){c=!0;const y=t?g.fromNode:g.toNode;if(y&&y.isTreeExpanded){f=!0;break}}}if(c&&!f)return!1}else if(r===3){const u=t?this.findLinksInto():this.findLinksOutOf();let c=!1,f=!1;for(;u.next();){const g=u.value;if(g.isTreeLink){c=!0;const y=t?g.fromNode:g.toNode;if(y&&!y.isTreeExpanded){f=!0;break}}}if(c&&f)return!1}const l=this.labeledLink;return l!==null?l.isVisible():!0}Ei(t){super.Ei(t);const r=this.linksConnected;for(;r.next();){const o=r.value;if(t&&this.containingGroup!==null){const l=o.getOtherNode(this);l!==null&&!l.isMemberOf(this.containingGroup)&&o.invalidateRoute()}o.Ei(t)}}get linksConnected(){return this._t.iterator}findExternalTreeLinksConnected(){const t=new M,r=new M;return this.JA(this,t,r),r.iterator}JA(t,r,o){if(t===null||r.has(t))return;r.add(t);let l=!0;const u=this.diagram;u!==null&&(l=u.isTreePathToChildren),t.linksConnected.each(c=>{c.isTreeLink?(l?c.fromNode===t:c.toNode===t)&&this.JA(l?c.toNode:c.fromNode,r,o):o.add(c)})}findLinksConnected(t){if(t===void 0&&(t=null),t===null)return this._t.iterator;const r=new p(this._t),o=this;return r.predicate=l=>l.fromNode===o&&l.fromPortId===t||l.toNode===o&&l.toPortId===t,r}findLinksOutOf(t){t===void 0&&(t=null);const r=new p(this._t),o=this;return r.predicate=l=>l.fromNode!==o?!1:t===null?!0:l.fromPortId===t,r}findLinksInto(t){t===void 0&&(t=null);const r=new p(this._t),o=this;return r.predicate=l=>l.toNode!==o?!1:t===null?!0:l.toPortId===t,r}findNodesConnected(t){t===void 0&&(t=null);let r=null,o=null;const l=this._t.iterator;for(;l.next();){const u=l.value;if(u.fromNode===this){if(t===null||u.fromPortId===t){const c=u.toNode;r!==null?r.add(c):o!==null&&o!==c?(r=new M,r.add(o),r.add(c)):o=c}}else if(u.toNode===this&&(t===null||u.toPortId===t)){const c=u.fromNode;r!==null?r.add(c):o!==null&&o!==c?(r=new M,r.add(o),r.add(c)):o=c}}return r!==null?r.iterator:o!==null?new d(o):h.instance}findNodesOutOf(t){t===void 0&&(t=null);let r=null,o=null;const l=this._t.iterator;for(;l.next();){const u=l.value;if(u.fromNode===this&&(t===null||u.fromPortId===t)){const c=u.toNode;r!==null?r.add(c):o!==null&&o!==c?(r=new M,r.add(o),r.add(c)):o=c}}return r!==null?r.iterator:o!==null?new d(o):h.instance}findNodesInto(t){t===void 0&&(t=null);let r=null,o=null;const l=this._t.iterator;for(;l.next();){const u=l.value;if(u.toNode===this&&(t===null||u.toPortId===t)){const c=u.fromNode;r!==null?r.add(c):o!==null&&o!==c?(r=new M,r.add(o),r.add(c)):o=c}}return r!==null?r.iterator:o!==null?new d(o):h.instance}findLinksBetween(t,r,o){r===void 0&&(r=null),o===void 0&&(o=null);const l=new p(this._t),u=this;return l.predicate=c=>c.fromNode===u&&c.toNode===t&&(r===null||c.fromPortId===r)&&(o===null||c.toPortId===o)||c.fromNode===t&&c.toNode===u&&(o===null||c.fromPortId===o)&&(r===null||c.toPortId===r),l}findLinksTo(t,r,o){r===void 0&&(r=null),o===void 0&&(o=null);const l=new p(this._t),u=this;return l.predicate=c=>!(c.fromNode!==u||c.toNode!==t||r!==null&&c.fromPortId!==r||o!==null&&c.toPortId!==o),l}get linkConnected(){return this.gt!==null?this.gt.ay:null}set linkConnected(t){const r=this.linkConnected;r!==t&&(t!==null&&n.i(t,"function",wr,"linkConnected"),this.fl(),this.gt.ay=t,this.t("linkConnected",r,t))}get linkDisconnected(){return this.gt!==null?this.gt.cy:null}set linkDisconnected(t){const r=this.linkDisconnected;r!==t&&(t!==null&&n.i(t,"function",wr,"linkDisconnected"),this.fl(),this.gt.cy=t,this.t("linkDisconnected",r,t))}get linkValidation(){return this.gt!==null?this.gt.Nl:null}set linkValidation(t){const r=this.linkValidation;r!==t&&(t!==null&&n.i(t,"function",wr,"linkValidation"),this.fl(),this.gt.Nl=t,this.t("linkValidation",r,t))}l1(t,r){this.me(r);const o=this._t.has(t);if(o||this._t.add(t),!o||t.fromNode===t.toNode){const l=this.linkConnected;if(l!==null){let u=!0;const c=this.diagram;c!==null&&(u=c.G,c.G=!0),l(this,t,r),c!==null&&(c.G=u)}}if(!o){if(!t.isTreeLink)return;const l=t.fromNode,u=t.toNode;if(l!==null&&u!==null&&l!==u){let c=!0;const f=this.diagram;f!==null&&(c=f.isTreePathToChildren);const g=c?u:l,y=c?l:u;if(g.ph||(g.ph=y),y.isTreeLeaf){if(f!==null&&f.undoManager.isUndoingRedoing)return;c?l===y&&(y.isTreeLeaf=!1):u===y&&(y.isTreeLeaf=!1)}}}}h1(t,r){this.me(r);const o=this._t.delete(t);let l=null;if(o||t.toNode===t.fromNode){const u=this.linkDisconnected;if(l=this.diagram,u!==null){let c=!0;l!==null&&(c=l.G,l.G=!0),u(this,t,r),l!==null&&(l.G=c)}}if(o){if(!t.isTreeLink)return;let u=!0;l!==null&&(u=l.isTreePathToChildren);const c=u?t.toNode:t.fromNode,f=u?t.fromNode:t.toNode;if(c!==null&&(c.ph=!1),f!==null&&!f.isTreeLeaf)if(f._t.count===0){if(f.ph=null,l!==null&&l.undoManager.isUndoingRedoing)return;f.isTreeLeaf=!0}else f.u0()}}u0(){if(this.ph=!1,this._t.count===0)return;let t=!0;const r=this.diagram;if(r!==null&&r.undoManager.isUndoingRedoing)return;r!==null&&(t=r.isTreePathToChildren);const o=this._t.iterator;for(;o.next();){const l=o.value;if(l.isTreeLink){if(t){if(l.fromNode===this){this.isTreeLeaf=!1;return}}else if(l.toNode===this){this.isTreeLeaf=!1;return}}}this.isTreeLeaf=!0}updateRelationshipsFromData(){const t=this.diagram;t!==null&&t.partManager.updateRelationshipsFromData(this)}Um(t){if(super.Um(t),!t){this.u0();const r=this.bf;r!==null&&r.$A(this)}}Bm(t){if(super.Bm(t),!t){const r=this.bf;r!==null&&r.ZA(this)}}zc(){if(this._t.count>0){const t=this.diagram;if(t!==null){const r=t.commandHandler!==null?t.commandHandler.deletesConnectedLinks:!0,o=this._t.copy().iterator;for(;o.next();){const l=o.value;r?t.remove(l):(l.fromNode===this&&(l.fromNode=null),l.toNode===this&&(l.toNode=null))}}}this.labeledLink=null,super.zc()}get isLinkLabel(){return this.bf!==null}get labeledLink(){return this.bf}set labeledLink(t){const r=this.bf;if(r!==t){const o=this.diagram,l=this.data;if(r!==null){if(r.ZA(this),o!==null&&l!==null&&!o.undoManager.isUndoingRedoing){const u=r.data,c=o.model;if(u!==null&&c.La()){const f=c.getKeyForNodeData(l);f!==void 0&&c.removeLabelKeyForLinkData(u,f)}}this.containingGroup=null}if(this.bf=t,t!==null){if(t.$A(this),o!==null&&l!==null&&!o.undoManager.isUndoingRedoing){const u=t.data,c=o.model;if(u!==null&&c.La()){const f=c.getKeyForNodeData(l);f!==void 0&&c.addLabelKeyForLinkData(u,f)}}this.containingGroup=t.containingGroup}this.tf(),this.t("labeledLink",r,t)}}findVisiblePort(t){let r=t;for(;r!==null&&(!r.actualBounds.isReal()||!r.isVisibleObject());)r=r.panel;return r===null?this.port:r}findPort(t){if(this.ne===null){if(t===""&&this.wn===!1)return this;this.QA()}let r=this.ne.get(t);return r!==null||t!==""&&(r=this.ne.get(""),r!==null)?r:this}get port(){return this.findPort("")}get ports(){return this.ne===null&&this.QA(),this.ne.iteratorValues}QA(){this.ne===null?this.ne=new V:this.ne.clear(),this.walkVisualTreeFrom(this,(t,r)=>t.lA(r)),this.ne.count===0&&this.ne.set("",this)}lA(t){const r=t.portId;r!==null&&this.ne!==null&&this.ne.set(r,t)}d2(t,r){const o=t.portId;if(o!==null){this.ne!==null&&this.ne.delete(o);const l=this.diagram;if(l!==null&&r){let u=null;const c=this.findLinksConnected(o);for(;c.next();){const f=c.value;u===null&&(u=n.rt()),u.push(f)}if(u!==null){for(let f=0;f<u.length;f++){const g=u[f];l.remove(g)}n.it(u)}}}}isInTreeOf(t){if(t===null||t===this)return!1;let r=!0;const o=this.diagram;o!==null&&(r=o.isTreePathToChildren);let l=this;const u=t;let c;if(r)for(;l!==u;){c=null;const f=l._t.iterator;for(;f.next();){const g=f.value;if(g.isTreeLink&&(c=g.fromNode,c!==l&&c!==this))break}if(c===this||c===null||c===l)return!1;l=c}else for(;l!==u;){c=null;const f=l._t.iterator;for(;f.next();){const g=f.value;if(g.isTreeLink&&(c=g.toNode,c!==l&&c!==this))break}if(c===this||c===null||c===l)return!1;l=c}return!0}findTreeRoot(){let t=!0;const r=this.diagram;r!==null&&(t=r.isTreePathToChildren);let o=this,l;if(t)for(;;){l=null;const u=o._t.iterator;for(;u.next();){const c=u.value;if(c.isTreeLink&&(l=c.fromNode,l!==o&&l!==this))break}if(l===this)return this;if(l===null||l===o)return o;o=l}else for(;;){l=null;const u=o._t.iterator;for(;u.next();){const c=u.value;if(c.isTreeLink&&(l=c.toNode,l!==o&&l!==this))break}if(l===this)return this;if(l===null||l===o)return o;o=l}}findCommonTreeParent(t){if(t===null)return null;if(this===t)return this;let r=this;for(;r!==null;)r.s1(!0),r=r.findTreeParentNode();let o=null;for(r=t;r!==null;){if(r.jA()){o=r;break}r=r.findTreeParentNode()}for(r=this;r!==null;)r.s1(!1),r=r.findTreeParentNode();return o}findTreeParentLink(){let t=!0;const r=this.diagram;r!==null&&(t=r.isTreePathToChildren);const o=this._t.iterator;if(t)for(;o.next();){const l=o.value;if(l.isTreeLink&&l.fromNode!==this)return l}else for(;o.next();){const l=o.value;if(l.isTreeLink&&l.toNode!==this)return l}return null}findTreeParentNode(){const t=this.ph;if(t===null)return null;if(t instanceof wr)return t;const r=this.diagram,o=r!==null?r.isTreePathToChildren:!0,l=this._t.iterator;for(;l.next();){const u=l.value;if(!u.isTreeLink)continue;const c=o?u.fromNode:u.toNode;if(c!==this)return this.ph=c,c}return this.ph=null,null}findTreeParentChain(){function t(o,l){l.add(o);const u=o.findTreeParentLink();if(u!==null){l.add(u);const c=o.findTreeParentNode();if(c===null)return;t(c,l)}}const r=new M;return t(this,r),r}findTreeLevel(){return this.Bv(this)}Bv(t){let r=0,o=t.findTreeParentNode();for(;o!==null&&o!==t;)o=o.findTreeParentNode(),r++;return r}findTreeChildrenLinks(){let t=!0;const r=this.diagram;r!==null&&(t=r.isTreePathToChildren);const o=new p(this._t),l=this;return t?o.predicate=u=>!(!u.isTreeLink||u.fromNode!==l):o.predicate=u=>!(!u.isTreeLink||u.toNode!==l),o}findTreeChildrenNodes(){let t=!0;const r=this.diagram;r!==null&&(t=r.isTreePathToChildren);let o=null,l=null;const u=this._t.iterator;if(t)for(;u.next();){const c=u.value;if(c.isTreeLink&&c.fromNode===this){const f=c.toNode;o!==null?o.add(f):l!==null&&l!==f?(o=new x,o.add(l),o.add(f)):l=f}}else for(;u.next();){const c=u.value;if(c.isTreeLink&&c.toNode===this){const f=c.fromNode;o!==null?o.add(f):l!==null&&l!==f?(o=new x,o.add(l),o.add(f)):l=f}}return o!==null?o.iterator:l!==null?new d(l):h.instance}findTreeParts(t){t===void 0&&(t=1/0),n.i(t,"number",wr,"findTreeParts:level");const r=new M;return Le.sh(r,this,!1,t,!0),r}collapseTree(t){t===void 0&&(t=1),t<1&&(t=1);const r=this.diagram;if(r===null||r.isCollapsingExpanding)return;r.isCollapsingExpanding=!0;const o=new M;o.add(this),this._A(o,r.isTreePathToChildren,t,r,this,r.treeCollapsePolicy===1),r.isCollapsingExpanding=!1}_A(t,r,o,l,u,c){if(o>1){const f=r?this.findLinksOutOf():this.findLinksInto();for(;f.next();){const g=f.value;if(!g.isTreeLink)continue;const y=g.getOtherNode(this);y!==null&&y!==this&&!t.has(y)&&(t.add(y),y._A(t,r,o-1,l,u,c))}}else this.tT(t,r,l,u,c)}tT(t,r,o,l,u){const c=l===this?!0:this.isTreeExpanded,f=r?this.findLinksOutOf():this.findLinksInto();for(;f.next();){const g=f.value;if(!g.isTreeLink)continue;const y=g.getOtherNode(this);if(y!==null&&y!==this){const b=t.has(y);if(b||t.add(y),c){const w=r?y.findNodesInto():y.findNodesOutOf(),P=this;w.all(E=>E===P||!E.isTreeExpanded)&&o.Nc(y,l),y.ah(),y.Ei(!1)}y.isTreeExpanded&&(y.wasTreeExpanded=y.isTreeExpanded,b||y.tT(t,r,o,l,u))}}this.isTreeExpanded=!1}expandTree(t){t===void 0&&(t=2),t<2&&(t=2);const r=this.diagram;if(r===null||r.isCollapsingExpanding)return;r.isCollapsingExpanding=!0;const o=new M;o.add(this),this.iT(o,r.isTreePathToChildren,t,r,this,r.treeCollapsePolicy===1),r.isCollapsingExpanding=!1}iT(t,r,o,l,u,c){const f=u===this?!1:this.isTreeExpanded,g=r?this.findLinksOutOf():this.findLinksInto();for(;g.next();){const y=g.value;if(!y.isTreeLink)continue;f||y.Ne||y.invalidateRoute();const b=y.getOtherNode(this);if(b!==null&&b!==this&&!t.has(b)){if(t.add(b),!f){b.Ei(!0),b.ah();const w=r?b.findNodesInto():b.findNodesOutOf(),P=this;w.all(E=>E===P||!E.isTreeExpanded)&&l.Sc(b,u)}(o>2||b.wasTreeExpanded)&&(b.wasTreeExpanded=!1,b.iT(t,r,o-1,l,u,c))}}this.isTreeExpanded=!0}get isTreeExpanded(){return(this.E&1)!==0}set isTreeExpanded(t){const r=(this.E&1)!==0;if(r!==t){this.E=this.E^1;const o=this.diagram;this.t("isTreeExpanded",r,t);const l=this.treeExpandedChanged;if(l!==null){let u=!0;o!==null&&(u=o.G,o.G=!0),l(this),o!==null&&(o.G=u)}if(o!==null&&o.undoManager.isUndoingRedoing){this.Ei(t);return}t?this.expandTree():this.collapseTree()}}get wasTreeExpanded(){return(this.E&2)!==0}set wasTreeExpanded(t){const r=(this.E&2)!==0;r!==t&&(this.E=this.E^2,this.t("wasTreeExpanded",r,t))}get treeExpandedChanged(){return this.gt!==null?this.gt.fy:null}set treeExpandedChanged(t){const r=this.treeExpandedChanged;r!==t&&(t!==null&&n.i(t,"function",wr,"treeExpandedChanged"),this.fl(),this.gt.fy=t,this.t("treeExpandedChanged",r,t))}get isTreeLeaf(){return(this.E&4)!==0}set isTreeLeaf(t){const r=(this.E&4)!==0;r!==t&&(this.E=this.E^4,this.t("isTreeLeaf",r,t))}get isTreeRoot(){return this.findTreeParentLink()===null}};T(wr,"SpreadingNone",0),T(wr,"SpreadingEvenly",1),T(wr,"SpreadingPacked",2);let Jt=wr;class va{constructor(){T(this,"mi");T(this,"ay");T(this,"cy");T(this,"Nl");T(this,"fy");T(this,"hy");T(this,"ly");T(this,"uy");T(this,"gy");T(this,"eh");T(this,"my");this.mi=!1,this.ay=null,this.cy=null,this.Nl=null,this.fy=null,this.hy=Y.oC,this.ly=1,this.uy=null,this.gy=null,this.eh=null,this.my=null}copy(){const i=new va;return i.ay=this.ay,i.cy=this.cy,i.Nl=this.Nl,i.fy=this.fy,i.hy=this.hy.N(),i.ly=this.ly,i.uy=this.uy,i.gy=this.gy,i.eh=this.eh,i.my=this.my,i}}var co=(W=>(W[W.None=0]="None",W[W.End=17]="End",W[W.Scale=18]="Scale",W[W.Stretch=19]="Stretch",W))(co||{}),xr=(W=>(W[W.Normal=1]="Normal",W[W.Orthogonal=2]="Orthogonal",W[W.AvoidsNodes=6]="AvoidsNodes",W[W.AvoidsNodesStraight=7]="AvoidsNodesStraight",W))(xr||{}),xa=(W=>(W[W.None=0]="None",W[W.Bezier=9]="Bezier",W[W.JumpGap=10]="JumpGap",W[W.JumpOver=11]="JumpOver",W))(xa||{});const Te=class Te extends Le{constructor(t){super(re.Link);T(this,"Nt");T(this,"ro");T(this,"lo");T(this,"Dd");T(this,"ho");T(this,"ao");T(this,"Fd");T(this,"kf");T(this,"Rd");T(this,"vd");T(this,"Od");T(this,"Aa");T(this,"Id");T(this,"Hs");T(this,"Pi");T(this,"ul");T(this,"Mr");T(this,"Pf");T(this,"$o");T(this,"Z2");T(this,"Q2");T(this,"a1");T(this,"_2");T(this,"tN");T(this,"py");T(this,"c1");T(this,"ft");T(this,"Zo");T(this,"lf");T(this,"iN");T(this,"eN");this.Nt=8,this.ro=null,this.lo="",this.Dd=null,this.ho=null,this.ao="",this.Fd=null,this.kf=0,this.Rd=0,this.vd=0,this.Od=NaN,this.Aa=1,this.Id=.5,this.Hs=null,this.Pi=new x().g(),this.ul=null,this.Mr=null,this.Pf=new F,this.ft=new lt,this.$o=null,this.Zo=null,this.Z2=null,this.Q2=null,this.iN=0,this.eN=0,this.a1=new C,this._2=null,this.tN=null,this.py=null,this.c1=NaN,this.W=null,this.lf=[],t&&Object.assign(this,t)}cloneProtected(t){super.cloneProtected(t),t.Nt=this.Nt&-113,t.lo=this.lo,t.Dd=this.Dd,t.ao=this.ao,t.Fd=this.Fd,t.kf=this.kf,t.Rd=this.Rd,t.vd=this.vd,t.Od=this.Od,t.Aa=this.Aa,t.Id=this.Id,this.W!==null&&(t.W=this.W.copy())}Vo(t){super.Vo(t),this.lo=t.lo,this.ao=t.ao,t.ul=null,t.invalidateRoute(),t.Zo=this.Zo;const r=t.fromPort;r!==null&&t.fromNode.me(r);const o=t.toPort;o!==null&&t.toNode.me(o)}li(t){t in xr||t in xa||t in co?Te.sN(t)?this.routing=t:t===9||t===10||t===11?this.curve=t:t===17||t===18||t===19?this.adjusting=t:t===1||t===0||n.o("Unknown Link enum value for a Link property: "+t):super.li(t)}Ke(){this.W===null&&(this.W=new fo)}ZR(t,r,o){const l=t.segmentIndex,u=t.segmentFraction;let c=t.alignmentFocus;const f=t.segmentOrientation,g=t.segmentOffset;let y=0,b=0,w=0,P=0;if(isNaN(l)){const it=this.ft,st=n.rt();it.getPointAndAngleAlongPath(u,st);const ct=C.X(st[0],st[1]);if(ct.add(this.getPoint(0)),it.type===1)ct.offset(-it.startX,-it.startY);else{const ut=it.figures.first();ct.offset(-ut.startX,-ut.startY)}P=st[2],f!==0&&(w=this.computeAngle(t,f,P),t.angle=w),y=ct.x,b=ct.y,C.s(ct),n.it(st)}else if(l<-r||l>=r){const it=C.l();this.dA(it),P=this.midAngle,f!==0&&(w=this.computeAngle(t,f,P),t.angle=w),y=it.x,b=it.y,C.s(it)}else{let it,st,ct=0;if(l>=0?(it=o.r[l],st=l<r-1?o.r[l+1]:it):(ct=r+l,it=o.r[ct],st=ct>0?o.r[ct-1]:it),it.equalsApprox(st)){let ut,pt;l>=0?(ut=l>0?o.r[l-1]:it,pt=l<r-2?o.r[l+2]:st):(ut=ct<r-1?o.r[ct+1]:it,pt=ct>1?o.r[ct-2]:st);const Tt=ut.distanceSquaredPoint(it),Et=st.distanceSquaredPoint(pt);Tt>Et+10?P=l>=0?ut.directionPoint(it):it.directionPoint(ut):Et>Tt+10?P=l>=0?st.directionPoint(pt):pt.directionPoint(st):P=l>=0?ut.directionPoint(pt):pt.directionPoint(ut)}else P=l>=0?it.directionPoint(st):st.directionPoint(it);f!==0&&(w=this.computeAngle(t,f,P),t.angle=w),y=it.x+(st.x-it.x)*u,b=it.y+(st.y-it.y)*u}if(c.isNone()){t.location=new C(y,b);return}else c.isNoSpot()&&(c=U.Center);const E=J.l();E.Jt(),E.K(t.scale,t.scale),E.fs(t.angle,0,0);const N=t.naturalBounds,_=F.X(0,0,N.width,N.height),R=C.l();R.setRectSpot(_,c),E.xt(R);let $=-R.x,q=-R.y;const X=N.width,H=N.height,tt=C.l();tt.a(g);const Q=isNaN(g.x),nt=isNaN(g.y);if(Q||nt){const it=X/2+3,st=H/2+3,ct=P>=45&&P<=135,ut=P>=225&&P<=315;f===0&&(ct||ut)?(tt.x=nt?it:g.y,tt.y=Q?st:g.x,ct?l>=0||isNaN(l)&&u<.5||Q&&(tt.y=-st):ut&&((l>=0||isNaN(l)&&u<.5)&&Q&&(tt.y=-st),nt&&(tt.x=-it))):(Q&&(l>=0||isNaN(l)&&u<.5?tt.x=it:tt.x=-it),nt&&(tt.y=-st),tt.rotate(P))}else tt.rotate(P);y+=tt.x,b+=tt.y,E.ww(_),$+=_.x,q+=_.y;const ht=C.X(y+$,b+q);t.move(ht),C.s(ht),C.s(tt),C.s(R),F.s(_),J.s(E)}qr(){let t=this.fromNode;if(t!==null){const o=t.findVisibleNode();if(o!==null&&(t=o),t.es()||t.th())return!1}let r=this.toNode;if(r!==null){const o=r.findVisibleNode();if(o!==null&&(r=o),r.es()||r.th())return!1}return!0}f2(t,r,o){return!1}u2(){}Me(){return!1}computeAngle(t,r,o){return Te.computeAngle(r,o)}static computeAngle(t,r){let o=0;switch(t){default:case 0:o=0;break;case 21:o=r;break;case 22:o=r+90;break;case 23:o=r-90;break;case 24:o=r+180;break;case 25:o=K.Xg(r),o>90&&o<270&&(o-=180);break;case 26:o=K.Xg(r+90),o>90&&o<270&&(o-=180);break;case 27:o=K.Xg(r-90),o>90&&o<270&&(o-=180);break;case 28:if(o=K.Xg(r),o>45&&o<135||o>225&&o<315)return 0;o>90&&o<270&&(o-=180);break}return K.Xg(o)}get fromNode(){return this.ro}set fromNode(t){const r=this.ro;if(r!==t){const o=this.fromPort;r!==null&&(this.ho!==r&&r.h1(this,o),this.yy(),this.invalidateLayout(2)),this.ro=t,t!==null&&this.Ei(t.isVisible()),this.$o=null,this.invalidateRoute();const l=this.diagram;l!==null&&l.G&&l.partManager.setFromNodeForLink(this,t,r);const u=this.fromPort,c=this.fromPortChanged;if(c!==null){let f=!0;l!==null&&(f=l.G,l.G=!0),c(this,o,u),l!==null&&(l.G=f)}t!==null&&(this.ho!==t&&t.l1(this,u),this.wy(),this.invalidateLayout(1)),this.t("fromNode",r,t),this.Ad()}}get fromPortId(){return this.lo}set fromPortId(t){const r=this.lo;if(r!==t){const o=this.fromPort;o!==null&&this.fromNode.me(o),this.yy(),this.lo=t;const l=this.fromPort;l!==null&&this.fromNode.me(l);const u=this.diagram;if(u!==null){const c=this.data,f=u.model;c!==null&&f.La()&&f.setFromPortIdForLinkData(c,t)}if(o!==l){this.$o=null,this.invalidateRoute();const c=this.fromPortChanged;if(c!==null){let f=!0;u!==null&&(f=u.G,u.G=!0),c(this,o,l),u!==null&&(u.G=f)}}this.wy(),this.t("fromPortId",r,t)}}get fromPort(){const t=this.ro;if(t===null)return null;const r=this.lo;return t.findPort(r)}get fromPortChanged(){return this.Dd}set fromPortChanged(t){const r=this.Dd;r!==t&&(t!==null&&n.i(t,"function",Te,"fromPortChanged"),this.Dd=t,this.t("fromPortChanged",r,t))}get toNode(){return this.ho}set toNode(t){const r=this.ho;if(r!==t){const o=this.toPort;r!==null&&(this.ro!==r&&r.h1(this,o),this.yy(),this.invalidateLayout(2)),this.ho=t,t!==null&&this.Ei(t.isVisible()),this.$o=null,this.invalidateRoute();const l=this.diagram;l!==null&&l.G&&l.partManager.setToNodeForLink(this,t,r);const u=this.toPort,c=this.toPortChanged;if(c!==null){let f=!0;l!==null&&(f=l.G,l.G=!0),c(this,o,u),l!==null&&(l.G=f)}t!==null&&(this.ro!==t&&t.l1(this,u),this.wy(),this.invalidateLayout(1)),this.t("toNode",r,t),this.Ad()}}get toPortId(){return this.ao}set toPortId(t){const r=this.ao;if(r!==t){const o=this.toPort;o!==null&&this.toNode.me(o),this.yy(),this.ao=t;const l=this.toPort;l!==null&&this.toNode.me(l);const u=this.diagram;if(u!==null){const c=this.data,f=u.model;c!==null&&f.La()&&f.setToPortIdForLinkData(c,t)}if(o!==l){this.$o=null,this.invalidateRoute();const c=this.toPortChanged;if(c!==null){let f=!0;u!==null&&(f=u.G,u.G=!0),c(this,o,l),u!==null&&(u.G=f)}}this.wy(),this.t("toPortId",r,t)}}get toPort(){const t=this.ho;if(t===null)return null;const r=this.ao;return t.findPort(r)}get toPortChanged(){return this.Fd}set toPortChanged(t){const r=this.Fd;r!==t&&(t!==null&&n.i(t,"function",Te,"toPortChanged"),this.Fd=t,this.t("toPortChanged",r,t))}get fromSpot(){return this.W!==null?this.W.aa:U.Default}set fromSpot(t){const r=this.fromSpot;if(!r.equals(t)){if(t=t.N(),this.Ke(),this.W.aa=t,this.t("fromSpot",r,t),r.isSide()||t.isSide()){const o=this.fromNode;o!==null&&o.me(this.fromPort)}this.invalidateRoute()}}get fromEndSegmentLength(){return this.W!==null?this.W.fa:NaN}set fromEndSegmentLength(t){const r=this.fromEndSegmentLength;r!==t&&(t<0&&n.tt(t,">= 0",Te,"fromEndSegmentLength"),this.Ke(),this.W.fa=t,this.t("fromEndSegmentLength",r,t),this.invalidateRoute())}get fromShortLength(){return this.W!==null?this.W.da:NaN}set fromShortLength(t){const r=this.fromShortLength;r!==t&&(this.Ke(),this.W.da=t,this.ee(),this.t("fromShortLength",r,t))}get toSpot(){return this.W!==null?this.W.ca:U.Default}set toSpot(t){const r=this.toSpot;if(!r.equals(t)){if(t=t.N(),this.Ke(),this.W.ca=t,this.t("toSpot",r,t),r.isSide()||t.isSide()){const o=this.toNode;o!==null&&o.me(this.toPort)}this.invalidateRoute()}}get toEndSegmentLength(){return this.W!==null?this.W.ua:NaN}set toEndSegmentLength(t){const r=this.toEndSegmentLength;r!==t&&(t<0&&n.tt(t,">= 0",Te,"toEndSegmentLength"),this.Ke(),this.W.ua=t,this.t("toEndSegmentLength",r,t),this.invalidateRoute())}get toShortLength(){return this.W!==null?this.W.ga:NaN}set toShortLength(t){const r=this.toShortLength;r!==t&&(this.Ke(),this.W.ga=t,this.ee(),this.t("toShortLength",r,t))}Ad(){const t=this.fromNode,r=this.toNode;let o=null;if(t!==null?r!==null?o=t.findCommonContainingGroup(r):o=t.containingGroup:r!==null?o=r.containingGroup:o=null,this.Kv(o),this.isLabeledLink){const l=this.labelNodes;for(;l.next();){const u=l.value;u.containingGroup=o}}}Kv(t){const r=this.mh;if(r!==t){r!==null&&r.G2(this),this.mh=t,t!==null&&t.j2(this);const o=this.containingGroupChanged;if(o!==null){let l=!0;const u=this.diagram;u!==null&&(l=u.G,u.G=!0),o(this,r,t),u!==null&&(u.G=l)}this.Ne&&(this._2===r||this.tN===r)&&this.invalidateRoute()}}ah(){const t=this.containingGroup;t!==null&&this.fromNode!==t&&this.toNode!==t&&t.computesBoundsIncludingLinks&&super.ah()}getOtherNode(t){const r=this.fromNode;return t===r?this.toNode:r}getOtherPort(t){const r=this.fromPort;return t===r?this.toPort:r}get isLabeledLink(){return this.Hs===null?!1:this.Hs.count>0}get labelNodes(){return this.Hs===null?h.instance:this.Hs.iterator}$A(t){this.Hs===null&&(this.Hs=new M),this.Hs.add(t),this.c()}ZA(t){this.Hs!==null&&(this.Hs.delete(t),this.c())}Um(t){if(super.Um(t),this.Ra()&&this.invalidateOtherJumpOvers(this.actualBounds),!t){const r=this.ro;let o=null;r!==null&&(o=this.fromPort,r.l1(this,o));const l=this.ho;let u=null;l!==null&&(u=this.toPort,(l!==r||u!==o)&&l.l1(this,u)),this.wy()}}Bm(t){if(super.Bm(t),this.Ra()&&this.invalidateOtherJumpOvers(this.actualBounds),!t){const r=this.ro;let o=null;r!==null&&(o=this.fromPort,r.h1(this,o));const l=this.ho;let u=null;l!==null&&(u=this.toPort,(l!==r||u!==o)&&l.h1(this,u)),this.yy()}}zc(){if(this.Ne=!0,this.Hs!==null){const t=this.diagram;if(t!==null){const r=this.Hs.copy().iterator;for(;r.next();){const o=r.value;t.remove(o)}}}if(this.data!==null){const t=this.diagram;t!==null&&t.partManager.nN(this)}}updateRelationshipsFromData(){if(this.data===null)return;const t=this.diagram;t!==null&&t.partManager.updateRelationshipsFromData(this)}move(t,r){const o=r?this.location:this.position;let l=o.x;isNaN(l)&&(l=0);let u=o.y;isNaN(u)&&(u=0);const c=t.x-l,f=t.y-u;if(r===!0)super.move(t,!1);else{const y=C.X(o.x+c,o.y+f);super.move(y,!1),C.s(y)}this.pr(c,f);const g=this.labelNodes;for(;g.next();){const y=g.value,b=y.position;y.moveTo(b.x+c,b.y+f)}}get relinkableFrom(){return(this.Nt&1)!==0}set relinkableFrom(t){const r=(this.Nt&1)!==0;r!==t&&(this.Nt=this.Nt^1,this.t("relinkableFrom",r,t),this.invalidateAdornments())}get relinkableTo(){return(this.Nt&2)!==0}set relinkableTo(t){const r=(this.Nt&2)!==0;r!==t&&(this.Nt=this.Nt^2,this.t("relinkableTo",r,t),this.invalidateAdornments())}canRelinkFrom(){if(!this.relinkableFrom)return!1;const t=this.layer;if(t===null)return!0;if(!t.allowRelink)return!1;const r=t.diagram;return!(r!==null&&!r.allowRelink)}canRelinkTo(){if(!this.relinkableTo)return!1;const t=this.layer;if(t===null)return!0;if(!t.allowRelink)return!1;const r=t.diagram;return!(r!==null&&!r.allowRelink)}get resegmentable(){return(this.Nt&4)!==0}set resegmentable(t){const r=(this.Nt&4)!==0;r!==t&&(this.Nt=this.Nt^4,this.t("resegmentable",r,t),this.invalidateAdornments())}get isTreeLink(){return(this.Nt&8)!==0}set isTreeLink(t){const r=(this.Nt&8)!==0;r!==t&&(this.Nt=this.Nt^8,this.t("isTreeLink",r,t),this.fromNode!==null&&this.fromNode.u0(),this.toNode!==null&&this.toNode.u0())}get path(){const t=this.findMainElement();return t instanceof fe?t:null}get routeBounds(){return this.updateRoute(),this.Yv(this.Pf)}Yv(t){let r=1/0,o=1/0;const l=this.pointsCount;if(l===0)return t.e(NaN,NaN,0,0),t;if(l===1){const u=this.getPoint(0);r=Math.min(u.x,r),o=Math.min(u.y,o),t.e(u.x,u.y,0,0)}else if(l===2){const u=this.getPoint(0),c=this.getPoint(1);r=Math.min(u.x,c.x),o=Math.min(u.y,c.y),t.e(u.x,u.y,0,0),t.unionPoint(c)}else if(this.computeCurve()===9&&l>=3&&!this.isOrthogonal){let u=this.getPoint(0);if(r=u.x,o=u.y,t.e(r,o,0,0),l===3){const c=this.getPoint(1);r=Math.min(c.x,r),o=Math.min(c.y,o);const f=this.getPoint(2);r=Math.min(f.x,r),o=Math.min(f.y,o),K.au(u.x,u.y,c.x,c.y,c.x,c.y,f.x,f.y,.5,t)}else for(let c=3;c<l;c+=3){const f=this.getPoint(c-2);c+3>=l&&(c=l-1);const g=this.getPoint(c-1),y=this.getPoint(c);K.au(u.x,u.y,f.x,f.y,g.x,g.y,y.x,y.y,.5,t),r=Math.min(y.x,r),o=Math.min(y.y,o),u=y}}else{const u=this.getPoint(0),c=this.getPoint(1);r=Math.min(u.x,c.x),o=Math.min(u.y,c.y),t.e(u.x,u.y,0,0),t.unionPoint(c);for(let f=2;f<l;f++){const g=this.getPoint(f);r=Math.min(g.x,r),o=Math.min(g.y,o),t.unionPoint(g)}}return this.a1.e(r-t.x,o-t.y),t}get midPoint(){return this.updateRoute(),this.computeMidPoint(new C)}dA(t){return this.updateRoute(),this.computeMidPoint(t)}computeMidPoint(t){const r=this.pointsCount;if(r===0)return t.a(C.Ck),t;if(r===1)return t.a(this.getPoint(0)),t;if(r===2){const b=this.getPoint(0),w=this.getPoint(1);return t.e((b.x+w.x)/2,(b.y+w.y)/2),t}if(this.isOrthogonal&&(this.computeCorner()>=15||this.computeCurve()===9)){this.ft.getPointAlongPath(.5,t),t.add(this.getPoint(0));const b=this.ft.figures.first();return t.offset(-b.startX,-b.startY),t}if(this.computeCurve()===9){if(r===3){const P=this.getPoint(0),E=this.getPoint(1),N=this.getPoint(2);return K.fC(P.x,P.y,E.x,E.y,E.x,E.y,N.x,N.y,t),t}const b=(r-1)/3|0,w=(b/2|0)*3;if(b%2===1){const P=this.getPoint(w),E=this.getPoint(w+1),N=this.getPoint(w+2),_=this.getPoint(w+3);return K.fC(P.x,P.y,E.x,E.y,N.x,N.y,_.x,_.y,t),t}else return t.a(this.getPoint(w)),t}const o=this.flattenedLengths,l=this.flattenedTotalLength;let u=0,c=0,f=0;for(;u<l/2&&c<r&&(f=o[c],!(u+f>l/2));)u+=f,c++;const g=this.getPoint(c),y=this.getPoint(c+1);if(Math.abs(g.x-y.x)<1)g.y>y.y?t.e(g.x,g.y-(l/2-u)):t.e(g.x,g.y+(l/2-u));else if(Math.abs(g.y-y.y)<1)g.x>y.x?t.e(g.x-(l/2-u),g.y):t.e(g.x+(l/2-u),g.y);else{const b=(l/2-u)/f,w=b*(y.x-g.x),P=b*(y.y-g.y);t.e(g.x+w,g.y+P)}return t}get midAngle(){return this.updateRoute(),this.computeMidAngle()}computeMidAngle(){const t=this.pointsCount;if(t<2)return NaN;if(t===2){const y=this.getPoint(0),b=this.getPoint(1);return y.directionPoint(b)}if(this.isOrthogonal&&(this.computeCorner()>=15||this.computeCurve()===9))return this.ft.getAngleAlongPath(.5);if(this.computeCurve()===9&&t>=4){const y=(t-1)/3|0;let b=(y/2|0)*3;if(y%2===1){b=Math.floor(b);const w=this.getPoint(b),P=this.getPoint(b+1),E=this.getPoint(b+2),N=this.getPoint(b+3);return K.DD(w.x,w.y,P.x,P.y,E.x,E.y,N.x,N.y)}else if(b>0&&b+1<t){const w=this.getPoint(b-1),P=this.getPoint(b+1);return w.directionPoint(P)}}const r=this.flattenedLengths,o=this.flattenedTotalLength;let l=0,u=0,c=0;for(;l<o/2&&u<t&&(c=r[u],!(l+c>o/2));)l+=c,u++;const f=this.getPoint(u),g=this.getPoint(u+1);if(Math.abs(f.x-g.x)<1&&Math.abs(f.y-g.y)<1){if(u>0&&u+2<t){const y=this.getPoint(u-1),b=this.getPoint(u+2);return y.directionPoint(b)}}else{if(Math.abs(f.x-g.x)<1)return f.y>g.y?270:90;if(Math.abs(f.y-g.y)<1)return f.x>g.x?180:0}return f.directionPoint(g)}Gv(){if(this.py===null){this.Ne||this.f1();const t=this.py=[];this.jv(t)}}get flattenedLengths(){return this.Gv(),this.py}get flattenedTotalLength(){let t=this.c1;if(isNaN(t)){const r=this.flattenedLengths,o=r.length;t=0;for(let l=0;l<o;l++)t+=r[l];this.c1=t}return t}jv(t){const r=this.pointsCount;for(let o=0;o<r-1;o++){let l=0;const u=this.getPoint(o),c=this.getPoint(o+1);K.Y(u.x,c.x)?(l=c.y-u.y,l<0&&(l=-l),t.push(l)):K.Y(u.y,c.y)?(l=c.x-u.x,l<0&&(l=-l),t.push(l)):(l=Math.sqrt(u.distanceSquaredPoint(c)),t.push(l))}}get points(){return this.Pi}set points(t){const r=this.Pi;if(r===t)return;let o=null;if(Array.isArray(t)){const u=t;let c=u.length%2===0;if(c){for(let f=0;f<u.length;f++)if(typeof u[f]!="number"||isNaN(u[f])){c=!1;break}}if(c){o=new x;for(let f=0;f<u.length/2;f++){const g=new C(u[f*2],u[f*2+1]).g();o.add(g)}}else{let f=!0;for(let g=0;g<u.length;g++){const y=u[g];if(!n.wt(y)||typeof y.x!="number"||isNaN(y.x)||typeof y.y!="number"||isNaN(y.y)){f=!1;break}}if(f){o=new x;for(let g=0;g<u.length;g++){const y=u[g];o.add(new C(y.x,y.y).g())}}}}else if(t instanceof x){o=t.copy();const u=o.iterator;for(;u.next();)u.value.g()}else n.o("Link.points value is not an instance of List or Array: "+t);o.g(),this.Pi=o,this.ee(),this.f1();const l=this.diagram;l!==null&&(!l.Eh&&!l.undoManager.isUndoingRedoing&&l.gx.add(this),l.animationManager.xi&&l.animationManager.LM(this,o)),this.t("points",r,o)}get pointsCount(){return this.Pi.count}getPoint(t){return this.Pi.r[t]}setPoint(t,r){this.Pi.setElt(t,r)}setPointAt(t,r,o){this.Pi.setElt(t,new C(r,o))}insertPoint(t,r){this.Pi.insertAt(t,r)}insertPointAt(t,r,o){this.Pi.insertAt(t,new C(r,o))}addPoint(t){this.Pi.add(t)}addPointAt(t,r){this.Pi.add(new C(t,r))}removePoint(t){this.Pi.removeAt(t)}clearPoints(){this.Pi.clear()}pr(t,r){if(t===0&&r===0)return;if(this.pointsCount===0){this.defaultFromPoint&&this.defaultFromPoint.offset(t,r),this.defaultToPoint&&this.defaultToPoint.offset(t,r);return}const o=this.Ne,l=new x,u=this.Pi.iterator;for(;u.next();){const g=u.value;l.add(new C(g.x+t,g.y+r).g())}l.g();const c=this.Pi;this.Pi=l;const f=this.diagram;isNaN(t)||isNaN(r)||f!==null&&f.animationManager.xi?this.c():(this.js.e(this.js.x+t,this.js.y+r),this.st.e(this.st.x+t,this.st.y+r),this.tf()),o?this.f1():(this.defaultFromPoint&&(this.defaultFromPoint=this.getPoint(0)),this.defaultToPoint&&(this.defaultToPoint=this.getPoint(this.pointsCount-1))),f!==null&&f.animationManager.xi&&f.animationManager.LM(this,l),this.t("points",c,l)}startRoute(){this.ul===null&&(this.ul=this.Pi,this.Pi=this.Pi.copy())}commitRoute(){if(this.ul===null)return;const t=this.ul,r=this.Pi;let o=1/0,l=1/0;const u=t.r,c=u.length;for(let P=0;P<c;P++){const E=u[P];o=Math.min(E.x,o),l=Math.min(E.y,l)}let f=1/0,g=1/0;const y=r.r,b=y.length;for(let P=0;P<b;P++){const E=y[P];f=Math.min(E.x,f),g=Math.min(E.y,g),E.g()}if(r.g(),b===c)for(let P=0;P<b;P++){const E=u[P],N=y[P];if(E.x-o!==N.x-f||E.y-l!==N.y-g){this.ee();break}}else this.ee();this.ul=null;const w=this.diagram;w!==null&&w.animationManager.xi&&w.animationManager.LM(this,r),this.f1(),this.t("points",t,r)}rollbackRoute(){this.ul!==null&&(this.Pi=this.ul,this.ul=null)}gF(){this.Mr!==null&&(this.points=this.Mr,this.Mr=null)}f1(){if(this.Pi.count===0){this.Ne=!1;return}this.Ne=!0,this.py=null,this.c1=NaN,this.defaultFromPoint=this.getPoint(0),this.defaultToPoint=this.getPoint(this.pointsCount-1),this.u1(!1)}invalidateRoute(){if(this.suspendsRouting)return;const t=this.path;if(t===null)return;const r=this.diagram;if(r){if(r.gx.has(this)||r.undoManager.isUndoingRedoing)return;const o=r.animationManager;if(o.isTicking&&!o.isAnimating)return;this.Mr!==null&&!o.isTicking&&(this.Mr=null)}this.Ne=!1,this.c(),t.c()}get Ne(){return(this.Nt&16)!==0}set Ne(t){(this.Nt&16)!==0!==t&&(this.Nt=this.Nt^16)}get suspendsRouting(){return(this.Nt&32)!==0}set suspendsRouting(t){(this.Nt&32)!==0!==t&&(this.Nt=this.Nt^32)}get xy(){return(this.Nt&64)!==0}set xy(t){(this.Nt&64)!==0!==t&&(this.Nt=this.Nt^64)}get oN(){return(this.Nt&512)!==0}set oN(t){(this.Nt&512)!==0!==t&&(this.Nt=this.Nt^512)}get defaultFromPoint(){return this.Z2}set defaultFromPoint(t){this.Z2=t.copy()}get defaultToPoint(){return this.Q2}set defaultToPoint(t){this.Q2=t.copy()}updateRoute(){if(this.Ne||this.xy)return;let t=!0;try{this.xy=!0,this.startRoute(),t=this.computePoints()}catch{this.xy=!1,this.rollbackRoute()}finally{this.xy=!1,t?this.commitRoute():this.rollbackRoute()}}computePoints(){const t=this.diagram;if(t===null)return!1;let r=this.fromNode,o=null;if(r===null?(Te.Ta||(Te.Ta=new Jt,Te.Ta.desiredSize=z.lu,Te.Ta.ensureBounds()),this.defaultFromPoint&&(Te.Ta.location=this.defaultFromPoint,Te.Ta.ensureBounds(),r=Te.Ta,o=Te.Ta)):o=this.fromPort,o!==null&&!r.isVisible()){const _=r.findVisibleNode();_!==null&&_!==r?(r=_,o=_.port):r=_}if(this._2=r,r===null||!r.location.isReal()||(o=r.findVisiblePort(o),o===null))return!1;let l=this.toNode,u=null;if(l===null?(Te.Da||(Te.Da=new Jt,Te.Da.desiredSize=z.lu,Te.Da.ensureBounds()),this.defaultToPoint&&(Te.Da.location=this.defaultToPoint,Te.Da.ensureBounds(),l=Te.Da,u=Te.Da)):u=this.toPort,u!==null&&!l.isVisible()){const _=l.findVisibleNode();_!==null&&_!==l?(l=_,u=_.port):l=_}if(this.tN=l,l===null||!l.location.isReal()||(u=l.findVisiblePort(u),u===null))return!1;const c=this.pointsCount,f=this.computeSpot(!0,o),g=this.computeSpot(!1,u),y=this.Ed(f),b=this.Ed(g),w=o===u&&o!==null,P=this.isOrthogonal;let E=this.curve===9;w&&!P?(E=!0,this.$o=!0):this.$o=!1;const N=this.computeAdjusting()===0||w;if(!P&&!w&&y&&b){let _=!1;if(!N&&c>=3){let R=this.getLinkPoint(r,o,f,!0,!1,l,u),$=this.getLinkPoint(l,u,g,!1,!1,r,o);_=this.adjustPoints(0,R,c-1,$),_&&(R=this.getLinkPoint(r,o,f,!0,!1,l,u),$=this.getLinkPoint(l,u,g,!1,!1,r,o),this.adjustPoints(0,R,c-1,$))}_||(this.clearPoints(),E?this.Hv(r,o,f,l,u,g):this.qv(r,o,f,l,u,g))}else{const _=this.isAvoiding;N&&(P&&_||w)&&this.clearPoints();const R=w?this.computeCurviness():0,$=this.getLinkPoint(r,o,f,!0,P,l,u);let q=0,X=0,H=0;if(P||!y||w){let ct=this.computeEndSegmentLength(r,o,f,!0);if(H=this.getLinkDirection(r,o,$,f,!0,P,l,u),w&&(y||f.equals(g)||!P&&f.x+g.x===1&&f.y+g.y===1)&&(H-=P?90:30,R<0&&(H-=180)),H<0?H+=360:H>=360&&(H-=360),w&&(ct+=Math.abs(R)*(P?1:2)),H===0?q=ct:H===90?X=ct:H===180?q=-ct:H===270?X=-ct:(q=ct*Math.cos(H*Math.PI/180),X=ct*Math.sin(H*Math.PI/180)),f.isNoSpot()&&w){const ut=o.getDocumentPoint(U.Center,C.l()),pt=C.X(ut.x+q*1e3,ut.y+X*1e3);this.getLinkPointFromPoint(r,o,ut,pt,!0,$),C.s(ut),C.s(pt)}}const tt=this.getLinkPoint(l,u,g,!1,P,r,o);let Q=0,nt=0,ht=0;if(P||!b||w){let ct=this.computeEndSegmentLength(l,u,g,!1);if(ht=this.getLinkDirection(l,u,tt,g,!1,P,r,o),w&&(b||f.equals(g)||!P&&f.x+g.x===1&&f.y+g.y===1)&&(ht+=P?0:30,R<0&&(ht+=180)),ht<0?ht+=360:ht>=360&&(ht-=360),w&&(ct+=Math.abs(R)*(P?1:2)),ht===0?Q=ct:ht===90?nt=ct:ht===180?Q=-ct:ht===270?nt=-ct:(Q=ct*Math.cos(ht*Math.PI/180),nt=ct*Math.sin(ht*Math.PI/180)),g.isNoSpot()&&w){const ut=u.getDocumentPoint(U.Center,C.l()),pt=C.X(ut.x+Q*1e3,ut.y+nt*1e3);this.getLinkPointFromPoint(l,u,ut,pt,!1,tt),C.s(ut),C.s(pt)}}let it=$;(P||!y||w)&&(it=new C($.x+q,$.y+X));let st=tt;(P||!b||w)&&(st=new C(tt.x+Q,tt.y+nt)),!N&&!P&&y&&c>3&&this.adjustPoints(0,$,c-2,st)?this.setPoint(c-1,tt):!N&&!P&&b&&c>3&&this.adjustPoints(1,it,c-1,tt)?this.setPoint(0,$):!N&&(P?c>=6:c>4)&&this.adjustPoints(1,it,c-2,st)?(this.setPoint(0,$),this.setPoint(c-1,tt)):(this.clearPoints(),this.addPoint($),(P||!y||w)&&this.addPoint(it),P&&this.addOrthoPoints(it,H,st,ht,r,l),(P||!b||w)&&this.addPoint(st),this.addPoint(tt))}return t.addInvalidRoute(this),!0}rN(t,r){return Math.abs(r.x-t.x)>Math.abs(r.y-t.y)?(r.x>=t.x?r.x=t.x+9e9:r.x=t.x-9e9,r.y=t.y):(r.y>=t.y?r.y=t.y+9e9:r.y=t.y-9e9,r.x=t.x),r}getLinkPointFromPoint(t,r,o,l,u,c){if(c===void 0&&(c=new C),t===null||r===null)return c.a(o),c;if(!t.isVisible()){const E=t.findVisibleNode();E!==null&&E!==t&&(t=E,r=t.port)}let f=0,g=0,y=0,b=0,w=null,P=r.panel;if(P!==null&&!P.pn()&&(P=P.panel),P===null)f=l.x,g=l.y,y=o.x,b=o.y;else{w=P.ys;const E=1/(w.m11*w.m22-w.m12*w.m21),N=w.m22*E,_=-w.m12*E,R=-w.m21*E,$=w.m11*E,q=E*(w.m21*w.dy-w.m22*w.dx),X=E*(w.m12*w.dx-w.m11*w.dy);f=l.x*N+l.y*R+q,g=l.x*_+l.y*$+X,y=o.x*N+o.y*R+q,b=o.x*_+o.y*$+X}return r.$c(f,g,y,b,c),w!==null&&c.L(w),c}Wv(t,r){const o=t.$u;return o!==null?o.eT(r):null}d1(t){let r=t.$u;return r===null&&(r=new $o,r.Qo=t,r.de=t.part,t.$u=r),r.eT(this)}getLinkPoint(t,r,o,l,u,c,f,g){if(g===void 0&&(g=new C),o.isSpot()&&!this.Ed(o))return r.getDocumentPoint(o,g),g;if(o.isSide()){const w=this.d1(r);if(w!==null){const P=w.Ud;if(g.a(P),u&&this.routing===7){const E=this.d1(f);if(E!==null&&w.Mf<E.Mf){const N=C.l(),_=C.l(),R=new F(r.getDocumentPoint(U.TopLeft,N),r.getDocumentPoint(U.BottomRight,_)),$=this.computeSpot(!l,f),q=this.getLinkPoint(c,f,$,!l,u,t,r,_);(o.includesSide(U.LeftSide)||o.includesSide(U.RightSide))&&q.y>=R.y&&q.y<=R.y+R.height?g.y=q.y:(o.includesSide(U.TopSide)||o.includesSide(U.BottomSide))&&q.x>=R.x&&q.x<=R.x+R.width&&(g.x=q.x),C.s(N),C.s(_)}}return g}}const y=r.getDocumentPoint(this.g1(o,l),C.l());let b=null;if(this.pointsCount>(u?6:2))b=l?this.getPoint(1):this.getPoint(this.pointsCount-2),u&&(b=this.rN(y,b.copy()));else{const w=this.computeSpot(!l,f),P=C.l();b=f.getDocumentPoint(this.g1(w,!l),P),u&&(b=this.rN(y,b)),C.s(P)}return this.getLinkPointFromPoint(t,r,y,b,l,g),C.s(y),g}getLinkDirection(t,r,o,l,u,c,f,g){let y=this.Jv(t,r,o,l,u,c,f,g);if(f&&l.isNoSpot()&&f.isMemberOf(t)&&(y+=180,y>=360&&(y-=360)),this.Ed(l))return y;const b=r.getDocumentAngle();return b===0||(45<=b&&b<135?y+=90:135<=b&&b<225?y+=180:225<=b&&b<315&&(y+=270),y>=360&&(y-=360)),y}Jv(t,r,o,l,u,c,f,g){if(l.isSpot())return l.x>l.y?l.x>1-l.y?0:l.x<1-l.y?270:315:l.x<l.y?l.x>1-l.y?90:l.x<1-l.y?180:135:l.x<.5?225:l.x>.5?45:0;if(l.isSide()){const P=this.d1(r);if(P!==null)switch(P.pe){case 1:return 270;case 2:return 180;default:case 4:return 0;case 8:return 90}}const y=r.getDocumentPoint(U.Center,C.l());let b=null;if(this.pointsCount>(c?6:2))b=u?this.getPoint(1):this.getPoint(this.pointsCount-2),c?b=this.rN(y,b.copy()):b=o;else{const P=C.l();b=g.getDocumentPoint(U.Center,P),C.s(P)}let w=0;return Math.abs(b.x-y.x)>Math.abs(b.y-y.y)?b.x>=y.x?w=0:w=180:b.y>=y.y?w=90:w=270,C.s(y),w}computeEndSegmentLength(t,r,o,l){if(r!==null&&o.isSide()){const c=this.d1(r);if(c!==null)return c.m1}let u=NaN;return l?u=this.fromEndSegmentLength:u=this.toEndSegmentLength,r!==null&&isNaN(u)&&(l?u=r.fromEndSegmentLength:u=r.toEndSegmentLength),isNaN(u)&&(u=10),u}computeSpot(t,r){return r===void 0&&(r=null),t?this.$v(r||this.fromPort):this.Zv(r||this.toPort)}$v(t){if(t===null)return U.Center;let r=this.fromSpot;return r.isDefault()&&(r=t.fromSpot),r===U.Default?U.None:r}Zv(t){if(t===null)return U.Center;let r=this.toSpot;return r.isDefault()&&(r=t.toSpot),r===U.Default?U.None:r}Ed(t){return t===U.None||t.x===.5&&t.y===.5}g1(t,r){return t.x===.5&&t.y===.5?t:U.Center}computeOtherPoint(t,r){if(this.computeAdjusting()!==0&&this.pointsCount>4)return this.computeMidPoint(new C);{const o=this.Wv(r,this);return o!==null?o.Ud:r.getDocumentPoint(U.Center)}}computeShortLength(t){if(t){let r=this.fromShortLength;if(isNaN(r)){const o=this.fromPort;o!==null&&(r=o.fromShortLength)}return isNaN(r)?0:r}else{let r=this.toShortLength;if(isNaN(r)){const o=this.toPort;o!==null&&(r=o.toShortLength)}return isNaN(r)?0:r}}Om(t,r,o,l,u,c){if(this.pickable===!1)return!1;r===void 0&&(r=null),o===void 0&&(o=null);let f=c;if(c===void 0&&(f=J.l(),f.Jt()),f._a(this.L),this.containedInRect(t,f))return this.D2(r,o,u),c===void 0&&J.s(f),!0;if(this.intersectsRect(t,f)){let g=!1;if(!this.hf){const y=this.T.r,b=y.length;for(let w=b;w--;){const P=y[w];if(!P.visible&&P!==this.locationObject)continue;const E=P.actualBounds,N=this.naturalBounds;if(E.x>N.width||E.y>N.height||E.x+E.width<0||E.y+E.height<0)continue;const _=P,R=J.l();if(R.set(f),_ instanceof re?g=_.Om(t,r,o,l,u,R):this.path===_?_ instanceof fe&&(g=_.xv(t,l,R)):g=_.ZL(t,l,R),g){let $=_;r!==null&&($=r(_)),$&&(o===null||o($))&&u.add($)}J.s(R)}}return c===void 0&&J.s(f),g||this.background!==null}return c===void 0&&J.s(f),!1}get isOrthogonal(){return(this.Aa&2)===2}static sN(t){return(t&2)===2}get isAvoiding(){return(this.Aa&4)===4}computeCurve(){if(this.$o===null){const t=this.fromPort,r=t!==null&&t===this.toPort,o=this.isOrthogonal;this.$o=r&&!o}return this.$o?9:this.curve}computeCorner(){if(this.curve===9)return 0;let t=this.corner;return(isNaN(t)||t<0)&&(t=10),t}findMidLabel(){const t=this.path,r=this.T.r,o=r.length;for(let u=0;u<o;u++){const c=r[u];if(!(c===t||c.isPanelMain)&&(c.segmentIndex===-1/0||isNaN(c.segmentIndex)))return c}const l=this.labelNodes;for(;l.next();){const u=l.value;if(u.segmentIndex===-1/0||isNaN(u.segmentIndex))return u}return null}computeSpacing(){if(!this.isVisible())return 0;let t=Te.Xv;t=Math.max(t,this.computeThickness());const r=this.fromPort,o=this.toPort;if(r!==null&&o!==null){const l=this.findMidLabel();if(l!==null){const u=l.naturalBounds,c=l.margin,f=isNaN(u.width)?30:u.width*l.scale+c.left+c.right,g=isNaN(u.height)?14:u.height*l.scale+c.top+c.bottom,y=l.segmentOrientation;if(y===21||y===25||y===24)t=Math.max(t,g);else if(y===23||y===27||y===22||y===26)t=Math.max(t,f);else{const b=r.getDocumentPoint(U.Center).directionPoint(o.getDocumentPoint(U.Center))/180*Math.PI;t=Math.max(t,Math.abs(Math.sin(b)*f)+Math.abs(Math.cos(b)*g)+1)}this.curve===9&&(t*=1.333)}}return t}arrangeBundledLinks(t,r){if(r)for(let o=0;o<t.length;o++){const l=t[o];l.computeAdjusting()===0&&l.invalidateRoute()}}computeCurviness(){let t=this.curviness;if(isNaN(t)){t=Te.zv;const r=this.Zo;if(r!==null){const o=n.rt();let l=0;const u=r.qs;for(let f=0;f<u.length;f++){const g=u[f].computeSpacing();o.push(g),l+=g}let c=-l/2;for(let f=0;f<u.length;f++){if(u[f]===this){t=c+o[f]/2;break}c+=o[f]}r.ry===this.fromNode&&(t=-t),n.it(o)}}return t}computeThickness(){if(!this.isVisible())return 0;const t=this.path;return t!==null?Math.max(t.strokeWidth,1):1}hasCurviness(){return!isNaN(this.curviness)||this.Zo!==null}qv(t,r,o,l,u,c){const f=this.getLinkPoint(t,r,o,!0,!1,l,u),g=this.getLinkPoint(l,u,c,!1,!1,t,r);if(this.hasCurviness()){const y=g.x-f.x,b=g.y-f.y,w=this.computeCurviness(),P=w,E=f.x+y/2,N=f.y+b/2;let _=E,R=N;if(K.u(b,0))y>0?R-=P:R+=P;else{const $=-y/b;let q=Math.sqrt(P*P/($*$+1));w<0&&(q=-q),_=(b<0?-1:1)*q+E,R=$*(_-E)+N}this.addPoint(f),this.addPointAt(_,R),this.addPoint(g)}else{this.addPoint(f),this.addPoint(g);const y=F.l();r.getDocumentBounds(y);const b=y.containsPoint(g);u.getDocumentBounds(y);const w=y.containsPoint(f);if(b||w){const P=r.getDocumentPoint(this.g1(o,!0),new C);this.setPoint(0,this.getLinkPointFromPoint(t,r,P,g,!0,P));const E=u.getDocumentPoint(this.g1(c,!1),new C);this.setPoint(1,this.getLinkPointFromPoint(l,u,E,f,!1,E))}F.s(y)}}Hv(t,r,o,l,u,c){const f=this.getLinkPoint(t,r,o,!0,!1,l,u),g=this.getLinkPoint(l,u,c,!1,!1,t,r),y=g.x-f.x,b=g.y-f.y,w=this.computeCurviness();let P=0,E=0,N=f.x+y/3,_=f.y+b/3,R=N,$=_;K.u(b,0)?y>0?$-=w:$+=w:(P=-y/b,E=Math.sqrt(w*w/(P*P+1)),w<0&&(E=-E),R=(b<0?-1:1)*E+N,$=P*(R-N)+_),N=f.x+2*y/3,_=f.y+2*b/3;let q=N,X=_;K.u(b,0)?y>0?X-=w:X+=w:(q=(b<0?-1:1)*E+N,X=P*(q-N)+_),this.clearPoints(),this.addPoint(f),this.addPointAt(R,$),this.addPointAt(q,X),this.addPoint(g),this.setPoint(0,this.getLinkPoint(t,r,o,!0,!1,l,u)),this.setPoint(3,this.getLinkPoint(l,u,c,!1,!1,t,r))}adjustPoints(t,r,o,l){let u=this.computeAdjusting();if(this.isOrthogonal){if(u===18)return!1;u===19&&(u=17)}switch(u){case 18:return this.Qv(t,r,o,l);case 19:return this._v(t,r,o,l);case 17:return this.tO(t,r,o,l);default:return!1}}Qv(t,r,o,l){const u=this.getPoint(t),c=this.getPoint(o);if(u.equalsApprox(r)&&c.equalsApprox(l))return!0;const f=u.x,g=u.y,y=c.x,b=c.y;let w=y-f,P=b-g;const E=Math.sqrt(w*w+P*P);if(K.Y(E,0))return!0;let N=0;K.Y(w,0)?P<0?N=-Math.PI/2:N=Math.PI/2:(N=Math.atan(P/Math.abs(w)),w<0&&(N=Math.PI-N));const _=r.x,R=r.y,$=l.x,q=l.y,X=$-_,H=q-R,tt=Math.sqrt(X*X+H*H);let Q=0;K.Y(X,0)?H<0?Q=-Math.PI/2:Q=Math.PI/2:(Q=Math.atan(H/Math.abs(X)),X<0&&(Q=Math.PI-Q));const nt=tt/E,ht=Q-N;this.setPoint(t,r);for(let it=t+1;it<o;it++){const st=this.getPoint(it);w=st.x-f,P=st.y-g;const ct=Math.sqrt(w*w+P*P);if(K.Y(ct,0))continue;let ut=0;K.Y(w,0)?P<0?ut=-Math.PI/2:ut=Math.PI/2:(ut=Math.atan(P/Math.abs(w)),w<0&&(ut=Math.PI-ut));const pt=ut+ht,Tt=ct*nt,Et=_+Tt*Math.cos(pt),m=R+Tt*Math.sin(pt);this.setPointAt(it,Et,m)}return this.setPoint(o,l),!0}_v(t,r,o,l){const u=this.getPoint(t),c=this.getPoint(o);if(u.equalsApprox(r)&&c.equalsApprox(l))return!0;const f=u.x,g=u.y,y=c.x,b=c.y,w=(y-f)*(y-f)+(b-g)*(b-g),P=r.x,E=r.y,N=l.x,_=l.y;let R=0,$=1;N-P!==0?(R=(_-E)/(N-P),$=Math.sqrt(1+1/(R*R))):R=9e9,this.setPoint(t,r);for(let q=t+1;q<o;q++){const X=this.getPoint(q),H=X.x,tt=X.y;let Q=.5;w!==0&&(Q=((f-H)*(f-y)+(g-tt)*(g-b))/w);const nt=f+Q*(y-f),ht=g+Q*(b-g);let it=Math.sqrt((H-nt)*(H-nt)+(tt-ht)*(tt-ht));tt<R*(H-nt)+ht&&(it=-it),R>0&&(it=-it);const st=P+Q*(N-P),ct=E+Q*(_-E);if(R!==0){const ut=st+it/$,pt=ct-(ut-st)/R;this.setPointAt(q,ut,pt)}else this.setPointAt(q,st,ct+it)}return this.setPoint(o,l),!0}tO(t,r,o,l){if(this.isOrthogonal){let u=this.getPoint(t),c=this.getPoint(t+1),f=this.getPoint(t+2),g=c.x,y=c.y;const b=g,w=y;K.u(u.y,c.y)?K.u(c.x,f.x)?y=r.y:K.u(c.y,f.y)&&(g=r.x):K.u(u.x,c.x)&&(K.u(c.y,f.y)?g=r.x:K.u(c.x,f.x)&&(y=r.y)),this.setPointAt(t+1,g,y),u=this.getPoint(o),c=this.getPoint(o-1),f=this.getPoint(o-2);let P=c.x,E=c.y;const N=P,_=E;if(K.u(u.y,c.y)?K.u(c.x,f.x)?E=l.y:K.u(c.y,f.y)&&(P=l.x):K.u(u.x,c.x)&&(K.u(c.y,f.y)?P=l.x:K.u(c.x,f.x)&&(E=l.y)),this.setPointAt(o-1,P,E),this.LL())return this.setPointAt(t+1,b,w),this.setPointAt(o-1,N,_),!1}return this.setPoint(t,r),this.setPoint(o,l),!0}addOrthoPoints(t,r,o,l,u,c){r<0?r+=360:r>=360&&(r-=360),l<0?l+=360:l>=360&&(l-=360);const f=l;r>=315||r<45?r=0:45<=r&&r<135?r=90:135<=r&&r<225?r=180:r=270,l>=315||l<45?l=0:45<=l&&l<135?l=90:135<=l&&l<225?l=180:l=270;const g=t,y=o,b=u.actualBounds.copy(),w=c.actualBounds.copy();if(!b.isReal()||!w.isReal())return;b.inflate(Te.Fa,Te.Fa),w.inflate(Te.Fa,Te.Fa),b.unionPoint(t),w.unionPoint(o);const P=C.l(),E=C.l();r===0?y.x>g.x||l===270&&y.y<g.y&&w.right>g.x||l===90&&y.y>g.y&&w.right>g.x?(P.e(y.x,g.y),E.e(y.x,(g.y+y.y)/2),l===180?(P.x=this.computeMidOrthoPosition(g.x,g.y,y.x,y.y,!1),E.x=P.x,E.y=y.y):l===270&&y.y<g.y||l===90&&y.y>g.y?(g.x<w.left?P.x=this.computeMidOrthoPosition(g.x,g.y,w.left,y.y,!1):g.x<w.right&&(l===270&&g.y<w.top||l===90&&g.y>w.bottom)?P.x=this.computeMidOrthoPosition(g.x,g.y,y.x,y.y,!1):P.x=w.right,E.x=P.x,E.y=y.y):l===0&&g.x<w.left&&g.y>w.top&&g.y<w.bottom&&(P.x=g.x,g.y<y.y?P.y=Math.min(y.y,w.top):P.y=Math.max(y.y,w.bottom),E.y=P.y)):(P.e(g.x,y.y),E.e((g.x+y.x)/2,y.y),(l===180||l===90&&y.y<b.top||l===270&&y.y>b.bottom)&&(l===180&&(w.containsPoint(g)||b.containsPoint(y))?P.y=this.computeMidOrthoPosition(g.x,g.y,y.x,y.y,!0):y.y<g.y&&(l===180||l===90)?P.y=this.computeMidOrthoPosition(g.x,b.top,y.x,Math.max(y.y,w.bottom),!0):y.y>g.y&&(l===180||l===270)&&(P.y=this.computeMidOrthoPosition(g.x,b.bottom,y.x,Math.min(y.y,w.top),!0)),E.x=y.x,E.y=P.y),P.y>b.top&&P.y<b.bottom&&(y.x>=b.left&&y.x<=g.x||g.x<=w.right&&g.x>=y.x?(l===90||l===270)&&(P.e(Math.max((g.x+y.x)/2,g.x),g.y),E.e(P.x,y.y)):(l===270||(l===0||l===180)&&y.y<g.y?P.y=Math.min(y.y,l===0?b.top:Math.min(b.top,w.top)):P.y=Math.max(y.y,l===0?b.bottom:Math.max(b.bottom,w.bottom)),E.x=y.x,E.y=P.y))):r===180?y.x<g.x||l===270&&y.y<g.y&&w.left<g.x||l===90&&y.y>g.y&&w.left<g.x?(P.e(y.x,g.y),E.e(y.x,(g.y+y.y)/2),l===0?(P.x=this.computeMidOrthoPosition(g.x,g.y,y.x,y.y,!1),E.x=P.x,E.y=y.y):l===270&&y.y<g.y||l===90&&y.y>g.y?(g.x>w.right?P.x=this.computeMidOrthoPosition(g.x,g.y,w.right,y.y,!1):g.x>w.left&&(l===270&&g.y<w.top||l===90&&g.y>w.bottom)?P.x=this.computeMidOrthoPosition(g.x,g.y,y.x,y.y,!1):P.x=w.left,E.x=P.x,E.y=y.y):l===180&&g.x>w.right&&g.y>w.top&&g.y<w.bottom&&(P.x=g.x,g.y<y.y?P.y=Math.min(y.y,w.top):P.y=Math.max(y.y,w.bottom),E.y=P.y)):(P.e(g.x,y.y),E.e((g.x+y.x)/2,y.y),(l===0||l===90&&y.y<b.top||l===270&&y.y>b.bottom)&&(l===0&&(w.containsPoint(g)||b.containsPoint(y))?P.y=this.computeMidOrthoPosition(g.x,g.y,y.x,y.y,!0):y.y<g.y&&(l===0||l===90)?P.y=this.computeMidOrthoPosition(g.x,b.top,y.x,Math.max(y.y,w.bottom),!0):y.y>g.y&&(l===0||l===270)&&(P.y=this.computeMidOrthoPosition(g.x,b.bottom,y.x,Math.min(y.y,w.top),!0)),E.x=y.x,E.y=P.y),P.y>b.top&&P.y<b.bottom&&(y.x<=b.right&&y.x>=g.x||g.x>=w.left&&g.x<=y.x?(l===90||l===270)&&(P.e(Math.min((g.x+y.x)/2,g.x),g.y),E.e(P.x,y.y)):(l===270||(l===0||l===180)&&y.y<g.y?P.y=Math.min(y.y,l===180?b.top:Math.min(b.top,w.top)):P.y=Math.max(y.y,l===180?b.bottom:Math.max(b.bottom,w.bottom)),E.x=y.x,E.y=P.y))):r===90?y.y>g.y||l===180&&y.x<g.x&&w.bottom>g.y||l===0&&y.x>g.x&&w.bottom>g.y?(P.e(g.x,y.y),E.e((g.x+y.x)/2,y.y),l===270?(P.y=this.computeMidOrthoPosition(g.x,g.y,y.x,y.y,!0),E.x=y.x,E.y=P.y):l===180&&y.x<g.x||l===0&&y.x>g.x?(g.y<w.top?P.y=this.computeMidOrthoPosition(g.x,g.y,y.x,w.top,!0):g.y<w.bottom&&(l===180&&g.x<w.left||l===0&&g.x>w.right)?P.y=this.computeMidOrthoPosition(g.x,g.y,y.x,y.y,!0):P.y=w.bottom,E.x=y.x,E.y=P.y):l===90&&g.y<w.top&&g.x>w.left&&g.x<w.right&&(g.x<y.x?P.x=Math.min(y.x,w.left):P.x=Math.max(y.x,w.right),P.y=g.y,E.x=P.x)):(P.e(y.x,g.y),E.e(y.x,(g.y+y.y)/2),(l===270||l===0&&y.x<b.left||l===180&&y.x>b.right)&&(l===270&&(w.containsPoint(g)||b.containsPoint(y))?P.x=this.computeMidOrthoPosition(g.x,g.y,y.x,y.y,!1):y.x<g.x&&(l===270||l===0)?P.x=this.computeMidOrthoPosition(b.left,g.y,Math.max(y.x,w.right),y.y,!1):y.x>g.x&&(l===270||l===180)&&(P.x=this.computeMidOrthoPosition(b.right,g.y,Math.min(y.x,w.left),y.y,!1)),E.x=P.x,E.y=y.y),P.x>b.left&&P.x<b.right&&(y.y>=b.top&&y.y<=g.y||g.y<=w.bottom&&g.y>=y.y?(l===0||l===180)&&(P.e(g.x,Math.max((g.y+y.y)/2,g.y)),E.e(y.x,P.y)):(l===180||(l===90||l===270)&&y.x<g.x?P.x=Math.min(y.x,l===90?b.left:Math.min(b.left,w.left)):P.x=Math.max(y.x,l===90?b.right:Math.max(b.right,w.right)),E.x=P.x,E.y=y.y))):y.y<g.y||l===180&&y.x<g.x&&w.top<g.y||l===0&&y.x>g.x&&w.top<g.y?(P.e(g.x,y.y),E.e((g.x+y.x)/2,y.y),l===90?(P.y=this.computeMidOrthoPosition(g.x,g.y,y.x,y.y,!0),E.x=y.x,E.y=P.y):l===180&&y.x<g.x||l===0&&y.x>=g.x?(g.y>w.bottom?P.y=this.computeMidOrthoPosition(g.x,g.y,y.x,w.bottom,!0):g.y>w.top&&(l===180&&g.x<w.left||l===0&&g.x>w.right)?P.y=this.computeMidOrthoPosition(g.x,g.y,y.x,y.y,!0):P.y=w.top,E.x=y.x,E.y=P.y):l===270&&g.y>w.bottom&&g.x>w.left&&g.x<w.right&&(g.x<y.x?P.x=Math.min(y.x,w.left):P.x=Math.max(y.x,w.right),P.y=g.y,E.x=P.x)):(P.e(y.x,g.y),E.e(y.x,(g.y+y.y)/2),(l===90||l===0&&y.x<b.left||l===180&&y.x>b.right)&&(l===90&&(w.containsPoint(g)||b.containsPoint(y))?P.x=this.computeMidOrthoPosition(g.x,g.y,y.x,y.y,!1):y.x<g.x&&(l===90||l===0)?P.x=this.computeMidOrthoPosition(b.left,g.y,Math.max(y.x,w.right),y.y,!1):y.x>g.x&&(l===90||l===180)&&(P.x=this.computeMidOrthoPosition(b.right,g.y,Math.min(y.x,w.left),y.y,!1)),E.x=P.x,E.y=y.y),P.x>b.left&&P.x<b.right&&(y.y<=b.bottom&&y.y>=g.y||g.y>=w.top&&g.y<=y.y?(l===0||l===180)&&(P.e(g.x,Math.min((g.y+y.y)/2,g.y)),E.e(y.x,P.y)):(l===180||(l===90||l===270)&&y.x<g.x?P.x=Math.min(y.x,l===270?b.left:Math.min(b.left,w.left)):P.x=Math.max(y.x,l===270?b.right:Math.max(b.right,w.right)),E.x=P.x,E.y=y.y))),this.oN=l!==f,this.iN=r,this.eN=l,this.addPoint(P.copy()),this.addPoint(E.copy()),C.s(P),C.s(E)}computeMidOrthoPosition(t,r,o,l,u){let c=0;return this.hasCurviness()&&!this.computeSpot(!0,this.fromPort).isSide()&&!this.computeSpot(!1,this.toPort).isSide()&&(c=this.computeCurviness()),u?(r+l)/2+c:(t+o)/2+c}LL(){if(this.diagram===null||!this.isAvoiding||this.diagram.animationManager.isTicking)return!1;const t=this.points.r,r=t.length;if(r<4)return!1;const o=this.diagram.getPositions(!1,this.containingGroup,null);for(let l=1;l<r-2;l++){const u=t[l],c=t[l+1];if(!o.isUnoccupied(Math.min(u.x,c.x),Math.min(u.y,c.y),Math.abs(u.x-c.x),Math.abs(u.y-c.y)))return!0}return!1}findClosestSegment(t){const r=t.x,o=t.y;let l=this.getPoint(0),u=this.getPoint(1),c=C.distanceLineSegmentSquared(r,o,l.x,l.y,u.x,u.y),f=0;for(let g=1;g<this.pointsCount-1;g++){l=this.getPoint(g+1);const y=C.distanceLineSegmentSquared(r,o,u.x,u.y,l.x,l.y);u=l,y<c&&(f=g,c=y)}return f}ee(){this.yh=!1,this.c()}get yh(){return(this.Nt&128)!==0}set yh(t){(this.Nt&128)!==0!==t&&(this.Nt=this.Nt^128)}get geometry(){if(!this.yh){if(this.updateRoute(),this.pointsCount<2)return this.yh=!0,this.ft;this.ft=this.makeGeometry()}return this.ft}ad(t){if(!t){if(this.Ne===!1)return;const u=this.findMainElement();if(this.yh&&(u===null||u.geometry!==null))return}this.pointsCount<2?this.yh=!0:this.ft=this.makeGeometry();const r=this.path;if(r===null)return;r.ft=this.ft;const o=this.T.r,l=o.length;for(let u=0;u<l;u++){const c=o[u];c!==r&&c.isPanelMain&&c instanceof fe&&(c.ft=this.ft)}}iO(t){return this.Ra()&&t.Zl.has(this)&&(this.Pf.width!==0||this.Pf.height!==0)&&(t.animationManager.isAnimating||t.currentTool!==t.toolManager)}makeGeometry(){const t=this.ft,r=this.pointsCount;let o=!1;const l=this.diagram;l!==null&&this.iO(l)&&(o=!0);let u=0,c=0,f=this.getPoint(0).copy();const g=f.copy(),y=this.Pi.r,b=this.computeCurve();if(b===9&&r>=3&&!K.Y(this.smoothness,0))if(r===3){let w=this.getPoint(1);u=Math.min(f.x,w.x),c=Math.min(f.y,w.y),w=this.getPoint(2),u=Math.min(u,w.x),c=Math.min(c,w.y)}else if(this.isOrthogonal){for(let w=0;w<r;w++){const P=y[w];g.x=Math.min(P.x,g.x),g.y=Math.min(P.y,g.y)}u=g.x,c=g.y}else{for(let w=3;w<r;w+=3){w+3>=r&&(w=r-1);const P=this.getPoint(w);g.x=Math.min(P.x,g.x),g.y=Math.min(P.y,g.y)}u=g.x,c=g.y}else{for(let w=0;w<r;w++){const P=y[w];g.x=Math.min(P.x,g.x),g.y=Math.min(P.y,g.y)}u=g.x,c=g.y}if(u-=this.a1.x,c-=this.a1.y,f.x-=u,f.y-=c,r===2&&!this.Ra()){let w=this.getPoint(1).copy();return w.x-=u,w.y-=c,this.computeShortLength(!0)!==0&&(f=this.Sf(f,!0,g)),this.computeShortLength(!1)!==0&&(w=this.Sf(w,!1,g)),t.type=1,t.startX=f.x,t.startY=f.y,t.endX=w.x,t.endY=w.y,this.yh=!0,t}else{t.type=4;const w=jo.mC(t);if(this.computeShortLength(!0)!==0&&(f=this.Sf(f,!0,g)),w.uu(f.x,f.y,!1,!1),b===9&&r>=3&&!K.Y(this.smoothness,0))if(r===3){const P=this.getPoint(1),E=P.x-u,N=P.y-c;let _=this.getPoint(2).copy();_.x-=u,_.y-=c,this.computeShortLength(!1)!==0&&(_=this.Sf(_,!1,g)),w.dr(E,N,E,N,_.x,_.y)}else if(this.isOrthogonal){const P=C.X(u,c),E=C.l();E.a(this.getPoint(1));const N=C.X(u,c),_=C.X(u,c);let R=this.getPoint(0),$=null;const q=this.smoothness/3;for(let Q=1;Q<this.pointsCount-1;Q++){$=this.getPoint(Q);const nt=R,ht=$,it=this.getPoint(this.lN($,Q,!1));K.Y(nt.x,ht.x)&&K.Y(ht.x,it.x)||K.Y(nt.y,ht.y)&&K.Y(ht.y,it.y)||(this.eO(nt,ht,it,q,N,_),(Q===1||Q===2&&K.Y(R.x,this.getPoint(0).x)&&K.Y(R.y,this.getPoint(0).y))&&(E.x=(R.x+$.x)*.5,E.y=(R.y+$.y)*.5),w.dr(E.x-u,E.y-c,N.x-u,N.y-c,$.x-u,$.y-c),P.set(N),E.set(_),R=$)}let X=R.x,H=R.y,tt=this.getPoint(this.pointsCount-1);this.computeShortLength(!1)!==0&&(tt=this.Sf(tt.copy(),!1,C.ko)),X=.5*(X+tt.x),H=.5*(H+tt.y),w.dr(_.x-u,_.y-c,X-u,H-c,tt.x-u,tt.y-c),C.s(P),C.s(E),C.s(N),C.s(_)}else for(let P=3;P<r;P+=3){const E=this.getPoint(P-2);P+3>=r&&(P=r-1);const N=this.getPoint(P-1);let _=this.getPoint(P);P===r-1&&this.computeShortLength(!1)!==0&&(_=this.Sf(_.copy(),!1,C.ko)),w.dr(E.x-u,E.y-c,N.x-u,N.y-c,_.x-u,_.y-c)}else{const P=C.l();P.a(this.getPoint(0));const E=C.l();E.a(P);const N=this.computeCorner();let _=1,R=0;for(;_<r;){_=this.lN(P,_,_>1);let $=this.getPoint(_);if(_>=r-1){if(!P.equals($))this.computeShortLength(!1)!==0&&($=this.Sf($.copy(),!1,C.ko)),this.Nn(w,-u,-c,P,$,o);else if(R===0)for(_=1;_<r;)E.a(P),$=this.getPoint(_++),this.Nn(w,-u,-c,P,$,o),P.a($);break}R=this.lN($,_+1,_<r-3);const q=this.getPoint(R);this.sO(w,-u,-c,P,$,q,P,E,N,o),E.a($),_=R}C.s(P)}return jo.pC(w),this.yh=!0,t}}p1(t,r,o,l){let u=o-t;if(isNaN(u)||u===1/0||u===-1/0)return NaN;u<0&&(u=-u);let c=l-r;return isNaN(c)||c===1/0||c===-1/0?NaN:(c<0&&(c=-c),K.Y(u,0)?c:K.Y(c,0)?u:Math.sqrt(u*u+c*c))}eO(t,r,o,l,u,c){isNaN(l)&&(l=this.smoothness/3);const f=t.x,g=t.y,y=r.x,b=r.y,w=o.x,P=o.y,E=l*this.p1(f,g,y,b),N=l*this.p1(y,b,w,P);if(K.Y(g,b)&&K.Y(y,w)&&(y>f?P>b?(u.x=y-E,u.y=b-E,c.x=y+N,c.y=b+N):(u.x=y-E,u.y=b+E,c.x=y+N,c.y=b-N):P>b?(u.x=y+E,u.y=b-E,c.x=y-N,c.y=b+N):(u.x=y+E,u.y=b+E,c.x=y-N,c.y=b-N)),K.Y(f,y)&&K.Y(b,P)&&(b>g?w>y?(u.x=y-E,u.y=b-E,c.x=y+N,c.y=b+N):(u.x=y+E,u.y=b-E,c.x=y-N,c.y=b+N):w>y?(u.x=y-E,u.y=b+E,c.x=y+N,c.y=b-N):(u.x=y+E,u.y=b+E,c.x=y-N,c.y=b-N)),K.Y(f,y)&&K.Y(y,w)||K.Y(g,b)&&K.Y(b,P)){const _=.5*(f+w),R=.5*(g+P);u.x=_,u.y=R,c.x=_,c.y=R}}Sf(t,r,o){const l=this.pointsCount;if(l<2)return t;if(r){const u=this.getPoint(1),c=u.x-o.x,f=u.y-o.y,g=this.p1(t.x,t.y,c,f);if(g===0)return t;const y=l===2?g*.5:g;let b=this.computeShortLength(!0);b>y&&(b=y);const w=b*(c-t.x)/g,P=b*(f-t.y)/g;t.x+=w,t.y+=P}else{const u=this.getPoint(l-2),c=u.x-o.x,f=u.y-o.y,g=this.p1(t.x,t.y,c,f);if(g===0)return t;const y=l===2?g*.5:g;let b=this.computeShortLength(!1);b>y&&(b=y);const w=b*(t.x-c)/g,P=b*(t.y-f)/g;t.x-=w,t.y-=P}return t}lN(t,r,o){const l=this.pointsCount;let u=t;for(;K.Y(t.x,u.x)&&K.Y(t.y,u.y);){if(r>=l)return l-1;u=this.getPoint(r++)}if(!K.Y(t.x,u.x)&&!K.Y(t.y,u.y))return r-1;let c=u;for(;K.Y(t.x,u.x)&&K.Y(u.x,c.x)&&(!o||(t.y>=u.y?u.y>=c.y:u.y<=c.y))||K.Y(t.y,u.y)&&K.Y(u.y,c.y)&&(!o||(t.x>=u.x?u.x>=c.x:u.x<=c.x));){if(r>=l)return l-1;c=this.getPoint(r++)}return r-2}sO(t,r,o,l,u,c,f,g,y,b){if(K.u(l.y,u.y)&&K.u(u.x,c.x)){let w=Math.min(y,Math.abs(u.x-g.x)/2);const P=Math.min(w,Math.abs(c.y-u.y)/2);if(w=P,K.u(w,0)){this.Nn(t,r,o,l,u,b),f.a(u);return}let E=u.x;const N=u.y,_=E;let R=N;u.x>l.x?(E=u.x-w,c.y>u.y?R=u.y+P:R=u.y-P):(E=u.x+w,c.y>u.y?R=u.y+P:R=u.y-P);const $=C.X(E,N);this.Nn(t,r,o,l,$,b),C.s($),t.Mw(u.x+r,u.y+o,_+r,R+o),f.e(_,R)}else if(K.u(l.x,u.x)&&K.u(u.y,c.y)){let w=Math.min(y,Math.abs(u.y-g.y)/2);const P=Math.min(w,Math.abs(c.x-u.x)/2);if(w=P,K.u(P,0)){this.Nn(t,r,o,l,u,b),f.a(u);return}const E=u.x;let N=u.y,_=E;const R=N;u.y>l.y?(N=u.y-w,c.x>u.x?_=u.x+P:_=u.x-P):(N=u.y+w,c.x>u.x?_=u.x+P:_=u.x-P);const $=C.X(E,N);this.Nn(t,r,o,l,$,b),C.s($),t.Mw(u.x+r,u.y+o,_+r,R+o),f.e(_,R)}else this.Nn(t,r,o,l,u,b),f.a(u)}computeJumpLength(){return 10}Nn(t,r,o,l,u,c){if(c||!this.Ra())t.ur(u.x+r,u.y+o);else{const f=this.computeJumpLength(),g=f/2,y=[];let b=0;this.isVisible()&&(b=this.nO(l,u,y));let w=l.x,P=l.y;if(b>0){if(K.u(l.y,u.y))if(l.x<u.x){let E=0;for(;E<b;){const N=Math.max(l.x,Math.min(y[E++]-g,u.x-f));t.ur(N+r,u.y+o),w=N+r,P=u.y+o;let _=Math.min(N+f,u.x);for(;E<b;){const X=y[E];if(X<_+f)E++,_=Math.min(X+g,u.x);else break}const R=u.y-f+o,$=_+r,q=u.y+o;this.curve===10?t.uu($,q,!1,!1):t.dr(w,R,$,R,$,q),w=$,P=q}}else{let E=b-1;for(;E>=0;){const N=Math.min(l.x,Math.max(y[E--]+g,u.x+f));t.ur(N+r,u.y+o),w=N+r,P=u.y+o;let _=Math.max(N-f,u.x);for(;E>=0;){const X=y[E];if(X>_-f)E--,_=Math.max(X-g,u.x);else break}const R=u.y-f+o,$=_+r,q=u.y+o;this.curve===10?t.uu($,q,!1,!1):t.dr(w,R,$,R,$,q),w=$,P=q}}else if(K.u(l.x,u.x))if(l.y<u.y){let E=0;for(;E<b;){const N=Math.max(l.y,Math.min(y[E++]-g,u.y-f));t.ur(u.x+r,N+o),w=u.x+r,P=N+o;let _=Math.min(N+f,u.y);for(;E<b;){const X=y[E];if(X<_+f)E++,_=Math.min(X+g,u.y);else break}const R=u.x-f+r,$=u.x+r,q=_+o;this.curve===10?t.uu($,q,!1,!1):t.dr(R,P,R,q,$,q),w=$,P=q}}else{let E=b-1;for(;E>=0;){const N=Math.min(l.y,Math.max(y[E--]+g,u.y+f));t.ur(u.x+r,N+o),w=u.x+r,P=N+o;let _=Math.max(N-f,u.y);for(;E>=0;){const X=y[E];if(X>_-f)E--,_=Math.max(X-g,u.y);else break}const R=u.x-f+r,$=u.x+r,q=_+o;this.curve===10?t.uu($,q,!1,!1):t.dr(R,P,R,q,$,q),w=$,P=q}}}t.ur(u.x+r,u.y+o)}}nO(t,r,o){const l=this.diagram;if(l===null||t.equals(r))return 0;const u=l.layers;for(;u.next();){const c=u.value;if(c!==null&&c.visible){const f=c.IM(),g=f.length;for(let y=0;y<g;y++){const b=f[y];if(!(b instanceof Te))continue;if(b===this)return o.length>0&&o.sort((E,N)=>E-N),o.length;if(!b.isVisible()||!b.Ra())continue;const w=b.routeBounds;if(!w.isReal()||!this.routeBounds.intersectsRect(w)||this.usesSamePort(b))continue;const P=b.path;P!==null&&P.isVisibleObject()&&this.oO(t,r,o,b)}}}return o.length>0&&o.sort((c,f)=>c-f),o.length}oO(t,r,o,l){const u=K.u(t.y,r.y),c=l.pointsCount;let f=l.getPoint(0);const g=C.l();for(let y=1;y<c;y++){const b=l.getPoint(y);if(y<c-1){const w=l.getPoint(y+1);if(f.y===b.y&&b.y===w.y){if(b.x>f.x&&w.x>=b.x||b.x<f.x&&w.x<=b.x)continue}else if(f.x===b.x&&b.x===w.x&&(b.y>f.y&&w.y>=b.y||b.y<f.y&&w.y<=b.y))continue}this.rO(t,r,f,b,g)&&(u?o.push(g.x):o.push(g.y)),f=b}C.s(g)}rO(t,r,o,l,u){const c=t.x,f=t.y,g=r.x,y=r.y,b=o.x,w=o.y,P=l.x,E=l.y;if(K.u(c,g)){if(!K.u(f,y)&&K.u(w,E)&&Math.min(f,y)<w&&Math.max(f,y)>w&&Math.min(b,P)<c&&Math.max(b,P)>c&&!K.u(b,P))return u.x=c,u.y=w,!0}else if(K.u(f,y)&&K.u(b,P)&&Math.min(c,g)<b&&Math.max(c,g)>b&&Math.min(w,E)<f&&Math.max(w,E)>f&&!K.u(w,E))return u.x=b,u.y=f,!0;return u.x=0,u.y=0,!1}get firstPickIndex(){return this.pointsCount<=2?0:this.isOrthogonal||!this.Ed(this.computeSpot(!0))?1:0}get lastPickIndex(){const t=this.pointsCount;return t===0?0:t<=2?t-1:this.isOrthogonal||!this.Ed(this.computeSpot(!1))?t-2:t-1}Ra(){const t=this.curve;return t===11||t===10}u1(t){if(t||this.Ra()){const r=this.diagram;r!==null&&!r.animationManager.isTicking&&!r.Zl.has(this)&&(this.Pf.width!==0||this.Pf.height!==0)&&r.Zl.set(this,this.Pf.copy())}}invalidateOtherJumpOvers(t){const r=this.layer;if(r===null||!r.visible||r.isTemporary)return;const o=r.diagram;if(o===null||o.animationManager.isTicking)return;let l=!1;const u=o.layers;for(;u.next();){const c=u.value;if(c.visible){if(c===r){l=!0;let f=!1;const g=c.IM(),y=g.length;for(let b=0;b<y;b++){const w=g[b];w instanceof Te&&(w===this?f=!0:f&&this.sT(w,t))}}else if(l){const f=c.IM(),g=f.length;for(let y=0;y<g;y++){const b=f[y];b instanceof Te&&this.sT(b,t)}}}}}sT(t,r){if(t===null||!t.yh||!t.Ne||!t.Ra())return;const o=t.routeBounds;o.isReal()&&(!this.routeBounds.intersectsRect(o)&&!r.intersectsRect(o)||this.usesSamePort(t)||t.ee())}usesSamePort(t){const r=this.pointsCount,o=t.pointsCount;if(r>0&&o>0){const l=this.getPoint(0),u=t.getPoint(0);if(l.equalsApprox(u))return!0;const c=this.getPoint(r-1),f=t.getPoint(o-1);if(c.equalsApprox(f)||l.equalsApprox(f)||c.equalsApprox(u))return!0}else if(this.fromNode===t.fromNode||this.toNode===t.toNode||this.fromNode===t.toNode||this.toNode===t.fromNode)return!0;return!1}isVisible(){if(!super.isVisible())return!1;const t=this.containingGroup;let r=!0;const o=this.diagram;o!==null&&(r=o.isTreePathToChildren);const l=this.fromNode;if(l!==null){if(this.isTreeLink&&r&&!l.isTreeExpanded)return!1;if(l===t)return!0;let c=l;for(;c!==null;){if(c.labeledLink===this)return!0;c=c.containingGroup}const f=l.findVisibleNode();if(f===null||f===t)return!1}const u=this.toNode;if(u!==null){if(this.isTreeLink&&!r&&!u.isTreeExpanded)return!1;if(u===t)return!0;let c=u;for(;c!==null;){if(c.labeledLink===this)return!0;c=c.containingGroup}const f=u.findVisibleNode();if(f===null||f===t)return!1}return!0}Ei(t){if(super.Ei(t),t&&this.u1(!1),this.Zo!==null&&this.Zo.Td(),this.Hs!==null){const r=this.Hs.iterator;for(;r.next();)r.value.Ei(t)}}get adjusting(){return this.kf}set adjusting(t){const r=this.kf;r!==t&&(this.kf=t,this.t("adjusting",r,t))}computeAdjusting(){return this.isAvoiding&&this.diagram!==null&&this.diagram.animationManager.defaultAnimation.isAnimating?17:this.kf}get corner(){return this.Rd}set corner(t){const r=this.Rd;r!==t&&(this.Rd=t,this.ee(),this.t("corner",r,t))}get curve(){return this.vd}set curve(t){const r=this.vd;r!==t&&(this.vd=t,this.invalidateRoute(),this.ee(),this.u1(r===10||r===11||t===10||t===11),this.t("curve",r,t))}get curviness(){return this.Od}set curviness(t){const r=this.Od;r!==t&&(this.Od=t,this.invalidateRoute(),this.ee(),this.t("curviness",r,t))}get routing(){return this.Aa}set routing(t){const r=this.Aa;r!==t&&(this.Aa=t,this.isAvoiding&&this.diagram!==null&&(this.diagram.Gm=!0),this.$o=null,this.invalidateRoute(),this.u1(Te.sN(r)||Te.sN(t)),this.t("routing",r,t))}get smoothness(){return this.Id}set smoothness(t){const r=this.Id;r!==t&&(this.Id=t,this.ee(),this.t("smoothness",r,t))}wy(){const t=this.ro;if(t===null)return;const r=this.ho;if(r===null||!isNaN(this.curviness))return;const o=this.lo,l=this.ao;let u=null,c=null;const f=t._t.r,g=f.length;for(let y=0;y<g;y++){const b=f[y];!(b.ro===t&&b.lo===o&&b.ho===r&&b.ao===l)&&!(b.ro===r&&b.lo===l&&b.ho===t&&b.ao===o)||(c===null?c=b:(u===null&&(u=[],u.push(c)),u.push(b)))}if(u!==null){let y=t.WA(r,o,l);y===null&&(y=new yu(t,o,r,l),t.HA(y),r.HA(y)),y.qs=u;for(let b=0;b<u.length;b++){const w=u[b];w.Zo=y}y.Td()}}yy(){const t=this.Zo;if(t!==null){if(!isNaN(this.curviness))return;this.Zo=null;const r=t.qs.indexOf(this);r>=0&&(n.Qa(t.qs,r),t.Td())}}Ll(){return!0}get key(){const t=this.diagram;if(!(t===null||!t.model.La()))return t.model.getKeyForLinkData(this.data)}};T(Te,"Ta",null),T(Te,"Da",null),T(Te,"Normal",1),T(Te,"Orthogonal",2),T(Te,"AvoidsNodes",6),T(Te,"AvoidsNodesStraight",7),T(Te,"None",0),T(Te,"Bezier",9),T(Te,"JumpGap",10),T(Te,"JumpOver",11),T(Te,"End",17),T(Te,"Scale",18),T(Te,"Stretch",19),T(Te,"OrientAlong",21),T(Te,"OrientPlus90",22),T(Te,"OrientMinus90",23),T(Te,"OrientOpposite",24),T(Te,"OrientUpright",25),T(Te,"OrientPlus90Upright",26),T(Te,"OrientMinus90Upright",27),T(Te,"OrientUpright45",28),T(Te,"Vv",8),T(Te,"zv",16),T(Te,"Xv",14),T(Te,"Fa",8);let se=Te;class yu{constructor(i,t,r,o){T(this,"Eo");T(this,"Is");T(this,"ry");T(this,"J2");T(this,"o1");T(this,"$2");T(this,"qs");M.Yi(this),this.Eo=!1,this.Is=!1,this.ry=i,this.J2=t,this.o1=r,this.$2=o,this.qs=[]}Td(){if(!this.Eo){const i=this.qs;if(i.length>0){const t=i[0].diagram;t!==null&&(t.rS.add(this),this.Is=t.undoManager.isUndoingRedoing)}}this.Eo=!0}xS(){if(this.Eo){this.Eo=!1;const i=this.qs;if(i.length>0){const t=i[0],r=t.diagram,o=r===null||r.Eh&&!this.Is;this.Is=!1,t.arrangeBundledLinks(i,o),i.length===1&&(t.Zo=null,i.length=0)}i.length===0&&(this.ry.qA(this),this.o1.qA(this))}}}const Je=class Je{constructor(i){T(this,"oe");T(this,"re");T(this,"va");T(this,"Oa");T(this,"yi");T(this,"wi");T(this,"Ot");T(this,"wh");T(this,"xh");T(this,"la");T(this,"FS");T(this,"Eo");T(this,"by");T(this,"Kc");T(this,"RS");T(this,"vS");M.Yi(this),this.la=null,this.FS=null,this.Eo=!0,this.by=!1,this.oe=1,this.re=1,this.va=-1,this.Oa=-1,this.yi=i.width,this.wi=i.height,this.Ot=null,this.wh=0,this.xh=0,this.Kc=11,this.RS=this.Kc*2,this.vS=this.Kc*2}xb(i){if(i.width<=0||i.height<=0)return;const t=i.x,r=i.y,o=i.x+i.width,l=i.y+i.height;this.oe=Math.floor((t-this.yi)/this.yi)*this.yi,this.re=Math.floor((r-this.wi)/this.wi)*this.wi,this.va=Math.ceil((o+2*this.yi)/this.yi)*this.yi,this.Oa=Math.ceil((l+2*this.wi)/this.wi)*this.wi;const u=1+(Math.ceil((this.va-this.oe)/this.yi)|0),c=1+(Math.ceil((this.Oa-this.re)/this.wi)|0);if(this.Ot===null||this.wh<u-1||this.xh<c-1){const f=[];for(let g=0;g<=u;g++)f[g]=new Uint32Array(c);this.Ot=f,this.wh=u-1,this.xh=c-1}this.lO(Je.hN)}get bounds(){return new F(this.oe,this.re,this.va-this.oe,this.Oa-this.re)}get cellWidth(){return this.yi}set cellWidth(i){i>0&&i!==this.yi&&(this.yi=i,this.xb(this.bounds))}get cellHeight(){return this.wi}set cellHeight(i){i>0&&i!==this.wi&&(this.wi=i,this.xb(this.bounds))}Vd(i,t){return this.oe<=i&&i<=this.va&&this.re<=t&&t<=this.Oa}co(i,t){if(!this.Vd(i,t))return Je.hN;i-=this.oe,i/=this.yi,t-=this.re,t/=this.wi;const r=i|0,o=t|0;return this.Ot[r][o]}pR(i,t,r,o){if(!this.Vd(i,t))return;const l=(i-this.oe)/this.yi|0,u=(t-this.re)/this.wi|0,c=(i+r-this.oe)/this.yi|0,f=(t+o-this.re)/this.wi|0,g=Math.min(c,this.wh),y=Math.min(f,this.xh);for(let b=l;b<=g;b++){const w=this.Ot[b];if(w.fill)w.fill(Je.Ws,u,y+1);else for(let P=u;P<=y;P++)w[P]=Je.Ws}}lO(i){if(this.Ot!==null)for(let t=0;t<=this.wh;t++){const r=this.Ot[t];if(r.fill)r.fill(i);else for(let o=0;o<=this.xh;o++)r[o]=i}}VL(){if(this.Ot!==null)for(let i=0;i<=this.wh;i++){const t=this.Ot[i];for(let r=0;r<=this.xh;r++)t[r]>=Je.Ia&&(t[r]=Je.hN)}}hO(i,t){return this.co(i,t)===Je.Ws}isUnoccupied(i,t,r,o){if(i>this.va||i+r<this.oe||t>this.Oa||t+o<this.re)return!0;let l=(i-this.oe)/this.yi|0,u=(t-this.re)/this.wi|0,c=Math.max(0,r)/this.yi+1|0,f=Math.max(0,o)/this.wi+1|0;if(l<0&&(c+=l,l=0),u<0&&(f+=u,u=0),c<0||f<0)return!0;const g=Math.min(l+c-1,this.wh)|0,y=Math.min(u+f-1,this.xh)|0;for(let b=l;b<=g;b++){const w=this.Ot[b];for(let P=u;P<=y;P++)if(w[P]===Je.Ws)return!1}return!0}maxAvoidsLinksSpaceH(i,t,r,o){if(i>this.va||t<this.oe||r>this.Oa||r<this.re)return 0;const l=(i-this.oe)/this.yi|0,u=(t-this.oe)/this.yi|0,c=(r-this.re)/this.wi|0,f=o/this.wi+1|0;let g;for(g=0;g<f/2;g++){let y=!1;for(let b=l;b<=u;b++)if(this.Ot[b][c+g]===Je.Ws||this.Ot[b][c-g]===Je.Ws){y=!0;break}if(y)return Math.max(0,(2*g-1)*this.wi)}return o}maxAvoidsLinksSpaceV(i,t,r,o){if(i>this.Oa||t<this.re||r>this.va||r<this.oe)return 0;const l=(i-this.re)/this.wi|0,u=(t-this.re)/this.wi|0,c=(r-this.oe)/this.yi|0,f=o/this.yi+1|0;let g;for(g=0;g<f/2;g++){let y=!1;for(let b=l;b<=u;b++)if(this.Ot[c+g][b]===Je.Ws||this.Ot[c-g][b]===Je.Ws){y=!0;break}if(y)return Math.max(0,(2*g-1)*this.yi)}return o}aO(i,t,r,o,l,u,c,f){i=i|0,t=t|0;let g=this.Ot[i][t];if(g>=Je.Ia&&g<Je.Bd)for(o?t+=r:i+=r,g+=1;l<=i&&i<=u&&c<=t&&t<=f;){const y=this.Ot[i][t];if(g>=y)break;this.Ot[i][t]=g,g+=1,o?t+=r:i+=r}return o?t:i}fo(i,t,r,o,l,u,c,f){if(i<l||i>u||t<c||t>f)return;const g=this.aO(i,t,r,o,l,u,c,f);if(o)if(r>0)for(let y=t+r;y<g;y+=r)this.fo(i,y,1,!o,l,u,c,f),this.fo(i,y,-1,!o,l,u,c,f);else for(let y=t+r;y>g;y+=r)this.fo(i,y,1,!o,l,u,c,f),this.fo(i,y,-1,!o,l,u,c,f);else if(r>0)for(let y=i+r;y<g;y+=r)this.fo(y,t,1,!o,l,u,c,f),this.fo(y,t,-1,!o,l,u,c,f);else for(let y=i+r;y>g;y+=r)this.fo(y,t,1,!o,l,u,c,f),this.fo(y,t,-1,!o,l,u,c,f)}w1(i,t,r,o,l,u,c,f,g,y){let b=i|0,w=t|0,P=Je.Ws,E=Je.Ia;for(this.Ot[b][w]=E;P===Je.Ws&&b>c&&b<f&&w>g&&w<y;)E+=1,this.Ot[b][w]=E,u?w+=l:b+=l,P=this.Ot[b][w];return u?w:b}b1(i,t,r,o,l,u,c,f,g,y){let b=r|0,w=o|0,P=Je.Ws;const E=Je.Bd;for(this.Ot[b][w]=E;P===Je.Ws&&b>c&&b<f&&w>g&&w<y;)this.Ot[b][w]=E,u?w+=l:b+=l,P=this.Ot[b][w]}nT(i,t,r,o,l,u){if(this.Ot===null)return;this.by=!1;let c=i.x,f=i.y;if(!this.Vd(c,f))return;c-=this.oe,c/=this.yi,f-=this.re,f/=this.wi;let g=r.x,y=r.y;if(!this.Vd(g,y))return;if(g-=this.oe,g/=this.yi,y-=this.re,y/=this.wi,Math.abs(c-g)<=1&&Math.abs(f-y)<=1){this.by=!0;return}let b=l.x,w=l.y,P=l.x+l.width,E=l.y+l.height;b-=this.oe,b/=this.yi,w-=this.re,w/=this.wi,P-=this.oe,P/=this.yi,E-=this.re,E/=this.wi;const N=Math.max(0,Math.min(this.wh,b|0)),_=Math.min(this.wh,Math.max(0,P|0)),R=Math.max(0,Math.min(this.xh,w|0)),$=Math.min(this.xh,Math.max(0,E|0)),q=0,X=90,H=270,tt=this.Ot,Q=c|0,nt=f|0,ht=g|0,it=y|0,st=t===q||t===X?1:-1,ct=t===X||t===H;tt[Q][nt]===Je.Ws?(this.w1(Q,nt,ht,it,st,ct,N,_,R,$),this.w1(Q,nt,ht,it,1,!ct,N,_,R,$),this.w1(Q,nt,ht,it,-1,!ct,N,_,R,$)):this.w1(Q,nt,ht,it,st,ct,Q,nt,Q,nt),tt[ht][it]===Je.Ws?(this.b1(Q,nt,ht,it,o===q||o===X?1:-1,o===X||o===H,N,_,R,$),this.b1(Q,nt,ht,it,1,!(o===X||o===H),N,_,R,$),this.b1(Q,nt,ht,it,-1,!(o===X||o===H),N,_,R,$)):this.b1(Q,nt,ht,it,st,ct,ht,it,ht,it);const ut=n.rt();if(u&&this.oT(ht,it,o,Q,nt,ut)){(ut[0]!==ht||ut[1]!==it)&&(ut.unshift(it),ut.unshift(ht)),(ut[ut.length-2]!==Q||ut[ut.length-1]!==nt)&&(ut.push(Q),ut.push(nt));let pt=Je.Ia,Tt=ut[ut.length-2],Et=ut[ut.length-1];tt[Tt][Et]=pt++;for(let m=ut.length-4;m>=0;m-=2){Tt=ut[m+2],Et=ut[m+3];const k=ut[m],D=ut[m+1];for(;k>Tt?Tt++:k<Tt?Tt--:D>Et?Et++:D<Et&&Et--,tt[Tt][Et]=pt++,!(Tt===k&&Et===D););}}else this.fo(Q,nt,1,!1,N,_,R,$),this.fo(Q,nt,-1,!1,N,_,R,$),this.fo(Q,nt,1,!0,N,_,R,$),this.fo(Q,nt,-1,!0,N,_,R,$);n.it(ut)}oT(i,t,r,o,l,u){const c=this.Ot;let f=i,g=t;for(;;){if(f===o&&g===l)return!0;let y=f,b=g;if(r===0)if(y<o)y++;else break;else if(r===90)if(b<l)b++;else break;else if(r===180)if(y>o)y--;else break;else if(b>l)b--;else break;const w=c[y][b];if(w===0||w===Je.aN)break;f=y,g=b}for(;;){let y=r,b=f,w=g;r===0?w<l?(y=90,w++):w>l&&(y=270,w--):r===90?b<o?(y=0,b++):b>o&&(y=180,b--):r===180?w<l?(y=90,w++):w>l&&(y=270,w--):b<o?(y=0,b++):b>o&&(y=180,b--);const P=c[b][w];if(y!==r&&P!==0&&P!==Je.aN){if(u.push(f),u.push(g),this.oT(f,g,y,o,l,u))return!0;u.pop(),u.pop()}if(c[f][g]=Je.aN,r===0){if(f===i)return!1;f--}else if(r===90){if(g===t)return!1;g--}else if(r===180){if(f===i)return!1;f++}else{if(g===t)return!1;g++}}}};T(Je,"Ws",0),T(Je,"Ia",1),T(Je,"Bd",999999),T(Je,"hN",Je.Bd+1),T(Je,"aN",Je.Bd+2);let Fr=Je;class $o{constructor(){T(this,"de");T(this,"Qo");T(this,"ls");T(this,"zd");M.Yi(this),this.de=null,this.Qo=null,this.ls=[],this.zd=!1}toString(){const i=this.ls;let t=this.de.toString()+" "+i.length.toString()+":";for(let r=0;r<i.length;r++){const o=i[r];o!==null&&(t+=`
  `+o.toString())}return t}cO(i,t,r,o){const l=t.offsetY;switch(l){case 8:return 90;case 2:return 180;case 1:return 270;case 4:return 0}let u=r;switch(l){case 9:return u>180?270:90;case 6:return u>90&&u<=270?180:0}const c=Math.atan2(i.height,i.width)*180/Math.PI;switch(l){case 3:return u>c&&u<=180+c?180:270;case 5:return u>180-c&&u<=360-c?270:0;case 12:return u>c&&u<=180+c?90:0;case 10:return u>180-c&&u<=360-c?180:90;case 7:return u>90&&u<=180+c?180:u>180+c&&u<=360-c?270:0;case 13:return u>180&&u<=360-c?270:u>c&&u<=180?90:0;case 14:return u>c&&u<=180-c?90:u>180-c&&u<=270?180:0;case 11:return u>180-c&&u<=180+c?180:u>180+c?270:90}return o&&l!==15&&(u-=15,u<0&&(u+=360)),u>c&&u<180-c?90:u>=180-c&&u<=180+c?180:u>180+c&&u<360-c?270:0}Td(){this.ls.length=0}eT(i){let t=this.ls;t.length===0&&(this.fO(),t=this.ls);for(let r=0;r<t.length;r++){const o=t[r];if(o!==null&&o.qe===i)return o}return null}fO(){if(!this.zd){const i=this.zd;this.zd=!0;let t,r=null;const o=this.de,l=o instanceof Ut?o:null;if(l!==null&&!l.isSubGraphExpanded){if(!l.actualBounds.isReal())return this.zd=i,this.ls;r=l,t=r.findExternalLinksConnected()}else o.isTreeExpanded?t=o.findLinksConnected(this.Qo.portId):t=o.findExternalTreeLinksConnected();this.ls.length=0;let u=0;const c=this.Qo.getDocumentPoint(U.TopLeft,C.l()),f=this.Qo.getDocumentPoint(U.BottomRight,C.l()),g=F.X(c.x,c.y,0,0);g.unionPoint(f),C.s(c),C.s(f);const y=C.X(g.x+g.width/2,g.y+g.height/2),b=this.Qo.getDocumentAngle(),w=t.iterator;for(;w.next();){const _=w.value;if(!_.isVisible()||_.fromPort===_.toPort)continue;const R=_.fromPort===this.Qo||_.fromNode!==null&&_.fromNode.isMemberOf(r),$=_.computeSpot(R,this.Qo);if(!$.isSide())continue;let q;if(R?q=_.toPort:q=_.fromPort,q===null)continue;let X=q.part;if(X===null)continue;const H=X.findVisibleNode();H!==null&&H!==X&&(X=H,q=X.port);const tt=_.computeOtherPoint(X,q);let Q=y.directionPoint(tt);Q-=b,Q<0?Q+=360:Q>=360&&(Q-=360);const nt=this.cO(g,$,Q,_.isOrthogonal);let ht=0;nt===0?(ht=4,Q>180&&(Q-=360)):nt===90?(ht=8,Q>270&&(Q-=360)):nt===180?ht=2:(ht=1,Q<90&&(Q+=360));let it=this.ls[u];it===void 0?(it=new Is(_,Q,ht),this.ls[u]=it):(it.qe=_,it.Xt=Q,it.pe=ht),it.k1.set(tt),u++}C.s(y),this.uO();const P=this.ls.length;let E=-1,N=0;for(u=0;u<P;u++){const _=this.ls[u];_!==void 0&&(_.pe!==E&&(E=_.pe,N=0),_.Xd=N,N++)}for(E=-1,N=0,u=P-1;u>=0;u--){const _=this.ls[u];_!==void 0&&(_.pe!==E&&(E=_.pe,N=_.Xd+1),_.Mf=N)}this.dO(this.ls),this.gO(this.ls),this.zd=i,F.s(g)}return this.ls}mO(i,t){return i===t?0:i===null?-1:t===null?1:i.pe<t.pe?-1:i.pe>t.pe?1:i.Xt<t.Xt?-1:i.Xt>t.Xt?1:0}uO(){this.ls.sort($o.prototype.mO)}dO(i){const t=this.Qo,r=this.de.portSpreading,o=C.l(),l=C.l(),u=C.l(),c=C.l();t.getDocumentPoint(U.TopLeft,o),t.getDocumentPoint(U.TopRight,l),t.getDocumentPoint(U.BottomRight,u),t.getDocumentPoint(U.BottomLeft,c);let f=0,g=0,y=0,b=0;if(r===2)for(let q=0;q<i.length;q++){const X=i[q];if(X===null)continue;const H=X.qe.computeThickness();switch(X.pe){case 8:y+=H;break;case 2:b+=H;break;case 1:f+=H;break;default:case 4:g+=H;break}}let w=0,P=0,E=1,N,_,R=0,$=0;for(let q=0;q<i.length;q++){const X=i[q];if(X===null)continue;if(w!==X.pe){switch(w=X.pe,w){case 8:N=u,_=c;break;case 2:N=c,_=o;break;case 1:N=o,_=l;break;default:case 4:N=l,_=u;break}switch(R=_.x-N.x,$=_.y-N.y,w){case 8:y>Math.abs(R)?(E=Math.abs(R)/y,y=Math.abs(R)):E=1;break;case 2:b>Math.abs($)?(E=Math.abs($)/b,b=Math.abs($)):E=1;break;case 1:f>Math.abs(R)?(E=Math.abs(R)/f,f=Math.abs(R)):E=1;break;default:case 4:g>Math.abs($)?(E=Math.abs($)/g,g=Math.abs($)):E=1;break}P=0}const H=X.Ud;if(r===2){let tt=X.qe.computeThickness();switch(tt*=E,H.set(N),w){case 8:H.x=N.x+R/2+y/2-P-tt/2;break;case 2:H.y=N.y+$/2+b/2-P-tt/2;break;case 1:H.x=N.x+R/2-f/2+P+tt/2;break;default:case 4:H.y=N.y+$/2-g/2+P+tt/2;break}P+=tt}else{let tt=.5;r===1&&(tt=(X.Xd+1)/(X.Mf+1)),H.x=N.x+R*tt,H.y=N.y+$*tt}}C.s(o),C.s(l),C.s(u),C.s(c)}gO(i){for(let t=0;t<i.length;t++){const r=i[t];r!==null&&(r.m1=this.pO(r))}}pO(i){const t=i.qe,r=t.fromPort===this.Qo,o=t.computeEndSegmentLength(this.de,this.Qo,U.None,r);let l=i.Xd;if(l<0)return o;const u=i.Mf;if(u<=1||!t.isOrthogonal)return o;const c=i.k1,f=i.Ud;(i.pe===2||i.pe===8)&&(l=u-1-l);const g=se.Vv,y=i.pe===2||i.pe===4;return(y?c.y<f.y:c.x<f.x)?o+l*g:(y?c.y===f.y:c.x===f.x)?o:o+(u-1-l)*g}}class Is{constructor(i,t,r){T(this,"qe");T(this,"Xt");T(this,"pe");T(this,"k1");T(this,"Xd");T(this,"Mf");T(this,"Ud");T(this,"m1");this.qe=i,this.Xt=t,this.pe=r,this.k1=new C,this.Xd=0,this.Mf=0,this.Ud=new C,this.m1=0}toString(){return this.qe.toString()+" "+this.Xt.toString()+" "+this.pe.toString()+":"+this.Xd.toString()+"/"+this.Mf.toString()+" "+this.Ud.toString()+" "+this.m1.toString()+" "+this.k1.toString()}}class fo{constructor(){T(this,"aa");T(this,"ca");T(this,"fa");T(this,"ua");T(this,"da");T(this,"ga");T(this,"I0");T(this,"v0");T(this,"E0");T(this,"O0");this.aa=U.Default,this.ca=U.Default,this.fa=NaN,this.ua=NaN,this.da=NaN,this.ga=NaN,this.I0=null,this.v0=null,this.E0=1/0,this.O0=1/0}copy(){const i=new fo;return i.aa=this.aa.N(),i.ca=this.ca.N(),i.fa=this.fa,i.ua=this.ua,i.da=this.da,i.ga=this.ga,i.I0=this.I0,i.v0=this.v0,i.E0=this.E0,i.O0=this.O0,i}}class Fs{constructor(){T(this,"C0");T(this,"L0");T(this,"A0");T(this,"N0");T(this,"xp");T(this,"bp");this.C0=-1/0,this.L0=0,this.A0=C.ko,this.N0=0,this.xp="None",this.bp="None"}copy(){const i=new Fs;return i.C0=this.C0,i.L0=this.L0,i.A0=this.A0.N(),i.N0=this.N0,i.xp=this.xp,i.bp=this.bp,i}}class Ut extends Jt{constructor(t,r){let o;t===void 0||t instanceof Ee||typeof t=="string"?o=t:t&&(r=t);super(o);T(this,"Kd");T(this,"It");T(this,"ra");T(this,"d0");T(this,"si");T(this,"ie");this.E=this.E|4608,this.Kd=new M,this.It=null,this.ie=new Ie,this.ie.group=this,this.ra=new M,this.d0=null,this.si=null,r&&Object.assign(this,r)}cloneProtected(t){super.cloneProtected(t),this.E=this.E&-32769;const r=t.findInVisualTree(o=>o instanceof zn);r instanceof zn?t.It=r:t.It=null,this.ie!==null?(t.ie=this.ie.copy(),t.ie.group=t):(t.ie!==null&&(t.ie.group=null),t.ie=null),this.si!==null&&(t.si=this.si.copy())}Vo(t){super.Vo(t);const r=t.findSubGraphParts(),o=t.memberParts;for(;o.next();){const l=o.value;if(l.c(),l.invalidateLayout(8),l.clearAdornments(),l instanceof Jt)l.invalidateConnectedLinks(r);else if(l instanceof se){const u=l.labelNodes;for(;u.next();)u.value.invalidateConnectedLinks(r)}}}Wc(t,r,o,l,u,c,f){if(t===3&&r==="elements"){if(u instanceof zn)this.It===null?this.It=u:this.It!==u&&n.o("Cannot insert a second Placeholder into the visual tree of a Group.");else if(u instanceof re){const g=u.findInVisualTree(y=>y instanceof zn);g instanceof zn&&(this.It===null?this.It=g:this.It!==g&&n.o("Cannot insert a second Placeholder into the visual tree of a Group."))}}else t===4&&r==="elements"&&this.It!==null&&(l===this.It?this.It=null:l instanceof re&&this.It.isContainedBy(l)&&(this.It=null));super.Wc(t,r,o,l,u,c,f)}ed(t,r){if(super.ed(t,r),this.isClipping&&this.type!==re.Spot&&this.isSubGraphExpanded){let o=this.resizeObject;o instanceof re&&(o=o.findMainElement()),this.si===null&&(this.si=new F),o.getDocumentBounds(this.si),o instanceof fe&&this.si.inflate(-o.strokeWidth,-o.strokeWidth)}}hh(t,r,o,l){this.hasPlaceholder()&&(this.Jo=this.placeholder),super.hh(t,r,o,l)}ensureBounds(){this.isSubGraphExpanded&&this.memberParts.each(t=>{t.ensureBounds()}),super.ensureBounds()}qr(){if(!super.qr())return!1;const t=this.memberParts;for(;t.next();){const r=t.value;if(r instanceof Jt){if(!r.isVisible())continue;if(r.es())return!1}else if(r instanceof se){if(!r.isVisible())continue;if(r.es()&&r.fromNode!==this&&r.toNode!==this)return!1}}return!0}hasPlaceholder(){return this.It!==null&&this.It.isVisibleObject()&&this.isSubGraphExpanded}get placeholder(){return this.It}get computesBoundsAfterDrag(){return(this.E&2048)!==0}set computesBoundsAfterDrag(t){const r=(this.E&2048)!==0;r!==t&&(n.i(t,"boolean",Ut,"computesBoundsAfterDrag"),this.E=this.E^2048,this.t("computesBoundsAfterDrag",r,t))}get computesBoundsIncludingLinks(){return(this.E&4096)!==0}set computesBoundsIncludingLinks(t){n.i(t,"boolean",Ut,"computesBoundsIncludingLinks");const r=(this.E&4096)!==0;r!==t&&(this.E=this.E^4096,this.t("computesBoundsIncludingLinks",r,t))}get computesBoundsIncludingLocation(){return(this.E&8192)!==0}set computesBoundsIncludingLocation(t){n.i(t,"boolean",Ut,"computesBoundsIncludingLocation");const r=(this.E&8192)!==0;r!==t&&(this.E=this.E^8192,this.t("computesBoundsIncludingLocation",r,t))}get handlesDragDropForMembers(){return(this.E&16384)!==0}set handlesDragDropForMembers(t){n.i(t,"boolean",Ut,"handlesDragDropForMembers");const r=(this.E&16384)!==0;r!==t&&(this.E=this.E^16384,this.t("handlesDragDropForMembers",r,t))}get avoidableMembers(){return(this.E&131072)!==0}set avoidableMembers(t){n.i(t,"boolean",Ut,"avoidableMembers");const r=(this.E&131072)!==0;r!==t&&(this.E=this.E^131072,this.t("avoidableMembers",r,t))}get memberParts(){return this.Kd.iterator}j2(t){if(this.Kd.add(t)){t instanceof Ut&&this.ra.add(t);const o=this.memberAdded;if(o!==null){let l=!0;const u=this.diagram;u!==null&&(l=u.G,u.G=!0),o(this,t),u!==null&&(u.G=l)}(!this.isVisible()||!this.isSubGraphExpanded)&&t.Ei(!1)}if(t instanceof se&&!this.computesBoundsIncludingLinks)return;let r=this.It;r===null&&(r=this),r.c()}G2(t){if(this.Kd.delete(t)){t instanceof Ut&&this.ra.delete(t);const o=this.memberRemoved;if(o!==null){let l=!0;const u=this.diagram;u!==null&&(l=u.G,u.G=!0),o(this,t),u!==null&&(u.G=l)}(!this.isVisible()||!this.isSubGraphExpanded)&&t.Ei(!0)}if(t instanceof se&&!this.computesBoundsIncludingLinks)return;let r=this.It;r===null&&(r=this),r.c()}zc(){if(this.Kd.count>0){const t=this.diagram;if(t!==null){const r=this.Kd.copy().iterator;for(;r.next();){const o=r.value;t.remove(o)}}}super.zc()}get layout(){return this.ie}set layout(t){const r=this.ie;if(r!==t){t!==null&&t.diagram!==null&&t.diagram.layout===t&&n.o("A layout cannot be both the Diagram.layout and a Group.layout: "+t),r!==null&&(r.diagram=null,r.group=null),this.ie=t;const o=this.diagram;t!==null&&(t.diagram=o,t.group=this),o!==null&&(o.Kr=!0),this.t("layout",r,t),o!==null&&o.requestUpdate()}}get memberAdded(){return this.gt!==null?this.gt.uy:null}set memberAdded(t){const r=this.memberAdded;r!==t&&(t!==null&&n.i(t,"function",Ut,"memberAdded"),this.fl(),this.gt.uy=t,this.t("memberAdded",r,t))}get memberRemoved(){return this.gt!==null?this.gt.gy:null}set memberRemoved(t){const r=this.memberRemoved;r!==t&&(t!==null&&n.i(t,"function",Ut,"memberRemoved"),this.fl(),this.gt.gy=t,this.t("memberRemoved",r,t))}get memberValidation(){return this.gt!==null?this.gt.eh:null}set memberValidation(t){const r=this.memberValidation;r!==t&&(t!==null&&n.i(t,"function",Ut,"memberValidation"),this.fl(),this.gt.eh=t,this.t("memberValidation",r,t))}canAddMembers(t){const r=this.diagram;if(r===null)return!1;const o=r.commandHandler,l=o.t2(t).iterator;for(;l.next();){const u=l.value;if(!o.isValidMember(this,u))return!1}return!0}addMembers(t,r){const o=this.diagram;if(o===null)return!1;const l=o.commandHandler,u=l.t2(t);let c=!0;const f=u.iterator;for(;f.next();){const g=f.value;!r||l.isValidMember(this,g)?g.containingGroup=this:c=!1}return c}get ungroupable(){return(this.E&256)!==0}set ungroupable(t){const r=(this.E&256)!==0;r!==t&&(n.i(t,"boolean",Ut,"ungroupable"),this.E=this.E^256,this.t("ungroupable",r,t))}canUngroup(){if(!this.ungroupable)return!1;const t=this.layer;if(t===null||!t.allowUngroup)return!1;const r=t.diagram;return!(r!==null&&!r.allowUngroup)}invalidateConnectedLinks(t){const r=this.yO();if(super.invalidateConnectedLinks(t),r)return;this.bL(!0);const o=this.findExternalLinksConnected();for(;o.next();){const l=o.value;if(t!==void 0&&t.has(l))continue;const u=l.fromNode;if(u!==null&&u!==this&&u.isMemberOf(this)&&!u.isVisible())u.me(l.fromPort),u.me(l.toPort),l.invalidateRoute();else{const c=l.toNode;c!==null&&c!==this&&c.isMemberOf(this)&&!c.isVisible()&&(c.me(l.fromPort),c.me(l.toPort),l.invalidateRoute())}}}findExternalLinksConnected(){const t=this.diagram!==null&&this.diagram.uS;if(t&&this.d0!==null)return this.d0.iterator;const r=this.findSubGraphParts();r.add(this);const o=new M,l=r.iterator;for(;l.next();){const u=l.value;if(!(u instanceof Jt))continue;const c=u.linksConnected;for(;c.next();){const f=c.value;r.has(f)||o.add(f)}}return t&&(this.d0=o),o.iterator}findExternalNodesConnected(){const t=this.findSubGraphParts();t.add(this);const r=new M,o=t.iterator;for(;o.next();){const l=o.value;if(!(l instanceof Jt))continue;const u=l.linksConnected;for(;u.next();){const c=u.value,f=c.fromNode;f!==null&&(!t.has(f)||f===this)&&r.add(f);const g=c.toNode;g!==null&&(!t.has(g)||g===this)&&r.add(g)}}return r.iterator}gE(){function t(o,l){o!==null&&(l.add(o),t(o.containingGroup,l))}const r=new M;return t(this,r),r}findSubGraphParts(){const t=new M;return Le.sh(t,this,!0,0,!0),t.delete(this),t}Ei(t){super.Ei(t);const r=this.memberParts;for(;r.next();)r.value.Ei(t)}collapseSubGraph(){const t=this.diagram;if(t===null||t.isCollapsingExpanding)return;t.isCollapsingExpanding=!0;const r=this.findSubGraphParts();this.rT(r,t,this),t.isCollapsingExpanding=!1}rT(t,r,o){const l=this.memberParts;for(;l.next();){const u=l.value;if(u.Ei(!1),u instanceof Ut&&u.isSubGraphExpanded&&(u.wasSubGraphExpanded=u.isSubGraphExpanded,u.rT(t,r,o)),u instanceof Jt)u.invalidateConnectedLinks(t),r.Nc(u,o);else if(u instanceof se){const c=u.labelNodes;for(;c.next();)c.value.invalidateConnectedLinks(t)}}this.isSubGraphExpanded=!1}expandSubGraph(){const t=this.diagram;if(t===null||t.isCollapsingExpanding)return;t.isCollapsingExpanding=!0;const r=this.findSubGraphParts();this.lT(r,t,this),t.isCollapsingExpanding=!1}lT(t,r,o){const l=this.memberParts;for(;l.next();){const u=l.value;if(u.Ei(!0),u instanceof Ut&&u.wasSubGraphExpanded&&(u.wasSubGraphExpanded=!1,u.lT(t,r,o)),u instanceof Jt)u.invalidateConnectedLinks(t);else if(u instanceof se){const c=u.labelNodes;for(;c.next();)c.value.invalidateConnectedLinks(t)}}this.isSubGraphExpanded=!0}get isSubGraphExpanded(){return(this.E&512)!==0}set isSubGraphExpanded(t){const r=(this.E&512)!==0;if(r!==t){n.i(t,"boolean",Ut,"isSubGraphExpanded"),this.E=this.E^512;const o=this.diagram;this.t("isSubGraphExpanded",r,t);const l=this.subGraphExpandedChanged;if(l!==null){let u=!0;o!==null&&(u=o.G,o.G=!0),l(this),o!==null&&(o.G=u)}if(o!==null&&o.undoManager.isUndoingRedoing){this.It!==null&&this.It.c(),this.memberParts.each(u=>u.updateAdornments());return}t?this.expandSubGraph():this.collapseSubGraph()}}get wasSubGraphExpanded(){return(this.E&1024)!==0}set wasSubGraphExpanded(t){const r=(this.E&1024)!==0;r!==t&&(n.i(t,"boolean",Ut,"wasSubGraphExpanded"),this.E=this.E^1024,this.t("wasSubGraphExpanded",r,t))}get subGraphExpandedChanged(){return this.gt!==null?this.gt.my:null}set subGraphExpandedChanged(t){const r=this.subGraphExpandedChanged;r!==t&&(t!==null&&n.i(t,"function",Ut,"subGraphExpandedChanged"),this.fl(),this.gt.my=t,this.t("subGraphExpandedChanged",r,t))}move(t,r){r===void 0&&(r=!1);const o=r?this.location:this.position,l=o.x,u=o.y,c=t.x,f=t.y;if((l===c||isNaN(l)&&isNaN(c))&&(u===f||isNaN(u)&&isNaN(f)))return;const g=c-(isNaN(l)?0:l),y=f-(isNaN(u)?0:u),b=C.l();super.move(t,r);const w=new M,P=this.findSubGraphParts().iterator;for(;P.next();){const E=P.value;E instanceof se&&(E.suspendsRouting&&w.add(E),!(!E.Ne&&(E.fromNode===this||E.toNode===this))&&(E.suspendsRouting=!0))}for(P.reset();P.next();){const E=P.value;if(E.Ll()||E instanceof Jt&&E.isLinkLabel)continue;const N=E.position,_=E.location;N.isReal()?(b.x=N.x+g,b.y=N.y+y,E.position=b):_.isReal()&&(b.x=_.x+g,b.y=_.y+y,E.location=b)}for(P.reset();P.next();){const E=P.value;if(!(E instanceof se)||(E.suspendsRouting=w.has(E),!E.Ne&&(E.fromNode===this||E.toNode===this)))continue;const N=E.position;b.x=N.x+g,b.y=N.y+y,b.isReal()?E.move(b):E.invalidateRoute()}C.s(b)}yO(){return(this.E&65536)!==0}bL(t){(this.E&65536)!==0!==t&&(this.E=this.E^65536)}get $r(){return(this.E&32768)!==0}set $r(t){(this.E&32768)!==0!==t&&(this.E=this.E^32768)}}class zn extends dn{constructor(t){super();T(this,"Zt");T(this,"Yd");this.Zt=Y.Ug,this.Yd=new F(NaN,NaN,NaN,NaN),t&&Object.assign(this,t)}cloneProtected(t){super.cloneProtected(t),t.Zt=this.Zt.N(),t.Yd=this.Yd.copy()}lh(t){if(this.background===null)return!1;const r=this.naturalBounds;return F.contains(0,0,r.width,r.height,t.x,t.y)}_u(t,r,o,l){const u=this.part;if((u===null||!(u instanceof Ut)&&!(u instanceof ye))&&n.o("Placeholder is not inside a Group or Adornment."),u instanceof Ut){const c=this.computeBorder(this.Yd),f=this.minSize,g=isFinite(f.width)?Math.max(f.width,c.width):c.width,y=isFinite(f.height)?Math.max(f.height,c.height):c.height,b=this.Vi;b.Po(g||0,y||0),this.Zn(0,0,b.width,b.height);const w=u.memberParts;let P=!1;for(;w.next();)if(w.value.isVisible()){P=!0;break}const E=u.diagram;if(P&&E!==null&&!E.animationManager.NM(u)&&!isNaN(c.x)&&!isNaN(c.y)){const N=C.l();N.setRectSpot(c,u.locationSpot),u.location=N,C.s(N)}}else{const c=u,f=this.Vi,g=this.Zt,y=g.left+g.right,b=g.top+g.bottom,w=c.adornedObject,P=w.getDocumentAngle();c.angle=P;let E=0;w instanceof fe&&(E=w.strokeWidth);const N=w.getDocumentScale(),_=w.naturalBounds,R=(_.width+E)*N,$=(_.height+E)*N;if(c.type!==re.Link){const q=c.category==="Selection"?U.TopLeft:c.locationSpot,X=w.getDocumentPoint(q,C.l());c.location=X,C.s(X)}if(!isNaN(R)&&!isNaN($))f.Po(R+y||0,$+b||0),this.Zn(-g.left,-g.top,f.width,f.height);else{const q=w.getDocumentPoint(U.TopLeft,C.l()),X=F.X(q.x,q.y,0,0);X.unionPoint(w.getDocumentPoint(U.BottomRight,q)),X.unionPoint(w.getDocumentPoint(U.TopRight,q)),X.unionPoint(w.getDocumentPoint(U.BottomLeft,q)),f.Po(X.width+y||0,X.height+b||0),this.Zn(-g.left,-g.top,f.width,f.height),C.s(q),F.s(X)}}}hh(t,r,o,l){this.actualBounds.e(t,r,o,l)}computeBorder(t){const r=this.part,o=r.diagram,l=o===null||!o.animationManager.isAnimating;if(o!==null&&r instanceof Ut&&!r.layer.isTemporary&&r.computesBoundsAfterDrag&&this.Yd.isReal()){const g=o.toolManager.findTool("Dragging");if(g===o.currentTool){const y=g.computeBorder(r,this.Yd,t);if(y!==null)return y}}const u=F.l(),c=this.computeMemberBounds(u),f=this.Zt;return r instanceof Ut&&!r.isSubGraphExpanded?t.e(c.x-f.left,c.y-f.top,0,0):t.e(c.x-f.left,c.y-f.top,Math.max(c.width+f.left+f.right,0),Math.max(c.height+f.top+f.bottom,0)),F.s(u),l&&r instanceof Ut&&r.computesBoundsIncludingLocation&&r.location.isReal()&&t.unionPoint(r.location),t}computeMemberBounds(t){if(!(this.part instanceof Ut))return t.e(0,0,0,0),t;const r=this.part;let o=1/0,l=1/0,u=-1/0,c=-1/0;const f=r.memberParts;for(;f.next();){const g=f.value;if(!g.isVisible()||g instanceof se&&(!r.computesBoundsIncludingLinks||g.Oo()||g.fromNode===r||g.toNode===r))continue;const y=g.actualBounds;y.left<o&&(o=y.left),y.top<l&&(l=y.top),y.right>u&&(u=y.right),y.bottom>c&&(c=y.bottom)}if(!isFinite(o)||!isFinite(l)){const g=r.location;t.e(g.x,g.y,0,0)}else t.e(o,l,u-o,c-l);return t}get padding(){return this.Zt}set padding(t){typeof t=="number"&&(t=new Y(t));const r=this.Zt;r.equals(t)||(t=t.N(),this.Zt=t,this.t("padding",r,t),this.c())}}class Ie{constructor(i){T(this,"p");T(this,"la");T(this,"Gd");T(this,"kr");T(this,"jd");T(this,"Hd");T(this,"Fo");T(this,"dl");T(this,"qd");T(this,"Wd");T(this,"uo");M.Yi(this),this.p=null,this.la=null,this.Gd=!0,this.kr=!0,this.jd=!1,this.Hd=new C(0,0).g(),this.Fo=!0,this.dl=null,this.qd=null,this.Wd=!1,this.uo=null,i&&Object.assign(this,i)}cloneProtected(i){i.Gd=this.Gd,i.kr=this.kr,i.jd=this.jd,i.Hd.a(this.Hd),i.Fo=this.Fo,i.dl=this.dl,i.qd=this.qd,i.Wd=!0}copy(){const i=new this.constructor;return this.cloneProtected(i),i}li(i){}toString(){let i=n.sn(this.constructor);return i+="(",this.group!==null&&(i+=" in "+this.group),this.diagram!==null&&(i+=" for "+this.diagram),i+=")",i}get diagram(){return this.p}set diagram(i){this.p=i}get group(){return this.la}set group(i){this.la!==i&&(this.la=i,i!==null&&(this.p=i.diagram))}get isOngoing(){return this.Gd}set isOngoing(i){this.Gd!==i&&(n.i(i,"boolean",Ie,"isOngoing"),this.Gd=i)}get isInitial(){return this.kr}set isInitial(i){n.i(i,"boolean",Ie,"isInitial"),this.kr=i,i||(this.Wd=!0)}get isViewportSized(){return this.jd}set isViewportSized(i){this.jd!==i&&(n.i(i,"boolean",Ie,"isViewportSized"),this.jd=i,i&&this.invalidateLayout())}get isRouting(){return this.Fo}set isRouting(i){this.Fo!==i&&(n.i(i,"boolean",Ie,"isRouting"),this.Fo=i)}get isRealtime(){return this.dl}set isRealtime(i){this.dl!==i&&(i!==null&&n.i(i,"boolean",Ie,"isRealtime"),this.dl=i)}get isValidLayout(){return this.Wd}set isValidLayout(i){if(this.Wd!==i&&(n.i(i,"boolean",Ie,"isValidLayout"),this.Wd=i,!i)){const t=this.diagram;t!==null&&(t.Kr=!0)}}invalidateLayout(){if(this.isValidLayout){const i=this.diagram;if(i===null||i.undoManager.isUndoingRedoing)return;const t=i.animationManager;if(t.isTicking)return;t.defaultAnimation.isAnimating&&t.stopAnimation(),(this.isOngoing&&i.Eh||this.isInitial&&!i.Eh)&&(this.isValidLayout=!1,i.requestUpdate())}}get network(){return this.uo}set network(i){this.uo!==i&&(this.uo=i,i!==null&&(i.layout=this))}createNetwork(){return new ys(this)}makeNetwork(i){const t=this.createNetwork();return i instanceof xe?(t.addParts(i.nodes,!0),t.addParts(i.links,!0)):i instanceof Ut?t.addParts(i.memberParts):t.addParts(i.iterator),t}updateParts(){this.isValidLayout=!0;let i=this.diagram;if(i===null&&this.network!==null){const t=this.network.vertexes.iterator;for(;t.next();){const r=t.value.node;if(r!==null&&(i=r.diagram,i!==null))break}}try{i!==null&&i.startTransaction("Layout"),this.commitLayout()}finally{i!==null&&i.commitTransaction("Layout")}}commitLayout(){if(this.network===null)return;const i=this.network.vertexes.iterator;for(;i.next();)i.value.commit();if(this.isRouting){const t=this.network.edges.iterator;for(;t.next();)t.value.commit()}}doLayout(i){const t=new M;if(i instanceof xe?(this.bh(t,i.nodes,!0,this.$r,!0,!1,!0),this.bh(t,i.parts,!0,this.$r,!0,!1,!0)):i instanceof Ut?this.bh(t,i.memberParts,!1,this.$r,!0,!1,!0):t.addAll(i.iterator),t.count>0){const r=this.diagram;r!==null&&r.startTransaction("Layout"),this.doMinimalNoNetworkLayout(t),r!==null&&r.commitTransaction("Layout")}this.isValidLayout=!0}doMinimalNoNetworkLayout(i){const t=i.count,r=Math.ceil(Math.sqrt(t));this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin);const o=this.arrangementOrigin.x,l=this.arrangementOrigin.y;let u=o,c=l,f=0,g=0;const y=i.iterator;for(;y.next();){const b=y.value;b.ensureBounds();const w=b.measuredBounds,P=w.width,E=w.height;b.moveTo(u,c),b instanceof Ut&&(b.$r=!1),u+=Math.max(P,50)+20,g=Math.max(g,Math.max(E,50)),f>=r-1?(f=0,u=o,c+=g+20,g=0):f++}}doMinimalNetworkLayout(){const i=this.network.vertexes.count,t=Math.ceil(Math.sqrt(i));this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin);const r=this.arrangementOrigin.x,o=this.arrangementOrigin.y;let l=r,u=o,c=0,f=0;const g=this.network.vertexes.iterator;for(;g.next();){const y=g.value.node;if(y===null||y instanceof se||(y.ensureBounds(),!this.$r(y)))continue;const b=y.measuredBounds,w=b.width,P=b.height;y.moveTo(l,u),y instanceof Ut&&(y.$r=!1),l+=Math.max(w,50)+20,f=Math.max(f,Math.max(P,50)),c>=t-1?(c=0,l=r,u+=f+20,f=0):c++}}$r(i){return!!(!i.location.isReal()&&!i.position.isReal()||i instanceof Ut&&i.$r)}bh(i,t,r,o,l,u,c){const f=t.iterator;for(;f.next();){const g=f.value;if(!(r&&!g.isTopLevel)&&!(o!==null&&!o(g))&&g.canLayout())if(l&&g instanceof Jt){if(g.isLinkLabel)continue;g instanceof Ut&&g.layout===null?this.bh(i,g.memberParts,!1,o,l,u,c):(g.ensureBounds(),i.add(g))}else u&&g instanceof se?i.add(g):c&&g.Me()&&!(g instanceof Jt)&&(g.ensureBounds(),i.add(g))}}getLayoutBounds(i,t){const r=this.boundsComputation;return r!==null?(t||(t=new F),r(i,this,t)):!t&&i.margin.equalTo(0,0,0,0)?i.actualBounds:(t||(t=new F),t.set(i.actualBounds),t.addMargin(i.margin),t)}get boundsComputation(){return this.qd}set boundsComputation(i){this.qd!==i&&(i!==null&&n.i(i,"function",Ie,"boundsComputation"),this.qd=i,this.invalidateLayout())}collectParts(i){const t=new M;return i instanceof xe?(this.bh(t,i.nodes,!0,null,!0,!0,!0),this.bh(t,i.links,!0,null,!0,!0,!0),this.bh(t,i.parts,!0,null,!0,!0,!0)):i instanceof Ut?this.bh(t,i.memberParts,!1,null,!0,!0,!0):this.bh(t,i.iterator,!1,null,!0,!0,!0),t}get arrangementOrigin(){return this.Hd}set arrangementOrigin(i){this.Hd.equals(i)||(this.Hd.a(i),this.invalidateLayout())}initialOrigin(i){const t=this.group;if(t!==null)if(t.hasPlaceholder()){const r=t.placeholder,o=r.getDocumentPoint(U.TopLeft);(isNaN(o.x)||isNaN(o.y))&&o.set(i);const l=r.padding;return o.x+=l.left,o.y+=l.top,o}else{const r=t.position.copy();return(isNaN(r.x)||isNaN(r.y))&&r.set(i),r}return i}}class ys{constructor(i){T(this,"ie");T(this,"go");T(this,"Cn");T(this,"ky");T(this,"Py");M.Yi(this),this.ie=i,this.go=new M,this.Cn=new M,this.ky=new V,this.Py=new V}clear(){if(this.go){const i=this.go.iterator;for(;i.next();)i.value.clear()}if(this.Cn){const i=this.Cn.iterator;for(;i.next();)i.value.clear()}this.go=new M,this.Cn=new M,this.ky=new V,this.Py=new V}toString(i){i===void 0&&(i=0);let t="LayoutNetwork"+(this.layout!==null?"("+this.layout.toString()+")":"");if(i<=0)return t;if(t+=" vertexes: "+this.go.count+" edges: "+this.Cn.count,i>1){const r=this.go.iterator;for(;r.next();){const l=r.value;t+=`
    `+l.toString(i-1)}const o=this.Cn.iterator;for(;o.next();){const l=o.value;t+=`
    `+l.toString(i-1)}}return t}get layout(){return this.ie}set layout(i){i!==null&&(this.ie=i)}get vertexes(){return this.go}get edges(){return this.Cn}createVertex(){return new jr(this)}createEdge(){return new vs(this)}addParts(i,t,r){if(i===null)return;t===void 0&&(t=!1),n.i(t,"boolean",ys,"addParts:toplevelonly"),r===void 0&&(r=null),r===null&&(r=l=>{if(l instanceof Jt)return!l.isLinkLabel;if(l instanceof se){const u=l.fromNode;if(u===null||u.isLinkLabel)return!1;const c=l.toNode;return!(c===null||c.isLinkLabel)}return!1});const o=i.iterator;for(;o.next();){const l=o.value;if(l instanceof Jt&&!(t&&!l.isTopLevel)&&l.canLayout()&&r(l))if(l instanceof Ut&&l.layout===null)this.addParts(l.memberParts,!1);else{if(this.findVertex(l)!==null)continue;const u=this.createVertex();u.node=l,this.addVertex(u)}}for(o.reset();o.next();){const l=o.value;if(!(l instanceof se)||t&&!l.isTopLevel||!l.canLayout()||!r(l)||this.findEdge(l)!==null)continue;const u=l.fromNode,c=l.toNode;if(u===null||c===null||u===c)continue;const f=this.findGroupVertex(u),g=this.findGroupVertex(c);this.linkVertexes(f,g,l)}}findGroupVertex(i){if(i===null)return null;const t=i.findVisibleNode();if(t===null)return null;let r=this.findVertex(t);if(r!==null)return r;let o=t.containingGroup;for(;o!==null;){if(r=this.findVertex(o),r!==null)return r;o=o.containingGroup}return null}addVertex(i){if(i===null)return;this.go.add(i);const t=i.node;t!==null&&this.ky.set(t,i),i.network=this}addNode(i){if(i===null)return null;let t=this.findVertex(i);return t===null&&(t=this.createVertex(),t.node=i,this.addVertex(t)),t}deleteVertex(i){if(i!==null&&this.hT(i)){let t=i._o;for(let r=t.count-1;r>=0;r--){const o=t.elt(r);this.deleteEdge(o)}t=i.tr;for(let r=t.count-1;r>=0;r--){const o=t.elt(r);this.deleteEdge(o)}}}hT(i){if(i===null)return!1;const t=this.go.delete(i);if(t){const r=i.node;r!==null&&this.ky.delete(r)}return t}deleteNode(i){if(i===null)return;const t=this.findVertex(i);t!==null&&this.deleteVertex(t)}findVertex(i){return i===null?null:this.ky.get(i)}addEdge(i){if(i===null)return;this.cN(i);const t=i.toVertex;t!==null&&t.addSourceEdge(i);const r=i.fromVertex;r!==null&&r.addDestinationEdge(i)}cN(i){if(i===null)return;this.Cn.add(i);const t=i.link;t!==null&&this.findEdge(t)===null&&this.Py.set(t,i),i.network=this}addLink(i){if(i===null)return null;const t=i.fromNode,r=i.toNode;let o=this.findEdge(i);return o===null?(o=this.createEdge(),o.link=i,t!==null&&(o.fromVertex=this.addNode(t)),r!==null&&(o.toVertex=this.addNode(r)),this.addEdge(o)):(t!==null?o.fromVertex=this.addNode(t):o.fromVertex=null,r!==null?o.toVertex=this.addNode(r):o.toVertex=null),o}deleteEdge(i){if(i===null)return;const t=i.toVertex;t!==null&&t.deleteSourceEdge(i);const r=i.fromVertex;r!==null&&r.deleteDestinationEdge(i),this.fN(i)}fN(i){if(i===null)return!1;const t=this.Cn.delete(i);if(t){const r=i.link;r!==null&&this.Py.delete(r)}return t}deleteLink(i){if(i===null)return;const t=this.findEdge(i);t!==null&&this.deleteEdge(t)}findEdge(i){return i===null?null:this.Py.get(i)}linkVertexes(i,t,r){if(i===null||t===null)return null;if(i.network===this&&t.network===this){const o=this.createEdge();return o.link=r,o.fromVertex=i,o.toVertex=t,this.addEdge(o),o}return null}reverseEdge(i){if(i===null)return;const t=i.fromVertex,r=i.toVertex;t===null||r===null||(t.deleteDestinationEdge(i),r.deleteSourceEdge(i),i.reverseEdge(),t.addSourceEdge(i),r.addDestinationEdge(i))}deleteSelfEdges(){const i=n.rt(),t=this.Cn.iterator;for(;t.next();){const o=t.value;o.fromVertex===o.toVertex&&i.push(o)}const r=i.length;for(let o=0;o<r;o++)this.deleteEdge(i[o]);n.it(i)}deleteArtificialVertexes(){const i=n.rt(),t=this.go.iterator;for(;t.next();){const u=t.value;u.node===null&&u.data===null&&i.push(u)}let r=i.length;for(let u=0;u<r;u++)this.deleteVertex(i[u]);const o=n.rt(),l=this.Cn.iterator;for(;l.next();){const u=l.value;u.link===null&&u.data===null&&o.push(u)}r=o.length;for(let u=0;u<r;u++)this.deleteEdge(o[u]);n.it(i),n.it(o)}deleteUselessEdges(){const i=n.rt(),t=this.Cn.iterator;for(;t.next();){const o=t.value;(o.fromVertex===null||o.toVertex===null)&&i.push(o)}const r=i.length;for(let o=0;o<r;o++)this.deleteEdge(i[o]);n.it(i)}isSingleton(i){return!(i._o.count>0||i.tr.count>0)}splitIntoSubNetworks(i){i===void 0&&(i=!0),i&&(this.deleteArtificialVertexes(),this.deleteUselessEdges(),this.deleteSelfEdges());const t=new x;let r=!0;for(;r;){r=!1;const o=this.go.iterator;for(;o.next();){const l=o.value;if(this.isSingleton(l))continue;const u=this.layout.createNetwork();t.add(u),this.wO(u,l),r=!0;break}}return t.sort((o,l)=>o===null||l===null||o===l?0:l.vertexes.count-o.vertexes.count),t}wO(i,t){if(t===null)return;const r=new x;for(r.add(t);r.count>0;){const o=r.first();if(r.removeAt(0),o.network===i)continue;this.hT(o),i.addVertex(o);let l=o.sourceEdges;for(;l.next();){const u=l.value;u.network!==i&&(this.fN(u),i.cN(u),r.add(u.fromVertex))}for(l=o.destinationEdges;l.next();){const u=l.value;u.network!==i&&(this.fN(u),i.cN(u),r.add(u.toVertex))}}}findAllParts(){const i=new M,t=this.go.iterator;for(;t.next();){const o=t.value;i.add(o.node)}const r=this.Cn.iterator;for(;r.next();){const o=r.value;i.add(o.link)}return i}}class jr{constructor(i){T(this,"uo");T(this,"Qt");T(this,"de");T(this,"Te");T(this,"We");T(this,"_o");T(this,"tr");M.Yi(this),this.uo=i,this.Te=new F(0,0,10,10).g(),this.We=new C(5,5).g(),this.Qt=null,this.de=null,this._o=new x,this.tr=new x}clear(){this.Qt=null,this.de=null,this._o=new x,this.tr=new x}toString(i){i===void 0&&(i=0);let t="LayoutVertex#"+M.cs(this);if(i>0&&(t+=this.node!==null?"("+this.node.toString()+")":"",i>1)){let r="",o=!0,l=this._o.iterator;for(;l.next();){const c=l.value;o?o=!1:r+=",",r+=c.toString(0)}let u="";for(o=!0,l=this.tr.iterator;l.next();){const c=l.value;o?o=!1:u+=",",u+=c.toString(0)}t+=" sources: "+r+" destinations: "+u}return t}get mo(){return this._o.WN}get ir(){return this.tr.WN}get data(){return this.Qt}set data(i){if(this.Qt=i,i!==null&&i.bounds){const t=i.bounds,r=t.x,o=t.y,l=t.width,u=t.height;this.We.e(l/2,u/2),this.Te.e(r,o,l,u)}}get node(){return this.de}set node(i){if(this.de!==i){this.de=i,i.ensureBounds();const t=this.network.layout,r=F.l(),o=t.getLayoutBounds(i,r);let l=o.x,u=o.y;const c=o.width,f=o.height;if(isNaN(l)&&(l=0),isNaN(u)&&(u=0),this.Te.e(l,u,c,f),F.s(r),!(i instanceof Ut)){const g=i.locationObject.getDocumentPoint(U.Center);if(g.isReal()){this.We.e(g.x-l,g.y-u);return}}this.We.e(c/2,f/2)}}get bounds(){return this.Te}set bounds(i){this.Te.equals(i)||this.Te.a(i)}get focus(){return this.We}set focus(i){this.We.equals(i)||this.We.a(i)}get centerX(){return this.Te.x+this.We.x}set centerX(i){const t=this.Te;t.x+this.We.x!==i&&(t.lt(),t.x=i-this.We.x,t.g())}get centerY(){return this.Te.y+this.We.y}set centerY(i){const t=this.Te;t.y+this.We.y!==i&&(t.lt(),t.y=i-this.We.y,t.g())}get focusX(){return this.We.x}set focusX(i){const t=this.We;t.x!==i&&(t.lt(),t.x=i,t.g())}get focusY(){return this.We.y}set focusY(i){const t=this.We;t.y!==i&&(t.lt(),t.y=i,t.g())}get x(){return this.Te.x}set x(i){const t=this.Te;t.x!==i&&(t.lt(),t.x=i,t.g())}get y(){return this.Te.y}set y(i){const t=this.Te;t.y!==i&&(t.lt(),t.y=i,t.g())}get width(){return this.Te.width}set width(i){const t=this.Te;t.width!==i&&(t.lt(),t.width=i,t.g())}get height(){return this.Te.height}set height(i){const t=this.Te;t.height!==i&&(t.lt(),t.height=i,t.g())}commit(){const i=this.Qt;if(i!==null){const r=this.bounds,o=i.bounds;n.wt(o)?(o.x=r.x,o.y=r.y,o.width=r.width,o.height=r.height):i.bounds=r.copy();return}const t=this.node;if(t!==null){const r=this.bounds;if(!(t instanceof Ut)){const o=F.l();t.ensureBounds();const l=this.network.layout.getLayoutBounds(t,o),u=t.locationObject.getDocumentPoint(U.Center);if(l.isReal()&&u.isReal()){t.moveTo(r.x+this.focusX-(u.x-l.x)+t.margin.left,r.y+this.focusY-(u.y-l.y+t.margin.top)),F.s(o);return}F.s(o)}t.moveTo(r.x+t.margin.left,r.y+t.margin.top)}}addSourceEdge(i){i!==null&&(this._o.has(i)||this._o.add(i))}deleteSourceEdge(i){i!==null&&this._o.delete(i)}addDestinationEdge(i){i!==null&&(this.tr.has(i)||this.tr.add(i))}deleteDestinationEdge(i){i!==null&&this.tr.delete(i)}get network(){return this.uo}set network(i){this.uo=i}get sourceVertexes(){const i=new M,t=this.sourceEdges;for(;t.next();){const r=t.value;i.add(r.fromVertex)}return i.iterator}get destinationVertexes(){const i=new M,t=this.destinationEdges;for(;t.next();){const r=t.value;i.add(r.toVertex)}return i.iterator}get vertexes(){const i=new M;let t=this.sourceEdges;for(;t.next();){const r=t.value;i.add(r.fromVertex)}for(t=this.destinationEdges;t.next();){const r=t.value;i.add(r.toVertex)}return i.iterator}get sourceEdges(){return this._o.iterator}get destinationEdges(){return this.tr.iterator}get edges(){const i=new x;let t=this.sourceEdges;for(;t.next();){const r=t.value;i.add(r)}for(t=this.destinationEdges;t.next();){const r=t.value;i.add(r)}return i.iterator}get edgesCount(){return this._o.count+this.tr.count}static standardComparer(i,t){const r=i.de,o=t.de;if(r)if(o){const l=r.text,u=o.text;return l<u?-1:l>u?1:0}else return 1;else return o!==null?-1:0}static smartComparer(i,t){if(i!==null)if(t!==null){const r=i.de,o=t.de;if(r!==null)if(o!==null){const l=r.text.toLocaleLowerCase(),u=o.text.toLocaleLowerCase(),c=l.split(/([+-]?[.]?\d+(?:\.\d*)?(?:e[+-]?\d+)?)/),f=u.split(/([+-]?[.]?\d+(?:\.\d*)?(?:e[+-]?\d+)?)/);let g=0;for(;g<c.length;g++)if(f[g]!==""&&f[g]!==void 0){const y=parseFloat(c[g]),b=parseFloat(f[g]);if(isNaN(y))if(isNaN(b)){if(c[g].localeCompare(f[g])!==0)return c[g].localeCompare(f[g]);continue}else return 1;else{if(isNaN(b))return-1;if(y-b!==0)return y-b;continue}}else{if(c[g]==="")continue;return 1}return f[g]!==""&&f[g]!==void 0?-1:0}else return 1;else return o!==null?-1:0}else return 1;else return t!==null?-1:0}}class vs{constructor(i){T(this,"uo");T(this,"Qt");T(this,"qe");T(this,"Je");T(this,"$e");M.Yi(this),this.uo=i,this.Qt=null,this.qe=null,this.Je=null,this.$e=null}clear(){this.Qt=null,this.qe=null,this.Je=null,this.$e=null}toString(i){i===void 0&&(i=0);let t="LayoutEdge#"+M.cs(this);return i>0&&(t+=this.qe!==null?"("+this.qe.toString()+")":"",i>1&&(t+=" "+(this.Je?this.Je.toString():"null")+" --> "+(this.$e?this.$e.toString():"null"))),t}reverseEdge(){const i=this.Je;this.Je=this.$e,this.$e=i}commit(){}getOtherVertex(i){return this.$e===i?this.Je:this.Je===i?this.$e:null}get network(){return this.uo}set network(i){this.uo=i}get data(){return this.Qt}set data(i){this.Qt!==i&&(this.Qt=i)}get link(){return this.qe}set link(i){this.qe!==i&&(this.qe=i)}get fromVertex(){return this.Je}set fromVertex(i){this.Je!==i&&(this.Je=i)}get toVertex(){return this.$e}set toVertex(i){this.$e!==i&&(this.$e=i)}}var zo=(W=>(W[W.Position=0]="Position",W[W.Location=1]="Location",W))(zo||{}),sr=(W=>(W[W.LeftToRight=10]="LeftToRight",W[W.RightToLeft=11]="RightToLeft",W))(sr||{}),Vo=(W=>(W[W.Forwards=20]="Forwards",W[W.Reverse=21]="Reverse",W[W.Ascending=22]="Ascending",W[W.Descending=23]="Descending",W))(Vo||{});const bs=class bs extends Ie{constructor(t){super();T(this,"Jd");T(this,"$d");T(this,"Lo");T(this,"Ln");T(this,"oi");T(this,"zi");T(this,"ye");T(this,"we");this.isViewportSized=!0,this.Jd=NaN,this.$d=NaN,this.Lo=new z(NaN,NaN).g(),this.Ln=new z(10,10).g(),this.oi=1,this.zi=10,this.ye=22,this.we=bs.standardComparer,t&&Object.assign(this,t)}cloneProtected(t){super.cloneProtected(t),t.Jd=this.Jd,t.$d=this.$d,t.Lo.a(this.Lo),t.Ln.a(this.Ln),t.oi=this.oi,t.zi=this.zi,t.ye=this.ye,t.we=this.we}li(t){t in Vo?this.sorting=t:t in sr?this.arrangement=t:t in zo?this.alignment=t:super.li(t)}doLayout(t){this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin);const r=this.collectParts(t),o=this.diagram,l=r.copy().iterator;for(;l.next();){const N=l.value;if(N.Ll()&&(N.fromNode!==null||N.toNode!==null)){r.delete(N);continue}if(N.ensureBounds(),N instanceof Ut){const _=N.memberParts;for(;_.next();){const R=_.value;r.delete(R)}}}const u=r.toArray();if(u.length===0)return;switch(this.sorting){case 20:break;case 21:u.reverse();break;case 22:u.sort(this.comparer);break;case 23:u.sort(this.comparer),u.reverse();break}let c=this.wrappingColumn;isNaN(c)&&(c=0);let f=this.wrappingWidth;if(isNaN(f)&&o!==null){const N=o.viewportBounds,_=o.padding;f=Math.max(N.width-_.left-_.right,0)}else f=Math.max(this.wrappingWidth,0);c<=0&&f<=0&&(c=1);let g=this.spacing.width;isFinite(g)||(g=0);let y=this.spacing.height;isFinite(y)||(y=0),o!==null&&o.startTransaction("Layout");const b=[];switch(this.alignment){case 0:this.xO(u,f,c,g,y,b);break;case 1:this.bO(u,f,c,g,y,b);break}let w=0,P=0,E=0;for(let N=0;N<b.length;N++){const _=b[N];w=Math.min(w,_.x),P=Math.min(P,_.y),E=Math.max(E,_.x+_.width)}this.arrangement===11?this.commitLayers(b,new C(w+g/2-(E+w),P-y/2)):this.commitLayers(b,new C(w-g/2,P-y/2)),o!==null&&o.commitTransaction("Layout"),this.isValidLayout=!0}xO(t,r,o,l,u,c){const f=F.l();let g=Math.max(this.cellSize.width,1);if(!isFinite(g)){g=0;for(let $=0;$<t.length;$++){const q=t[$],X=this.getLayoutBounds(q,f);g=Math.max(g,X.width)}}g+=l,g=Math.max(g,1);let y=Math.max(this.cellSize.height,1);if(!isFinite(y)){y=0;for(let $=0;$<t.length;$++){const q=t[$],X=this.getLayoutBounds(q,f);y=Math.max(y,X.height)}}y+=u,y=Math.max(y,1);const b=this.arrangement,w=this.arrangementOrigin.x,P=this.arrangementOrigin.y;let E=w,N=P,_=0,R=0;for(let $=0;$<t.length;$++){const q=t[$],X=this.getLayoutBounds(q,f),H=Math.ceil((X.width+l)/g),tt=Math.ceil((X.height+u)/y),Q=H*g,nt=tt*y;let ht=0;switch(b){case 11:ht=Math.abs(E-X.width);break;default:ht=E+X.width;break}(o>0&&_>o-1||r>0&&_>0&&ht-w>r)&&(c.push(new F(0,N,r+l,R)),_=0,E=w,N+=R,R=0),R=Math.max(R,nt);let it=0;switch(b){case 11:it=-X.width;break;default:it=0;break}switch(q.moveTo(E+it+q.margin.left,N+q.margin.top),b){case 11:E-=Q;break;default:E+=Q;break}_++}c.push(new F(0,N,r+l,R)),F.s(f)}bO(t,r,o,l,u,c){const f=F.l();let g=Math.max(this.cellSize.width,1),y=0,b=0,w=0;const P=C.l();for(let it=0;it<t.length;it++){const st=t[it],ct=this.getLayoutBounds(st,f),ut=st.getRelativePoint(st.locationObject,st.locationSpot,P);y=Math.max(y,ut.x),b=Math.max(b,ct.width-ut.x),w=Math.max(w,ut.y)}const E=this.arrangement;switch(E){case 11:y+=l;break;default:b+=l;break}isFinite(g)?g=Math.max(g+l,1):g=Math.max(y+b,1);const N=this.arrangementOrigin.x,_=this.arrangementOrigin.y;let R=N,$=_,q=0;r>=y&&(r-=y);let X=0,H=0;const tt=Math.max(this.cellSize.height,1);w=0;let Q=0,nt=!0;const ht=C.l();for(let it=0;it<t.length;it++){const st=t[it],ct=this.getLayoutBounds(st,f),ut=st.getRelativePoint(st.locationObject,st.locationSpot,P);if(q>0)switch(E){case 11:{let Tt=(R-N-(ct.width-ut.x))/g;K.Y(Math.round(Tt),Tt)?Tt=Math.round(Tt):Tt=Math.floor(Tt),R=Tt*g+N;break}default:{let Tt=(R-N+ut.x)/g;K.Y(Math.round(Tt),Tt)?Tt=Math.round(Tt):Tt=Math.ceil(Tt),R=Tt*g+N;break}}else switch(E){case 11:X=R+ut.x+ct.width;break;default:X=R-ut.x;break}let pt=0;switch(E){case 11:pt=-(R+ut.x)+X;break;default:pt=R+ct.width-ut.x-X;break}if(o>0&&q>o-1||r>0&&q>0&&pt>r){c.push(new F(0,nt?$-w:$,r+l,Q+w+u));for(let Tt=0;Tt<q&&it!==q;Tt++){const Et=t[it-q+Tt],m=Et.getRelativePoint(Et.locationObject,Et.locationSpot,ht);Et.moveTo(Et.position.x,Et.position.y+w-m.y)}Q+=u,nt?$+=Q:$+=Q+w,w=0,Q=0,q=0,R=N,nt=!1}switch(R===N&&(E===11?H=Math.max(H,ct.width-ut.x):H=Math.min(H,-ut.x)),w=Math.max(w,ut.y),Q=Math.max(Q,ct.height-ut.y),isFinite(tt)&&(Q=Math.max(Q,Math.max(ct.height,tt)-ut.y)),nt?st.moveTo(R-ut.x,$-ut.y):st.moveTo(R-ut.x,$),E){case 11:R-=ut.x+l;break;default:R+=ct.width-ut.x+l;break}q++}if(c.push(new F(0,$,r+l,(nt?Q:Q+w)+u)),t.length!==q)for(let it=0;it<q;it++){const st=t[t.length-q+it],ct=st.getRelativePoint(st.locationObject,st.locationSpot,P);st.moveTo(st.position.x,st.position.y+w-ct.y)}if(C.s(P),C.s(ht),E===11)for(let it=0;it<c.length;it++){const st=c[it];st.width+=H,st.x-=H}else for(let it=0;it<c.length;it++){const st=c[it];st.x>H&&(st.width+=st.x-H,st.x=H)}F.s(f)}commitLayers(t,r){}get wrappingWidth(){return this.Jd}set wrappingWidth(t){this.Jd!==t&&(t>0||isNaN(t))&&(this.Jd=t,this.isViewportSized=isNaN(t),this.invalidateLayout())}get wrappingColumn(){return this.$d}set wrappingColumn(t){this.$d!==t&&(t>0||isNaN(t))&&(this.$d=t,this.invalidateLayout())}get cellSize(){return this.Lo}set cellSize(t){this.Lo.equals(t)||(this.Lo.a(t),this.invalidateLayout())}get spacing(){return this.Ln}set spacing(t){this.Ln.equals(t)||(this.Ln.a(t),this.invalidateLayout())}get alignment(){return this.oi}set alignment(t){this.oi!==t&&(t===1||t===0)&&(this.oi=t,this.invalidateLayout())}get arrangement(){return this.zi}set arrangement(t){this.zi!==t&&(t===10||t===11)&&(this.zi=t,this.invalidateLayout())}get sorting(){return this.ye}set sorting(t){this.ye!==t&&(t===20||t===21||t===22||t===23)&&(this.ye=t,this.invalidateLayout())}get comparer(){return this.we}set comparer(t){this.we!==t&&(this.we=t,this.invalidateLayout())}static standardComparer(t,r){const o=t.text,l=r.text;return o<l?-1:o>l?1:0}static smartComparer(t,r){if(t!==null)if(r!==null){const o=t.text.toLocaleLowerCase(),l=r.text.toLocaleLowerCase(),u=o.split(/([+-]?[.]?\d+(?:\.\d*)?(?:e[+-]?\d+)?)/),c=l.split(/([+-]?[.]?\d+(?:\.\d*)?(?:e[+-]?\d+)?)/);let f=0;for(;f<u.length;f++)if(c[f]!==""&&c[f]!==void 0){const g=parseFloat(u[f]),y=parseFloat(c[f]);if(isNaN(g))if(isNaN(y)){if(u[f].localeCompare(c[f])!==0)return u[f].localeCompare(c[f]);continue}else return 1;else{if(isNaN(y))return-1;if(g-y!==0)return g-y;continue}}else{if(u[f]==="")continue;return 1}return c[f]!==""&&c[f]!==void 0?-1:0}else return 1;else return r!==null?-1:0}};T(bs,"Position",0),T(bs,"Location",1),T(bs,"LeftToRight",10),T(bs,"RightToLeft",11),T(bs,"Forward",20),T(bs,"Reverse",21),T(bs,"Ascending",22),T(bs,"Descending",23);let js=bs;const Sr=class Sr{constructor(){T(this,"Zd");T(this,"qs");T(this,"At");T(this,"Ea");T(this,"p");T(this,"My");T(this,"po");T(this,"gl");T(this,"uN");this.Zd=new M,this.qs=new M,this.At=new M,this.po=new V,this.gl=new V,this.Ea=new V,this.p=null,this.My=!1,this.uN=!0}clear(){this.Zd.clear(),this.qs.clear(),this.At.clear(),this.po.clear(),this.gl.clear(),this.Ea.clear()}To(i){this.p=i}Hh(i){if(i instanceof Jt){if(this.Zd.add(i),i instanceof Ut){const r=i.containingGroup;r===null?this.p.Yr.add(i):r.ra.add(i);const o=i.layout;o!==null&&(o.diagram=this.p)}}else i instanceof se?(this.qs.add(i),i.isAvoiding&&(this.p.Gm=!0)):i instanceof ye||this.At.add(i);const t=i.data;t!==null&&(i instanceof ye||(i instanceof se?this.aT(t,i):this.po.set(t,i)))}te(i){if(i.clearAdornments(),i instanceof Jt){if(this.Zd.delete(i),i instanceof Ut){const r=i.containingGroup;r===null?this.p.Yr.delete(i):r.ra.delete(i);const o=i.layout;o!==null&&(o.diagram=null)}}else i instanceof se?this.qs.delete(i):i instanceof ye||this.At.delete(i);const t=i.data;t!==null&&(i instanceof ye||(i instanceof se?this.cT(t,i):this.po.delete(t)))}aT(i,t){this.gl.set(i,t)}cT(i,t){this.gl.delete(i)}rebuildParts(){const i=this.p;if(i===null)return;const t=i.nodeTemplateMap.iterator;for(;t.next();){const y=t.value,b=t.key;(!y.Me()||y instanceof Ut)&&n.o(`Invalid node template in Diagram.nodeTemplateMap: template for "${b}" must be a Node or a simple Part, not a Group or Link: ${y}`)}const r=i.groupTemplateMap.iterator;for(;r.next();){const y=r.value,b=r.key;y instanceof Ut||n.o(`Invalid group template in Diagram.groupTemplateMap: template for "${b}" must be a Group, not a normal Node or Link: ${y}`)}const o=i.linkTemplateMap.iterator;for(;o.next();){const y=o.value,b=o.key;y instanceof se||n.o(`Invalid link template in Diagram.linkTemplateMap: template for "${b}" must be a Link, not a normal Node or simple Part: ${y}`)}const l=n.rt(),u=i.selection.iterator;for(;u.next();){const y=u.value.data;y&&l.push(y)}const c=n.rt(),f=i.highlighteds.iterator;for(;f.next();){const y=f.value.data;y&&c.push(y)}const g=n.rt();if(this.preservesRebuildLocations){const y=this.nodes.iterator;for(;y.next();){const P=y.value;P.data!==null&&(g.push(P.data),g.push(P.location))}const b=this.links.iterator;for(;b.next();){const P=b.value;P.data!==null&&(g.push(P.data),g.push(P.location))}const w=this.parts.iterator;for(;w.next();){const P=w.value;P.data!==null&&(g.push(P.data),g.push(P.location))}}this.fT(),this.CS();for(let y=0;y<l.length;y++){const b=this.findPartForData(l[y]);b!==null&&(b.isSelected=!0)}for(let y=0;y<c.length;y++){const b=this.findPartForData(c[y]);b!==null&&(b.isHighlighted=!0)}if(this.preservesRebuildLocations)for(let y=0;y<g.length;y+=2){const b=this.findPartForData(g[y]);b!==null&&(b.location=g[y+1])}n.it(l),n.it(c),n.it(g)}CS(){const i=this.diagram.model;this.Sy(i.nodeDataArray)}Sy(i,t){const r=this.diagram.model;i.forEach(o=>{r.containsNodeData(o)&&this.uT(o,!1)}),i.forEach(o=>{r.containsNodeData(o)&&this.P1(o)}),t!==!1&&this.diagram.wb(!1)}uT(i,t){if(i==null||this.diagram.undoManager.isUndoingRedoing||this.po.has(i))return null;t===void 0&&(t=!0);const r=this.kO(i);return r!==null&&t&&this.P1(i),r}kO(i){if(i==null||this.p.undoManager.isUndoingRedoing||this.po.has(i))return null;const t=this.PO(i),r=this.findTemplateForNodeData(i,t);if(r!==null){r.hi();const o=r.copy();if(o!==null){const l=this.diagram.fe;return this.diagram.fe=!0,o.Ho=t,o.Qt=i,this.My&&(o.hl="Tool"),this.diagram.add(o),o.Qt=null,o.data=i,this.diagram.fe=l,o}}return null}insertLink(i,t,r,o){return null}P1(i){}PO(i){return this.p.model.getCategoryForNodeData(i)}findTemplateForNodeData(i,t){const r=this.p,o=r.model,l=o.jc()&&o.isGroupForData(i);let u=null;return l?(u=r.groupTemplateMap.get(t),u===null&&(u=r.groupTemplateMap.get(""),u===null&&(Sr.gT||(Sr.gT=!0,n.ri('No Group template found for category "'+t+'"'),n.ri("  Using default group template")),u=r.oS))):(u=r.nodeTemplateMap.get(t),u===null&&(u=r.nodeTemplateMap.get(""),u===null&&(Sr.dT||(Sr.dT=!0,n.ri('No Node template found for category "'+t+'"'),n.ri("  Using default node template")),u=r.eS))),u}getLinkCategoryForData(i){return""}setLinkCategoryForData(i,t){}setFromNodeForLink(i,t,r){}setToNodeForLink(i,t,r){}findLinkTemplateForCategory(i){const t=this.p;let r=t.linkTemplateMap.get(i);return r===null&&(r=t.linkTemplateMap.get(""),r===null&&(Sr.mT||(Sr.mT=!0,n.ri('No Link template found for category "'+i+'"'),n.ri("  Using default link template")),r=t.sS)),r}cv(i,t,r){i instanceof se?(t!==null&&this.cT(t,i),r!==null&&this.aT(r,i)):i instanceof Le&&(t!==null&&this.po.delete(t),r!==null&&this.po.set(r,i))}fT(){const i=this.diagram.model;this.dN(i.nodeDataArray)}dN(i){i.forEach(t=>{this.M1(t)})}M1(i){const t=this.findPartForData(i);t!==null&&(this.diagram.SS(t,!1),this.gN(t))}gN(i){}nN(i){}findPartForKey(i){if(i==null)return null;const t=this.p.model.findNodeDataForKey(i);return t!==null?this.po.get(t):null}findNodeForKey(i){if(i==null)return null;const t=this.p.model.findNodeDataForKey(i);if(t===null)return null;const r=this.po.get(t);return r instanceof Jt?r:null}findLinkForKey(i){return null}findPartForData(i){if(i===null)return null;let t=this.po.get(i);return t!==null||(t=this.gl.get(i)),t}findNodeForData(i){if(i===null)return null;const t=this.po.get(i);return t instanceof Jt?t:null}findLinkForData(i,t){return i===null?null:this.gl.get(i)}findNodesByExample(...i){const t=new M,r=this.Zd.iterator;for(;r.next();){const o=r.value,l=o.data;if(l!==null)for(let u=0;u<arguments.length;u++){const c=arguments[u];if(n.wt(c)&&this.mN(l,c)){t.add(o);break}}}return t.iterator}findLinksByExample(...i){const t=new M,r=this.qs.iterator;for(;r.next();){const o=r.value,l=o.data;if(l!==null)for(let u=0;u<arguments.length;u++){const c=arguments[u];if(n.wt(c)&&this.mN(l,c)){t.add(o);break}}}return t.iterator}mN(i,t){for(const r in t){const o=i[r],l=t[r];if(Array.isArray(l)){if(!Array.isArray(o))return!1;const u=o,c=l;if(u.length<c.length)return!1;for(let f=0;f<u.length;f++){const g=u[f],y=c[f];if(y!==void 0&&!this.pT(g,y))return!1}}else if(!this.pT(o,l))return!1}return!0}pT(i,t){if(typeof t=="function"){if(!t(i))return!1}else if(t instanceof RegExp){if(!i||!t.test(i.toString()))return!1}else if(n.wt(i)&&n.wt(t)){if(!this.mN(i,t))return!1}else if(i!==t)return!1;return!0}doModelDataChanged(i){if(i.model===this.diagram.model&&this.diagram.G){this.diagram.G=!1;try{const t=i.change;i.modelChange===""&&t===2&&this.Ny(i.object,i.propertyName)}finally{this.diagram.G=!0}}}doModelChanged(i){if(!this.p)return;const t=this.p;if(i.model!==t.model)return;const r=i.change;if(t.uR(i),!!t.G){t.G=!1;try{const o=i.modelChange;if(o!=="")if(r===2){if(o==="nodeCategory"){const l=i.object,u=this.findPartForData(l),c=i.newValue;u!==null&&typeof c=="string"&&(u.category=c)}else if(o==="nodeDataArray"){const l=i.oldValue;this.dN(l);const u=i.newValue;this.Sy(u)}t.isModified=!0}else if(r===3){const l=i.newValue;o==="nodeDataArray"&&n.wt(l)&&this.uT(l),t.isModified=!0}else if(r===4){const l=i.oldValue;o==="nodeDataArray"&&n.wt(l)&&this.M1(l),t.isModified=!0}else r===1&&(o==="SourceChanged"?i.object!==null?this.Ny(i.object,i.propertyName):(this.updateAllRelationshipsFromData(),this.updateAllTargetBindings()):o==="ModelDisplaced"&&this.rebuildParts());else if(r===2){const l=i.propertyName,u=i.object,c=t.model;u===c?(l==="nodeKeyProperty"||l==="nodeCategoryProperty")&&(t.undoManager.isUndoingRedoing||this.rebuildParts()):this.Ny(u,l),t.isModified=!0}else(r===3||r===4)&&(this.MO(i),t.isModified=!0)}finally{t.G=!0}}}updateAllTargetBindings(i){i===void 0&&(i="");let t=this.parts.iterator;for(;t.next();)t.value.updateTargetBindings(i);for(t=this.nodes.iterator;t.next();)t.value.updateTargetBindings(i);for(t=this.links.iterator;t.next();)t.value.updateTargetBindings(i)}updateAllThemeBindings(){let i=this.parts.iterator;for(;i.next();)i.value.Io();for(i=this.nodes.iterator;i.next();)i.value.Io();for(i=this.links.iterator;i.next();)i.value.Io()}updateAllRelationshipsFromData(){const i=this.p.model,t=new M,r=i.nodeDataArray;for(let u=0;u<r.length;u++){const c=r[u];t.add(c)}const o=[];this.nodes.each(u=>{u.data!==null&&!t.has(u.data)&&o.push(u.data)}),this.parts.each(u=>{u.data!==null&&!t.has(u.data)&&o.push(u.data)}),o.forEach(u=>i.yT(u,!1));for(let u=0;u<r.length;u++){const c=r[u];this.findPartForData(c)===null&&i.wT(c,!1)}this.xT();let l=this.parts.iterator;for(;l.next();)l.value.updateRelationshipsFromData();for(l=this.nodes.iterator;l.next();)l.value.updateRelationshipsFromData();for(l=this.links.iterator;l.next();)l.value.updateRelationshipsFromData()}xT(){}updateRelationshipsFromData(i){}Ny(i,t){if(typeof t=="string"){const r=this.findPartForData(i);if(r!==null)r.updateTargetBindings(t);else{const o=this.SO(i);if(o!==null&&o.length>0){for(let u=0;u<o.length;u++)o[u].updateTargetBindings(t);const l=o[0].part;if(l!==null){const u=l.adornments;for(;u.next();)u.value.updateTargetBindings(t)}n.it(o)}}i===this.diagram.model.modelData&&this.updateAllTargetBindings(t)}}SO(i){let t=null;const r=this.Ea.iterator;for(;r.next();){const o=r.value;for(let l=0;l<o.length;l++){const u=o[l].findItemPanelForData(i);u!==null&&(t===null&&(t=n.rt()),t.push(u))}if(t!==null)break}return t}MO(i){const t=i.object,r=i.change===3,o=r?i.newParam:i.oldParam,l=r?i.newValue:i.oldValue,u=this.Ea.get(t);if(Array.isArray(u))for(let c=0;c<u.length;c++){const f=u[c];r?f.Hb(l,o,!0):f.uv(o)}}PS(i,t){t!==null&&i.Wr(o=>t.PL(o));const r=i.gh;if(Array.isArray(r)){const o=this.Ea.get(r);if(o===null){const l=[];l.push(i),this.Ea.set(r,l)}else{for(let l=0;l<o.length;l++)if(o[l]===i)return;o.push(i)}}}MS(i,t){i.Wr(o=>t.gR(o));const r=i.gh;if(Array.isArray(r)){const o=this.Ea.get(r);if(o!==null){for(let l=0;l<o.length;l++)if(o[l]===i){o.splice(l,1),o.length===0&&this.Ea.delete(r);return}}}}copyParts(i,t,r){r===void 0&&(r=!1);const o=new V;if(Array.isArray(i))for(let u=0;u<i.length;u++)this.S1(i[u],t,o,r);else{const u=i.iterator;for(;u.next();)this.S1(u.value,t,o,r)}if(t!==null){const u=t.model,c=t.c0().dragsLink,f=new M,g=new V,y=o.iterator;for(;y.next();){const b=y.value;if(b instanceof se)!c&&(b.fromNode===null||b.toNode===null)&&f.add(b);else if(b instanceof Jt&&b.data!==null){if(u.gc()){const w=b,P=y.key,E=P.findTreeParentNode();if(E!==null){const N=o.get(E);if(N!==null){u.setParentKeyForNodeData(w.data,u.getKeyForNodeData(N.data));const _=t.findLinkForData(w.data),R=P.findTreeParentLink();R!==null&&_!==null&&g.set(R,_)}else u.setParentKeyForNodeData(w.data,void 0)}}else if(u.Hu()){const w=b,P=y.key,E=u.isRelatedKeysPathTo?P.findNodesOutOf():P.findNodesInto();for(;E.next();){const N=E.value,_=o.get(N);if(_!==null){u.addRelatedKeyForNodeData(w.data,_.key);const R=t.partManager.findLinkForData(w.data,_.key),$=this.findLinkForData(P.data,N.key);$!==null&&R!==null&&g.set($,R)}else u.removeRelatedKeyForNodeData(w.data,N.key)}}}}if(f.count>0&&t.removeParts(f,!1),g.count>0){const b=g.iterator;for(;b.next();){const w=b.key,P=b.value;o.set(w,P)}}}if(t!==null&&this.p!==null){const u=t.model,c=u.afterCopyFunction;if(c!==null){const f=new V;o.each(y=>{y.key.data!==null&&f.set(y.key.data,y.value.data)});const g=this.p.model;c(f,u,g)}}const l=o.iterator;for(;l.next();)l.value.updateTargetBindings();return o}S1(i,t,r,o){if(i===null||o&&!i.canCopy())return null;if(r.has(i))return r.get(i);const l=this.pN(i,t);if(!(l instanceof Le))return null;if(l.isSelected=!1,l.isHighlighted=!1,r.set(i,l),i instanceof Jt){const u=i.linksConnected;for(;u.next();){const c=u.value;if(c.fromNode===i){const f=r.get(c);f!==null&&(f.fromNode=l)}if(c.toNode===i){const f=r.get(c);f!==null&&(f.toNode=l)}}if(i instanceof Ut&&l instanceof Ut){const c=i.memberParts;for(;c.next();){const f=c.value,g=this.S1(f,t,r,o);g instanceof se||g!==null&&(g.containingGroup=l)}}}else if(i instanceof se&&l instanceof se){const u=i.fromNode;if(u!==null){const g=r.get(u);g!==null&&(l.fromNode=g)}const c=i.toNode;if(c!==null){const g=r.get(c);g!==null&&(l.toNode=g)}const f=i.labelNodes;for(;f.next();){const g=f.value,y=this.S1(g,t,r,o);y!==null&&y instanceof Jt&&(y.labeledLink=l)}}return l}pN(i,t){let r=null;const o=i.data;if(o!==null&&t!==null){const l=t.model;if(!(i instanceof se)){const u=l.copyNodeData(o);n.wt(u)&&(l.addNodeData(u),r=t.findPartForData(u))}}else if(i.hi(),r=i.copy(),r!==null){const l=this.p;if(t!==null)t.add(r);else if(o!==null&&l!==null&&l.commandHandler!==null&&l.commandHandler.copiesClipboardData){const u=l.model;let c=null;r instanceof se||(c=u.copyNodeData(o)),n.wt(c)&&(r.data=c)}}return r}get nodes(){return this.Zd}get links(){return this.qs}get parts(){return this.At}get diagram(){return this.p}get addsToTemporaryLayer(){return this.My}set addsToTemporaryLayer(i){this.My=i}get preservesRebuildLocations(){return this.uN}set preservesRebuildLocations(i){this.uN=i}};T(Sr,"dT",!1),T(Sr,"gT",!1),T(Sr,"mT",!1);let Dn=Sr;class po extends Dn{CS(){const i=this.diagram.model;this.Sy(i.nodeDataArray),this.bT(i.linkDataArray)}Sy(i){super.Sy(i,!1);const t=this.links.iterator;for(;t.next();)t.value.Ad();this.diagram.wb(!1)}bT(i){i.forEach(t=>{this.kT(t)}),this.diagram.wb(!1)}kT(i){if(i==null||this.diagram.undoManager.isUndoingRedoing||this.gl.has(i))return null;const t=this.getLinkCategoryForData(i),r=this.findLinkTemplateForCategory(t);if(r!==null){r.hi();const o=r.copy();if(o!==null){const l=this.diagram.fe;this.diagram.fe=!0,o.Ho=t,o.Qt=i;const u=this.diagram.model,c=u.N1(i,!0);c!==""&&(o.fromPortId=c);const f=u.De(i,!0);if(f!==void 0){const w=this.findNodeForKey(f);w instanceof Jt&&(o.fromNode=w)}const g=u.N1(i,!1);g!==""&&(o.toPortId=g);const y=u.De(i,!1);if(y!==void 0){const w=this.findNodeForKey(y);w instanceof Jt&&(o.toNode=w)}const b=u.getLabelKeysForLinkData(i);return Array.isArray(b)&&b.forEach(w=>{const P=this.findNodeForKey(w);P!==null&&(P.labeledLink=o)}),this.My&&(o.hl="Tool"),this.diagram.add(o),o.Qt=null,o.data=i,this.diagram.fe=l,o}}return null}fT(){const i=this.diagram.model;this.PT(i.linkDataArray),this.dN(i.nodeDataArray)}PT(i){i.forEach(t=>{this.M1(t)})}getLinkCategoryForData(i){return this.diagram.model.getCategoryForLinkData(i)}setLinkCategoryForData(i,t){return this.diagram.model.setCategoryForLinkData(i,t)}setFromNodeForLink(i,t){const r=this.diagram.model,o=t!==null?t.data:null;r.setFromKeyForLinkData(i.data,r.getKeyForNodeData(o))}setToNodeForLink(i,t){const r=this.diagram.model,o=t!==null?t.data:null;r.setToKeyForLinkData(i.data,r.getKeyForNodeData(o))}nN(i){this.diagram.model.removeLinkData(i.data)}findPartForKey(i){const t=super.findPartForKey(i);if(t===null){const r=this.diagram.model.findLinkDataForKey(i);if(r!==null)return this.gl.get(r)}return t}findLinkForKey(i){if(i==null)return null;const t=this.diagram.model.findLinkDataForKey(i);return t!==null?this.gl.get(t):null}doModelChanged(i){if(super.doModelChanged(i),!this.diagram)return;const t=this.diagram;if(i.model!==t.model)return;const r=i.change;if(t.G){t.G=!1;try{const o=i.modelChange;if(o!==""){if(r===2){if(o==="linkFromKey"){const l=i.object,u=this.findLinkForData(l);if(u!==null){const c=i.newValue,f=this.findNodeForKey(c);u.fromNode=f}}else if(o==="linkToKey"){const l=i.object,u=this.findLinkForData(l);if(u!==null){const c=i.newValue,f=this.findNodeForKey(c);u.toNode=f}}else if(o==="linkFromPortId"){const l=i.object,u=this.findLinkForData(l);if(u!==null){const c=i.newValue;typeof c=="string"&&(u.fromPortId=c)}}else if(o==="linkToPortId"){const l=i.object,u=this.findLinkForData(l);if(u!==null){const c=i.newValue;typeof c=="string"&&(u.toPortId=c)}}else if(o==="nodeGroupKey"){const l=i.object,u=this.findPartForData(l);if(u!==null){const c=i.newValue;if(c!==void 0){const f=this.findNodeForKey(c);f instanceof Ut?u.containingGroup=f:u.containingGroup=null}else u.containingGroup=null}}else if(o==="linkLabelKeys"){const l=i.object,u=this.findLinkForData(l);if(u!==null){const c=i.oldValue,f=i.newValue;Array.isArray(c)&&c.forEach(g=>{if(f.indexOf(g)>=0)return;const y=this.findNodeForKey(g);y!==null&&(y.labeledLink=null)}),Array.isArray(f)&&f.forEach(g=>{const y=this.findNodeForKey(g);y!==null&&(y.labeledLink=u)})}}else if(o==="linkCategory"){const l=i.object,u=this.findLinkForData(l),c=i.newValue;u!==null&&typeof c=="string"&&(u.category=c)}else if(o==="linkDataArray"){const l=i.oldValue;this.PT(l);const u=i.newValue;this.bT(u)}t.isModified=!0}else if(r===3){const l=i.newValue;if(o==="linkDataArray"&&typeof l=="object"&&l!==null)this.kT(l);else if(o==="linkLabelKeys"&&i.model.isKeyType(l)){const u=i.object,c=this.findLinkForData(u),f=this.findNodeForKey(l);c!==null&&f!==null&&(f.labeledLink=c)}t.isModified=!0}else if(r===4){const l=i.oldValue;if(o==="linkDataArray"&&typeof l=="object"&&l!==null)this.M1(l);else if(o==="linkLabelKeys"&&i.model.isKeyType(l)){const u=this.findNodeForKey(l);u!==null&&(u.labeledLink=null)}t.isModified=!0}}else if(r===2){const l=i.propertyName,u=i.object,c=t.model;u===c&&(l==="linkFromKeyProperty"||l==="linkToKeyProperty"||l==="linkFromPortIdProperty"||l==="linkToPortIdProperty"||l==="linkLabelKeysProperty"||l==="nodeIsGroupProperty"||l==="nodeGroupKeyProperty"||l==="linkCategoryProperty")&&(t.undoManager.isUndoingRedoing||this.rebuildParts()),t.isModified=!0}}finally{t.G=!0}}}xT(){const i=this.diagram.model,t=new M,r=i.linkDataArray;r.forEach(l=>{t.add(l)});const o=[];this.links.each(l=>{l.data!==null&&!t.has(l.data)&&o.push(l.data)}),o.forEach(l=>{i.MT(l,!1)}),r.forEach(l=>{this.findLinkForData(l)===null&&i.ST(l,!1)})}updateRelationshipsFromData(i){const t=i.data;if(t===null)return;const r=i.diagram;if(r===null)return;const o=r.model;if(i instanceof se){let l=o.De(t,!0),u=r.findNodeForKey(l);i.fromNode=u,l=o.De(t,!1),u=r.findNodeForKey(l),i.toNode=u;const c=o.getLabelKeysForLinkData(t);if(c.length>0||i.labelNodes.count>0){if(c.length===1&&i.labelNodes.count===1){const w=c[0],P=i.labelNodes.first();if(o.getKeyForNodeData(P.data)===w)return}const f=new M().addAll(c),g=new M;i.labelNodes.each(w=>{if(w.data!==null){const P=o.getKeyForNodeData(w.data);P!==void 0&&g.add(P)}});const y=g.copy();y.removeAll(f);const b=f.copy();if(b.removeAll(g),y.count>0||b.count>0){const w=i;y.each(P=>{const E=r.findNodeForKey(P);E!==null&&E.labeledLink===w&&(E.labeledLink=null)}),b.each(P=>{const E=r.findNodeForKey(P);E!==null&&E.labeledLink!==w&&(E.labeledLink=w)})}}}else if(!(i instanceof ye)){const l=o.getGroupKeyForNodeData(t),u=r.findPartForKey(l);(u===null||u instanceof Ut)&&(i.containingGroup=u)}}P1(i){const t=this.diagram.model,r=t.getKeyForNodeData(i);if(r!==void 0){const o=t.Cy(r),l=this.findPartForData(i);if(o!==null&&l!==null){const c=o.iterator;for(;c.next();){const f=c.value;if(t.containsNodeData(f)){if(l instanceof Ut&&t.getGroupKeyForNodeData(f)===r){const g=this.findPartForData(f);g!==null&&(g.containingGroup=l)}}else{const g=this.findLinkForData(f);if(g!==null&&l instanceof Jt){t.De(f,!0)===r&&(g.fromNode=l),t.De(f,!1)===r&&(g.toNode=l);const y=t.getLabelKeysForLinkData(f);Array.isArray(y)&&y.some(b=>b===r?(l.labeledLink=g,!0):!1)}}}t.Js(r)}const u=t.getGroupKeyForNodeData(i);if(u!==void 0){const c=this.findNodeForKey(u);c instanceof Ut&&(l.containingGroup=c)}}}gN(i){const t=this.diagram.model;if(i instanceof Jt){const r=t.getKeyForNodeData(i.data);if(r!==void 0){const o=i.linksConnected;for(;o.next();){const l=o.value;t.$s(r,l.data)}if(i.isLinkLabel){const l=i.labeledLink;l!==null&&t.$s(r,l.data)}if(i instanceof Ut){const l=i.memberParts;for(;l.next();){const u=l.value.data;t.containsNodeData(u)&&t.$s(r,u)}}}}}pN(i,t){let r=super.pN(i,t);if(i instanceof se){const o=i.data;if(o!==null&&t!==null){const l=t.model,u=l.copyLinkData(o);typeof u=="object"&&u!==null&&(l.addLinkData(u),r=t.findLinkForData(u))}else if(r!==null){const l=this.diagram;if(o!==null&&l!==null&&l.commandHandler!==null&&l.commandHandler.copiesClipboardData){const u=l.model.copyLinkData(o);typeof u=="object"&&u!==null&&(r.data=u)}}}return r}insertLink(i,t,r,o){const l=this.diagram,u=l.model,c=l.toolManager.findTool("Linking");let f="";i!==null&&(t===null&&(t=i),f=t.portId,f===null&&(f=""));let g="";r!==null&&(o===null&&(o=r),g=o.portId,g===null&&(g=""));const y=c.archetypeLinkData;if(y instanceof se){y.hi();const b=y.copy();if(b!==null){b.fromNode=i,b.fromPortId=f,b.toNode=r,b.toPortId=g,l.add(b);const w=c.archetypeLabelNodeData;if(w instanceof Jt){w.hi();const P=w.copy();P!==null&&(P.labeledLink=b,l.add(P))}return b}}else if(y!==null){const b=u.copyLinkData(y);if(typeof b=="object"&&b!==null){i!==null&&u.Qd(b,u.getKeyForNodeData(i.data),!0),u._d(b,f,!0),r!==null&&u.Qd(b,u.getKeyForNodeData(r.data),!1),u._d(b,g,!1),u.addLinkData(b);const w=c.archetypeLabelNodeData;if(w!==null&&!(w instanceof Jt)){const P=u.copyNodeData(w);if(typeof P=="object"&&P!==null){u.addNodeData(P);const E=u.getKeyForNodeData(P);E!==void 0&&u.addLabelKeyForLinkData(b,E)}}return l.findLinkForData(b)}}return null}}class xt extends Dn{constructor(){super(...arguments);T(this,"kh",null)}C1(t,r){if(t===null||r===null||r.findTreeParentLink()!==null)return null;const o=this.diagram.toolManager.findTool("Linking");let l=t,u=r;if(this.diagram.isTreePathToChildren){if(o!==null&&o.bu(l,u,null,!0))return null}else if(l=r,u=t,o!==null&&o.bu(l,u,null,!0))return null;const c=this.getLinkCategoryForData(r.data),f=this.findLinkTemplateForCategory(c);if(f!==null){f.hi();const g=f.copy();if(g!==null){const y=this.diagram.fe;return this.diagram.fe=!0,g.Ho=c,g.Qt=r.data,g.fromNode=l,g.toNode=u,this.diagram.add(g),g.Qt=null,g.data=r.data,this.diagram.fe=y,g}}return null}getLinkCategoryForData(t){return this.diagram.model.getParentLinkCategoryForNodeData(t)}setLinkCategoryForData(t,r){this.diagram.model.setParentLinkCategoryForNodeData(t,r)}setFromNodeForLink(t,r,o){const l=this.diagram.model;o===void 0&&(o=null);const u=r!==null?r.data:null;if(this.diagram.isTreePathToChildren)l.setParentKeyForNodeData(t.data,l.getKeyForNodeData(u));else{const c=this.kh;this.kh=t,o!==null&&l.setParentKeyForNodeData(o.data,void 0);const f=t.toNode!==null?t.toNode.data:null;l.setParentKeyForNodeData(u,l.getKeyForNodeData(f)),this.kh=c}}setToNodeForLink(t,r,o){const l=this.diagram.model;o===void 0&&(o=null);const u=r!==null?r.data:null;if(this.diagram.isTreePathToChildren){const c=this.kh;this.kh=t,o!==null&&l.setParentKeyForNodeData(o.data,void 0);const f=t.fromNode!==null?t.fromNode.data:null;l.setParentKeyForNodeData(u,l.getKeyForNodeData(f)),this.kh=c}else l.setParentKeyForNodeData(t.data,l.getKeyForNodeData(u))}nN(t){this.diagram.model.setParentKeyForNodeData(t.data,void 0)}findLinkForKey(t){if(t==null)return null;const r=this.diagram.model.findNodeDataForKey(t);return r!==null?this.gl.get(r):null}doModelChanged(t){if(super.doModelChanged(t),!this.diagram)return;const r=this.diagram;if(t.model!==r.model)return;const o=t.change;if(r.G){r.G=!1;try{const l=t.modelChange;if(l!==""){if(o===2){if(l==="nodeParentKey"){const u=t.object,c=t.newValue,f=this.findNodeForKey(c),g=this.findNodeForData(u);if(this.kh!==null)f!==null&&(this.kh.data=u,this.kh.category=this.getLinkCategoryForData(u));else if(g!==null){const y=g.findTreeParentLink();y!==null?f===null?r.remove(y):r.isTreePathToChildren?y.fromNode=f:y.toNode=f:this.C1(f,g)}}else if(l==="parentLinkCategory"){const u=t.object,c=this.findNodeForData(u),f=t.newValue;if(c!==null&&typeof f=="string"){const g=c.findTreeParentLink();g!==null&&(g.category=f)}}r.isModified=!0}}else if(o===2){const u=t.propertyName,c=t.object,f=r.model;c===f&&u==="nodeParentKeyProperty"&&(r.undoManager.isUndoingRedoing||this.rebuildParts()),r.isModified=!0}}finally{r.G=!0}}}updateRelationshipsFromData(t){const r=t.data;if(r===null)return;const o=t.diagram;if(o===null)return;const l=o.model;if(t instanceof Jt){const u=l.getParentKeyForNodeData(r),c=o.findNodeForKey(u),f=t.findTreeParentNode();if(c!==f){const g=t.findTreeParentLink();c!==null?g!==null?o.isTreePathToChildren?g.fromNode=c:g.toNode=c:this.C1(c,t):g!==null&&o.SS(g,!1)}}}Ny(t,r){if(super.Ny(t,r),typeof r=="string"&&this.findPartForData(t)!==null){const o=this.findLinkForData(t);o!==null&&o.updateTargetBindings(r)}}P1(t){const r=this.diagram.model,o=r.getKeyForNodeData(t);if(o!==void 0){const l=r.Cy(o),u=this.findPartForData(t);if(l!==null&&u!==null){const f=l.iterator;for(;f.next();){const g=f.value;if(r.containsNodeData(g)&&u instanceof Jt&&r.getParentKeyForNodeData(g)===o){const y=this.findNodeForData(g);this.C1(u,y)}}r.Js(o)}const c=r.getParentKeyForNodeData(t);if(c!==void 0&&u instanceof Jt){const f=this.findNodeForKey(c);this.C1(f,u)}}}gN(t){const r=this.diagram.model;if(t instanceof Jt){const o=r.getKeyForNodeData(t.data),l=this.findLinkForData(t.data);if(l!==null){l.isSelected=!1,l.isHighlighted=!1;const f=l.layer;if(f!==null){const g=f.te(-1,l,!1);g>=0&&this.diagram.raiseChangedEvent(4,"parts",f,l,null,g,null);const y=l.layerChanged;y!==null&&y(l,f,null)}}const u=this.diagram.isTreePathToChildren,c=t.linksConnected;for(;c.next();){const f=c.value,g=(u?f.toNode:f.fromNode).data;r.containsNodeData(g)&&r.$s(o,g)}}}insertLink(t,r,o,l){const u=this.diagram.model;let c=t,f=o;if(this.diagram.isTreePathToChildren||(c=o,f=t),c!==null&&f!==null){const g=c.data,y=f.data;return u.setParentKeyForNodeData(y,u.getKeyForNodeData(g)),f.findTreeParentLink()}return null}}var Lt=(W=>(W[W.OneWay=1]="OneWay",W[W.TwoWay=2]="TwoWay",W))(Lt||{});const ar=class ar{constructor(i,t,r,o){T(this,"n");T(this,"yN");T(this,"Ua");T(this,"Nf");T(this,"Ph");T(this,"Cf");T(this,"Lf");T(this,"Af");T(this,"L1");T(this,"Pe");T(this,"md");T(this,"cf");M.Yi(this),i===void 0?i="":n.i(i,"string",ar,"constructor:targetprop"),t===void 0?t=i:n.i(t,"string",ar,"constructor:sourceprop"),r===void 0?r=null:r!==null&&n.i(r,"function",ar,"constructor:conv"),this.yN=-1,this.Pe=null,this.Ua=i,this.md=0,this.cf=0,this.Nf=null,this.Ph=t,this.Cf=r,o===void 0?(this.Lf=1,this.Af=null):(this.Lf=2,this.Af=o),this.L1=new M,this.n=2}copy(){const i=new this.constructor;return this.cloneProtected(i),i}cloneProtected(i){i.Ua=this.Ua,i.md=this.md,i.cf=this.cf,i.Nf=this.Nf,i.Ph=this.Ph,i.Cf=this.Cf,i.Lf=this.Lf,i.Af=this.Af,i.n=this.n&-2}static parseEnum(i,t){return n.i(i,"function",ar,"parseEnum:ctor"),r=>{let o=parseInt(r);return isNaN(o)&&(o=n.Oh(i,r),o===null)?t:o}}li(i){i in Lt?this.mode=i:n.lr(this,i)}static toString(i){return n.toString(i)}toString(){return"Binding("+this.targetProperty+":"+this.sourceProperty+(this.targetId!==-1?" "+this.targetId:"")+" "+Lt[this.mode]+")"}g(){return this.n=this.n|1,this}lt(){return this.n=this.n&-2,this}get targetId(){return this.yN}set targetId(i){this.h&&n.D(this),n.i(i,"number",ar,"targetId"),this.yN=i}get targetProperty(){return this.Ua}set targetProperty(i){this.h&&n.D(this),n.i(i,"string",ar,"targetProperty"),this.Ua=i}get sourceProperty(){return this.Ph}set sourceProperty(i){this.h&&n.D(this),n.i(i,"string",ar,"sourceProperty"),this.Ph=i}get h(){return(this.n&1)!==0}get isToData(){return(this.n&2)!==0}get isToObject(){return(this.n&4)!==0}get isToModel(){return(this.n&8)!==0}get isToTheme(){return(this.n&16)!==0}get wN(){return this.isToTheme&&!(this.isToData||this.isToObject||this.isToModel)}Qu(){return!1}get sourceName(){return this.Nf}set sourceName(i){this.h&&n.D(this),i!==null&&n.i(i,"string",ar,"sourceName"),this.Nf=i,i!==null?this.n=this.n&-3|4:this.n=this.n|2}get converter(){return this.Cf}set converter(i){this.h&&n.D(this),i!==null&&n.i(i,"function",ar,"converter"),this.Cf=i}get backConverter(){return this.Af}set backConverter(i){this.h&&n.D(this),i!==null&&n.i(i,"function",ar,"backConverter"),this.Af=i}get mode(){return this.Lf}set mode(i){this.h&&n.D(this),this.isToTheme&&i===2&&n.o("Theme Bindings cannot be TwoWay."),this.Lf=i}makeTwoWay(i){return this.isToTheme&&n.o("Theme Bindings cannot be TwoWay."),this.mode=2,i&&(n.i(i,"function",ar,"makeTwoWay"),this.backConverter=i),this}ofObject(i){return this.h&&n.D(this),i===void 0&&(i=""),this.sourceName=i,this}ofModel(){return this.h&&n.D(this),this.n=this.n&-3&-5|8,this.Nf=null,this}$L(i,t){const r=this.sourceName;let o=null;return r===null||r===""?o=i:r==="/"?o=t.part:r==="."?o=t:r===".."?o=t.panel:o=i.findObject(r),o}check(i){const t=this.Ua,r=this.Ph,o=this.Cf;(this.Qu()&&o===null&&this.Mh===null&&t===""||o===null&&t==="")&&n.ri("Binding error: target property is the empty string: "+this.toString()),this.Qu()&&this.wN&&r===""&&o===null&&this.Mh===null&&n.ri("Binding error: theme bindings require a source property when not using a converter: "+this.toString()),i&&typeof t=="string"&&(typeof i.setAttribute!="function"&&t.length>0&&t[0]!=="_"&&!n.fw(i,t)?n.ri("Binding error: undefined target property: "+t+" on "+i.toString()):t==="name"&&i instanceof dn&&n.ri("Binding error: cannot modify GraphObject.name on "+i.toString()))}updateTarget(i,t,r){var g,y,b;const o=this.Ph;if(r!==void 0&&o!==""&&o!==r)return;const l=this.Ua,u=this.Cf;let c=t;if(o!==""&&!this.wN&&(c=Qt.vt(t,o)),c===void 0)return;const f=((g=i.diagram)==null?void 0:g.themeManager)??((b=(y=i.panel)==null?void 0:y.diagram)==null?void 0:b.themeManager);if(u===null){if(l!==""){if(this.Qu()&&(c=this.NT(f,c,i,l),c===void 0))return;Qt.ht(i,l,c)}}else try{if(l!==""){let w=u(c,i);if(this.Qu()&&(w=this.NT(f,w,i,l),w===void 0))return;Qt.ht(i,l,w)}else u(c,i)}catch{}}updateSource(i,t,r,o){if(this.Lf!==2)return;const l=this.Ua;if(r!==void 0&&l!==r)return;const u=this.Ph,c=this.Af;let f=i;if(l!==""&&(f=Qt.vt(i,l)),f!==void 0&&!this.L1.has(i))try{this.L1.add(i);const g=o!==null?o.diagram:null,y=g!==null?g.model:null;if(c===null){if(u!=="")y!==null?y.setDataProperty(t,u,f):Qt.ht(t,u,f);else if(y!==null&&o!==null&&o.itemIndex>=0&&o.panel!==null&&Array.isArray(o.panel.itemArray)){const b=o.itemIndex,w=o.panel.itemArray;y.removeArrayItem(w,b),y.insertArrayItem(w,b,f)}}else try{if(u!==""){const b=c(f,t,y);y!==null?y.setDataProperty(t,u,b):Qt.ht(t,u,b)}else{const b=c(f,t,y);if(b!==void 0&&y!==null&&o!==null&&o.itemIndex>=0&&o.panel!==null&&Array.isArray(o.panel.itemArray)){const w=o.itemIndex,P=o.panel.itemArray;y.removeArrayItem(P,w),y.insertArrayItem(P,w,b)}}}catch{}}finally{this.L1.delete(i)}}};T(ar,"OneWay",1),T(ar,"TwoWay",2);let Zt=ar;class ge extends Zt{constructor(t,r,o,l,u){super(t,r,l);T(this,"Ly");T(this,"Mh");T(this,"Ba");o==null&&(o=""),u===void 0&&(u=null),this.Ly=o,this.Mh=u,this.Ba=null,this.n=16}cloneProtected(t){super.cloneProtected(t),t.Ly=this.Ly,t.Mh=this.Mh,t.Ba=this.Ba}Qu(){return!0}get themeSource(){return this.Ly}set themeSource(t){this.h&&n.D(this),t!==null&&n.i(t,"string",ge,"themeSource"),this.Ly=t,this.Ba=null,t!==null?this.n=this.n|16:this.n=this.n&-17}get themeConverter(){return this.Mh}set themeConverter(t){this.h&&n.D(this),t!==null&&n.i(t,"function",ge,"themeConverter"),this.Mh=t}ofData(){return this.h&&n.D(this),this.n=this.n|2,this.Nf=null,this}NT(t,r,o,l){if(!t||(this.wN&&(r=this.Ph),!r&&r!==0))return;let u=this.themeSource;this.Ba!==null?u=this.Ba:typeof u=="string"&&u.includes(".")&&(this.Ba=u.split("."),u=this.Ba);let c=t.findValue(r,u,l);return c===void 0&&n.ri(`Theme warning: ${r} could not be found when setting target property ${l}.`),typeof this.Mh=="function"&&(c=this.Mh(c,o)),c}}const ve=class ve{constructor(i,t){T(this,"St");T(this,"tg");T(this,"vo");T(this,"A1");T(this,"Fe");T(this,"Tf");T(this,"Df");T(this,"ig");T(this,"eg");T(this,"sg");T(this,"ng");T(this,"Va");T(this,"er");T(this,"T1");T(this,"Ro");T(this,"D1");T(this,"ti");T(this,"Sh");T(this,"og",new M);T(this,"rg",new M);T(this,"Ay");T(this,"FT",`,
  "insertedNodeKeys": `);T(this,"NO",`,
  "modifiedNodeData": `);T(this,"RT",`,
  "removedNodeKeys": `);T(this,"za",null);if(M.Yi(this),this.St="",this.tg="",this.vo=!1,this.A1={},this.Fe=[],this.ti=new V,this.Sh="key",this.Tf=null,this.Df=null,this.ig=!1,this.eg=!1,this.sg=!1,this.ng=null,this.Va="category",this.er=new V,this.Ay=100,this.T1=new x,this.Ro=!1,this.D1=null,this.undoManager=new Nt,i!==void 0&&(Array.isArray(i)?this.nodeDataArray=i:t=i),t){Object.assign(this,t);const r=t.Changed;r&&(delete this.Changed,this.addChangedListener(r))}}cloneProtected(i){i.St=this.St,i.tg=this.tg,i.vo=this.vo,i.Sh=this.Sh,i.Tf=this.Tf,i.Df=this.Df,i.ig=this.ig,i.eg=this.eg,i.sg=this.sg,i.Ay=this.Ay,i.ng=this.ng,i.Va=this.Va}copy(){const i=new this.constructor;return this.cloneProtected(i),i}clear(){this.Fe=[],this.ti.clear(),this.er.clear(),this.undoManager.clear()}toString(i){if(i===void 0&&(i=0),i>1)return this.toJson();{let t=(this.name!==""?this.name:"")+" Model";if(i>0){t+=`
 node data:`;const r=this.nodeDataArray,o=r.length;for(let l=0;l<o;l++){const u=r[l];t+=" "+this.getKeyForNodeData(u)+":"+n.toString(u)}}return t}}toIncrementalData(i){i.change!==1&&n.o("Model.toIncrementalData argument is not a Transaction ChangedEvent:"+i.toString());const t=i.object;if(!i.isTransactionFinished||!(t instanceof yt))return null;this.CT(t);const r=this.xN(t,i.propertyName==="FinishedUndo");return this.za=null,r}xN(i,t){const r=this;let o=!1;const l=new M,u=new M,c=new M,f=this.za;i.changes.each(P=>{if(P.model===r){if(P.modelChange==="nodeDataArray")P.change===3?l.add(P.newValue):P.change===4&&c.add(P.oldValue);else if(r.containsNodeData(P.object))u.add(P.object);else if(P.change===2&&(r.modelData===P.object||P.propertyName==="modelData"))o=!0;else if(P.object!==null)if(f&&f.has(P.object))f.get(P.object).each(E=>{r.containsNodeData(E)&&u.add(E)});else{if(P.object instanceof ve||r.La()&&r.containsLinkData(P.object))return;r.LT(P.object).each(E=>{u.add(E)})}}});const g=this.rg;g.clear(),l.each(P=>{g.add(r.getKeyForNodeData(P)),t||u.add(P)});const y=this.og;y.clear(),c.each(P=>{y.add(r.getKeyForNodeData(P)),t&&u.add(P)});const b=r.cloneDeep(u.toArray());let w=null;return o&&(w===null&&(w={}),w.modelData=this.cloneDeep(this.modelData)),g.count>0&&(w===null&&(w={}),t?w.removedNodeKeys=g.toArray():w.insertedNodeKeys=g.toArray()),b.length>0&&(w===null&&(w={}),w.modifiedNodeData=b),y.count>0&&(w===null&&(w={}),t?w.insertedNodeKeys=y.toArray():w.removedNodeKeys=y.toArray()),y.clear(),g.clear(),w}cloneDeep(i){return this.lg(i,!0)}lg(i,t,r,o,l){if(!n.wt(i))return i;l||(l=[]);const u=Object.isExtensible(i);if(r||(r=new V),u){const g=r.get(i);if(g)return g}else{o||(o=new V);const g=o.iterator;for(;g.next();){const y=g.key;if(g.value===i){const b=r.get(y);if(b)return b}}}function c(g,y){if(u)g.__gohashid===void 0&&l.push(g),r.set(g,y);else{const b=M.nu++;r.set(b,y),o.set(b,i)}}let f;if(Array.isArray(i)){f=[],c(i,f);for(let g=0;g<i.length;g++){const y=i[g];f.push(this.lg(y,!1,r,o,l))}}else if(i instanceof C||i instanceof z||i instanceof F||i instanceof Y||i instanceof U)f=i.copy(),c(i,f);else{if(i instanceof ze||i instanceof lt)return i;if(i instanceof x)f=new x().addAll(this.lg(i.toArray(),!1,r,o,l)),c(i,f);else if(i instanceof M)f=new M().addAll(this.lg(i.toArray(),!1,r,o,l)),c(i,f);else if(i instanceof V)f=new V().addAll(this.lg(i.toArray(),!1,r,o,l)),c(i,f);else if(i instanceof Date)f=new Date(i.getTime()),c(i,f);else if(i instanceof RegExp)f=new RegExp(i),c(i,f),f.lastIndex=i.lastIndex;else if(typeof i.copy=="function")f=i.copy(),c(i,f);else{f={},c(i,f);for(const g in i){if(g==="__gohashid")continue;const y=i[g];f[g]=this.lg(y,!1,r,o,l)}}}return t&&l.forEach(g=>{delete g.__gohashid}),f}Re(i){return JSON.stringify(i).replace(/[\u007F-\uFFFF]/g,t=>{const r="0000"+t.charCodeAt(0).toString(16);return"\\u"+r.substring(r.length-4)})}hg(){let i="";return this.name!==""&&(i+=`,
  "name": `+this.Re(this.name)),this.dataFormat!==""&&(i+=`,
  "dataFormat": `+this.Re(this.dataFormat)),this.isReadOnly&&(i+=`,
  "isReadOnly": `+this.isReadOnly),this.nodeKeyProperty!=="key"&&typeof this.nodeKeyProperty=="string"&&(i+=`,
  "nodeKeyProperty": `+this.Re(this.nodeKeyProperty)),this.copiesArrays&&(i+=`,
  "copiesArrays": true`),this.copiesArrayObjects&&(i+=`,
  "copiesArrayObjects": true`),this.copiesKey&&(i+=`,
  "copiesKey": true`),this.pointsDigits!==100&&(i+=`,
  "pointsDigits": `+this.pointsDigits.toString()),this.nodeCategoryProperty!=="category"&&typeof this.nodeCategoryProperty=="string"&&(i+=`,
  "nodeCategoryProperty": `+this.Re(this.nodeCategoryProperty)),i}Ty(i){i.name&&(this.name=i.name),i.dataFormat&&(this.dataFormat=i.dataFormat),i.isReadOnly&&(this.isReadOnly=!0),i.nodeKeyProperty&&(this.nodeKeyProperty=i.nodeKeyProperty),i.copiesArrays&&(this.copiesArrays=!0),i.copiesArrayObjects&&(this.copiesArrayObjects=!0),i.copiesKey!==void 0&&(this.copiesKey=i.copiesKey),i.pointsDigits!==void 0&&(this.pointsDigits=parseInt(i.pointsDigits)),i.nodeCategoryProperty&&(this.nodeCategoryProperty=i.nodeCategoryProperty)}AT(){const i=this.modelData;return`,
  "modelData": `+this.TT(i)}DT(i){const t=i.modelData;n.wt(t)&&(this.replaceJsonObjects(t),this.modelData=t)}bN(){const i=this.modelData;let t=!1;for(const o in i)if(!this.F1(i,o,i[o])){t=!0;break}let r="";return t&&(r=this.AT()),r+`,
  "nodeDataArray": `+this.Nh(this.nodeDataArray,!0)}kN(i){this.DT(i);const t=i.nodeDataArray;Array.isArray(t)&&(this.replaceJsonObjects(t),this.nodeDataArray=t)}PN(i,t,r){if(i===t)return!0;if(typeof i!=typeof t||typeof i=="function"||typeof t=="function")return!1;if(Array.isArray(i)&&Array.isArray(t)){if(r.get(i)===t)return!0;if(r.set(i,t),i.length!==t.length)return!1;for(let o=0;o<i.length;o++)if(!this.PN(i[o],t[o],r))return!1;return!0}else if(n.wt(i)&&n.wt(t)){if(r.get(i)===t)return!0;r.set(i,t);for(const o in i){const l=i[o];if(this.F1(i,o,l))continue;const u=t[o];if(u===void 0||!this.PN(l,u,r))return!1}for(const o in t){const l=t[o];if(this.F1(t,o,l))continue;const u=i[o];if(u===void 0||!this.PN(u,l,r))return!1}return!0}return!1}CT(i){let t=this.za;const r=(o,l)=>{const u=l.part;if(!u)return;const c=u.data;if(o===c)return;let f=t.get(o);f===null?(f=new M,f.add(c),t.set(o,f)):f.add(c)};t===null&&(t=new V,i.changes.each(o=>{if(o.diagram!==null){const l=o.change;if(l===2){const u=o.object.panel;if(u){const c=u.data;c&&r(c,u)}}else if(l===3||l===4){const u=o.object,c=u.itemArray;c&&r(c,u)}}}),this.za=t)}LT(i){const t=new M;for(let r=0;r<this.nodeDataArray.length;r++){const o=this.nodeDataArray[r];this.R1(i,o,o,t)}return t}R1(i,t,r,o){if(Array.isArray(t))for(let l=0;l<t.length;l++){const u=t[l];if(u===i)return o.add(r),!0;if(this.R1(i,u,r,o))return!0}else if(n.wt(t)&&Object.getPrototypeOf(t)===Object.prototype)for(const l in t){const u=t[l];if(u===i)return o.add(r),!0;if(this.R1(i,u,r,o))return!0}return!1}MN(i,t){const r=this;let o=!1;const l=new M,u=new M,c=new M,f=this.za;i.changes.each(w=>{if(w.model===r){if(w.modelChange==="nodeDataArray")w.change===3?l.add(w.newValue):w.change===4&&c.add(w.oldValue);else if(r.containsNodeData(w.object))u.add(w.object);else if(w.change===2&&(r.modelData===w.object||w.propertyName==="modelData"))o=!0;else if(w.object!==null)if(f&&f.has(w.object))f.get(w.object).each(P=>{r.containsNodeData(P)&&u.add(P)});else{if(w.object instanceof ve||r.La()&&r.containsLinkData(w.object))return;r.LT(w.object).each(P=>{u.add(P)})}}});const g=this.rg;g.clear(),l.each(w=>{g.add(r.getKeyForNodeData(w)),t||u.add(w)});const y=this.og;y.clear(),c.each(w=>{y.add(r.getKeyForNodeData(w)),t&&u.add(w)});let b="";return o&&(b+=this.AT()),g.count>0&&(b+=(t?this.RT:this.FT)+this.Nh(g.toArray(),!0)),u.count>0&&(b+=this.NO+this.Nh(u.toArray(),!0)),y.count>0&&(b+=(t?this.FT:this.RT)+this.Nh(y.toArray(),!0)),y.clear(),g.clear(),b}Dy(i){(i.name!==void 0&&i.name!==this.name||i.dataFormat!==void 0&&i.dataFormat!==this.dataFormat||i.isReadOnly!==void 0&&i.isReadOnly!==this.isReadOnly||i.nodeKeyProperty!==void 0&&i.nodeKeyProperty!==this.nodeKeyProperty||i.copiesArrays!==void 0&&i.copiesArrays!==this.copiesArrays||i.copiesArrayObjects!==void 0&&i.copiesArrayObjects!==this.copiesArrayObjects||i.copiesKey!==void 0&&i.copiesKey!==this.copiesKey||i.nodeCategoryProperty!==void 0&&i.nodeCategoryProperty!==this.nodeCategoryProperty)&&n.o("applyIncrementalJson cannot change Model properties"),this.DT(i);const t=i.insertedNodeKeys,r=i.modifiedNodeData,o=new V;if(Array.isArray(r))for(let u=0;u<r.length;u++){const c=r[u],f=this.getKeyForNodeData(c);f!=null&&o.set(f,c)}if(Array.isArray(t)){const u=t.length;for(let c=0;c<u;c++){const f=t[c];let g=this.findNodeDataForKey(f);g===null&&(g=o.get(f)||this.copyNodeData({}),this.setKeyForNodeData(g,f),this.addNodeData(g))}}if(Array.isArray(r)){const u=r.length;for(let c=0;c<u;c++){const f=r[c],g=this.getKeyForNodeData(f),y=this.findNodeDataForKey(g);if(y!==null){for(const b in f)b==="__gohashid"||b===this.nodeKeyProperty||(this.uc()||this.Hu())&&b===this.nodeIsGroupProperty||this.setDataProperty(y,b,f[b]);this.ag(f,y)}}}const l=i.removedNodeKeys;if(Array.isArray(l)){const u=l.length;for(let c=0;c<u;c++){const f=l[c],g=this.findNodeDataForKey(f);g!==null&&this.removeNodeData(g)}}}toIncrementalJson(i,t){i.change!==1&&n.o("Model.toIncrementalJson argument is not a Transaction ChangedEvent:"+i.toString());const r=i.object;if(!i.isTransactionFinished||!(r instanceof yt))return'{ "incremental": 0 }';t===void 0&&(t=n.sn(this)),this.CT(r);const o=this.MN(r,i.propertyName==="FinishedUndo");return this.za=null,t==="2"?'{ "incremental": 2'+o+"}":'{ "class": '+this.Re(t)+', "incremental": 1'+this.hg()+o+"}"}toIncrementalJSON(i,t){return this.toIncrementalJson(i,t)}toJson(i){return i===void 0&&(i=n.sn(this)),'{ "class": '+this.Re(i)+this.hg()+this.bN()+"}"}toJSON(i){return this.toJson(i)}applyIncrementalJson(i){let t=null;if(typeof i=="string")try{t=e.JSON.parse(i)}catch{}else typeof i=="object"?t=i:n.o("Unable to modify a Model from: "+i);const r=t.incremental;typeof r!="number"&&n.o("Unable to apply non-incremental changes to Model: "+i),r!==0&&(this.startTransaction("applyIncrementalJson"),this.Dy(t),this.commitTransaction("applyIncrementalJson"))}applyIncrementalJSON(i){return this.applyIncrementalJson(i)}static fromJson(i,t){t===void 0&&(t=null);let r=null;if(typeof i=="string")try{r=e.JSON.parse(i)}catch{}else typeof i=="object"?r=i:n.o("Unable to construct a Model from: "+i);if(t===null){const o=ve.CO(r);o===null||o instanceof ve?t=o:n.o("Unable to construct a Model of declared class: "+r.class)}return t===null&&(t=ve.constructGraphLinksModel()),t.Ty(r),t.kN(r),t}static fromJSON(i,t){return this.fromJson(i,t)}static constructGraphLinksModel(){return new ve}static CO(i){let t=null,r=i.class;if(typeof r=="string")try{let o=null;r.indexOf("go.")===0?(r=r.substring(3),o=ve.v1(r)):(o=ve.v1(r),o===null&&(o=e[r])),typeof o=="function"&&(t=new o)}catch{}return t}replaceJsonObjects(i){if(Array.isArray(i)){const t=i.length;for(let r=0;r<t;r++){const o=i[r];n.wt(o)&&(i[r]=this.replaceJsonObjects(o))}}else if(n.wt(i)){for(const t in i){const r=i[t];if(n.wt(r)){const o=this.replaceJsonObjects(r);if(i[t]=o,t==="points"&&Array.isArray(o)){let l=o.length%2===0;for(let u=0;u<o.length;u++)if(typeof o[u]!="number"){l=!1;break}if(l){const u=new x;for(let c=0;c<o.length/2;c++)u.add(new C(o[c*2],o[c*2+1]));u.g(),i[t]=u}}}}return this.LO(i)}return i}writeJsonValue(i){return i===void 0?"undefined":i===null?"null":i===!0?"true":i===!1?"false":typeof i=="string"?this.Re(i):typeof i=="number"?i===1/0?"9e9999":i===-1/0?"-9e9999":isNaN(i)?'{"class":"NaN"}':i.toString():i instanceof Date?'{"class":"Date", "value":"'+i.toJSON()+'"}':i instanceof Number?this.writeJsonValue(i.valueOf()):Array.isArray(i)?this.Nh(i):n.wt(i)?this.TT(i):typeof i=="function"?"null":i.toString()}Nh(i,t){t===void 0&&(t=!1);const r=i.length;if(r<=0)return"[]";const o=new s;o.add("["),t&&r>1&&o.add(`
`);for(let l=0;l<r;l++){const u=i[l];u!==void 0&&(l>0&&(o.add(","),t&&o.add(`
`)),o.add(this.writeJsonValue(u)))}return t&&r>1&&o.add(`
`),o.add("]"),o.toString()}F1(i,t,r){return r===void 0||t==="__gohashid"||t[0]==="_"||typeof r=="function"}Xi(i){return isNaN(i)?"NaN":i===1/0?"9e9999":i===-1/0?"-9e9999":i}TT(i){const t=i;if(t instanceof C)i={class:"go.Point",x:this.Xi(t.x),y:this.Xi(t.y)};else if(t instanceof z)i={class:"go.Size",width:this.Xi(t.width),height:this.Xi(t.height)};else if(t instanceof F)i={class:"go.Rect",x:this.Xi(t.x),y:this.Xi(t.y),width:this.Xi(t.width),height:this.Xi(t.height)};else if(t instanceof Y)i={class:"go.Margin",top:this.Xi(t.top),right:this.Xi(t.right),bottom:this.Xi(t.bottom),left:this.Xi(t.left)};else if(t instanceof U)t.isSpot()?i={class:"go.Spot",x:this.Xi(t.x),y:this.Xi(t.y),offsetX:this.Xi(t.offsetX),offsetY:this.Xi(t.offsetY)}:i={class:"go.Spot",enum:t.toString()};else if(t instanceof ze){if(i={class:"go.Brush",type:Wi[t.type]},t.type===1?i.color=t.color:(t.type===2||t.type===3)&&(i.start=t.start,i.end=t.end,t.type===3&&(t.startRadius!==0&&(i.startRadius=this.Xi(t.startRadius)),isNaN(t.endRadius)||(i.endRadius=this.Xi(t.endRadius)))),t.colorStops!==null){const l={},u=t.colorStops.iterator;for(;u.next();){const c=u.key,f=u.value;l[c]=f}i.colorStops=l}}else if(t instanceof lt)i={class:"go.Geometry",type:rt[t.type]},t.startX!==0&&(i.startX=this.Xi(t.startX)),t.startY!==0&&(i.startY=this.Xi(t.startY)),t.endX!==0&&(i.endX=this.Xi(t.endX)),t.endY!==0&&(i.endY=this.Xi(t.endY)),t.spot1.equals(U.TopLeft)||(i.spot1=t.spot1),t.spot2.equals(U.BottomRight)||(i.spot2=t.spot2),t.type===4&&(i.path=lt.stringify(t));else if(ve.v1(n.sn(t))!==null)return n.ri("ERROR: trying to convert a GraphObject or Diagram or Model or Tool or Layout or UndoManager or other unknown data type into JSON text: "+t.toString()),"{}";let r="{",o=!0;for(const l in i){const u=ve.vt(i,l);if(!this.F1(i,l,u))if(o?o=!1:r+=",",r+=this.Re(l)+":",l==="points"&&u instanceof x){const c=u;let f="[";const g=c.iterator;for(;g.next();){const y=g.value;f.length>1&&(f+=","),f+=this.vT(y.x),f+=",",f+=this.vT(y.y)}f+="]",r+=f}else r+=this.writeJsonValue(u)}return r+="}",r}vT(i){if(i===1/0)return"9e9999";if(i===-1/0)return"-9e9999";if(isNaN(i))return"0";const t=this.pointsDigits;return t>16?i.toString():i.toFixed(t)}get pointsDigits(){return this.Ay}set pointsDigits(i){i<0?i=0:i>100&&(i=100),this.Ay=i}Ki(i){return typeof i=="number"?i:i==="NaN"?NaN:i==="9e9999"?1/0:i==="-9e9999"?-1/0:parseFloat(i)}LO(i){if(typeof i!="object")return i;let t=i.class||"";if(typeof t!="string"||t==="")return i;if(t==="NaN")return NaN;if(t==="Date")return new Date(i.value);if(t.indexOf("go.")!==0)return i;t=t.substring(3);let r=i;if(t==="Point")r=new C(this.Ki(i.x),this.Ki(i.y));else if(t==="Size")r=new z(this.Ki(i.width),this.Ki(i.height));else if(t==="Rect")r=new F(this.Ki(i.x),this.Ki(i.y),this.Ki(i.width),this.Ki(i.height));else if(t==="Margin")r=new Y(this.Ki(i.top),this.Ki(i.right),this.Ki(i.bottom),this.Ki(i.left));else if(t==="Spot")typeof i.enum=="string"?r=U.parse(i.enum):r=new U(this.Ki(i.x),this.Ki(i.y),this.Ki(i.offsetX),this.Ki(i.offsetY));else if(t==="Brush"){const o=new ze;o.type=n.Oh(Wi,i.type)??1,typeof i.color=="string"&&(o.color=i.color),i.start instanceof U&&(o.start=i.start),i.end instanceof U&&(o.end=i.end),typeof i.startRadius=="number"&&(o.startRadius=this.Ki(i.startRadius)),typeof i.endRadius=="number"&&(o.endRadius=this.Ki(i.endRadius));const l=i.colorStops;if(n.wt(l))for(const u in l){const c=parseFloat(u);o.addColorStop(c,l[u])}r=o}else if(t==="Geometry"){let o=null;typeof i.path=="string"?o=lt.parse(i.path):o=new lt,o.type=n.Oh(rt,i.type)??1,typeof i.startX=="number"&&(o.startX=this.Ki(i.startX)),typeof i.startY=="number"&&(o.startY=this.Ki(i.startY)),typeof i.endX=="number"&&(o.endX=this.Ki(i.endX)),typeof i.endY=="number"&&(o.endY=this.Ki(i.endY)),i.spot1 instanceof U&&(o.spot1=i.spot1),i.spot2 instanceof U&&(o.spot2=i.spot2),r=o}else if(t==="EnumValue"){let o=i.classType;o.indexOf("go.")===0&&(o=o.substring(3));const l=ve.v1(o);typeof l=="function"&&(r=n.Oh(l,i.name))}return r}get name(){return this.St}set name(i){const t=this.St;t!==i&&(n.i(i,"string",ve,"name"),this.St=i,this.t("name",t,i))}get dataFormat(){return this.tg}set dataFormat(i){const t=this.tg;t!==i&&(n.i(i,"string",ve,"dataFormat"),this.tg=i,this.t("dataFormat",t,i))}get isReadOnly(){return this.vo}set isReadOnly(i){const t=this.vo;t!==i&&(n.i(i,"boolean",ve,"isReadOnly"),this.vo=i,this.t("isReadOnly",t,i))}get modelData(){return this.A1}set modelData(i){const t=this.A1;t!==i&&(n.i(i,"object",ve,"modelData"),this.A1=i,this.t("modelData",t,i),this.updateTargetBindings(i))}addChangedListener(i){return n.i(i,"function",ve,"addChangedListener:listener"),this.T1.add(i),this}removeChangedListener(i){n.i(i,"function",ve,"removeChangedListener:listener"),this.T1.delete(i)}Iw(i){this.skipsUndoManager||this.undoManager.handleChanged(i);const t=this.T1,r=t.length;for(let o=0;o<r;o++)t.elt(o)(i)}raiseChangedEvent(i,t,r,o,l,u,c){this.Et("",i,t,r,o,l,u,c)}raiseChanged(i,t,r,o,l){this.Et("",2,i,this,t,r,o,l)}t(i,t,r,o,l){this.Et("",2,i,this,t,r,o,l)}raiseDataChanged(i,t,r,o,l,u){this.Et("",2,t,i,r,o,l,u)}Et(i,t,r,o,l,u,c,f){c===void 0&&(c=null),f===void 0&&(f=null);const g=new Rt;g.model=this,g.change=t,g.modelChange=i,g.propertyName=r,g.object=o,g.oldValue=l,g.oldParam=c,g.newValue=u,g.newParam=f,this.Iw(g)}get undoManager(){return this.D1}set undoManager(i){const t=this.D1;t!==i&&(t!==null&&t.removeModel(this),this.D1=i,i!==null&&i.addModel(this))}get skipsUndoManager(){return this.Ro}set skipsUndoManager(i){n.i(i,"boolean",ve,"skipsUndoManager"),this.Ro=i}changeState(i,t){if(i!==null&&i.model===this)if(i.change===2){const r=i.object,o=i.propertyName,l=i.getValue(t);if(o===this.nodeKeyProperty&&this.containsNodeData(r)){const u=i.getValue(!t);u!==void 0&&this.ti.delete(u),l!==void 0&&this.ti.set(l,r)}ve.ht(r,o,l)}else if(i.change===3){const r=i.newParam;if(i.modelChange==="nodeDataArray"){const o=i.newValue;if(n.wt(o)&&typeof r=="number"){const l=this.getKeyForNodeData(o);t?(this.Fe[r]===o&&n.Qa(this.Fe,r),l!==void 0&&this.ti.delete(l)):(this.Fe[r]!==o&&n.su(this.Fe,r,o),l!==void 0&&this.ti.set(l,o))}}else if(i.modelChange===""){let o=i.object;if(o&&!Array.isArray(o)&&i.propertyName&&(o=ve.vt(i.object,i.propertyName)),Array.isArray(o)&&typeof r=="number"){const l=i.newValue;t?n.Qa(o,r):n.su(o,r,l)}}else n.o("unknown ChangeType.Insert modelChange: "+i.toString())}else if(i.change===4){const r=i.oldParam;if(i.modelChange==="nodeDataArray"){const o=i.oldValue;if(n.wt(o)&&typeof r=="number"){const l=this.getKeyForNodeData(o);t?(this.Fe[r]!==o&&n.su(this.Fe,r,o),l!==void 0&&this.ti.set(l,o)):(this.Fe[r]===o&&n.Qa(this.Fe,r),l!==void 0&&this.ti.delete(l))}}else if(i.modelChange===""){let o=i.object;if(o&&!Array.isArray(o)&&i.propertyName&&(o=ve.vt(i.object,i.propertyName)),Array.isArray(o)&&typeof r=="number"){const l=i.oldValue;t?n.su(o,r,l):n.Qa(o,r)}}else n.o("unknown ChangeType.Remove modelChange: "+i.toString())}else i.change===1||n.o("unknown ChangedEvent: "+i.toString())}startTransaction(i){return this.undoManager.startTransaction(i)}commitTransaction(i){return this.undoManager.commitTransaction(i)}rollbackTransaction(){return this.undoManager.rollbackTransaction()}commit(i,t){let r=t;r===void 0&&(r="");const o=this.skipsUndoManager;r===null&&(this.skipsUndoManager=!0,r=""),this.undoManager.startTransaction(r);let l=!1;try{i(this),l=!0}finally{l?this.undoManager.commitTransaction(r):this.undoManager.rollbackTransaction(),this.skipsUndoManager=o}}updateTargetBindings(i,t){t===void 0&&(t=""),this.Et("SourceChanged",1,t,i,null,null)}get nodeKeyProperty(){return this.Sh}set nodeKeyProperty(i){const t=this.Sh;t!==i&&(this.An(i,ve,"nodeKeyProperty"),i===""&&n.o("Model.nodeKeyProperty may not be the empty string"),this.ti.count>0&&n.o("Cannot set Model.nodeKeyProperty when there is existing node data"),this.Sh=i,this.t("nodeKeyProperty",t,i))}An(i,t,r){}getKeyForNodeData(i){if(i===null)return;const t=this.Sh;if(t==="")return;const r=ve.vt(i,t);if(r!==void 0){if(this.isKeyType(r))return r;n.o("Key value for node data "+i+" is not a number or a string: "+r)}}setKeyForNodeData(i,t){if((t==null||!this.isKeyType(t))&&n.xe(t,"number or string",ve,"setKeyForNodeData:key"),i===null)return;const r=this.Sh;if(r==="")return;if(!this.containsNodeData(i)){ve.ht(i,r,t);return}const o=ve.vt(i,r);if(o!==t){if(this.findNodeDataForKey(t)!==null)return;ve.ht(i,r,t),o!==void 0&&this.ti.delete(o),this.ti.set(t,i),this.Et("nodeKey",2,r,i,o,t),typeof r=="string"&&this.updateTargetBindings(i,r),this.Fy(o,t)}}get makeUniqueKeyFunction(){return this.Tf}set makeUniqueKeyFunction(i){const t=this.Tf;t!==i&&(i!==null&&n.i(i,"function",ve,"makeUniqueKeyFunction"),this.Tf=i,this.t("makeUniqueKeyFunction",t,i))}isKeyType(i){return typeof i=="number"||typeof i=="string"}containsNodeData(i){if(i===null)return!1;const t=this.getKeyForNodeData(i);return t===void 0?!1:this.ti.get(t)===i}findNodeDataForKey(i){return i===null&&n.o("Model.findNodeDataForKey:key must not be null"),i===void 0||!this.isKeyType(i)?null:this.ti.get(i)}get nodeDataArray(){return this.Fe}set nodeDataArray(i){const t=this.Fe;if(t!==i){this.ti.clear(),this.SN();const r=i.length;for(let u=0;u<r;u++){const c=i[u];n.wt(c)||n.o("Model.nodeDataArray must only contain Objects, not: "+c)}this.Fe=i;const o=new x;for(let u=0;u<r;u++){const c=i[u],f=this.getKeyForNodeData(c);f===void 0||this.ti.get(f)!==null?o.add(c):this.ti.set(f,c)}const l=o.iterator;for(;l.next();){const u=l.value;this.makeNodeDataKeyUnique(u);const c=this.getKeyForNodeData(u);c!==void 0&&this.ti.set(c,u)}this.Et("nodeDataArray",2,"nodeDataArray",this,t,i);for(let u=0;u<r;u++){const c=i[u];this.cg(c),this.fg(c)}}}makeNodeDataKeyUnique(i){if(i===null)return;const t=this.Sh;if(t==="")return;let r=this.getKeyForNodeData(i);if(r!==void 0&&!this.ti.has(r))return;const o=this.Tf;if(o!==null&&(r=o(this,i),r!=null&&!this.ti.has(r))){ve.ht(i,t,r);return}if(typeof r=="string"){let l=2;for(;this.ti.has(r+l);)l++;ve.ht(i,t,r+l)}else if(r===void 0||typeof r=="number"){let l=-this.ti.count-1;for(;this.ti.has(l);)l--;ve.ht(i,t,l)}}addNodeData(i){i!==null&&(this.containsNodeData(i)||this.wT(i,!0))}wT(i,t){let r=this.getKeyForNodeData(i);if(r===void 0)this.makeNodeDataKeyUnique(i),r=this.getKeyForNodeData(i);else{if(this.ti.get(r)===i)return;this.makeNodeDataKeyUnique(i),r=this.getKeyForNodeData(i)}r===void 0&&n.o("Model.makeNodeDataKeyUnique failed on "+i+".  Data not added to Model."),this.ti.set(r,i);let o=null;t&&(o=this.Fe.length,n.su(this.Fe,o,i)),this.Et("nodeDataArray",3,"nodeDataArray",this,null,i,null,o),this.cg(i),this.fg(i)}addNodeDataCollection(i){if(Array.isArray(i)){const t=i.length;for(let r=0;r<t;r++)this.addNodeData(i[r])}else{const t=i.iterator;for(;t.next();){const r=t.value;this.addNodeData(r)}}}removeNodeData(i){i!==null&&this.yT(i,!0)}yT(i,t){const r=this.getKeyForNodeData(i);r!==void 0&&this.ti.delete(r);let o=null;if(t){if(o=this.Fe.indexOf(i),o<0)return;n.Qa(this.Fe,o)}this.Et("nodeDataArray",4,"nodeDataArray",this,i,null,o,null),this.Ry(i)}removeNodeDataCollection(i){if(Array.isArray(i)){const t=i.length;for(let r=0;r<t;r++)this.removeNodeData(i[r])}else{const t=i.iterator;for(;t.next();){const r=t.value;this.removeNodeData(r)}}}mergeNodeDataArray(i){if(i!==this.nodeDataArray&&Array.isArray(i)){const t=this.og;t.clear(),t.addAll(this.ti.iteratorKeys);const r=this.rg;r.clear();const o=i.length;for(let u=0;u<o;u++){const c=i[u],f=this.getKeyForNodeData(c);if(f!==void 0){r.add(f);const g=this.findNodeDataForKey(f);if(g===c)continue;if(g!==null)this.assignAllDataProperties(g,c),this.ag(c,g);else{const y=this.cloneDeep(c);this.setKeyForNodeData(y,f),this.addNodeData(y)}}else{const g=this.cloneDeep(c);this.addNodeData(g),r.add(this.getKeyForNodeData(g))}}const l=t.iterator;for(;l.next();){const u=l.value;if(!r.has(u)){const c=this.findNodeDataForKey(u);c&&this.removeNodeData(c)}}t.clear(),r.clear()}}Fy(i,t){if(t===void 0)return;const r=this.Cy(i);r instanceof M&&this.er.set(t,r)}SN(){}cg(i){}fg(i){}Ry(i){}$s(i,t){if(i===void 0)return;let r=this.er.get(i);r===null&&(r=new M,this.er.set(i,r)),r.add(t)}Js(i,t){if(i===void 0)return;const r=this.er.get(i);r instanceof M&&(t==null?this.er.delete(i):(r.delete(t),r.count===0&&this.er.delete(i)))}Cy(i){if(i===void 0)return null;const t=this.er.get(i);return t instanceof M?t:null}mE(i){i===void 0?this.er.clear():this.er.delete(i)}get copyNodeDataFunction(){return this.Df}set copyNodeDataFunction(i){const t=this.Df;t!==i&&(i!==null&&n.i(i,"function",ve,"copyNodeDataFunction"),this.Df=i,this.t("copyNodeDataFunction",t,i))}get copiesArrays(){return this.ig}set copiesArrays(i){const t=this.ig;t!==i&&(i!==null&&n.i(i,"boolean",ve,"copiesArrays"),this.ig=i,this.t("copiesArrays",t,i))}get copiesArrayObjects(){return this.eg}set copiesArrayObjects(i){const t=this.eg;t!==i&&(i!==null&&n.i(i,"boolean",ve,"copiesArrayObjects"),this.eg=i,this.t("copiesArrayObjects",t,i))}get copiesKey(){return this.sg}set copiesKey(i){const t=this.sg;t!==i&&(i!==null&&n.i(i,"boolean",ve,"copiesKey"),this.sg=i,this.t("copiesKey",t,i))}copyNodeData(i){if(i===null)return null;let t=null;const r=this.Df;return r!==null?t=r(i,this):t=this.O1(i,!0),t}O1(i,t){if(this.copiesArrays&&Array.isArray(i)){const r=i,o=[];for(let l=0;l<r.length;l++){const u=r[l],c=this.O1(u,this.copiesArrayObjects);o.push(c)}return o}else if(t&&n.wt(i)){const r=i,o=r.constructor,l=o?new o:{},u=!this.copiesKey&&typeof this.nodeKeyProperty=="string"?this.nodeKeyProperty:null;for(const c in r){if(c==="__gohashid"){l.__gohashid=void 0;continue}if(c===u){l[u]=void 0;continue}const f=ve.vt(r,c);if(this.AO(r,c,f))ve.ht(l,c,f);else{const g=this.O1(f,!1);ve.ht(l,c,g)}}return l}else return i instanceof C||i instanceof z||i instanceof F||i instanceof U||i instanceof Y?i.copy():i}get afterCopyFunction(){return this.ng}set afterCopyFunction(i){const t=this.ng;t!==i&&(i!==null&&n.i(i,"function",ve,"afterCopyFunction"),this.ng=i,this.t("afterCopyFunction",t,i))}AO(i,t,r){const o=n.sn(r);return o==="GraphObject"||o==="Diagram"||o==="Layer"||o==="RowColumnDefinition"||o==="AnimationManager"||o==="Tool"||o==="CommandHandler"||o==="Layout"||o==="InputEvent"||o==="DiagramEvent"?!0:r instanceof ve||r instanceof Nt||r instanceof yt||r instanceof Rt}setDataProperty(i,t,r){if(this.containsNodeData(i)){if(t===this.nodeKeyProperty){this.setKeyForNodeData(i,r);return}else if(t===this.nodeCategoryProperty){this.setCategoryForNodeData(i,r);return}}else!ve.OT&&i instanceof dn&&(ve.OT=!0,n.ri('Model.setDataProperty is modifying a GraphObject, "'+i.toString()+'"'),n.ri("  Is that really your intent?"));const o=ve.vt(i,t);o!==r&&(ve.ht(i,t,r),this.raiseDataChanged(i,t,o,r))}set(i,t,r){this.setDataProperty(i,t,r)}assignAllDataProperties(i,t){if(!t)return;const r=this.containsNodeData(i);for(const o in t)o!=="__gohashid"&&(r&&o===this.nodeKeyProperty||this.setDataProperty(i,o,t[o]))}addArrayItem(i,t){this.insertArrayItem(i,-1,t)}insertArrayItem(i,t,r){t<0&&(t=i.length),n.su(i,t,r),this.Et("",3,"",i,null,r,null,t)}removeArrayItem(i,t){t===void 0&&(t=-1),i===this.Fe&&n.o("Model.removeArrayItem should not be called on the Model.nodeDataArray"),t===-1&&(t=i.length-1);const r=i[t];n.Qa(i,t),this.Et("",4,"",i,r,null,t,null)}get nodeCategoryProperty(){return this.Va}set nodeCategoryProperty(i){const t=this.Va;t!==i&&(this.An(i,ve,"nodeCategoryProperty"),this.Va=i,this.t("nodeCategoryProperty",t,i))}getCategoryForNodeData(i){if(i===null)return"";const t=this.Va;if(t==="")return"";const r=ve.vt(i,t);if(r===void 0)return"";if(typeof r=="string")return r;n.o("getCategoryForNodeData found a non-string category for "+i+": "+r)}setCategoryForNodeData(i,t){if(n.i(t,"string",ve,"setCategoryForNodeData:cat"),i===null)return;const r=this.Va;if(r==="")return;if(!this.containsNodeData(i)){ve.ht(i,r,t);return}let o=ve.vt(i,r);o===void 0&&(o=""),o!==t&&(ve.ht(i,r,t),this.Et("nodeCategory",2,r,i,o,t))}ag(i,t){this.setCategoryForNodeData(t,this.getCategoryForNodeData(i))}get type(){return"Model"}gc(){return!1}uc(){return!1}Hu(){return!1}La(){return!1}zw(){return!1}jc(){return!1}static initDiagramModel(){return new ve}static v1(i){return ve.classMap[i]?ve.classMap[i]:e.go!==void 0&&e.go[i]?e.go[i]:null}static registerClass(i,t){ve.classMap[t]=i}static vt(i,t){if(!i||!t)return null;let r;try{typeof t=="function"?r=t(i):typeof i.getAttribute=="function"?(r=i.getAttribute(t),r===null&&(r=void 0)):r=i[t]}catch{}return r}static ht(i,t,r){if(!(!i||!t))try{typeof t=="function"?t(i,r):typeof i.setAttribute=="function"?i.setAttribute(t,r):i[t]=r}catch{}}};T(ve,"OT",!1),T(ve,"classMap",{}),ve.registerClass(ze,"Brush"),ve.registerClass(Rt,"ChangedEvent"),ve.registerClass(lt,"Geometry"),ve.registerClass(Y,"Margin"),ve.registerClass(re,"Panel"),ve.registerClass(C,"Point"),ve.registerClass(F,"Rect"),ve.registerClass(z,"Size"),ve.registerClass(U,"Spot"),ve.registerClass(yt,"Transaction"),ve.registerClass(Nt,"UndoManager");let Qt=ve;Qt.fromJSON=Qt.fromJson=Qt.fromJson;const ui=class ui extends Qt{constructor(t,r,o){super();T(this,"Ze");T(this,"sr");T(this,"ui");T(this,"Ch");T(this,"Ff");T(this,"Rf");T(this,"Al");T(this,"yo");T(this,"wo");T(this,"Xa");T(this,"Ka");T(this,"Ya");T(this,"Zs");T(this,"vf");T(this,"Tn");T(this,"ug");T(this,"ET",`,
  "insertedLinkKeys": `);T(this,"TO",`,
  "modifiedLinkData": `);T(this,"UT",`,
  "removedLinkKeys": `);if(this.Ze=[],this.sr=new M,this.ui=new V,this.Ch="",this.Ff=null,this.Rf=null,this.Al=null,this.yo="from",this.wo="to",this.Xa="",this.Ka="",this.Ya="category",this.Zs="",this.vf="isGroup",this.Tn="group",this.ug=!1,r!==void 0&&(this.linkDataArray=r),t!==void 0&&(Array.isArray(t)?this.nodeDataArray=t:o=t),o){Object.assign(this,o);const l=o.Changed;l&&(delete this.Changed,this.addChangedListener(l))}}cloneProtected(t){super.cloneProtected(t),t.Ch=this.Ch,t.Ff=this.Ff,t.Rf=this.Rf,t.yo=this.yo,t.wo=this.wo,t.Xa=this.Xa,t.Ka=this.Ka,t.Ya=this.Ya,t.Zs=this.Zs,t.vf=this.vf,t.Tn=this.Tn,t.ug=this.ug}clear(){super.clear(),this.Ze=[],this.ui.clear(),this.sr.clear()}toString(t){if(t===void 0&&(t=0),t>=2)return this.toJson();{let r=(this.name!==""?this.name:"")+" GraphLinksModel";if(t>0){r+=`
 node data:`;let o=this.nodeDataArray,l=o.length,u=0;for(u=0;u<l;u++){const c=o[u];r+=" "+this.getKeyForNodeData(c)+":"+Zt.toString(c)}for(r+=`
 link data:`,o=this.linkDataArray,l=o.length,u=0;u<l;u++){const c=o[u];r+=" "+this.De(c,!0)+"-->"+this.De(c,!1)}}return r}}xN(t,r){if(this.linkKeyProperty===""){const P=this.skipsUndoManager;this.skipsUndoManager=!0,this.linkKeyProperty="key",this.skipsUndoManager=P}let o=super.xN(t,r);const l=this,u=new M,c=new M,f=new M,g=this.za;t.changes.each(P=>{if(P.model===l){if(P.modelChange==="linkDataArray")P.change===3?u.add(P.newValue):P.change===4&&f.add(P.oldValue);else if(l.containsLinkData(P.object))c.add(P.object);else if(P.object!==null)if(P.object!==null&&g&&g.has(P.object))g.get(P.object).each(E=>{l.containsLinkData(E)&&c.add(E)});else{if(P.object instanceof Qt||l.containsNodeData(P.object))return;l.IT(P.object).each(E=>c.add(E))}}});const y=this.rg;y.clear(),u.each(P=>{y.add(l.getKeyForLinkData(P)),r||c.add(P)});const b=this.og;b.clear(),f.each(P=>{b.add(l.getKeyForLinkData(P)),r&&c.add(P)});const w=l.cloneDeep(c.toArray());return y.count>0&&(o===null&&(o={}),r?o.removedLinkKeys=y.toArray():o.insertedLinkKeys=y.toArray()),w.length>0&&(o===null&&(o={}),o.modifiedLinkData=w),b.count>0&&(o===null&&(o={}),r?o.insertedLinkKeys=b.toArray():o.removedLinkKeys=b.toArray()),b.clear(),y.clear(),o}hg(){const t=super.hg();let r="";return this.linkCategoryProperty!=="category"&&typeof this.linkCategoryProperty=="string"&&(r+=`,
  "linkCategoryProperty": `+this.Re(this.linkCategoryProperty)),this.linkKeyProperty!==""&&typeof this.linkKeyProperty=="string"&&(r+=`,
  "linkKeyProperty": `+this.Re(this.linkKeyProperty)),this.linkFromKeyProperty!=="from"&&typeof this.linkFromKeyProperty=="string"&&(r+=`,
  "linkFromKeyProperty": `+this.Re(this.linkFromKeyProperty)),this.linkToKeyProperty!=="to"&&typeof this.linkToKeyProperty=="string"&&(r+=`,
  "linkToKeyProperty": `+this.Re(this.linkToKeyProperty)),this.linkFromPortIdProperty!==""&&typeof this.linkFromPortIdProperty=="string"&&(r+=`,
  "linkFromPortIdProperty": `+this.Re(this.linkFromPortIdProperty)),this.linkToPortIdProperty!==""&&typeof this.linkToPortIdProperty=="string"&&(r+=`,
  "linkToPortIdProperty": `+this.Re(this.linkToPortIdProperty)),this.linkLabelKeysProperty!==""&&typeof this.linkLabelKeysProperty=="string"&&(r+=`,
  "linkLabelKeysProperty": `+this.Re(this.linkLabelKeysProperty)),this.nodeIsGroupProperty!=="isGroup"&&typeof this.nodeIsGroupProperty=="string"&&(r+=`,
  "nodeIsGroupProperty": `+this.Re(this.nodeIsGroupProperty)),this.nodeGroupKeyProperty!=="group"&&typeof this.nodeGroupKeyProperty=="string"&&(r+=`,
  "nodeGroupKeyProperty": `+this.Re(this.nodeGroupKeyProperty)),t+r}Ty(t){super.Ty(t),t.linkKeyProperty&&(this.linkKeyProperty=t.linkKeyProperty),t.linkFromKeyProperty&&(this.linkFromKeyProperty=t.linkFromKeyProperty),t.linkToKeyProperty&&(this.linkToKeyProperty=t.linkToKeyProperty),t.linkFromPortIdProperty&&(this.linkFromPortIdProperty=t.linkFromPortIdProperty),t.linkToPortIdProperty&&(this.linkToPortIdProperty=t.linkToPortIdProperty),t.linkCategoryProperty&&(this.linkCategoryProperty=t.linkCategoryProperty),t.linkLabelKeysProperty&&(this.linkLabelKeysProperty=t.linkLabelKeysProperty),t.nodeIsGroupProperty&&(this.nodeIsGroupProperty=t.nodeIsGroupProperty),t.nodeGroupKeyProperty&&(this.nodeGroupKeyProperty=t.nodeGroupKeyProperty)}bN(){const t=super.bN(),r=`,
  "linkDataArray": `+this.Nh(this.linkDataArray,!0);return t+r}kN(t){super.kN(t);const r=t.linkDataArray;Array.isArray(r)&&(this.replaceJsonObjects(r),this.linkDataArray=r)}IT(t){const r=new M;for(let o=0;o<this.linkDataArray.length;o++){const l=this.linkDataArray[o];this.R1(t,l,l,r)}return r}MN(t,r){if(this.linkKeyProperty===""){const P=this.skipsUndoManager;this.skipsUndoManager=!0,this.linkKeyProperty="key",this.skipsUndoManager=P}const o=super.MN(t,r),l=this,u=new M,c=new M,f=new M,g=this.za;t.changes.each(P=>{if(P.model===l){if(P.modelChange==="linkDataArray")P.change===3?u.add(P.newValue):P.change===4&&f.add(P.oldValue);else if(l.containsLinkData(P.object))c.add(P.object);else if(P.object!==null)if(P.object!==null&&g&&g.has(P.object))g.get(P.object).each(E=>{l.containsLinkData(E)&&c.add(E)});else{if(P.object instanceof Qt||l.containsNodeData(P.object))return;l.IT(P.object).each(E=>c.add(E))}}});const y=this.rg;y.clear(),u.each(P=>{y.add(l.getKeyForLinkData(P)),r||c.add(P)});const b=this.og;b.clear(),f.each(P=>{b.add(l.getKeyForLinkData(P)),r&&c.add(P)});let w=o;return y.count>0&&(w+=(r?this.UT:this.ET)+this.Nh(y.toArray(),!0)),c.count>0&&(w+=this.TO+this.Nh(c.toArray(),!0)),b.count>0&&(w+=(r?this.ET:this.UT)+this.Nh(b.toArray(),!0)),b.clear(),y.clear(),w}Dy(t){(t.linkCategoryProperty!==void 0&&t.linkCategoryProperty!==this.linkCategoryProperty||t.linkKeyProperty!==void 0&&t.linkKeyProperty!==this.linkKeyProperty||t.linkFromKeyProperty!==void 0&&t.linkFromKeyProperty!==this.linkFromKeyProperty||t.linkToKeyProperty!==void 0&&t.linkToKeyProperty!==this.linkToKeyProperty||t.linkFromPortIdProperty!==void 0&&t.linkFromPortIdProperty!==this.linkFromPortIdProperty||t.linkToPortIdProperty!==void 0&&t.linkToPortIdProperty!==this.linkToPortIdProperty||t.linkLabelKeysProperty!==void 0&&t.linkLabelKeysProperty!==this.linkLabelKeysProperty||t.nodeIsGroupProperty!==void 0&&t.nodeIsGroupProperty!==this.nodeIsGroupProperty||t.nodeGroupKeyProperty!==void 0&&t.nodeGroupKeyProperty!==this.nodeGroupKeyProperty)&&n.o("applyIncrementalJson cannot change Model properties"),super.Dy(t);const r=t.insertedLinkKeys;if(Array.isArray(r)){const u=r.length;for(let c=0;c<u;c++){const f=r[c];let g=this.findLinkDataForKey(f);g===null&&(g=this.copyLinkData({}),this.setKeyForLinkData(g,f),this.addLinkData(g))}}const o=t.modifiedLinkData;if(Array.isArray(o)){const u=o.length;for(let c=0;c<u;c++){const f=o[c],g=this.getKeyForLinkData(f),y=this.findLinkDataForKey(g);if(y!==null){for(const b in f)b==="__gohashid"||b===this.linkKeyProperty||this.setDataProperty(y,b,f[b]);this.BT(f,y)}}}const l=t.removedLinkKeys;if(Array.isArray(l)){const u=l.length;for(let c=0;c<u;c++){const f=l[c],g=this.findLinkDataForKey(f);g!==null&&this.removeLinkData(g)}}}changeState(t,r){if(!(t===null||t.model!==this)){if(t.change===2){const o=t.object,l=t.propertyName;if(l===this.linkKeyProperty&&this.containsLinkData(o)){const u=t.getValue(r),c=t.getValue(!r);c!==void 0&&this.ui.delete(c),u!==void 0&&this.ui.set(u,o),Qt.ht(o,l,u);return}}else if(t.change===3){let o=t.newParam;if(t.modelChange==="linkDataArray"){const l=t.newValue;if(n.wt(l)&&typeof o=="number"){const u=this.getKeyForLinkData(l);r?(this.sr.delete(l),this.Ze[o]===l&&this.Ze.splice(o,1),u!==void 0&&this.ui.delete(u)):(this.sr.add(l),this.Ze[o]!==l&&this.Ze.splice(o,0,l),u!==void 0&&this.ui.set(u,l))}return}else if(t.modelChange==="linkLabelKeys"){const l=this.getLabelKeysForLinkData(t.object);Array.isArray(l)&&typeof o=="number"&&(r?(o=l.indexOf(t.newValue),o>=0&&l.splice(o,1)):l.indexOf(t.newValue)<0&&l.splice(o,0,t.newValue));return}}else if(t.change===4){let o=t.oldParam;if(t.modelChange==="linkDataArray"){const l=t.oldValue;if(n.wt(l)&&typeof o=="number"){const u=this.getKeyForLinkData(l);r?(this.sr.add(l),this.Ze[o]!==l&&this.Ze.splice(o,0,l),u!==void 0&&this.ui.set(u,l)):(this.sr.delete(l),this.Ze[o]===l&&this.Ze.splice(o,1),u!==void 0&&this.ui.delete(u))}return}else if(t.modelChange==="linkLabelKeys"){const l=this.getLabelKeysForLinkData(t.object);Array.isArray(l)&&typeof o=="number"&&(r?l.indexOf(t.newValue)<0&&l.splice(o,0,t.newValue):(o=l.indexOf(t.newValue),o>=0&&l.splice(o,1)));return}}super.changeState(t,r)}}get archetypeNodeData(){return this.Al}set archetypeNodeData(t){const r=this.Al;r!==t&&(this.Al=t,this.t("archetypeNodeData",r,t))}NN(t){if(t===void 0)return;const r=this.Al;if(r!==null){let o=this.findNodeDataForKey(t);o===null&&(o=this.copyNodeData(r),Qt.ht(o,this.nodeKeyProperty,t),this.addNodeData(o))}return t}get linkFromKeyProperty(){return this.yo}set linkFromKeyProperty(t){const r=this.yo;r!==t&&(this.An(t,ui,"linkFromKeyProperty"),this.yo=t,this.t("linkFromKeyProperty",r,t))}getFromKeyForLinkData(t){return this.De(t,!0)}setFromKeyForLinkData(t,r){this.Qd(t,r,!0)}get linkToKeyProperty(){return this.wo}set linkToKeyProperty(t){const r=this.wo;r!==t&&(this.An(t,ui,"linkToKeyProperty"),this.wo=t,this.t("linkToKeyProperty",r,t))}getToKeyForLinkData(t){return this.De(t,!1)}setToKeyForLinkData(t,r){this.Qd(t,r,!1)}De(t,r){if(t===null)return;const o=r?this.yo:this.wo;if(o==="")return;const l=Qt.vt(t,o);if(l!==void 0){if(this.isKeyType(l))return l;n.o((r?"FromKey":"ToKey")+" value for link data "+t+" is not a number or a string: "+l)}}Qd(t,r,o){if(r===null&&(r=void 0),r!==void 0&&!this.isKeyType(r)&&n.xe(r,"number or string",ui,o?"setFromKeyForLinkData:key":"setToKeyForLinkData:key"),t===null)return;const l=o?this.yo:this.wo;if(l==="")return;if(r=this.NN(r),!this.containsLinkData(t)){Qt.ht(t,l,r);return}const u=Qt.vt(t,l);u!==r&&(this.Js(u,t),Qt.ht(t,l,r),this.findNodeDataForKey(r)===null&&this.$s(r,t),this.Et(o?"linkFromKey":"linkToKey",2,l,t,u,r),typeof l=="string"&&this.updateTargetBindings(t,l))}get linkFromPortIdProperty(){return this.Xa}set linkFromPortIdProperty(t){const r=this.Xa;r!==t&&(this.An(t,ui,"linkFromPortIdProperty"),this.Xa=t,this.t("linkFromPortIdProperty",r,t))}getFromPortIdForLinkData(t){return this.N1(t,!0)}setFromPortIdForLinkData(t,r){this._d(t,r,!0)}get linkToPortIdProperty(){return this.Ka}set linkToPortIdProperty(t){const r=this.Ka;r!==t&&(this.An(t,ui,"linkToPortIdProperty"),this.Ka=t,this.t("linkToPortIdProperty",r,t))}getToPortIdForLinkData(t){return this.N1(t,!1)}setToPortIdForLinkData(t,r){this._d(t,r,!1)}N1(t,r){if(t===null)return"";const o=r?this.Xa:this.Ka;if(o==="")return"";const l=Qt.vt(t,o);return l===void 0?"":l}_d(t,r,o){if(t===null)return;const l=o?this.Xa:this.Ka;if(l==="")return;if(!this.containsLinkData(t)){Qt.ht(t,l,r);return}let u=Qt.vt(t,l);u===void 0&&(u=""),u!==r&&(Qt.ht(t,l,r),this.Et(o?"linkFromPortId":"linkToPortId",2,l,t,u,r),typeof l=="string"&&this.updateTargetBindings(t,l))}get linkLabelKeysProperty(){return this.Zs}set linkLabelKeysProperty(t){const r=this.Zs;r!==t&&(this.An(t,ui,"linkLabelKeysProperty"),this.Zs=t,this.t("linkLabelKeysProperty",r,t))}getLabelKeysForLinkData(t){if(t===null)return ui.EmptyArray;const r=this.Zs;if(r==="")return ui.EmptyArray;const o=Qt.vt(t,r);return o===void 0?ui.EmptyArray:o}setLabelKeysForLinkData(t,r){if(t===null)return;const o=this.Zs;if(o==="")return;if(!this.containsLinkData(t)){Qt.ht(t,o,r);return}let l=Qt.vt(t,o);if(l===void 0&&(l=ui.EmptyArray),l!==r){if(Array.isArray(l)){const c=l.length;for(let f=0;f<c;f++){const g=l[f];this.Js(g,t)}}Qt.ht(t,o,r);const u=r.length;for(let c=0;c<u;c++){const f=r[c];this.findNodeDataForKey(f)===null&&this.$s(f,t)}this.Et("linkLabelKeys",2,o,t,l,r),typeof o=="string"&&this.updateTargetBindings(t,o)}}addLabelKeyForLinkData(t,r){if(r==null||(this.isKeyType(r)||n.xe(r,"number or string",ui,"addLabelKeyForLinkData:key"),t===null))return;const o=this.Zs;if(o==="")return;const l=Qt.vt(t,o);if(l===void 0){const u=[];u.push(r),this.setLabelKeysForLinkData(t,u)}else if(Array.isArray(l)){let u=l.indexOf(r);if(u>=0)return;u=l.length,l.push(r),this.containsLinkData(t)&&(this.findNodeDataForKey(r)===null&&this.$s(r,t),this.Et("linkLabelKeys",3,o,t,null,r,null,u))}else n.o(o+" property is not an Array; cannot addLabelKeyForLinkData: "+t)}removeLabelKeyForLinkData(t,r){if(r==null||(this.isKeyType(r)||n.xe(r,"number or string",ui,"removeLabelKeyForLinkData:key"),t===null))return;const o=this.Zs;if(o==="")return;const l=Qt.vt(t,o);if(Array.isArray(l)){const u=l.indexOf(r);if(u<0)return;l.splice(u,1),this.containsLinkData(t)&&(this.Js(r,t),this.Et("linkLabelKeys",4,o,t,r,null,u,null))}else l!==void 0&&n.o(o+" property is not an Array; cannot removeLabelKeyforLinkData: "+t)}get linkDataArray(){return this.Ze}set linkDataArray(t){const r=this.Ze;if(r!==t){this.ui.clear();const o=t.length;for(let u=0;u<o;u++){const c=t[u];n.wt(c)||n.o("GraphLinksModel.linkDataArray must only contain Objects, not: "+c)}if(this.Ze=t,this.linkKeyProperty!==""){const u=new x;for(let f=0;f<o;f++){const g=t[f],y=this.getKeyForLinkData(g);y===void 0||this.ui.get(y)!==null?u.add(g):this.ui.set(y,g)}const c=u.iterator;for(;c.next();){const f=c.value;this.makeLinkDataKeyUnique(f);const g=this.getKeyForLinkData(f);g!==void 0&&this.ui.set(g,f)}}const l=new M;for(let u=0;u<o;u++){const c=t[u];l.add(c)}this.sr=l,this.Et("linkDataArray",2,"linkDataArray",this,r,t);for(let u=0;u<o;u++){const c=t[u];this.CN(c)}}}get linkKeyProperty(){return this.Ch}set linkKeyProperty(t){const r=this.Ch;if(r!==t){this.An(t,ui,"linkKeyProperty"),this.Ch=t,this.ui.clear();const o=this.linkDataArray.length;for(let l=0;l<o;l++){const u=this.linkDataArray[l];let c=this.getKeyForLinkData(u);c===void 0&&(this.makeLinkDataKeyUnique(u),c=this.getKeyForLinkData(u)),c!==void 0&&this.ui.set(c,u)}this.t("linkKeyProperty",r,t)}}getKeyForLinkData(t){if(t===null)return;const r=this.Ch;if(r==="")return;const o=Qt.vt(t,r);if(o!==void 0){if(this.isKeyType(o))return o;n.o("Key value for link data "+t+" is not a number or a string: "+o)}}setKeyForLinkData(t,r){if((r==null||!this.isKeyType(r))&&n.xe(r,"number or string",ui,"setKeyForLinkData:key"),t===null)return;const o=this.Ch;if(o==="")return;if(!this.containsLinkData(t)){Qt.ht(t,o,r);return}const l=Qt.vt(t,o);if(l!==r){if(this.findLinkDataForKey(r)!==null)return;Qt.ht(t,o,r),l!==void 0&&this.ui.delete(l),this.ui.set(r,t),this.Et("linkKey",2,o,t,l,r),typeof o=="string"&&this.updateTargetBindings(t,o)}}get makeUniqueLinkKeyFunction(){return this.Ff}set makeUniqueLinkKeyFunction(t){const r=this.Ff;r!==t&&(this.Ff=t,this.t("makeUniqueLinkKeyFunction",r,t))}findLinkDataForKey(t){return t===null&&n.o("GraphLinksModel.findLinkDataForKey:key must not be null"),t===void 0||!this.isKeyType(t)?null:this.ui.get(t)}makeLinkDataKeyUnique(t){if(t===null)return;const r=this.Ch;if(r==="")return;let o=this.getKeyForLinkData(t);if(o!==void 0&&!this.ui.has(o))return;const l=this.Ff;if(l!==null&&(o=l(this,t),o!=null&&!this.ui.has(o))){Qt.ht(t,r,o);return}if(typeof o=="string"){let u=2;for(;this.ui.has(o+u);)u++;Qt.ht(t,r,o+u)}else if(o===void 0||typeof o=="number"){let u=-this.ui.count-1;for(;this.ui.has(u);)u--;Qt.ht(t,r,u)}}containsLinkData(t){return t===null?!1:this.sr.has(t)}addLinkData(t){t!==null&&(this.containsLinkData(t)||this.ST(t,!0))}ST(t,r){if(this.linkKeyProperty!==""){let l=this.getKeyForLinkData(t);if(l===void 0)this.makeLinkDataKeyUnique(t),l=this.getKeyForLinkData(t);else{if(this.ui.get(l)===t)return;this.makeLinkDataKeyUnique(t),l=this.getKeyForLinkData(t)}l===void 0&&n.o("GraphLinksModel.makeLinkDataKeyUnique failed on "+t+". Data not added to model."),this.ui.set(l,t)}this.sr.add(t);let o=null;r&&(o=this.Ze.length,this.Ze.splice(o,0,t)),this.Et("linkDataArray",3,"linkDataArray",this,null,t,null,o),this.CN(t)}addLinkDataCollection(t){if(Array.isArray(t)){const r=t.length;for(let o=0;o<r;o++)this.addLinkData(t[o])}else{const r=t.iterator;for(;r.next();){const o=r.value;this.addLinkData(o)}}}removeLinkData(t){t!==null&&this.MT(t,!0)}MT(t,r){this.sr.delete(t);const o=this.getKeyForLinkData(t);o!==void 0&&this.ui.delete(o);let l=null;if(r){if(l=this.Ze.indexOf(t),l<0)return;this.Ze.splice(l,1)}this.Et("linkDataArray",4,"linkDataArray",this,t,null,l,null),this.DO(t)}removeLinkDataCollection(t){if(Array.isArray(t)){const r=t.length;for(let o=0;o<r;o++)this.removeLinkData(t[o])}else{const r=t.iterator;for(;r.next();){const o=r.value;this.removeLinkData(o)}}}mergeLinkDataArray(t){if(this.linkKeyProperty===""&&n.o("GraphLinksModel.linkKeyProperty must not be an empty string for .mergeLinkDataArray() to succeed."),t!==this.linkDataArray&&Array.isArray(t)){const r=this.og;r.clear(),r.addAll(this.ui.iteratorKeys);const o=this.rg;o.clear();const l=t.length;for(let c=0;c<l;c++){const f=t[c],g=this.getKeyForLinkData(f);if(g!==void 0){o.add(g);const y=this.findLinkDataForKey(g);if(y===f)continue;if(y!==null)this.assignAllDataProperties(y,f),this.BT(f,y);else{const b=this.cloneDeep(f);this.setKeyForLinkData(b,g),this.addLinkData(b)}}else{const y=this.cloneDeep(f);this.addLinkData(y),o.add(this.getKeyForLinkData(y))}}const u=r.iterator;for(;u.next();){const c=u.value;if(!o.has(c)){const f=this.findLinkDataForKey(c);f&&this.removeLinkData(f)}}r.clear(),o.clear()}}CN(t){let r=this.De(t,!0);r=this.NN(r),this.findNodeDataForKey(r)===null&&this.$s(r,t),r=this.De(t,!1),r=this.NN(r),this.findNodeDataForKey(r)===null&&this.$s(r,t);const o=this.getLabelKeysForLinkData(t);if(Array.isArray(o)){const l=o.length;for(let u=0;u<l;u++)r=o[u],this.findNodeDataForKey(r)===null&&this.$s(r,t)}}DO(t){let r=this.De(t,!0);this.Js(r,t),r=this.De(t,!1),this.Js(r,t);const o=this.getLabelKeysForLinkData(t);if(Array.isArray(o)){const l=o.length;for(let u=0;u<l;u++)r=o[u],this.Js(r,t)}}get copyLinkDataFunction(){return this.Rf}set copyLinkDataFunction(t){const r=this.Rf;r!==t&&(this.Rf=t,this.t("copyLinkDataFunction",r,t))}copyLinkData(t){if(t===null)return null;let r=null;const o=this.Rf;return o!==null?r=o(t,this):r=this.O1(t,!0),n.wt(r)&&(this.yo!==""&&Qt.ht(r,this.yo,void 0),this.wo!==""&&Qt.ht(r,this.wo,void 0),this.Zs!==""&&Qt.ht(r,this.Zs,[])),r}get nodeIsGroupProperty(){return this.vf}set nodeIsGroupProperty(t){const r=this.vf;r!==t&&(this.An(t,ui,"nodeIsGroupProperty"),this.vf=t,this.t("nodeIsGroupProperty",r,t))}isGroupForNodeData(t){if(t===null)return!1;const r=this.vf;return r===""?!1:!!Qt.vt(t,r)}isGroupForData(t){return this.isGroupForNodeData(t)}get nodeGroupKeyProperty(){return this.Tn}set nodeGroupKeyProperty(t){const r=this.Tn;r!==t&&(this.An(t,ui,"nodeGroupKeyProperty"),this.Tn=t,this.t("nodeGroupKeyProperty",r,t))}get copiesGroupKeyOfNodeData(){return this.ug}set copiesGroupKeyOfNodeData(t){this.ug!==t&&(this.ug=t)}getGroupKeyForNodeData(t){if(t===null)return;const r=this.Tn;if(r==="")return;const o=Qt.vt(t,r);if(o!==void 0){if(this.isKeyType(o))return o;n.o("GroupKey value for node data "+t+" is not a number or a string: "+o)}}getGroupForData(t){return this.getGroupKeyForNodeData(t)}setGroupKeyForNodeData(t,r){if(r===null&&(r=void 0),r!==void 0&&!this.isKeyType(r)&&n.xe(r,"number or string",ui,"setGroupKeyForNodeData:key"),t===null)return;const o=this.Tn;if(o==="")return;if(!this.containsNodeData(t)){Qt.ht(t,o,r);return}const l=Qt.vt(t,o);l!==r&&(this.Js(l,t),Qt.ht(t,o,r),this.findNodeDataForKey(r)===null&&this.$s(r,t),this.Et("nodeGroupKey",2,o,t,l,r),typeof o=="string"&&this.updateTargetBindings(t,o))}setGroupForData(t,r){this.setGroupKeyForNodeData(t,r)}copyNodeData(t){if(t===null)return null;const r=super.copyNodeData(t);return!this.copiesGroupKeyOfNodeData&&this.Tn!==""&&Qt.vt(r,this.Tn)!==void 0&&Qt.ht(r,this.Tn,void 0),r}setDataProperty(t,r,o){if(this.containsNodeData(t)){if(r===this.nodeKeyProperty){this.setKeyForNodeData(t,o);return}else if(r===this.nodeCategoryProperty){this.setCategoryForNodeData(t,o);return}else if(r===this.nodeGroupKeyProperty){this.setGroupKeyForNodeData(t,o);return}}else if(this.containsLinkData(t)){if(r===this.linkFromKeyProperty){this.Qd(t,o,!0);return}else if(r===this.linkToKeyProperty){this.Qd(t,o,!1);return}else if(r===this.linkFromPortIdProperty){this._d(t,o,!0);return}else if(r===this.linkToPortIdProperty){this._d(t,o,!1);return}else if(r===this.linkKeyProperty){this.setKeyForLinkData(t,o);return}else if(r===this.linkCategoryProperty){this.setCategoryForLinkData(t,o);return}else if(r===this.linkLabelKeysProperty){this.setLabelKeysForLinkData(t,o);return}}const l=Qt.vt(t,r);l!==o&&(Qt.ht(t,r,o),this.raiseDataChanged(t,r,l,o))}assignAllDataProperties(t,r){if(!r)return;const o=this.containsNodeData(t),l=this.containsLinkData(t);for(const u in r)if(u!=="__gohashid"&&!(o&&u===this.nodeKeyProperty)){if(o&&u===this.nodeIsGroupProperty&&Qt.vt(t,u)===r[u]||l&&u===this.linkKeyProperty)continue;this.setDataProperty(t,u,r[u])}}Fy(t,r){super.Fy(t,r);const o=this.ti.iterator;for(;o.next();){const u=o.value;this.LN(u,t,r)}const l=this.sr.iterator;for(;l.next();){const u=l.value;this.FO(u,t,r)}}LN(t,r,o){if(this.getGroupKeyForNodeData(t)===r){const l=this.Tn;Qt.ht(t,l,o),this.Et("nodeGroupKey",2,l,t,r,o),typeof l=="string"&&this.updateTargetBindings(t,l)}}FO(t,r,o){if(this.De(t,!0)===r){const u=this.yo;Qt.ht(t,u,o),this.Et("linkFromKey",2,u,t,r,o),typeof u=="string"&&this.updateTargetBindings(t,u)}if(this.De(t,!1)===r){const u=this.wo;Qt.ht(t,u,o),this.Et("linkToKey",2,u,t,r,o),typeof u=="string"&&this.updateTargetBindings(t,u)}const l=this.getLabelKeysForLinkData(t);if(Array.isArray(l)){const u=l.length,c=this.Zs;for(let f=0;f<u;f++)l[f]===r&&(l[f]=o,this.Et("linkLabelKeys",3,c,t,r,o,f,f))}}SN(){super.SN();const t=this.linkDataArray,r=t.length;for(let o=0;o<r;o++){const l=t[o];this.CN(l)}}cg(t){super.cg(t);const r=this.getKeyForNodeData(t),o=this.Cy(r);if(o!==null){const l=n.rt(),u=o.iterator;for(;u.next();){const c=u.value;if(this.containsNodeData(c)){if(this.getGroupKeyForNodeData(c)===r){const f=this.Tn;this.Et("nodeGroupKey",2,f,c,r,r),typeof f=="string"&&this.updateTargetBindings(c,f),l.push(c)}}else{if(this.De(c,!0)===r){const g=this.yo;this.Et("linkFromKey",2,g,c,r,r),typeof g=="string"&&this.updateTargetBindings(c,g),l.push(c)}if(this.De(c,!1)===r){const g=this.wo;this.Et("linkToKey",2,g,c,r,r),typeof g=="string"&&this.updateTargetBindings(c,g),l.push(c)}const f=this.getLabelKeysForLinkData(c);if(Array.isArray(f)){const g=f.length,y=this.Zs;for(let b=0;b<g;b++)f[b]===r&&(this.Et("linkLabelKeys",3,y,c,r,r,b,b),l.push(c))}}}for(let c=0;c<l.length;c++)this.Js(r,l[c]);n.it(l)}}fg(t){super.fg(t);const r=this.getGroupKeyForNodeData(t);this.findNodeDataForKey(r)===null&&this.$s(r,t)}Ry(t){super.Ry(t);const r=this.getGroupKeyForNodeData(t);this.Js(r,t)}get linkCategoryProperty(){return this.Ya}set linkCategoryProperty(t){const r=this.Ya;r!==t&&(this.An(t,ui,"linkCategoryProperty"),this.Ya=t,this.t("linkCategoryProperty",r,t))}getCategoryForLinkData(t){if(t===null)return"";const r=this.Ya;if(r==="")return"";const o=Qt.vt(t,r);if(o===void 0)return"";if(typeof o=="string")return o;n.o("getCategoryForLinkData found a non-string category for "+t+": "+o)}getLinkCategoryForData(t){return this.getCategoryForLinkData(t)}setCategoryForLinkData(t,r){if(t===null)return;const o=this.Ya;if(o==="")return;if(!this.containsLinkData(t)){Qt.ht(t,o,r);return}let l=Qt.vt(t,o);l===void 0&&(l=""),l!==r&&(Qt.ht(t,o,r),this.Et("linkCategory",2,o,t,l,r),typeof o=="string"&&this.updateTargetBindings(t,o))}setLinkCategoryForData(t,r){this.setCategoryForLinkData(t,r)}ag(t,r){super.ag(t,r),this.setGroupKeyForNodeData(r,this.getGroupKeyForNodeData(t))}BT(t,r){this.setCategoryForLinkData(r,this.getCategoryForLinkData(t)),this.setFromKeyForLinkData(r,this.getFromKeyForLinkData(t)),this.setToKeyForLinkData(r,this.getToKeyForLinkData(t)),this.setLabelKeysForLinkData(r,this.getLabelKeysForLinkData(t)),this.setFromPortIdForLinkData(r,this.getFromPortIdForLinkData(t)),this.setToPortIdForLinkData(r,this.getToPortIdForLinkData(t))}get type(){return"GraphLinksModel"}uc(){return!0}La(){return!0}zw(){return!0}jc(){return!0}};T(ui,"EmptyArray",Object.freeze([]));let De=ui;Qt.registerClass(De,"GraphLinksModel"),Qt.constructGraphLinksModel=Qt.constructGraphLinksModel=()=>new De,Qt.initDiagramModel=Qt.initDiagramModel=()=>new De;class hn extends Qt{constructor(t,r){super();T(this,"Dn");T(this,"dg");T(this,"Ga");if(this.Dn="parent",this.dg=!1,this.Ga="parentLinkCategory",t!==void 0&&(Array.isArray(t)?this.nodeDataArray=t:r=t),r){Object.assign(this,r);const o=r.Changed;o&&(delete this.Changed,this.addChangedListener(o))}}cloneProtected(t){super.cloneProtected(t),t.Dn=this.Dn,t.dg=this.dg,t.Ga=this.Ga}toString(t){if(t===void 0&&(t=0),t>=2)return this.toJson();{let r=(this.name!==""?this.name:"")+" TreeModel";if(t>0){r+=`
 node data:`;const o=this.nodeDataArray,l=o.length;for(let u=0;u<l;u++){const c=o[u];r+=" "+this.getKeyForNodeData(c)+":"+Zt.toString(c)}}return r}}hg(){const t=super.hg();let r="";return this.nodeParentKeyProperty!=="parent"&&typeof this.nodeParentKeyProperty=="string"&&(r+=`,
  "nodeParentKeyProperty": `+this.Re(this.nodeParentKeyProperty)),t+r}Ty(t){super.Ty(t),t.nodeParentKeyProperty&&(this.nodeParentKeyProperty=t.nodeParentKeyProperty)}Dy(t){t.nodeParentKeyProperty!==void 0&&t.nodeParentKeyProperty!==this.nodeParentKeyProperty&&n.o("applyIncrementalJson cannot change Model properties"),super.Dy(t)}maybeEnsureLinkReference(t){return t}get nodeParentKeyProperty(){return this.Dn}set nodeParentKeyProperty(t){const r=this.Dn;r!==t&&(this.An(t,hn,"nodeParentKeyProperty"),this.Dn=t,this.t("nodeParentKeyProperty",r,t))}get copiesParentKeyOfNodeData(){return this.dg}set copiesParentKeyOfNodeData(t){this.dg!==t&&(this.dg=t)}getParentKeyForNodeData(t){if(t===null)return;const r=this.Dn;if(r==="")return;const o=Qt.vt(t,r);if(o!==void 0){if(this.isKeyType(o))return o;n.o("ParentKey value for node data "+t+" is not a number or a string: "+o)}}setParentKeyForNodeData(t,r){if(r===null&&(r=void 0),r!==void 0&&!this.isKeyType(r)&&n.xe(r,"number or string",hn,"setParentKeyForNodeData:key"),t===null)return;const o=this.Dn;if(o==="")return;if(r=this.maybeEnsureLinkReference(r),!this.containsNodeData(t)){Qt.ht(t,o,r);return}const l=Qt.vt(t,o);l!==r&&(this.Js(l,t),Qt.ht(t,o,r),this.findNodeDataForKey(r)===null&&this.$s(r,t),this.Et("nodeParentKey",2,o,t,l,r),typeof o=="string"&&this.updateTargetBindings(t,o))}get parentLinkCategoryProperty(){return this.Ga}set parentLinkCategoryProperty(t){const r=this.Ga;r!==t&&(this.An(t,hn,"parentLinkCategoryProperty"),this.Ga=t,this.t("parentLinkCategoryProperty",r,t))}get linkCategoryProperty(){return this.parentLinkCategoryProperty}set linkCategoryProperty(t){this.parentLinkCategoryProperty=t}getParentLinkCategoryForNodeData(t){if(t===null)return"";const r=this.Ga;if(r==="")return"";const o=Qt.vt(t,r);if(o===void 0)return"";if(typeof o=="string")return o;n.o("getParentLinkCategoryForNodeData found a non-string category for "+t+": "+o)}getLinkCategoryForData(t){return this.getParentLinkCategoryForNodeData(t)}setParentLinkCategoryForNodeData(t,r){if(t===null)return;const o=this.Ga;if(o==="")return;if(!this.containsNodeData(t)){Qt.ht(t,o,r);return}let l=Qt.vt(t,o);l===void 0&&(l=""),l!==r&&(Qt.ht(t,o,r),this.Et("parentLinkCategory",2,o,t,l,r),typeof o=="string"&&this.updateTargetBindings(t,o))}setLinkCategoryForData(t,r){this.setParentLinkCategoryForNodeData(t,r)}copyNodeData(t){if(t===null)return null;const r=super.copyNodeData(t);return!this.copiesParentKeyOfNodeData&&this.Dn!==""&&Qt.vt(r,this.Dn)!==void 0&&Qt.ht(r,this.Dn,void 0),r}setDataProperty(t,r,o){if(this.containsNodeData(t)){if(r===this.nodeKeyProperty){this.setKeyForNodeData(t,o);return}else if(r===this.nodeCategoryProperty){this.setCategoryForNodeData(t,o);return}else if(r===this.nodeParentKeyProperty){this.setParentKeyForNodeData(t,o);return}}const l=Qt.vt(t,r);l!==o&&(Qt.ht(t,r,o),this.raiseDataChanged(t,r,l,o))}Fy(t,r){super.Fy(t,r);const o=this.ti.iterator;for(;o.next();){const l=o.value;this.LN(l,t,r)}}LN(t,r,o){if(this.getParentKeyForNodeData(t)===r){const l=this.Dn;Qt.ht(t,l,o),this.Et("nodeParentKey",2,l,t,r,o),typeof l=="string"&&this.updateTargetBindings(t,l)}}cg(t){super.cg(t);const r=this.getKeyForNodeData(t),o=this.Cy(r);if(o!==null){const l=n.rt(),u=o.iterator;for(;u.next();){const c=u.value;if(this.containsNodeData(c)&&this.getParentKeyForNodeData(c)===r){const f=this.Dn;this.Et("nodeParentKey",2,f,c,r,r),typeof f=="string"&&this.updateTargetBindings(c,f),l.push(c)}}for(let c=0;c<l.length;c++)this.Js(r,l[c]);n.it(l)}}fg(t){super.fg(t);let r=this.getParentKeyForNodeData(t);r=this.maybeEnsureLinkReference(r),this.findNodeDataForKey(r)===null&&this.$s(r,t)}Ry(t){super.Ry(t);const r=this.getParentKeyForNodeData(t);this.Js(r,t)}ag(t,r){super.ag(t,r),this.setParentLinkCategoryForNodeData(r,this.getParentLinkCategoryForNodeData(t)),this.setParentKeyForNodeData(r,this.getParentKeyForNodeData(t))}get type(){return"TreeModel"}gc(){return!0}zw(){return!0}}Qt.registerClass(hn,"TreeModel");var Me=(W=>(W[W.ConstantSpacing=0]="ConstantSpacing",W[W.ConstantDistance=1]="ConstantDistance",W[W.ConstantAngle=2]="ConstantAngle",W[W.Packed=3]="Packed",W))(Me||{}),ai=(W=>(W[W.Clockwise=10]="Clockwise",W[W.Counterclockwise=11]="Counterclockwise",W[W.BidirectionalLeft=12]="BidirectionalLeft",W[W.BidirectionalRight=13]="BidirectionalRight",W))(ai||{}),Ye=(W=>(W[W.Forwards=20]="Forwards",W[W.Reverse=21]="Reverse",W[W.Ascending=22]="Ascending",W[W.Descending=23]="Descending",W[W.Optimized=24]="Optimized",W))(Ye||{}),li=(W=>(W[W.Pythagorean=30]="Pythagorean",W[W.Circular=31]="Circular",W))(li||{});class pn extends Ie{constructor(t){super();T(this,"le");T(this,"Of");T(this,"I1");T(this,"gg");T(this,"E1");T(this,"Lh");T(this,"AN");T(this,"TN");T(this,"DN");T(this,"Ps");T(this,"vy");T(this,"Oy");T(this,"ja");T(this,"Iy");T(this,"VT");T(this,"mg");T(this,"pg");T(this,"yg");T(this,"If");T(this,"zi");T(this,"S");T(this,"ye");T(this,"we");T(this,"Ln");T(this,"wg");this.le=0,this.Of=0,this.I1=0,this.gg=360,this.E1=0,this.Lh=0,this.AN=new C,this.TN=30,this.DN=0,this.Ps=0,this.vy=0,this.Oy=new Si,this.ja=0,this.Iy=0,this.VT=600,this.mg=NaN,this.pg=1,this.yg=0,this.If=360,this.zi=0,this.S=10,this.ye=24,this.we=jr.standardComparer,this.Ln=6,this.wg=30,t&&Object.assign(this,t)}cloneProtected(t){super.cloneProtected(t),t.mg=this.mg,t.pg=this.pg,t.yg=this.yg,t.If=this.If,t.zi=this.zi,t.S=this.S,t.ye=this.ye,t.we=this.we,t.Ln=this.Ln,t.wg=this.wg}li(t){t in Ye?this.sorting=t:t in ai?this.direction=t:t in Me?this.arrangement=t:t in li?this.nodeDiameterFormula=t:super.li(t)}createNetwork(){return new Fi(this)}RO(t,r,o){t=this.vO(t);let l=this.E1,u=this.TN,c=this.le,f=this.Of,g=this.I1,y=this.gg,b=this.Lh,w=this.DN,P=this.Ps,E=this.vy;if(l=this.arrangement,u=this.nodeDiameterFormula,c=this.radius,(!isFinite(c)||c<=0)&&(c=NaN),f=this.aspectRatio,(!isFinite(f)||f<=0)&&(f=1),g=this.startAngle,isFinite(g)||(g=0),y=this.sweepAngle,(!isFinite(y)||y>360||y<1)&&(y=360),b=this.spacing,isFinite(b)||(b=NaN),l===3&&u===31?l=0:l===3&&u!==31&&(u=31,l=this.arrangement),(this.direction===12||this.direction===13)&&this.sorting!==24){for(let R=0;!(R>=t.length||(r.add(t.elt(R)),R+1>=t.length));R+=2)o.add(t.elt(R+1));this.direction===12?(this.arrangement===3&&r.reverse(),t=new x,t.addAll(r),t.addAll(o)):(this.arrangement===3&&o.reverse(),t=new x,t.addAll(o),t.addAll(r))}const N=t.length;w=0;let _=0;for(let R=0;R<t.length;R++){const $=g+y*_*(this.direction===10?1:-1)/N;let q=t.elt(R).diameter;isNaN(q)&&(q=t.elt(R).Ah($)),y<360&&(R===0||R===t.length-1)&&(q/=2),w+=q,_++}if(isNaN(c)||l===3){if(isNaN(b)&&(b=6),l!==0&&l!==3){let R=-1/0;for(let $=0;$<N;$++){const q=t.elt($),X=t.elt($===N-1?0:$+1);isNaN(q.diameter)&&q.Ah(0),isNaN(X.diameter)&&X.Ah(0),R=Math.max(R,(q.diameter+X.diameter)/2)}if(E=R+b,l===2){const $=2*Math.PI/N,q=(R+b)/$;f>1?(c=q,P=c*f):(P=q,c=P)}else c=this.U1(E*(y>=360?N:N-1),f,g*Math.PI/180,y*Math.PI/180)}else c=this.U1(w+(y>=360?N:N-1)*(l!==3?b:b*1.6),f,g*Math.PI/180,y*Math.PI/180);P=c*f}else{P=c*f;const R=this.FN(c,P,g*Math.PI/180,y*Math.PI/180);if(isNaN(b))l===0&&(b=(R-w)/(y>=360?N:N-1));else if(l===0){const $=(R-w)/(y>=360?N:N-1);$<b?(c=this.U1(w+b*(y>=360?N:N-1),f,g*Math.PI/180,y*Math.PI/180),P=c*f):b=$}else{let $=-1/0;for(let H=0;H<N;H++){const tt=t.elt(H),Q=t.elt(H===N-1?0:H+1);isNaN(tt.diameter)&&tt.Ah(0),isNaN(Q.diameter)&&Q.Ah(0),$=Math.max($,(tt.diameter+Q.diameter)/2)}const q=$+b,X=this.U1(q*(y>=360?N:N-1),f,g*Math.PI/180,y*Math.PI/180);X>c?(c=X,P=c*f,E=q):E=R/(y>=360?N:N-1)}}return this.E1=l,this.TN=u,this.le=c,this.Of=f,this.I1=g,this.gg=y,this.Lh=b,this.DN=w,this.Ps=P,this.vy=E,t}doLayout(t){this.network===null&&(this.network=this.makeNetwork(t)),this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin);const r=this.network.vertexes;if(r.count<=1){if(r.count===1){const E=r.first();E.centerX=0,E.centerY=0}this.updateParts(),this.network=null,this.isValidLayout=!0;return}let o=new x;o.addAll(r.iterator);const l=new x,u=new x;o=this.RO(o,l,u);const c=this.E1,f=this.le,g=this.I1,y=this.gg,b=this.Lh,w=this.Ps,P=this.vy;if((this.direction===12||this.direction===13)&&c===3)this.zT(o,y,g-y/2,10);else if(this.direction===12||this.direction===13){let E=0;switch(c){case 1:E=this.B1(f,w,g,P)*180/Math.PI;break;case 0:{let N=0,_=0;const R=l.first();R!==null&&(N=R.Ah(Math.PI/2));const $=u.first();$!==null&&(_=$.Ah(Math.PI/2)),E=this.B1(f,w,g,b+(N+_)/2)*180/Math.PI;break}case 2:E=y/o.length;break}if(this.direction===12){switch(c){case 1:this.Ey(l,y/2,g,11);break;case 0:this.Uy(l,y/2,g,11);break;case 2:this.By(l,y/2,g,11);break}switch(c){case 1:this.Ey(u,y/2,g+E,10);break;case 0:this.Uy(u,y/2,g+E,10);break;case 2:this.By(u,y/2,g+E,10);break}}else{switch(c){case 1:this.Ey(u,y/2,g,11);break;case 0:this.Uy(u,y/2,g,11);break;case 2:this.By(u,y/2,g,11);break}switch(c){case 1:this.Ey(l,y/2,g+E,10);break;case 0:this.Uy(l,y/2,g+E,10);break;case 2:this.By(l,y/2,g+E,10);break}}}else switch(c){case 1:this.Ey(o,y,g,this.direction);break;case 0:this.Uy(o,y,g,this.direction);break;case 2:this.By(o,y,g,this.direction);break;case 3:this.zT(o,y,g,this.direction);break}this.updateParts(),this.network=null,this.isValidLayout=!0}By(t,r,o,l){const u=this.gg,c=this.le,f=this.Ps,g=o*Math.PI/180,y=r*Math.PI/180,b=t.length;for(let w=0;w<b;w++){const P=g+(l===10?w*y/(u>=360?b:b-1):-(w*y)/b),E=t.elt(w),N=c*Math.tan(P)/f,_=Math.sqrt((c*c+f*f*N*N)/(1+N*N));E.centerX=_*Math.cos(P),E.centerY=_*Math.sin(P),E.actualAngle=P*180/Math.PI}}Uy(t,r,o,l){const u=this.le,c=this.Ps,f=this.Lh;let g=o*Math.PI/180;const y=t.length;for(let b=0;b<y;b++){const w=t.elt(b),P=t.elt(b===y-1?0:b+1),E=u*Math.cos(g),N=c*Math.sin(g);w.centerX=E,w.centerY=N,w.actualAngle=g*180/Math.PI,isNaN(w.diameter)&&w.Ah(0),isNaN(P.diameter)&&P.Ah(0);const _=(w.diameter+P.diameter)/2,R=this.B1(u,c,l===10?g:-g,_+f);g+=l===10?R:-R}}Ey(t,r,o,l){const u=this.le,c=this.Ps,f=this.vy;let g=o*Math.PI/180;const y=t.length;for(let b=0;b<y;b++){const w=t.elt(b);w.centerX=u*Math.cos(g),w.centerY=c*Math.sin(g),w.actualAngle=g*180/Math.PI;const P=this.B1(u,c,l===10?g:-g,f);g+=l===10?P:-P}}zT(t,r,o,l){let u=this.Iy;const c=this.gg;if(this.ja=0,this.Oy=new Si,r<360){for(u=o+(l===10?c:-c);u<0;)u+=360;u%=360,u>180&&(u-=360),u*=Math.PI/180,this.Iy=u,this.XT(t,r,o,l)}else this.KT(t,r,o,l);this.Oy.commit(t)}KT(t,r,o,l){const u=this.le,c=this.Ps,f=this.Lh,g=this.Of;let y=u*Math.cos(o*Math.PI/180),b=c*Math.sin(o*Math.PI/180);const w=t.toArray();if(w.length===3){w[0].centerX=u,w[0].centerY=0,w[1].centerX=w[0].centerX-w[0].width/2-w[1].width/2-f,w[1].y=w[0].y,w[2].centerX=(w[0].centerX+w[1].centerX)/2,w[2].y=w[0].y-w[2].height-f;return}else if(w.length===4){w[0].centerX=u,w[0].centerY=0,w[2].centerX=-w[0].centerX,w[2].centerY=w[0].centerY,w[1].centerX=0,w[1].y=Math.min(w[0].y,w[2].y)-w[1].height-f,w[3].centerX=0,w[3].y=Math.max(w[0].y+w[0].height+f,w[2].y+w[2].height+f);return}const P=C.l();for(let tt=0;tt<w.length&&(w[tt].centerX=y,w[tt].centerY=b,!(tt>=w.length-1));tt++)this.YT(y,b,w,tt,l,P)||this.GT(y,b,w,tt,l,P),y=P.x,b=P.y;if(C.s(P),this.ja++,this.ja>23)return;const E=w[0].centerX,N=w[0].centerY,_=w[w.length-1].centerX,R=w[w.length-1].centerY;let $=Math.abs(E-_)-((w[0].width+w[w.length-1].width)/2+f);const q=Math.abs(N-R)-((w[0].height+w[w.length-1].height)/2+f);let X=0;if(Math.abs(q)<1){const tt=Math.abs(E-_),Q=(w[0].width+w[w.length-1].width)/2;tt<Q&&(X=0),$=tt-Q}else q>0?X=q:Math.abs($)<1?X=0:X=$;let H=!1;Math.abs(_)>Math.abs(R)?H=_>0!=N>R:H=R>0!=E<_,H=l===10?H:!H,H&&(X=-Math.abs(X),X=Math.min(X,-w[w.length-1].width),X=Math.min(X,-w[w.length-1].height)),this.Oy.OO(X,w),Math.abs(X)>1&&(this.ja<8?this.le-=X/(2*Math.PI):w.length<5&&X>10?this.le/=2:this.le-=X>0?1.7:-2.3,this.Ps=this.le*g,this.KT(t,r,o,l))}XT(t,r,o,l){const u=this.le,c=this.Ps,f=this.Of;let g=u*Math.cos(o*Math.PI/180),y=c*Math.sin(o*Math.PI/180);const b=C.l(),w=t.toArray();for(let _=0;_<w.length&&(w[_].centerX=g,w[_].centerY=y,!(_>=w.length-1));_++)this.YT(g,y,w,_,l,b)||this.GT(g,y,w,_,l,b),g=b.x,y=b.y;if(C.s(b),this.ja++,this.ja>23)return;const P=Math.atan2(y,g);let E=l===10?this.Iy-P:P-this.Iy;E=Math.abs(E)<Math.abs(E-2*Math.PI)?E:E-2*Math.PI;const N=E*(u+c)/2;this.Oy.IO(N,w),Math.abs(N)>1&&(this.ja<8?this.le-=N/(2*Math.PI):this.le-=N>0?1.7:-2.3,this.Ps=this.le*f,this.XT(t,r,o,l))}YT(t,r,o,l,u,c){const f=this.Lh,g=this.le,y=this.Ps;let b=0,w=0;const P=(o[l].width+o[l+1].width)/2+f;let E=!1;if(r>=0!=(u===10)){if(b=t+P,b>g){if(b=t-P,b<-g)return c.x=b,c.y=w,!1;E=!0}}else if(b=t-P,b<-g){if(b=t+P,b>g)return c.x=b,c.y=w,!1;E=!0}return w=Math.sqrt(1-Math.min(1,b*b/(g*g)))*y,r<0!==E&&(w=-w),Math.abs(r-w)>(o[l].height+o[l+1].height)/2?(c.x=b,c.y=w,!1):(c.x=b,c.y=w,!0)}GT(t,r,o,l,u,c){const f=this.Lh,g=this.le,y=this.Ps;let b=0,w=0;const P=(o[l].height+o[l+1].height)/2+f;let E=!1;if(t>=0!=(u===10)){if(w=r-P,w<-y){if(w=r+P,w>y)return c.x=b,c.y=w,!1;E=!0}}else if(w=r+P,w>y){if(w=r-P,w<-y)return c.x=b,c.y=w,!1;E=!0}return b=Math.sqrt(1-Math.min(1,w*w/(y*y)))*g,t<0!==E&&(b=-b),Math.abs(t-b)>(o[l].width+o[l+1].width)/2?(c.x=b,c.y=w,!1):(c.x=b,c.y=w,!0)}commitLayout(){this.commitNodes(),this.isRouting&&this.commitLinks()}commitNodes(){const t=this.group!==null&&this.group.hasPlaceholder(),r=t?this.group.location.copy():null;let o=this.actualCenter;t?o=new C(0,0):(o.x=this.arrangementOrigin.x+this.le,o.y=this.arrangementOrigin.y+this.Ps);const l=this.network.vertexes.iterator;for(;l.next();){const u=l.value;u.x+=o.x,u.y+=o.y,u.commit()}if(t){this.group.ensureBounds();const u=this.group.position.copy(),c=this.group.location.copy(),f=r.subtract(c.subtract(u));this.group.move(f),this.AN=f.subtract(u)}}commitLinks(){const t=this.network.edges.iterator;for(;t.next();)t.value.commit()}FN(t,r,o,l){const u=this.VT;if(Math.abs(this.Of-1)<.001)return o!==void 0&&l!==void 0?l*t:2*Math.PI*t;const c=t>r?Math.sqrt(t*t-r*r)/t:Math.sqrt(r*r-t*t)/r;let f=0,g=0;o!==void 0&&l!==void 0?g=l/(u+1):g=Math.PI/(2*(u+1));let y=0;for(let b=0;b<=u;b++){o!==void 0&&l!==void 0?y=o+b*l/u:y=b*Math.PI/(2*u);const w=Math.sin(y);f+=Math.sqrt(1-c*c*w*w)*g}return o!==void 0&&l!==void 0?(t>r?t:r)*f:4*(t>r?t:r)*f}U1(t,r,o,l){let u=0;return o!==void 0&&l!==void 0?u=this.FN(1,r,o,l):u=this.FN(1,r),t/u}B1(t,r,o,l){if(Math.abs(this.Of-1)<.001)return l/t;const u=t>r?Math.sqrt(t*t-r*r)/t:Math.sqrt(r*r-t*t)/r;let c=0;const f=2*Math.PI/(this.network.vertexes.count*700);t>r&&(o+=Math.PI/2);for(let g=0;;g++){const y=o+g*f,b=Math.sin(y);if(c+=(t>r?t:r)*Math.sqrt(1-u*u*b*b)*f,c>=l)return g*f}}vO(t){switch(this.sorting){case 20:break;case 21:t.reverse();break;case 22:t.sort(this.comparer);break;case 23:t.sort(this.comparer),t.reverse();break;case 24:return this.EO(this.UO(t));default:n.o("Invalid sorting type.")}return t}UO(t){const r=[];for(let l=0;l<t.length;l++)r.push(0);const o=new x;for(let l=0;l<t.length;l++){let u=-1,c=-1;if(l===0)for(let w=0;w<t.length;w++){const P=t.elt(w).edgesCount;P>u&&(u=P,c=w)}else for(let w=0;w<t.length;w++){const P=r[w];P>u&&(u=P,c=w)}o.add(t.elt(c)),r[c]=-1;const f=t.elt(c);let g=0;const y=f.sourceEdges;for(;y.next();){const w=y.value.fromVertex;g=t.indexOf(w),!(g<0)&&r[g]>=0&&r[g]++}const b=f.destinationEdges;for(;b.next();){const w=b.value.toVertex;g=t.indexOf(w),!(g<0)&&r[g]>=0&&r[g]++}}return o}EO(t){const r=[];for(let P=0;P<t.length;P++){const E=t.elt(P);r[P]=[];let N=0;const _=E.destinationEdges;for(;_.next();){const $=_.value.toVertex;N=t.indexOf($),N!==P&&r[P].indexOf(N)<0&&r[P].push(N)}const R=E.sourceEdges;for(;R.next();){const $=R.value.fromVertex;N=t.indexOf($),N!==P&&r[P].indexOf(N)<0&&r[P].push(N)}}const o=[];for(let P=0;P<r.length;P++)o[P]=0;const l=[],u=[],c=[],f=[],g=new x;let y=0;for(let P=0;P<r.length;P++){const E=r[P].length;if(E===1){f.push(P);continue}if(E===0){g.add(t.elt(P));continue}if(y===0){l.push(P),y++;continue}let N=1/0,_=1/0,R=-1;const $=[];for(let q=0;q<l.length;q++)r[l[q]].indexOf(l[q===l.length-1?0:q+1])<0&&$.push(q===l.length-1?0:q+1);if($.length===0)for(let q=0;q<l.length;q++)$.push(q);for(let q=0;q<$.length;q++){const X=$[q],H=this.BO(r[P],u,c,o,X,l);let tt=0;for(let Q=0;Q<r[P].length;Q++){const nt=r[P][Q],ht=l.indexOf(nt);if(ht>=0){const it=Math.abs(X-(ht>=X?ht+1:ht));tt+=it<l.length+1-it?it:l.length+1-it}}for(let Q=0;Q<u.length;Q++){let nt=o[u[Q]],ht=o[c[Q]];if(nt>=X&&nt++,ht>=X&&ht++,nt>ht){const it=ht;ht=nt,nt=it}ht-nt<(l.length+2)/2==(nt<X&&X<=ht)&&tt++}(H<N||H===N&&tt<_)&&(N=H,_=tt,R=X)}l.splice(R,0,P);for(let q=0;q<l.length;q++)o[l[q]]=q;for(let q=0;q<r[P].length;q++){const X=r[P][q];l.indexOf(X)>=0&&(u.push(P),c.push(X))}y++}let b=!1;const w=l.length;for(;;){b=!0;for(let P=0;P<f.length;P++){const E=f[P],N=r[E][0],_=l.indexOf(N);if(_>=0){let R=0;for(let $=0;$<r[N].length;$++){const q=r[N][$],X=l.indexOf(q);if(X<0||X===_)continue;const H=X>_?X-_:_-X,tt=w-H;R+=X<_!=H>tt?1:-1}l.splice(R<0?_:_+1,0,E),f.splice(P,1),P--}else b=!1}if(b)break;l.push(f[0]),f.splice(0,1)}for(let P=0;P<l.length;P++){const E=l[P];g.add(t.elt(E))}return g}BO(t,r,o,l,u,c){let f=0;for(let g=0;g<r.length;g++){const y=r[g],b=o[g],w=l[y],P=l[b];let E=0,N=0;if(w<P?(E=w,N=P):(E=P,N=w),E<u&&u<=N)for(let _=0;_<t.length;_++){const R=t[_];c.indexOf(R)<0||E<l[R]&&l[R]<N||E===l[R]||N===l[R]||f++}else for(let _=0;_<t.length;_++){const R=t[_];c.indexOf(R)<0||!(E<l[R]&&l[R]<N)||E===l[R]||N===l[R]||f++}}return f}get radius(){return this.mg}set radius(t){this.mg!==t&&(t>0||isNaN(t))&&(this.mg=t,this.invalidateLayout())}get aspectRatio(){return this.pg}set aspectRatio(t){this.pg!==t&&t>0&&(this.pg=t,this.invalidateLayout())}get startAngle(){return this.yg}set startAngle(t){this.yg!==t&&(this.yg=t,this.invalidateLayout())}get sweepAngle(){return this.If}set sweepAngle(t){this.If!==t&&(t>0&&t<=360?this.If=t:this.If=360,this.invalidateLayout())}get arrangement(){return this.zi}set arrangement(t){this.zi!==t&&(t===3||t===0||t===1||t===2)&&(this.zi=t,this.invalidateLayout())}get direction(){return this.S}set direction(t){this.S!==t&&(t===10||t===11||t===12||t===13)&&(this.S=t,this.invalidateLayout())}get sorting(){return this.ye}set sorting(t){this.ye!==t&&(this.ye=t,this.invalidateLayout())}get comparer(){return this.we}set comparer(t){this.we!==t&&(this.we=t,this.invalidateLayout())}get spacing(){return this.Ln}set spacing(t){this.Ln!==t&&(this.Ln=t,this.invalidateLayout())}get nodeDiameterFormula(){return this.wg}set nodeDiameterFormula(t){this.wg!==t&&(t===30||t===31)&&(this.wg=t,this.invalidateLayout())}get actualXRadius(){return this.le}get actualYRadius(){return this.Ps}get actualSpacing(){return this.Lh}get actualCenter(){return this.AN}}T(pn,"ConstantSpacing",0),T(pn,"ConstantDistance",1),T(pn,"ConstantAngle",2),T(pn,"Packed",3),T(pn,"Clockwise",10),T(pn,"Counterclockwise",11),T(pn,"BidirectionalLeft",12),T(pn,"BidirectionalRight",13),T(pn,"Forwards",20),T(pn,"Reverse",21),T(pn,"Ascending",22),T(pn,"Descending",23),T(pn,"Optimized",24),T(pn,"Pythagorean",30),T(pn,"Circular",31);class Si{constructor(){T(this,"Ef");T(this,"Ha");T(this,"Uf");this.Ef=-1/0,this.Ha=null,this.Uf=null}OO(i,t){if(i>0&&this.Ef<0||Math.abs(i)<Math.abs(this.Ef)&&!(i<0&&this.Ef>0)){this.Ef=i,this.Ha=[],this.Uf=[];for(let r=0;r<t.length;r++)this.Ha[r]=t[r].bounds.x,this.Uf[r]=t[r].bounds.y}}IO(i,t){if(Math.abs(i)<Math.abs(this.Ef)){this.Ef=i,this.Ha=[],this.Uf=[];for(let r=0;r<t.length;r++)this.Ha[r]=t[r].bounds.x,this.Uf[r]=t[r].bounds.y}}commit(i){if(!(this.Ha===null||this.Uf===null))for(let t=0;t<this.Ha.length;t++){const r=i.elt(t);r.x=this.Ha[t],r.y=this.Uf[t]}}}class Fi extends ys{constructor(i){super(i)}createVertex(){return new or(this)}createEdge(){return new Jr(this)}}class or extends jr{constructor(t){super(t);T(this,"xo");T(this,"V1");this.xo=NaN,this.V1=NaN}Ah(t){const r=this.network;if(r===null)return NaN;const o=r.layout;if(o===null)return NaN;if(o.arrangement===3){if(o.nodeDiameterFormula===31)return this.xo=Math.max(this.width,this.height),this.xo;{const l=Math.abs(Math.sin(t)),u=Math.abs(Math.cos(t));return l===0?this.width:u===0?this.height:(this.xo=Math.min(this.height/l,this.width/u),this.xo)}}else return o.nodeDiameterFormula===31?(this.xo=Math.max(this.width,this.height),this.xo):(this.xo=Math.sqrt(this.width*this.width+this.height*this.height),this.xo)}get diameter(){return this.xo}set diameter(t){this.xo!==t&&(this.xo=t)}get actualAngle(){return this.V1}set actualAngle(t){this.V1!==t&&(this.V1=t)}}class Jr extends vs{constructor(i){super(i)}}class xs extends Ie{constructor(t){super();T(this,"Vy");T(this,"Th");T(this,"Ms");T(this,"xg");T(this,"Fn");T(this,"ve");T(this,"bg");T(this,"kg");T(this,"Pg");T(this,"Bf");T(this,"Mg");T(this,"Sg");T(this,"Vf");T(this,"zf");T(this,"Xf");T(this,"Kf");T(this,"Ng");T(this,"Cg");T(this,"Yf");T(this,"qa");this.Vy=0,this.Th=0,this.Ms=new z(100,100).g(),this.xg=!1,this.Fn=!0,this.ve=!1,this.bg=100,this.kg=300,this.Pg=1,this.Bf=1e3,this.Mg=10,this.Sg=Math,this.Vf=.05,this.zf=50,this.Xf=150,this.Kf=0,this.Ng=10,this.Cg=5,this.Yf=NaN,this.qa=10,t&&Object.assign(this,t)}cloneProtected(t){super.cloneProtected(t),t.Ms.a(this.Ms),t.xg=this.xg,t.Fn=this.Fn,t.ve=this.ve,t.bg=this.bg,t.kg=this.kg,t.Pg=this.Pg,t.Bf=this.Bf,t.Mg=this.Mg,t.Sg=this.Sg,t.Vf=this.Vf,t.zf=this.zf,t.Xf=this.Xf,t.Kf=this.Kf,t.Ng=this.Ng,t.Cg=this.Cg,t.Yf=this.Yf,t.qa=this.qa}createNetwork(){return new Bs(this)}doLayout(t){this.network=this.makeNetwork(t);let r=this.network.vertexes.iterator;const o=this.maxIterations;if(this.network.vertexes.count>0){for(this.network.deleteSelfEdges(),r=this.network.vertexes.iterator;r.next();){const u=r.value;u.charge=this.electricalCharge(u),u.mass=this.gravitationalMass(u)}const l=this.network.edges.iterator;for(;l.next();){const u=l.value;u.stiffness=this.springStiffness(u),u.length=this.springLength(u)}if(this.RN(),this.Th=0,this.needsPrelayout()){const u=this.network,c=u.splitIntoSubNetworks(!1);let f=c.iterator;for(;f.next();){const g=f.value;this.doConnectedSubnetLayout(g)}for(f=c.iterator,this.VO(f,u),f=c.iterator;f.next();){const g=f.value,y=g.vertexes.iterator;for(;y.next();){const w=y.value;u.addVertex(w)}const b=g.edges.iterator;for(;b.next();){const w=b.value;u.addEdge(w)}}}else this.jT(this.network,this.maxIterations);this.updateParts()}this.maxIterations=o,this.isValidLayout=!0}needsPrelayout(){if(this.network.vertexes.count<3)return!1;let t=0,r=0;const o=this.network.vertexes.first().bounds,l=this.network.vertexes.iterator;for(;l.next();){const u=l.value,c=u.bounds;if(isNaN(u.x)||isNaN(u.y)||c.intersectsRect(o)&&(t++,t>2))return!0;if(r>10)return!1;r++}return!1}doConnectedSubnetLayout(t){let r=t.vertexes.iterator;for(;r.next();){const g=r.value;g.hierarchicalVertexes.add(g)}let o=t,l=this.Yf;if(isNaN(l)&&(l=t.edges.count/t.vertexes.count),l<t.vertexes.count)for(;o.vertexes.count>Math.max(100,Math.sqrt(l*t.vertexes.count));)o=this.coarsenNetwork(o);let u=0;r=o.vertexes.iterator;let c=this.randomNumberGenerator;for(c===null&&(this.randomNumberGenerator=c=new Xi(0));r.next();){r.value.idInCluster=u++;const g=10*(c.random()-.5),y=10*(c.random()-.5);this.isFixed(r.value)||(r.value.x=g,r.value.y=y);const b=r.value.hierarchicalVertexes.iterator;for(;b.next();)this.isFixed(b.value)||(b.value.x=g,b.value.y=y)}const f=this.computePairwiseDistances(o);this.zO(o,f,this.maxPrelayoutIterations,t.vertexes.count),this.jT(t,this.maxIterations)}computePairwiseDistances(t){const r=t.vertexes.count,o=new Array(r);for(let f=0;f<r;f++)o[f]=new Array(r).fill(-1),o[f][f]=0;const l=t.vertexes.iterator;let u=new Map,c=[];for(;l.next();){const f=l.value;for(c=[f],u=new Map,u.set(f.idInCluster,0);c.length>0;){const g=c.shift(),y=g.vertexes.iterator;for(;y.next();){const b=y.value;u.has(b.idInCluster)||(u.set(b.idInCluster,u.get(g.idInCluster)+1),c.push(b))}}for(let g=0;g<r;g++){const y=Math.min(o[f.idInCluster][g],o[g][f.idInCluster]),b=u.get(g);(y<0||b<y)&&(o[f.idInCluster][g]=b,o[g][f.idInCluster]=b)}}return o}coarsenNetwork(t){const r=this.createNetwork(),o=new Map;let l=0,u=t.vertexes.iterator;for(;u.next();)u.value.idInCluster=l++;for(u=t.vertexes.iterator;u.next();){const f=u.value;if(o.has(f.idInCluster))continue;let g=Number.MAX_SAFE_INTEGER,y=null;const b=f.vertexes.iterator;for(;b.next();){const P=b.value;o.has(P.idInCluster)||P.hierarchicalVertexes.length<g&&(g=P.hierarchicalVertexes.length,y=P)}const w=r.createVertex();w.hierarchicalVertexes.addAll(f.hierarchicalVertexes),y!=null&&w.hierarchicalVertexes.addAll(y.hierarchicalVertexes),o.set(f.idInCluster,w),y!=null&&o.set(y.idInCluster,w),r.addVertex(w)}const c=t.edges.iterator;for(;c.next();){const f=c.value,g=o.get(f.fromVertex.idInCluster),y=o.get(f.toVertex.idInCluster);if(g===y)continue;const b=r.createEdge();b.fromVertex=g,b.toVertex=y,r.addEdge(b)}return r}Sw(t,r){let o=!0;const l=t.vertexes.iterator;for(;l.next();){const u=l.value;o?(o=!1,r.set(u.bounds)):r.unionRect(u.bounds)}return r}VO(t,r){const o=this.arrangementSpacing,l=t.count;let u=!0,c=0,f=0;const g=n.rt();for(let P=0;P<l+r.vertexes.count+2;P++)g[P]=null;let y=0;t.reset();const b=F.l();let w;for(;t.next();){const P=t.value;if(this.Sw(P,b),u)u=!1,c=b.x+b.width/2,f=b.y+b.height/2,g[0]=new C(b.x+b.width+o.width,b.y),g[1]=new C(b.x,b.y+b.height+o.height),y=2;else{const E=this.HT(g,y,c,f,b.width,b.height,o),N=g[E],_=new C(N.x+b.width+o.width,N.y),R=new C(N.x,N.y+b.height+o.height);E+1<y&&g.splice(E+1,0,null),g[E]=_,g[E+1]=R,y++;const $=N.x-b.x,q=N.y-b.y;for(w=P.vertexes.iterator;w.next();){const X=w.value;this.isFixed(X)||(X.centerX+=$,X.centerY+=q)}}}for(F.s(b),w=r.vertexes.iterator;w.next();){const P=w.value,E=P.bounds;if(y<2){c=E.x+E.width/2,f=E.y+E.height/2,g[0]=new C(E.x+E.width+o.width,E.y),g[1]=new C(E.x,E.y+E.height+o.height),y=2;continue}const N=this.HT(g,y,c,f,E.width,E.height,o),_=g[N],R=new C(_.x+E.width+o.width,_.y),$=new C(_.x,_.y+E.height+o.height);N+1<y&&g.splice(N+1,0,null),g[N]=R,g[N+1]=$,y++,this.isFixed(P)||(P.centerX=_.x+P.width/2,P.centerY=_.y+P.height/2)}n.it(g)}HT(t,r,o,l,u,c,f){let g=9e19,y=-1;t:for(let b=0;b<r;b++){const w=t[b],P=w.x-o,E=w.y-l,N=P*P+E*E;if(N<g){for(let _=b-1;_>=0;_--)if(t[_].y>w.y&&t[_].x-w.x<u+f.width)continue t;for(let _=b+1;_<r;_++)if(t[_].x>w.x&&t[_].y-w.y<c+f.height)continue t;y=b,g=N}}return y}RN(){if(!this.comments)return;const t=this.network.vertexes.iterator;for(;t.next();){const r=t.value;this.addComments(r)}}addComments(t){const r=t.node;if(r!==null){const o=r.findNodesConnected();for(;o.next();){const l=o.value;if(l.category!=="Comment"||!l.isVisible())continue;let u=this.network.findVertex(l);u===null&&(u=this.network.addNode(l)),u.charge=this.defaultCommentElectricalCharge;let c=null;const f=u.destinationEdges;for(;f.next();){const g=f.value;if(g.toVertex===t){c=g;break}}if(c===null){const g=u.sourceEdges;for(;g.next();){const y=g.value;if(y.fromVertex===t){c=y;break}}}c===null&&(c=this.network.linkVertexes(t,u,null)),c.length=this.defaultCommentSpringLength}}}vN(t,r){const o=t.bounds,l=o.x,u=o.y,c=o.width,f=o.height,g=r.bounds,y=g.x,b=g.y,w=g.width,P=g.height;if(l+c<y)if(u>b+P){const E=l+c-y,N=u-b-P;return K.xw(E*E+N*N)}else if(u+f<b){const E=l+c-y,N=u+f-b;return K.xw(E*E+N*N)}else return y-(l+c);else if(l>y+w)if(u>b+P){const E=l-y-w,N=u-b-P;return K.xw(E*E+N*N)}else if(u+f<b){const E=l-y-w,N=u+f-b;return K.xw(E*E+N*N)}else return l-(y+w);else return u>b+P?u-(b+P):u+f<b?b-(u+f):.1}jT(t,r){const o=this.Th+r;for(;this.Th<o&&(this.Th++,!!this.XO(t)););}XO(t){const r=t.vertexes.toArray();if(r.length<=0)return!1;const o=r[0];o.forceX=0,o.forceY=0;let l=o.centerX,u=l,c=o.centerY,f=c;for(let _=1;_<r.length;_++){const R=r[_];R.forceX=0,R.forceY=0;const $=R.centerX,q=R.centerY;l=Math.min(l,$),u=Math.max(u,$),c=Math.min(c,q),f=Math.max(f,q)}const g=u-l>f-c;g?r.sort((_,R)=>_===null||R===null||_===R?0:_.centerX-R.centerX):r.sort((_,R)=>_===null||R===null||_===R?0:_.centerY-R.centerY);const y=this.Bf;let b=0,w=0,P=0;for(let _=0;_<r.length;_++){const R=r[_],$=R.bounds,q=R.focus,X=$.x+q.x,H=$.y+q.y;w=R.charge*this.electricalFieldX(X,H),P=R.charge*this.electricalFieldY(X,H),w+=R.mass*this.gravitationalFieldX(X,H),P+=R.mass*this.gravitationalFieldY(X,H),R.forceX+=w,R.forceY+=P;for(let tt=_+1;tt<r.length;tt++){const Q=r[tt];if(!this.shouldInteract(R,Q)||tt===_)continue;const nt=Q.bounds,ht=Q.focus,it=nt.x+ht.x,st=nt.y+ht.y;if(X-it>y||it-X>y){if(g)break;continue}if(H-st>y||st-H>y){if(!g)break;continue}const ct=this.vN(R,Q),ut=2*R.charge,pt=2*Q.charge;if(ct>1)b=ut*pt/(ct*ct),w=b*(X-it)/ct,P=b*(H-st)/ct;else{let Tt=this.randomNumberGenerator;Tt===null&&(this.randomNumberGenerator=Tt=new Xi(0));const Et=Tt.random(),m=Tt.random();if(X>it)w=Math.abs(Q.bounds.right-R.bounds.x),w=ut*pt*(1+w)*Et;else if(X<it)w=Math.abs(Q.bounds.x-R.bounds.right),w=-(ut*pt)*(1+w)*Et;else{const k=Math.max(Q.width,R.width);w=ut*pt*((1+k)*Et-k/2)}if(H>st)P=Math.abs(Q.bounds.bottom-R.bounds.y),P=ut*pt*(1+P)*m;else if(X<it)P=Math.abs(Q.bounds.y-R.bounds.bottom),P=-(ut*pt)*(1+P)*m;else{const k=Math.max(Q.height,R.height);P=ut*pt*((1+k)*m-k/2)}}R.forceX+=w,R.forceY+=P,Q.forceX-=w,Q.forceY-=P}}const E=t.edges.iterator;for(;E.next();){const _=E.value,R=_.fromVertex,$=_.toVertex,q=R.bounds,X=R.focus,H=q.x+X.x,tt=q.y+X.y,Q=$.bounds,nt=$.focus,ht=Q.x+nt.x,it=Q.y+nt.y,st=this.vN(R,$);st>1&&(b=.1*_.stiffness*(st-_.length),w=b*.5*(R.width+$.height)*(H-ht)/st,P=b*.5*(R.width+$.height)*(tt-it)/st),R.forceX-=w,R.forceY-=P,$.forceX+=w,$.forceY+=P}let N=0;for(let _=0;_<r.length;_++){const R=r[_];this.isFixed(R)?this.moveFixedVertex(R):N=Math.max(N,this.moveVertex(R)||0)}return N>this.epsilonDistance*this.epsilonDistance}zO(t,r,o,l){const u=this.Th+o,c=Math.sqrt(l);this.Vy=this.qa*t.vertexes.count;const f=t.vertexes.toArray();let g=0,y=0,b=0;for(;this.Th<u;){this.Th++,y=g,g=0;for(let w=0;w<f.length;w++){f[w].forceX=0,f[w].forceY=0;for(let E=0;E<f.length;E++){if(w===E)continue;const N=this.vN(f[w],f[E]),_=r[f[w].idInCluster][f[E].idInCluster],R=(N-this.qa*c*_)/N;f[w].forceX+=R*(f[E].x-f[w].x),f[w].forceY+=R*(f[E].y-f[w].y)}const P=Math.sqrt(f[w].forceX*f[w].forceX+f[w].forceY*f[w].forceY);if(P>0){f[w].forceX=this.Vy*f[w].forceX/P,f[w].forceY=this.Vy*f[w].forceY/P,this.isFixed(f[w])||(f[w].x+=f[w].forceX,f[w].y+=f[w].forceY);const E=f[w].hierarchicalVertexes.iterator;for(;E.next();){const N=E.value;this.isFixed(N)||(N.centerX+=f[w].forceX,N.centerY+=f[w].forceY)}}g+=P*P}if(g>=y){if(b++,b>=5)break}else b=0;this.Vy*=.95}}moveVertex(t){let r=t.forceX,o=t.forceY;const l=this.moveLimit;return r<-l?r=-l:r>l&&(r=l),o<-l?o=-l:o>l&&(o=l),t.centerX+=r,t.centerY+=o,r*r+o*o}shouldInteract(t,r){return!0}moveFixedVertex(t){}commitLayout(){this.zy(),this.commitNodes(),this.isRouting&&this.commitLinks()}zy(){if(!this.setsPortSpots)return;const t=this.network.edges.iterator;for(;t.next();){const r=t.value.link;r!==null&&(r.fromSpot=U.Default,r.toSpot=U.Default)}}commitNodes(){let t=0,r=0;if(this.arrangesToOrigin){const u=F.l();this.Sw(this.network,u);const c=this.arrangementOrigin;t=c.x-u.x,r=c.y-u.y,F.s(u)}const o=F.l(),l=this.network.vertexes.iterator;for(;l.next();){const u=l.value;(t!==0||r!==0)&&(o.a(u.bounds),o.x+=t,o.y+=r,u.bounds=o),u.commit()}F.s(o)}commitLinks(){const t=this.network.edges.iterator;for(;t.next();)t.value.commit()}springStiffness(t){const r=t.stiffness;return isNaN(r)?this.Vf:r}springLength(t){const r=t.length;return isNaN(r)?this.zf:r}electricalCharge(t){const r=t.charge;return isNaN(r)?this.Xf:r}electricalFieldX(t,r){return 0}electricalFieldY(t,r){return 0}gravitationalMass(t){const r=t.mass;return isNaN(r)?this.Kf:r}gravitationalFieldX(t,r){return 0}gravitationalFieldY(t,r){return 0}isFixed(t){return t.isFixed}get currentIteration(){return this.Th}get arrangementSpacing(){return this.Ms}set arrangementSpacing(t){this.Ms.equals(t)||(this.Ms.a(t),this.invalidateLayout())}get arrangesToOrigin(){return this.xg}set arrangesToOrigin(t){this.xg!==t&&(this.xg=t,this.invalidateLayout())}get setsPortSpots(){return this.Fn}set setsPortSpots(t){this.Fn!==t&&(this.Fn=t,this.invalidateLayout())}get comments(){return this.ve}set comments(t){this.ve!==t&&(this.ve=t,this.invalidateLayout())}get maxPrelayoutIterations(){return this.bg}set maxPrelayoutIterations(t){this.bg!==t&&t>=0&&(this.bg=t,this.invalidateLayout())}get maxIterations(){return this.kg}set maxIterations(t){this.kg!==t&&t>=0&&(this.kg=t,this.invalidateLayout())}get epsilonDistance(){return this.Pg}set epsilonDistance(t){this.Pg!==t&&t>0&&(this.Pg=t,this.invalidateLayout())}get infinityDistance(){return this.Bf}set infinityDistance(t){this.Bf!==t&&t>1&&(this.Bf=t,this.invalidateLayout())}get moveLimit(){return this.Mg}set moveLimit(t){this.Mg!==t&&(this.Mg=t,this.invalidateLayout())}get randomNumberGenerator(){return this.Sg}set randomNumberGenerator(t){this.Sg!==t&&(t!==null&&typeof t.random!="function"&&n.o('ForceDirectedLayout.randomNumberGenerator must have a "random()" function on it: '+t),this.Sg=t)}get defaultSpringStiffness(){return this.Vf}set defaultSpringStiffness(t){this.Vf!==t&&(this.Vf=t,this.invalidateLayout())}get defaultSpringLength(){return this.zf}set defaultSpringLength(t){this.zf!==t&&(this.zf=t,this.invalidateLayout())}get defaultElectricalCharge(){return this.Xf}set defaultElectricalCharge(t){this.Xf!==t&&(this.Xf=t,this.invalidateLayout())}get defaultGravitationalMass(){return this.Kf}set defaultGravitationalMass(t){this.Kf!==t&&(this.Kf=t,this.invalidateLayout())}get defaultCommentSpringLength(){return this.Ng}set defaultCommentSpringLength(t){this.Ng!==t&&(this.Ng=t,this.invalidateLayout())}get defaultCommentElectricalCharge(){return this.Cg}set defaultCommentElectricalCharge(t){this.Cg!==t&&(this.Cg=t,this.invalidateLayout())}get prelayoutQuality(){return this.Yf}set prelayoutQuality(t){this.Yf!==t&&(this.Yf=t,this.invalidateLayout())}get prelayoutSpread(){return this.qa}set prelayoutSpread(t){this.qa!==t&&(this.qa=t,this.invalidateLayout())}}class Bs extends ys{constructor(i){super(i)}createVertex(){return new ba(this)}createEdge(){return new wa(this)}}class ba extends jr{constructor(t){super(t);T(this,"z1");T(this,"X1");T(this,"K1");T(this,"Y1");T(this,"G1");T(this,"hierarchicalVertexes");T(this,"idInCluster");this.z1=!1,this.X1=NaN,this.K1=NaN,this.Y1=0,this.G1=0,this.hierarchicalVertexes=new x,this.idInCluster=-1}get isFixed(){return this.z1}set isFixed(t){this.z1!==t&&(this.z1=t)}get charge(){return this.X1}set charge(t){this.X1!==t&&(this.X1=t)}get mass(){return this.K1}set mass(t){this.K1!==t&&(this.K1=t)}get forceX(){return this.Y1}set forceX(t){this.Y1!==t&&(this.Y1=t)}get forceY(){return this.G1}set forceY(t){this.G1!==t&&(this.G1=t)}}class wa extends vs{constructor(t){super(t);T(this,"j1");T(this,"H1");this.j1=NaN,this.H1=NaN}get stiffness(){return this.j1}set stiffness(t){this.j1!==t&&(this.j1=t)}get length(){return this.H1}set length(t){this.H1!==t&&(this.H1=t)}}class Xi{constructor(i){T(this,"I");T(this,"R");T(this,"Q");T(this,"M");T(this,"A");T(this,"seed");i===void 0&&(i=42),this.seed=i,this.A=48271,this.M=2147483647,this.Q=this.M/this.A,this.R=this.M%this.A,this.I=1/this.M,this.random()}random(){const i=this.seed/this.Q,t=this.seed%this.Q,r=this.A*t-this.R*i;return r>0?this.seed=r:this.seed=r+this.M,this.seed*this.I}}var jd=(W=>(W[W.DepthFirst=0]="DepthFirst",W[W.Greedy=1]="Greedy",W[W.FromLayers=2]="FromLayers",W))(jd||{}),bh=(W=>(W[W.OptimalLinkLength=10]="OptimalLinkLength",W[W.LongestPathSink=11]="LongestPathSink",W[W.LongestPathSource=12]="LongestPathSource",W))(bh||{}),$s=(W=>(W[W.DepthFirstOut=20]="DepthFirstOut",W[W.DepthFirstIn=21]="DepthFirstIn",W[W.Naive=22]="Naive",W))($s||{}),wh=(W=>(W[W.None=30]="None",W[W.Less=31]="Less",W[W.More=32]="More",W))(wh||{}),Bd=(W=>(W[W.None=0]="None",W[W.Expand=1]="Expand",W[W.Straighten=2]="Straighten",W[W.Median=4]="Median",W[W.MaybeExpand=8]="MaybeExpand",W[W.All=15]="All",W))(Bd||{}),Sh=(W=>(W[W.None=0]="None",W[W.UpperLeft=1]="UpperLeft",W[W.UpperRight=2]="UpperRight",W[W.LowerLeft=4]="LowerLeft",W[W.LowerRight=8]="LowerRight",W[W.All=15]="All",W))(Sh||{});class Vn extends Ie{constructor(t){super();T(this,"Ss");T(this,"Wi");T(this,"S");T(this,"Gf");T(this,"jf");T(this,"Hf");T(this,"Wa");T(this,"qf");T(this,"nr");T(this,"Wf");T(this,"Fn");T(this,"Mt");T(this,"Xy");T(this,"Kt");T(this,"Lg");T(this,"Ns");T(this,"di");T(this,"Qs");T(this,"Cs");T(this,"Ls");T(this,"Bt");T(this,"Ag");T(this,"Ja");T(this,"Tg");T(this,"_s");T(this,"Jf");T(this,"or");T(this,"Rn");T(this,"vn");T(this,"ON");this.Ss=25,this.Wi=25,this.S=0,this.Gf=0,this.jf=10,this.Hf=20,this.Wa=4,this.qf=31,this.nr=15,this.Wf=10,this.Fn=!0,this.Mt=-1,this.Xy=-1,this.Kt=-1,this.Lg=0,this.Ns=0,this.di=null,this.Qs=null,this.Cs=null,this.Ls=null,this.Bt=null,this.Ag=0,this.Ja=null,this.Tg=null,this._s=0,this.Jf=null,this.or=new C,this.Rn=[],this.Rn.length=100,this.vn=15,this.ON=0,t&&Object.assign(this,t)}cloneProtected(t){super.cloneProtected(t),t.Ss=this.Ss,t.Wi=this.Wi,t.S=this.S,t.Gf=this.Gf,t.jf=this.jf,t.Hf=this.Hf,t.Wa=this.Wa,t.qf=this.qf,t.nr=this.nr,t.Wf=this.Wf,t.Fn=this.Fn,t.vn=this.vn}li(t){t in wh?this.aggressiveOption=t:t in jd?this.cycleRemoveOption=t:t in $s?this.initializeOption=t:t in bh?this.layeringOption=t:super.li(t)}createNetwork(){return new $d(this)}doLayout(t){this.network===null&&(this.network=this.makeNetwork(t)),this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin),this.KO(),this.network.vertexes.count>0&&(this.network.deleteSelfEdges(),this.cycleRemoveOption!==2&&this.removeCycles(),this.YO(),this.cycleRemoveOption===2&&this.removeCycles(),this.GO(),this.jO(),this.HO(),this.reduceCrossings(),this.straightenAndPack(),this.updateParts()),this.network=null,this.isValidLayout=!0}linkMinLength(t){return 1}linkLengthWeight(t){return 1}linkStraightenWeight(t){const r=t.fromVertex.node||t.fromVertex.data,o=t.toVertex.node||t.toVertex.data;return r===null&&o===null?8:r===null||o===null?4:1}nodeMinLayerSpace(t,r){return t.node===null&&t.data===null?0:this.S===90||this.S===270?r?t.focus.y+10:t.bounds.height-t.focus.y+10:r?t.focus.x+10:t.bounds.width-t.focus.x+10}nodeMinColumnSpace(t,r){if(t.node===null&&t.data===null)return 0;const o=r?t.q1:t.W1;if(o!==null)return o;const l=this.S;return l===90||l===270?r?t.q1=t.focus.x/this.Wi+1|0:t.W1=(t.bounds.width-t.focus.x)/this.Wi+1|0:r?t.q1=t.focus.y/this.Wi+1|0:t.W1=(t.bounds.height-t.focus.y)/this.Wi+1|0}Ji(){this.Ja===null&&(this.Ja=[]);let t=0;const r=this.network.vertexes.iterator;for(;r.next();){const o=r.value;this.Ja[t]=o.layer,t++,this.Ja[t]=o.column,t++,this.Ja[t]=o.index,t++}return this.Ja}Qe(t){let r=0;const o=this.network.vertexes.iterator;for(;o.next();){const l=o.value;l.layer=t[r],r++,l.column=t[r],r++,l.index=t[r],r++}}qT(t,r){const o=this.Dh(t),l=this.di[t];(this.Tg===null||this.Tg.length<l*l)&&(this.Tg=[]);const u=this.Tg;for(let c=0;c<l;c++){let f=0;const g=o[c],y=g.near;let b=0;y!==null&&y!==g&&y.layer===g.layer&&(f+=Math.max(0,Math.abs(y.index-g.index)-1));let w,P=0,E,N=0,_=0,R=0,$,q=0,X,H=0,tt=0,Q=0,nt;if(r>=0){for(w=o[c].mo,P=0;P<w.length;P++)if(E=w[P],E.valid&&E.fromVertex.layer!==t)for(N=E.fromVertex.index,_=E.portToPos,R=E.portFromPos,q=P+1;q<w.length;q++)X=w[q],X.valid&&X.fromVertex.layer!==t&&(H=X.fromVertex.index,tt=X.portToPos,Q=X.portFromPos,_<tt&&(N>H||N===H&&R>Q)&&f++,tt<_&&(H>N||H===N&&Q>R)&&f++)}if(r<=0){for(w=o[c].ir,P=0;P<w.length;P++)if(E=w[P],E.valid&&E.toVertex.layer!==t)for(N=E.toVertex.index,_=E.portToPos,R=E.portFromPos,q=P+1;q<w.length;q++)X=w[q],X.valid&&X.toVertex.layer!==t&&(H=X.toVertex.index,tt=X.portToPos,Q=X.portFromPos,R<Q&&(N>H||N===H&&_>tt)&&f++,Q<R&&(H>N||H===N&&tt>_)&&f++)}for(u[c*l+c]=f,b=c+1;b<l;b++){let ht=0,it=0;if(r>=0){for($=o[c].mo,nt=o[b].mo,P=0;P<$.length;P++)if(E=$[P],E.valid&&E.fromVertex.layer!==t)for(N=E.fromVertex.index,_=E.portToPos,R=E.portFromPos,q=0;q<nt.length;q++)X=nt[q],X.valid&&X.fromVertex.layer!==t&&(H=X.fromVertex.index,tt=X.portToPos,Q=X.portFromPos,(N<H||N===H&&R<Q)&&it++,(H<N||H===N&&Q<R)&&ht++)}if(r<=0){for($=o[c].ir,nt=o[b].ir,P=0;P<$.length;P++)if(E=$[P],E.valid&&E.toVertex.layer!==t)for(N=E.toVertex.index,_=E.portToPos,R=E.portFromPos,q=0;q<nt.length;q++)X=nt[q],X.valid&&X.toVertex.layer!==t&&(H=X.toVertex.index,tt=X.portToPos,Q=X.portFromPos,(N<H||N===H&&_<tt)&&it++,(H<N||H===N&&tt<_)&&ht++)}u[c*l+b]=ht,u[b*l+c]=it}}return this.Fh(t,o),u}countCrossings(){let t=0;for(let r=0;r<=this.Mt;r++){const o=this.qT(r,1),l=this.di[r];for(let u=0;u<l;u++)for(let c=u;c<l;c++)t+=o[u*l+c]}return t}qO(t,r,o){const l=this.Dh(t),u=this.di[t];let c=0;for(let f=0;f<u;f++){let g=null;r<=0&&(g=l[f].mo);let y=null;r>=0&&(y=l[f].ir);let b,w=0,P=0;if(g!==null)for(let E=0;E<g.length;E++)b=g[E],b.valid&&b.fromVertex.layer!==t&&(w=b.fromVertex.column+b.portFromColOffset,P=b.toVertex.column+b.portToColOffset,o?c+=Math.abs(w-P)*this.linkStraightenWeight(b):c+=Math.abs(w-P));if(y!==null)for(let E=0;E<y.length;E++)b=y[E],b.valid&&b.toVertex.layer!==t&&(w=b.fromVertex.column+b.portFromColOffset,P=b.toVertex.column+b.portToColOffset,o?c+=(Math.abs(w-P)+1)*this.linkStraightenWeight(b):c+=Math.abs(w-P))}return this.Fh(t,l),c}J1(t){let r=0;for(let o=0;o<=this.Mt;o++)r+=this.qO(o,1,t);return r}Ky(){let t=1/0;this.Kt=-1;const r=this.network.vertexes.iterator;for(;r.next();){const o=r.value;t=Math.min(t,o.column-this.nodeMinColumnSpace(o,!0)),this.Kt=Math.max(this.Kt,o.column+this.nodeMinColumnSpace(o,!1))}for(r.reset();r.next();){const o=r.value;o.column-=t}this.Kt-=t}Yy(t,r){const o=this.Dh(t),l=this.di[t],u=[];for(let c=0;c<l;c++){const f=o[c];let g=null;r<=0&&(g=f.mo);let y=null;r>=0&&(y=f.ir);let b=0,w=0;const P=f.near;P!==null&&P.layer===f.layer&&(b+=P.column-1,w++);let E;if(g!==null)for(let N=0;N<g.length;N++){E=g[N];const _=E.fromVertex;E.valid&&!E.rev&&_.layer!==t&&(b+=_.column,w++)}if(y!==null)for(let N=0;N<y.length;N++){E=y[N];const _=E.toVertex;E.valid&&!E.rev&&_.layer!==t&&(b+=_.column,w++)}w===0?u[c]=-1:u[c]=b/w}return this.Fh(t,o),u}WT(t,r){const o=this.Dh(t),l=this.di[t],u=[];for(let c=0;c<l;c++){const f=o[c];let g=null;r<=0&&(g=f.mo);let y=null;r>=0&&(y=f.ir);let b=0;const w=[],P=f.near;P!==null&&P.layer===f.layer&&(w[b]=P.column-1,b++);let E;if(g!==null)for(let N=0;N<g.length;N++){E=g[N];const _=E.fromVertex;E.valid&&!E.rev&&_.layer!==t&&(w[b]=_.column+E.portFromColOffset,b++)}if(y!==null)for(let N=0;N<y.length;N++){E=y[N];const _=E.toVertex;E.valid&&!E.rev&&_.layer!==t&&(w[b]=_.column+E.portToColOffset,b++)}if(b===0)u[c]=-1;else{w.sort((_,R)=>_-R);const N=b>>1;b&1?u[c]=w[N]:u[c]=w[N-1]+w[N]>>1}}return this.Fh(t,o),u}Gy(t,r,o,l,u){if(t.component===o){t.component=r;let c=0,f=0;if(l){const g=t.destinationEdges;for(;g.next();){const y=g.value,b=y.toVertex;c=t.layer-b.layer,f=this.linkMinLength(y),c===f&&this.Gy(b,r,o,l,u)}}if(u){const g=t.sourceEdges;for(;g.next();){const y=g.value,b=y.fromVertex;c=b.layer-t.layer,f=this.linkMinLength(y),c===f&&this.Gy(b,r,o,l,u)}}}}IN(t,r,o,l,u){if(t.component===o){if(t.component=r,l){const c=t.destinationEdges;for(;c.next();){const f=c.value.toVertex;this.IN(f,r,o,l,u)}}if(u){const c=t.sourceEdges;for(;c.next();){const f=c.value.fromVertex;this.IN(f,r,o,l,u)}}}}removeCycles(){const t=this.network.edges.iterator;for(;t.next();){const r=t.value;r.rev=!1}switch(this.Gf){default:case 1:this.WO();break;case 0:this.JO();break;case 2:this.$O();break}}$O(){const t=this.network,r=t.vertexes.iterator;let o=1/0;for(;r.next();){const l=r.value;o=Math.min(o,l.layer)}if(o<1/0){if(o<0)for(r.reset();r.next();){const f=r.value;f.layer-=o}const l=[];for(r.reset();r.next();){const f=r.value,g=l[f.layer];g===void 0?l[f.layer]=[f]:g.push(f)}let u=0;for(let f=0;f<l.length;f++){const g=l[f];if(!g||g.length===0)u++;else if(f>0)for(let y=0;y<g.length;y++){const b=g[y];b.layer-=u}}const c=t.edges.iterator;for(;c.next();){const f=c.value,g=f.fromVertex,y=f.toVertex;g.layer<y.layer&&(t.reverseEdge(f),f.rev=!0)}}}WO(){const t=this.network;let r=0,o=t.vertexes.count-1;const l=[];l.length=o+1;const u=t.vertexes.iterator;for(;u.next();){const f=u.value;f.$i=!0}for(;this.ZO(t)!==null;){let f;for(f=this.JT(t);f!==null;)l[o]=f,o--,f.$i=!1,f=this.JT(t);for(f=this.$T(t);f!==null;)l[r]=f,r++,f.$i=!1,f=this.$T(t);f=this.QO(t),f!==null&&(l[r]=f,r++,f.$i=!1)}for(let f=0;f<t.vertexes.count;f++)l[f].index=f;const c=t.edges.iterator;for(;c.next();){const f=c.value,g=f.fromVertex,y=f.toVertex;g.index>y.index&&(t.reverseEdge(f),f.rev=!0)}}ZO(t){const r=t.vertexes.iterator;for(;r.next();){const o=r.value;if(o.$i)return o}return null}JT(t){const r=t.vertexes.iterator;for(;r.next();){const o=r.value;if(o.$i){let l=!0;const u=o.destinationEdges;for(;u.next();)if(u.value.toVertex.$i){l=!1;break}if(l)return o}}return null}$T(t){const r=t.vertexes.iterator;for(;r.next();){const o=r.value;if(o.$i){let l=!0;const u=o.sourceEdges;for(;u.next();)if(u.value.fromVertex.$i){l=!1;break}if(l)return o}}return null}QO(t){let r=null,o=0;const l=this.network.vertexes.iterator;for(;l.next();){const u=l.value;if(u.$i){let c=0;const f=u.destinationEdges;for(;f.next();)f.value.toVertex.$i&&c++;let g=0;const y=u.sourceEdges;for(;y.next();)y.value.fromVertex.$i&&g++;(r===null||o<c-g)&&(r=u,o=c-g)}}return r}JO(){const t=this.network.vertexes.iterator;for(;t.next();){const o=t.value;o.$f=-1,o.Gn=-1}const r=this.network.edges.iterator;for(;r.next();){const o=r.value;o.forest=!1}for(this.Ag=0,t.reset();t.next();){const o=t.value;o.sourceEdges.count===0&&this.EN(o)}for(t.reset();t.next();){const o=t.value;o.$f===-1&&this.EN(o)}for(r.reset();r.next();){const o=r.value;if(!o.forest){const l=o.fromVertex,u=l.$f,c=l.Gn,f=o.toVertex,g=f.$f,y=f.Gn;g<u&&c<y&&(this.network.reverseEdge(o),o.rev=!0)}}}EN(t){t.$f=this.Ag,this.Ag++;const r=t.destinationEdges;for(;r.next();){const o=r.value,l=o.toVertex;l.$f===-1&&(o.forest=!0,this.EN(l))}t.Gn=this.Ag,this.Ag++}YO(){const t=this.network.vertexes.iterator;for(;t.next();){const r=t.value;r.layer=-1}for(this.Mt=-1,this.assignLayers(),t.reset();t.next();){const r=t.value;this.Mt=Math.max(this.Mt,r.layer)}}assignLayers(){switch(this.jf){case 11:this.ZT();break;case 12:this._O();break;default:case 10:this.tI();break}}ZT(){const t=this.network.vertexes.iterator;for(;t.next();){const r=t.value,o=this.QT(r);this.Mt=Math.max(o,this.Mt)}}QT(t){let r=0;if(t.layer===-1){const o=t.destinationEdges;for(;o.next();){const l=o.value,u=l.toVertex,c=this.linkMinLength(l);r=Math.max(r,this.QT(u)+c)}t.layer=r}else r=t.layer;return r}_O(){let t=0;const r=this.network.vertexes.iterator;for(;r.next();){const o=r.value;t=this._T(o),this.Mt=Math.max(t,this.Mt)}for(r.reset();r.next();){const o=r.value;o.layer=this.Mt-o.layer}}_T(t){let r=0;if(t.layer===-1){const o=t.sourceEdges;for(;o.next();){const l=o.value,u=l.fromVertex,c=this.linkMinLength(l);r=Math.max(r,this._T(u)+c)}t.layer=r}else r=t.layer;return r}tI(){this.ZT();const t=this.network.vertexes.iterator;for(;t.next();){const o=t.value;o.$i=!1}for(t.reset();t.next();){const o=t.value;o.sourceEdges.count===0&&this.tD(o)}let r=1/0;for(t.reset();t.next();){const o=t.value;r=Math.min(r,o.layer)}for(this.Mt=-1,t.reset();t.next();){const o=t.value;o.layer-=r,this.Mt=Math.max(this.Mt,o.layer)}}tD(t){if(!t.$i){t.$i=!0;const r=t.destinationEdges;for(;r.next();){const o=r.value.toVertex;this.tD(o)}this.iI(t),this.eI(t)}}iI(t){const r=this.network.vertexes.iterator;for(;r.next();){const f=r.value;f.component=-1}const o=0,l=1,u=t.mo;let c=u.length;for(let f=0;f<c;f++){const g=u[f],y=g.fromVertex,b=g.toVertex,w=this.linkMinLength(g);y.layer-b.layer>w&&this.Gy(y,o,-1,!0,!1)}for(this.Gy(t,l,-1,!0,!0);t.component!==o;){let f=0,g=1/0,y=0,b=null;const w=this.network.vertexes.iterator;for(;w.next();){const P=w.value;if(P.component===l){let E=0,N=!1;const _=P.mo;c=_.length;for(let $=0;$<c;$++){const q=_[$],X=q.fromVertex;if(E+=this.linkLengthWeight(q),X.component!==l){f+=this.linkLengthWeight(q);const H=X.layer-P.layer,tt=this.linkMinLength(q);g=Math.min(g,H-tt)}}const R=P.ir;c=R.length;for(let $=0;$<c;$++){const q=R[$],X=q.toVertex;E-=this.linkLengthWeight(q),X.component!==l?f-=this.linkLengthWeight(q):N=!0}(b===null||E<y)&&!N&&(b=P,y=E)}}if(f>0){for(r.reset();r.next();){const P=r.value;P.component===l&&(P.layer+=g)}t.component=o}else b.component=o}}eI(t){const r=this.network.vertexes.iterator;for(;r.next();){const u=r.value;u.component=-1}const o=0,l=1;for(this.Gy(t,l,-1,!0,!1);t.component!==o;){let u=0,c=1/0,f=0,g=null;const y=this.network.vertexes.iterator;for(;y.next();){const b=y.value;if(b.component===l){let w=0,P=!1;const E=b.mo;let N=E.length;for(let R=0;R<N;R++){const $=E[R],q=$.fromVertex;w+=this.linkLengthWeight($),q.component!==l?u+=this.linkLengthWeight($):P=!0}const _=b.ir;N=_.length;for(let R=0;R<N;R++){const $=_[R],q=$.toVertex;if(w-=this.linkLengthWeight($),q.component!==l){u-=this.linkLengthWeight($);const X=b.layer-q.layer,H=this.linkMinLength($);c=Math.min(c,X-H)}}(g===null||w>f)&&!P&&(g=b,f=w)}}if(u<0){for(r.reset();r.next();){const b=r.value;b.component===l&&(b.layer-=c)}t.component=o}else g.component=o}}GO(){const t=this.network,r=[],o=t.edges.iterator;for(;o.next();){const l=o.value;l.valid=!1,r.push(l)}for(let l=0;l<r.length;l++){const u=r[l];let c=u.fromVertex;const f=u.toVertex;if(u.valid||(c.node===null&&c.data===null||f.node===null&&f.data===null)&&c.layer===f.layer)continue;let g=0,y=0,b=0,w=0;if(u.link!==null){const Q=u.link;if(Q===null)continue;const nt=c.node,ht=f.node;if(nt===null||ht===null)continue;let it=Q.fromNode,st=Q.toNode,ct=Q.fromPort;for(;ct!==null&&!ct.isVisibleObject();)ct=ct.panel;let ut=Q.toPort;for(;ut!==null&&!ut.isVisibleObject();)ut=ut.panel;if(u.rev){const G=it,Z=ct;it=st,ct=ut,st=G,ut=Z}const pt=c.focus,Tt=f.focus,Et=u.rev?f.bounds:c.bounds,m=C.l();nt!==it?Et.isReal()&&it.isVisible()?it.actualBounds.isReal()?(it.getRelativePoint(ct,U.Center,m),m.x+=it.actualBounds.x-Et.x,m.y+=it.actualBounds.y-Et.y):(it.getRelativePoint(ct,U.Center,m),m.isReal()||m.a(pt)):m.a(pt):Et.isReal()?(it.getRelativePoint(ct,U.Center,m),m.isReal()||m.a(pt)):m.a(pt);const k=u.rev?c.bounds:f.bounds,D=C.l();ht!==st?k.isReal()&&st.isVisible()?st.actualBounds.isReal()?(st.getRelativePoint(ut,U.Center,D),D.x+=st.actualBounds.x-k.x,D.y+=st.actualBounds.y-k.y):(st.getRelativePoint(ut,U.Center,D),D.isReal()||D.a(Tt)):D.a(Tt):k.isReal()?(st.getRelativePoint(ut,U.Center,D),D.isReal()||D.a(Tt)):D.a(Tt),this.S===90||this.S===270?(g=Math.round((m.x-pt.x)/this.Wi),b=m.x,y=Math.round((D.x-Tt.x)/this.Wi),w=D.x):(g=Math.round((m.y-pt.y)/this.Wi),b=m.y,y=Math.round((D.y-Tt.y)/this.Wi),w=D.y),C.s(m),C.s(D),u.portFromColOffset=g,u.portFromPos=b,u.portToColOffset=y,u.portToPos=w}else u.portFromColOffset=0,u.portFromPos=0,u.portToColOffset=0,u.portToPos=0;let P=c.layer;const E=f.layer,N=this.sI(u),_=N===1||N===3,R=N===2||N===3;let $,q,X=null,H;R&&(X=this.nI(c,f),H=1,q=t.createVertex(),q.node=null,q.$1=1,q.layer=P,q.near=c,t.addVertex(q),$=t.linkVertexes(c,q,u.link),$.valid=!1,$.rev=u.rev,$.portFromColOffset=g,$.portToColOffset=0,$.portFromPos=b,$.portToPos=0,c=q);let tt=1;if(_&&tt--,P-E>tt&&P>0){for(u.valid=!1,q=t.createVertex(),q.node=null,q.$1=2,q.layer=P-1,X&&H<X.length&&q.layer===X[H].layer&&(q.near=X[H++]),t.addVertex(q),$=t.linkVertexes(c,q,u.link),$.valid=!0,$.rev=u.rev,$.portFromColOffset=R?0:g,$.portToColOffset=0,$.portFromPos=R?0:b,$.portToPos=0,c=q,P--;P-E>tt&&P>0;)q=t.createVertex(),q.node=null,q.$1=3,q.layer=P-1,X&&H<X.length&&q.layer===X[H].layer&&(q.near=X[H++]),t.addVertex(q),$=t.linkVertexes(c,q,u.link),$.valid=!0,$.rev=u.rev,$.portFromColOffset=0,$.portToColOffset=0,$.portFromPos=0,$.portToPos=0,c=q,P--;$=t.linkVertexes(q,f,u.link),$.valid=!_,_&&(q.near=f),$.rev=u.rev,$.portFromColOffset=0,$.portToColOffset=y,$.portFromPos=0,$.portToPos=w}else u.valid=!0}}sI(t){let r=0;const o=t.link;if(o!==null){const l=o.fromPort,u=o.toPort;if(l!==null&&u!==null){const c=o.fromNode,f=o.toNode;if(c!==null&&f!==null){const g=this.Z1(!0),y=this.Z1(!1),b=this.setsPortSpots?g:o.computeSpot(!0,l),w=this.setsPortSpots?y:o.computeSpot(!1,u),P=o.isOrthogonal;if(b.isSide()&&b.includesSide(y)&&w.isSide()&&w.includesSide(g))return 0;const E=o.getLinkPoint(c,l,b,!0,P,f,u,C.l()),N=o.getLinkDirection(c,l,E,b,!0,P,f,u);C.s(E),(!b.isNone()&&N===this.iD(t,!0)||this.setsPortSpots&&c!==null&&c.ports.count===1&&t.rev)&&(r+=1);const _=o.getLinkPoint(f,u,w,!1,P,c,l,C.l()),R=o.getLinkDirection(f,u,_,w,!1,P,c,l);C.s(_),(!w.isNone()&&R===this.iD(t,!1)||this.setsPortSpots&&f!==null&&f.ports.count===1&&t.rev)&&(r+=2)}}}return r}iD(t,r){return this.S===90?r&&!t.rev||!r&&t.rev?270:90:this.S===180?r&&!t.rev||!r&&t.rev?0:180:this.S===270?r&&!t.rev||!r&&t.rev?90:270:r&&!t.rev||!r&&t.rev?180:0}nI(t,r){const o=[];return o.push(r),this.eD(t,o)?o.reverse():[]}eD(t,r){const o=r[r.length-1].sourceEdges.iterator;for(;o.next();){const l=o.value;if(l.rev||!l.valid)continue;const u=l.fromVertex;if(r.push(u),u===t||this.eD(t,r))return!0;r.pop()}return!1}jO(){const t=this.di=[];for(let o=0;o<=this.Mt;o++)t[o]=0;const r=this.network.vertexes.iterator;for(;r.next();){const o=r.value;o.index=-1}this.initializeIndices(),this.Xy=-1,this.Lg=0,this.Ns=0;for(let o=0;o<=this.Mt;o++)t[o]>t[this.Ns]&&(this.Xy=t[o]-1,this.Ns=o),t[o]<t[this.Lg]&&(this.Lg=o);this.Jf=[];for(let o=0;o<t.length;o++)this.Jf[o]=[];for(r.reset();r.next();){const o=r.value,l=o.layer,u=this.Jf[l];u[o.index]=o}}initializeIndices(){switch(this.Hf){default:case 22:this.oI();break;case 20:this.rI();break;case 21:this.lI();break}}oI(){let t=null;const r=this.network.vertexes.iterator;for(;r.next();){const o=r.value;if(o.near&&(t===null&&(t=new Map),o.layer===o.near.layer)){const l=t.get(o.near)||[];l.push(o),t.set(o.near,l)}}for(r.reset();r.next();){const o=r.value;if(o.near)continue;const l=o.layer;if(o.index=this.di[l],this.di[l]++,!t)continue;const u=t.get(o);Array.isArray(u)&&u.forEach(c=>{c.index=this.di[l],this.di[l]++})}}rI(){let t=null;const r=this.network.vertexes.iterator;for(;r.next();){const o=r.value;if(o.near&&(t===null&&(t=new Map),o.layer===o.near.layer)){const l=t.get(o.near)||[];l.push(o),t.set(o.near,l)}}for(let o=this.Mt;o>=0;o--)for(r.reset();r.next();){const l=r.value;l.layer===o&&l.index===-1&&this.sD(l,t)}}sD(t,r){if(t.near)return;const o=t.layer;if(t.index=this.di[o],this.di[o]++,r){const c=r.get(t);Array.isArray(c)&&c.forEach(f=>{f.index=this.di[o],this.di[o]++})}const l=t.ir;let u=!0;for(;u;){u=!1;for(let c=0;c<l.length-1;c++){const f=l[c],g=l[c+1];f.portFromColOffset>g.portFromColOffset&&(u=!0,l[c]=g,l[c+1]=f)}}for(let c=0;c<l.length;c++){const f=l[c];if(f.valid){const g=f.toVertex;g.index===-1&&this.sD(g,r)}}}lI(){let t=null;const r=this.network.vertexes.iterator;for(;r.next();){const o=r.value;if(o.near&&(t===null&&(t=new Map),o.layer===o.near.layer)){const l=t.get(o.near)||[];l.push(o),t.set(o.near,l)}}for(let o=0;o<=this.Mt;o++)for(r.reset();r.next();){const l=r.value;l.layer===o&&l.index===-1&&this.nD(l,t)}}nD(t,r){if(t.near)return;const o=t.layer;if(t.index=this.di[o],this.di[o]++,r){const y=r.get(t);Array.isArray(y)&&y.forEach(b=>{b.index=this.di[o],this.di[o]++})}const l=t.mo;let u=!0,c=0;for(;u;)for(u=!1,c=0;c<l.length-1;c++){const y=l[c],b=l[c+1];y.portToColOffset>b.portToColOffset&&(u=!0,l[c]=b,l[c+1]=y)}let f,g;for(c=0;c<l.length;c++)g=l[c],g.valid&&(f=g.fromVertex,f.index===-1&&this.nD(f,r))}HO(){this.Kt=-1;for(let t=0;t<=this.Mt;t++){const r=this.Dh(t);let o=0;const l=this.di[t];for(let u=0;u<l;u++){const c=r[u];o+=this.nodeMinColumnSpace(c,!0),c.column=o,o+=1,o+=this.nodeMinColumnSpace(c,!1)}this.Kt=Math.max(this.Kt,o-1),this.Fh(t,r)}}reduceCrossings(){let t=this.countCrossings(),r=this.Ji(),o=0,l=0,u=0;for(o=0;o<this.Wa;o++){for(l=0;l<=this.Mt;l++)this.Q1(l,1),this.hs(l,1,!1,1);for(u=this.countCrossings(),u<t&&(t=u,r=this.Ji()),l=this.Mt;l>=0;l--)this.Q1(l,-1),this.hs(l,-1,!1,-1);u=this.countCrossings(),u<t&&(t=u,r=this.Ji())}for(this.Qe(r),o=0;o<this.Wa;o++){for(l=0;l<=this.Mt;l++)this.Q1(l,0),this.hs(l,0,!1,0);for(u=this.countCrossings(),u<t&&(t=u,r=this.Ji()),l=this.Mt;l>=0;l--)this.Q1(l,0),this.hs(l,0,!1,0);u=this.countCrossings(),u<t&&(t=u,r=this.Ji())}this.Qe(r);let c=!1,f=0,g=0,y=0,b=0;switch(this.qf){case 30:break;case 32:for(y=t+1;(b=this.countCrossings())<y;)for(y=b,f=this.Mt;f>=0;f--)for(g=0;g<=f;g++){for(c=!0;c;)for(c=!1,l=f;l>=g;l--)c=this.hs(l,-1,!1,-1)||c;for(u=this.countCrossings(),u>=t?this.Qe(r):(t=u,r=this.Ji()),c=!0;c;)for(c=!1,l=f;l>=g;l--)c=this.hs(l,1,!1,1)||c;for(u=this.countCrossings(),u>=t?this.Qe(r):(t=u,r=this.Ji()),c=!0;c;)for(c=!1,l=g;l<=f;l++)c=this.hs(l,1,!1,1)||c;for(u>=t?this.Qe(r):(t=u,r=this.Ji()),c=!0;c;)for(c=!1,l=g;l<=f;l++)c=this.hs(l,-1,!1,-1)||c;for(u>=t?this.Qe(r):(t=u,r=this.Ji()),c=!0;c;)for(c=!1,l=f;l>=g;l--)c=this.hs(l,0,!1,0)||c;for(u>=t?this.Qe(r):(t=u,r=this.Ji()),c=!0;c;)for(c=!1,l=g;l<=f;l++)c=this.hs(l,0,!1,0)||c;u>=t?this.Qe(r):(t=u,r=this.Ji())}break;default:case 31:for(f=this.Mt,g=0,y=t+1;(b=this.countCrossings())<y;){for(y=b,c=!0;c;)for(c=!1,l=f;l>=g;l--)c=this.hs(l,-1,!1,-1)||c;for(u=this.countCrossings(),u>=t?this.Qe(r):(t=u,r=this.Ji()),c=!0;c;)for(c=!1,l=f;l>=g;l--)c=this.hs(l,1,!1,1)||c;for(u=this.countCrossings(),u>=t?this.Qe(r):(t=u,r=this.Ji()),c=!0;c;)for(c=!1,l=g;l<=f;l++)c=this.hs(l,1,!1,1)||c;for(u>=t?this.Qe(r):(t=u,r=this.Ji()),c=!0;c;)for(c=!1,l=g;l<=f;l++)c=this.hs(l,-1,!1,-1)||c;for(u>=t?this.Qe(r):(t=u,r=this.Ji()),c=!0;c;)for(c=!1,l=f;l>=g;l--)c=this.hs(l,0,!1,0)||c;for(u>=t?this.Qe(r):(t=u,r=this.Ji()),c=!0;c;)for(c=!1,l=g;l<=f;l++)c=this.hs(l,0,!1,0)||c;u>=t?this.Qe(r):(t=u,r=this.Ji())}break}this.Qe(r)}Q1(t,r){let o=0,l=!1;const u=this.Dh(t),c=this.di[t],f=this.WT(t,r),g=this.Yy(t,r);for(o=0;o<c;o++)g[o]===-1&&(g[o]=u[o].column),f[o]===-1&&(f[o]=u[o].column);let y=!0,b;for(;y;)for(y=!1,o=0;o<c-1;o++)if(f[o+1]<f[o]||f[o+1]===f[o]&&g[o+1]<g[o]){l=!0,y=!0;const P=f[o];f[o]=f[o+1],f[o+1]=P;const E=g[o];g[o]=g[o+1],g[o+1]=E,b=u[o],u[o]=u[o+1],u[o+1]=b}let w=0;for(o=0;o<c;o++)b=u[o],b.index=o,w+=this.nodeMinColumnSpace(b,!0),b.column=w,w+=1,w+=this.nodeMinColumnSpace(b,!1);return this.Fh(t,u),l}hs(t,r,o,l){const u=this.Dh(t),c=this.di[t],f=this.qT(t,r);let g=0,y;if(!o||l>0)for(y=[],g=0;g<c;g++)y[g]=-1;else y=this.Yy(t,-1);let b;if(!o||l<0)for(b=[],g=0;g<c;g++)b[g]=-1;else b=this.Yy(t,1);let w=!1,P=!0;for(;P;)for(P=!1,g=0;g<c-1;g++){const E=f[u[g].index*c+u[g+1].index],N=f[u[g+1].index*c+u[g].index];let _=0,R=0;const $=u[g].column,q=u[g+1].column,X=this.nodeMinColumnSpace(u[g],!0),H=this.nodeMinColumnSpace(u[g],!1),tt=this.nodeMinColumnSpace(u[g+1],!0),Q=this.nodeMinColumnSpace(u[g+1],!1),nt=$-X+tt,ht=q-H+Q;let it=0,st=0,ct=0,ut=0,pt=0,Tt=0,Et=0,m,k=0,D,G=0;const Z=u[g].sourceEdges.iterator;if(o&&l<=0)for(;Z.next();){const de=Z.value;m=de.fromVertex,de.valid&&m.layer!==t&&(ct=this.linkStraightenWeight(de),ut=de.portFromColOffset,pt=de.portToColOffset,Tt=m.column,it+=(Math.abs($+pt-(Tt+ut))+1)*ct,st+=(Math.abs(ht+pt-(Tt+ut))+1)*ct)}for(Z.reset();Z.next();){const de=Z.value;if(m=de.fromVertex,de.valid&&m.layer===t){for(k=0;k<u.length&&u[k]!==m;)k++;k<g&&(_+=2*(g-k),R+=2*(g+1-k)),k===g+1&&(_+=1),k>g+1&&(_+=4*(k-g),R+=4*(k-(g+1)))}}const et=u[g].destinationEdges.iterator;if(o&&l>=0)for(;et.next();){const de=et.value;D=de.toVertex,de.valid&&D.layer!==t&&(ct=this.linkStraightenWeight(de),ut=de.portFromColOffset,pt=de.portToColOffset,Et=D.column,it+=(Math.abs($+ut-(Et+pt))+1)*ct,st+=(Math.abs(ht+ut-(Et+pt))+1)*ct)}for(et.reset();et.next();){const de=et.value;if(D=de.toVertex,de.valid&&D.layer===t){for(G=0;G<u.length&&u[G]!==D;)G++;G===g+1&&(R+=1)}}const ft=u[g+1].sourceEdges.iterator;if(o&&l<=0)for(;ft.next();){const de=ft.value;m=de.fromVertex,de.valid&&m.layer!==t&&(ct=this.linkStraightenWeight(de),ut=de.portFromColOffset,pt=de.portToColOffset,Tt=m.column,it+=(Math.abs(q+pt-(Tt+ut))+1)*ct,st+=(Math.abs(nt+pt-(Tt+ut))+1)*ct)}for(ft.reset();ft.next();){const de=ft.value;if(m=de.fromVertex,de.valid&&m.layer===t){for(k=0;k<u.length&&u[k]!==m;)k++;k<g&&(_+=2*(g+1-k),R+=2*(g-k)),k===g&&(R+=1),k>g+1&&(_+=4*(k-(g+1)),R+=4*(k-g))}}const bt=u[g+1].destinationEdges.iterator;if(o&&l>=0)for(;bt.next();){const de=bt.value;D=de.toVertex,de.valid&&D.layer!==t&&(ct=this.linkStraightenWeight(de),ut=de.portFromColOffset,pt=de.portToColOffset,Et=D.column,it+=(Math.abs(q+ut-(Et+pt))+1)*ct,st+=(Math.abs(nt+ut-(Et+pt))+1)*ct)}for(bt.reset();bt.next();){const de=bt.value;if(D=de.toVertex,de.valid&&D.layer===t){for(G=0;G<u.length&&u[G]!==D;)G++;G===g&&(_+=1)}}let Pt=0,Dt=0;const Gt=y[u[g].index],Bt=b[u[g].index],Ht=y[u[g+1].index],Fe=b[u[g+1].index];if(Gt!==-1&&(Pt+=Math.abs(Gt-$),Dt+=Math.abs(Gt-ht)),Bt!==-1&&(Pt+=Math.abs(Bt-$),Dt+=Math.abs(Bt-ht)),Ht!==-1&&(Pt+=Math.abs(Ht-q),Dt+=Math.abs(Ht-nt)),Fe!==-1&&(Pt+=Math.abs(Fe-q),Dt+=Math.abs(Fe-nt)),R<_-.5||R===_&&N<E-.5||R===_&&N===E&&st<it-.5||R===_&&N===E&&st===it&&Dt<Pt-.5){w=!0,P=!0,u[g].column=ht,u[g+1].column=nt;const de=u[g];u[g]=u[g+1],u[g+1]=de}}for(g=0;g<c;g++)u[g].index=g;return this.Fh(t,u),w}straightenAndPack(){if(this.vn!==0){this.hI();return}let t=0,r=!1,o=(this.nr&1)!==0;const l=(this.nr&8)!==0;if(this.network.edges.count>1e3&&l&&(o=!1),o){const u=[];let c=0;for(c=0;c<=this.Mt;c++)u[c]=0;let f=0;const g=this.network.vertexes.iterator;for(;g.next();){const b=g.value;t=b.layer,f=b.column;const w=this.nodeMinColumnSpace(b,!1);u[t]=Math.max(u[t],f+w)}const y=8;for(g.reset();g.next();){const b=g.value;t=b.layer,f=b.column,b.column=((this.Kt-u[t])*y>>1)+f*y}this.Kt*=y}if(this.nr&2){r=!0;let u=0;for(;r&&u<this.Wf;){for(r=!1,t=this.Ns+1;t<=this.Mt;t++)r=this.Dg(t,1)||r;for(t=this.Ns-1;t>=0;t--)r=this.Dg(t,-1)||r;r=this.Dg(this.Ns,0)||r,u++}}if(this.nr&4){for(t=this.Ns+1;t<=this.Mt;t++)this.UN(t,1);for(t=this.Ns-1;t>=0;t--)this.UN(t,-1);this.UN(this.Ns,0)}if(o&&(this.oD(-1),this.oD(1)),this.nr&2){r=!0;let u=0;for(;r&&u<this.Wf;){for(r=!1,r=this.Dg(this.Ns,0)||r,t=this.Ns+1;t<=this.Mt;t++)r=this.Dg(t,0)||r;for(t=this.Ns-1;t>=0;t--)r=this.Dg(t,0)||r;u++}}}Dg(t,r){let o=!1;for(;this.aI(t,r);)o=!0;return o}aI(t,r){let o=0;const l=this.Dh(t),u=this.di[t],c=this.Yy(t,-1);if(r>0)for(o=0;o<u;o++)c[o]=-1;const f=this.Yy(t,1);if(r<0)for(o=0;o<u;o++)f[o]=-1;let g=!1,y=!0;for(;y;)for(y=!1,o=0;o<u;o++){const b=l[o].column,w=this.nodeMinColumnSpace(l[o],!0),P=this.nodeMinColumnSpace(l[o],!1);let E=0;o-1<0||b-l[o-1].column-1>w+this.nodeMinColumnSpace(l[o-1],!1)?E=b-1:E=b;let N=0;o+1>=u||l[o+1].column-b-1>P+this.nodeMinColumnSpace(l[o+1],!0)?N=b+1:N=b;let _=0,R=0,$=0,q=0,X=0,H=0;if(r<=0){const st=l[o].sourceEdges.iterator;for(;st.next();){const ct=st.value,ut=ct.fromVertex;if(ct.valid&&ut.layer!==t){q=this.linkStraightenWeight(ct),X=ct.portFromColOffset,H=ct.portToColOffset;const pt=ut.column;_+=(Math.abs(b+H-(pt+X))+1)*q,R+=(Math.abs(E+H-(pt+X))+1)*q,$+=(Math.abs(N+H-(pt+X))+1)*q}}}if(r>=0){const st=l[o].destinationEdges.iterator;for(;st.next();){const ct=st.value,ut=ct.toVertex;if(ct.valid&&ut.layer!==t){q=this.linkStraightenWeight(ct),X=ct.portFromColOffset,H=ct.portToColOffset;const pt=ut.column;_+=(Math.abs(b+X-(pt+H))+1)*q,R+=(Math.abs(E+X-(pt+H))+1)*q,$+=(Math.abs(N+X-(pt+H))+1)*q}}}let tt=0,Q=0,nt=0;const ht=c[l[o].index],it=f[l[o].index];ht!==-1&&(tt+=Math.abs(ht-b),Q+=Math.abs(ht-E),nt+=Math.abs(ht-N)),it!==-1&&(tt+=Math.abs(it-b),Q+=Math.abs(it-E),nt+=Math.abs(it-N)),R<_||R===_&&Q<tt?(g=!0,y=!0,l[o].column=E):($<_||$===_&&nt<tt)&&(g=!0,y=!0,l[o].column=N)}return this.Fh(t,l),this.Ky(),g}UN(t,r){let o=0;const l=this.Dh(t),u=this.di[t],c=this.WT(t,r),f=[];for(o=0;o<u;o++)f[o]=c[o];let g=!1,y=!0;for(;y;)for(y=!1,o=0;o<u;o++){const b=l[o].column,w=this.nodeMinColumnSpace(l[o],!0),P=this.nodeMinColumnSpace(l[o],!1);let E=0,N=0,_=0,R=0,$=0;f[o]===-1?o===0&&o===u-1?E=b:o===0?(N=l[o+1].column,N-b===P+this.nodeMinColumnSpace(l[o+1],!0)?E=b-1:E=b):o===u-1?(_=l[o-1].column,b-_===w+this.nodeMinColumnSpace(l[o-1],!1)?E=b+1:E=b):(_=l[o-1].column,$=_+this.nodeMinColumnSpace(l[o-1],!1)+w+1,N=l[o+1].column,R=N-this.nodeMinColumnSpace(l[o+1],!0)-P-1,E=($+R)/2|0):o===0&&o===u-1?E=f[o]:o===0?(N=l[o+1].column,R=N-this.nodeMinColumnSpace(l[o+1],!0)-P-1,E=Math.min(f[o],R)):o===u-1?(_=l[o-1].column,$=_+this.nodeMinColumnSpace(l[o-1],!1)+w+1,E=Math.max(f[o],$)):(_=l[o-1].column,$=_+this.nodeMinColumnSpace(l[o-1],!1)+w+1,N=l[o+1].column,R=N-this.nodeMinColumnSpace(l[o+1],!0)-P-1,$<f[o]&&f[o]<R?E=f[o]:$>=f[o]?E=$:R<=f[o]&&(E=R)),E!==b&&(g=!0,y=!0,l[o].column=E)}return this.Fh(t,l),this.Ky(),g}cI(){for(let t=0;t<=this.Kt;t++)for(;this.fI(t,1););this.Ky()}fI(t,r){let o=!0;const l=this.network.vertexes.iterator;for(;l.next();){const c=l.value,f=this.nodeMinColumnSpace(c,!0),g=this.nodeMinColumnSpace(c,!1);if(c.column-f<=t&&c.column+g>=t){o=!1;break}}let u=!1;if(o){if(r>0)for(l.reset();l.next();){const c=l.value;c.column>t&&(c.column-=1,u=!0)}if(r<0)for(l.reset();l.next();){const c=l.value;c.column<t&&(c.column+=1,u=!0)}}return u}uI(){this.cI();for(let t=0;t<this.Kt;t++)for(;this.dI(t,1););this.Ky()}dI(t,r){let o=t;r>0&&(o=t+1),r<0&&(o=t-1);let l=0;const u=[],c=[];for(l=0;l<=this.Mt;l++)u[l]=!1,c[l]=!1;const f=this.network.vertexes.iterator;for(;f.next();){const b=f.value,w=b.column-this.nodeMinColumnSpace(b,!0),P=b.column+this.nodeMinColumnSpace(b,!1);w<=t&&P>=t&&(u[b.layer]=!0),w<=o&&P>=o&&(c[b.layer]=!0)}let g=!0,y=!1;for(l=0;l<=this.Mt;l++)g=g&&!(u[l]&&c[l]);if(g){if(r>0)for(f.reset();f.next();){const b=f.value;b.column>t&&(b.column-=1,y=!0)}if(r<0)for(f.reset();f.next();){const b=f.value;b.column<t&&(b.column+=1,y=!0)}}return y}oD(t){this.uI();let r=0,o,l=0,u=0,c=0;if(t>0)for(r=0;r<=this.Kt;r++)for(o=this.Ji(),l=this.J1(!0),u=l+1;l<u;)u=l,this.rD(r,1),c=this.J1(!0),c>l?this.Qe(o):c<l&&(l=c,o=this.Ji());if(t<0)for(r=this.Kt;r>=0;r--)for(o=this.Ji(),l=this.J1(!0),u=l+1;l<u;)u=l,this.rD(r,-1),c=this.J1(!0),c>l?this.Qe(o):c<l&&(l=c,o=this.Ji());this.Ky()}rD(t,r){this._s=0;const o=this.network.vertexes.iterator;for(;o.next();){const w=o.value;w.component=-1}if(r>0)for(o.reset();o.next();){const w=o.value;w.column-this.nodeMinColumnSpace(w,!0)<=t&&(w.component=this._s)}if(r<0)for(o.reset();o.next();){const w=o.value;w.column+this.nodeMinColumnSpace(w,!1)>=t&&(w.component=this._s)}for(this._s++,o.reset();o.next();){const w=o.value;w.component===-1&&(this.IN(w,this._s,-1,!0,!0),this._s++)}let l=0;const u=[];for(l=0;l<this._s*this._s;l++)u[l]=!1;const c=[];for(l=0;l<(this.Mt+1)*(this.Kt+1);l++)c[l]=-1;for(o.reset();o.next();){const w=o.value,P=w.layer,E=Math.max(0,w.column-this.nodeMinColumnSpace(w,!0)),N=Math.min(this.Kt,w.column+this.nodeMinColumnSpace(w,!1));for(let _=E;_<=N;_++)c[P*(this.Kt+1)+_]=w.component}for(let w=0;w<=this.Mt;w++){if(r>0)for(let P=0;P<this.Kt;P++)c[w*(this.Kt+1)+P]!==-1&&c[w*(this.Kt+1)+P+1]!==-1&&c[w*(this.Kt+1)+P]!==c[w*(this.Kt+1)+P+1]&&(u[c[w*(this.Kt+1)+P]*this._s+c[w*(this.Kt+1)+P+1]]=!0);if(r<0)for(let P=this.Kt;P>0;P--)c[w*(this.Kt+1)+P]!==-1&&c[w*(this.Kt+1)+P-1]!==-1&&c[w*(this.Kt+1)+P]!==c[w*(this.Kt+1)+P-1]&&(u[c[w*(this.Kt+1)+P]*this._s+c[w*(this.Kt+1)+P-1]]=!0)}const f=[];for(l=0;l<this._s;l++)f[l]=!0;const g=[];g.push(0);let y=0;for(;g.length!==0;)if(y=g[g.length-1],g.pop(),f[y])for(f[y]=!1,l=0;l<this._s;l++)u[y*this._s+l]&&g.splice(0,0,l);let b=!1;if(r>0)for(o.reset();o.next();){const w=o.value;f[w.component]&&(w.column-=1,b=!0)}if(r<0)for(o.reset();o.next();){const w=o.value;f[w.component]&&(w.column+=1,b=!0)}return b}hI(){const t=n.rt(),r=this.Jf.length;for(let E=0;E<=r;E++)t[E]=[];const o=this.network.vertexes.iterator;for(;o.next();){const E=o.value,N=r-E.layer,_=t[N];_[E.index]=E}const l=new M;this.gI(t,l);let u=null,c=null,f=null,g=null;const y=(this.vn&1)!==0,b=(this.vn&2)!==0,w=(this.vn&4)!==0,P=(this.vn&8)!==0;y&&(this.nl(t,l,!0),u=this._1(t,!0,!1)),t.reverse(),w&&(this.nl(t,l,!1),f=this._1(t,!1,!1));for(const E of t)E.reverse();P&&(this.nl(t,l,!1),g=this._1(t,!1,!0)),t.reverse(),b&&(this.nl(t,l,!0),c=this._1(t,!0,!0)),n.it(t),this.mI(u,c,f,g),this.network.vertexes.each(E=>{const N=E,_=n.rt();y&&_.push(u.get(N)),b&&_.push(c.get(N)),w&&_.push(f.get(N)),P&&_.push(g.get(N)),_.sort((H,tt)=>H-tt);const R=_.length,$=Math.floor((R-1)/2),q=Math.ceil((R-1)/2),X=(_[$]+_[q])/2;n.it(_),N.he=X})}gI(t,r){const o=t.length;for(let l=1;l<o-1;l++){let u=0,c=0;const f=t[l],g=t[l+1];for(let y=0;c<g.length;y++){const b=g[y],w=this.pI(b);if(y===g.length-1||w){let P=f.length-1;for(w&&(P=b.getProperSourceVertexes()[0].index);c<=y;){const E=g[c].getProperSourceEdges();for(const N of E){const _=N.fromVertex.index;(_<u||_>P)&&r.add(N)}c++}u=P}}}}pI(t){if(t.node===null){const r=t.getProperSourceVertexes();if(r.length>0)return r[0].node===null}return!1}nl(t,r,o){this.yI(t);for(const l of t){let u=-1;for(const c of l){const f=o?c.getProperSourceVertexes():c.getProperDestinationVertexes(),g=f.length;if(g>0){f.sort((b,w)=>b.Rh-w.Rh);const y=(g-1)/2;for(let b=Math.floor(y),w=Math.ceil(y);b<=w;b++)if(c.On===c){const P=f[b];let E;o?E=P.getDestinationEdge(c):E=c.getDestinationEdge(P),!r.has(E)&&u<P.Rh&&(P.On=c,c.$a=P.$a,c.On=P.$a,u=P.Rh)}}}}}yI(t){for(let r=0;r<t.length;r++){const o=t[r];for(let l=0;l<o.length;l++){const u=o[l];u.$a=u,u.On=u,u.lD=r,u.Rh=l}}}_1(t,r,o){const l=this.S===90||this.S===270;for(const c of t)for(const f of c)f._e=f,f.Zf=1/0,f.he=NaN,f.In=0;this.wI(t,r,o);for(const c of t)for(const f of c)f.$a===f&&this.hD(f,t);for(let c=0;c<t.length;c++){if(t[c].length<=0)continue;const f=t[c][0];if(f._e===f){f._e.Zf===1/0&&(f._e.Zf=0);let g=c,y=0,b;do{for(b=t[g][y];b.On!==b.$a;)if(b=b.On,g++,b.Rh>0){const w=this.aD(b,t),P=l?w.width:w.height,E=b._e.Zf+b.he+b.In-(w.he+w.In+P+this.columnSpacing);w._e.Zf=Math.min(w._e.Zf,E)}y=b.Rh+1}while(g<t.length&&y<t[g].length&&b._e===t[g][y]._e)}}const u=new V;for(const c of t)for(const f of c){f.he=f.he+f._e.Zf+f.In;const g=l?f.width:f.height;u.set(f,o?-f.he-g:f.he)}return u}wI(t,r,o){const l=this.S===90||this.S===270;for(const u of t)for(const c of u)if(c.$a===c){let f=0,g=c;for(;g.On!==c;){const y=g.On,b=l?g.width:g.height,w=l?y.width:y.height;let P,E,N,_;r?(N=g.getDestinationEdge(y),P=N.portFromPos,E=N.portToPos,N.link!==null&&(g.node&&g.node!==N.link.fromNode&&(P=l?g.focusX:g.focusY),y.node&&y.node!==N.link.toNode&&(E=l?y.focusX:y.focusY)),o?_=g.In+(b-P)-(w-E):_=g.In+P-E):(N=y.getDestinationEdge(g),P=N.portToPos,E=N.portFromPos,N.link!==null&&(g.node&&g.node!==N.link.toNode&&(P=l?g.focusX:g.focusY),y.node&&y.node!==N.link.fromNode&&(E=l?y.focusX:y.focusY)),o?_=g.In+(b-P)-(w-E):_=g.In+P-E),y.In=_,f=Math.min(f,_),g=g.On}g=c;do g.In=g.In-f,g=g.On;while(g!==c)}}hD(t,r){if(!isNaN(t.he))return;t.he=0;let o=t;do{if(o.Rh>0){const l=this.aD(o,r),u=l.$a;this.hD(u,r),t._e===t&&(t._e=u._e);const c=this.S===90||this.S===270?l.width:l.height;if(t._e===u._e){const f=u.he+l.In+c-o.In+this.columnSpacing;t.he=Math.max(t.he,f)}}o=o.On}while(o!==t);for(;o.On!==t;)o=o.On,o.he=t.he,o._e=t._e}aD(t,r){const o=t.lD,l=t.Rh;return l<1&&n.o("Could not determine previous vertex in layer"),r[o][l-1]}mI(...t){let r=-1;const o=n.rt(),l=n.rt();let u=1/0;for(let c=0;c<4;c++){if(!t[c])continue;const f=this.xI(t[c],o,l,c);f<u&&(r=c,u=f)}for(let c=0;c<4;c++){const f=t[c];if(!f)continue;const g=c===0||c===2?o[r]-o[c]:l[r]-l[c];g!==0&&f.each(y=>{f.set(y.key,y.value+g)})}n.it(o),n.it(l)}xI(t,r,o,l){if(!t||t.count===0)return r[l]=0,o[l]=0,1/0;let u=1/0,c=-1/0;return t.each(f=>{const g=f.key,y=f.value,b=this.S===90||this.S===270?g.width:g.height;y<u&&(u=y),y+b>c&&(c=y+b)}),r[l]=u,o[l]=c,c-u}commitLayout(){this.zy(),this.commitNodes(),this.BN(),this.isRouting&&this.commitLinks()}zy(){if(!this.setsPortSpots)return;const t=this.Z1(!0),r=this.Z1(!1),o=this.network.edges.iterator;for(;o.next();){const l=o.value.link;l!==null&&(l.fromSpot=t,l.toSpot=r)}}Z1(t){return this.S===270?t?U.MiddleTop:U.MiddleBottom:this.S===90?t?U.MiddleBottom:U.MiddleTop:this.S===180?t?U.MiddleLeft:U.MiddleRight:t?U.MiddleRight:U.MiddleLeft}commitNodes(){this.Qs=[],this.Cs=[],this.Ls=[],this.Bt=[];for(let N=0;N<=this.Mt;N++)this.Qs[N]=0,this.Cs[N]=0,this.Ls[N]=0,this.Bt[N]=0;const t=this.network.vertexes.iterator;for(;t.next();){const N=t.value,_=N.layer;this.Qs[_]=Math.max(this.Qs[_],this.nodeMinLayerSpace(N,!0)),this.Cs[_]=Math.max(this.Cs[_],this.nodeMinLayerSpace(N,!1))}let r=0;const o=this.Ss;for(let N=0;N<=this.Mt;N++){let _=o;this.Qs[N]+this.Cs[N]<=0&&(_=0),N>0&&(r+=_/2),this.S===90||this.S===0?(r+=this.Cs[N],this.Ls[N]=r,r+=this.Qs[N]):(r+=this.Qs[N],this.Ls[N]=r,r+=this.Cs[N]),N<this.Mt&&(r+=_/2),this.Bt[N]=r}const l=r,u=this.arrangementOrigin;for(let N=0;N<=this.Mt;N++)this.S===270?this.Ls[N]=u.y+this.Ls[N]:this.S===90?(this.Ls[N]=u.y+l-this.Ls[N],this.Bt[N]=l-this.Bt[N]):this.S===180?this.Ls[N]=u.x+this.Ls[N]:(this.Ls[N]=u.x+l-this.Ls[N],this.Bt[N]=l-this.Bt[N]);const c=this.vn!==0;t.reset();const f=this.S===270||this.S===90;let g=1/0,y=1/0,b=1/0,w=-1/0;for(;t.next();){const N=t.value,_=N.layer,R=N.column|0;let $=0,q=0;f?($=u.x+this.Wi*R,q=this.Ls[_]):($=this.Ls[_],q=u.y+this.Wi*R),N.centerX=$,N.centerY=q,c&&isFinite(N.he)&&(f?N.node?N.x=u.x+N.he:N.centerX=u.x+N.he:N.node?N.y=u.y+N.he:N.centerY=u.y+N.he),g=Math.min(N.x,g),y=Math.min(N.y,y),f?(b=g,w=Math.max(w,N.bounds.right)):(b=y,w=Math.max(w,N.bounds.bottom))}this.ON=w-b;const P=u.x-g,E=u.y-y;for(this.or=new C(c&&f?0:P,c&&!f?0:E),t.reset();t.next();){const N=t.value;N.x+=P,N.y+=E,N.commit()}}BN(){let t=0;const r=this.Ss;for(let u=0;u<=this.Mt;u++)t+=this.Qs[u],t+=this.Cs[u];t+=this.Mt*r;const o=[],l=this.vn!==0?this.ON:this.Wi*this.Kt;for(let u=this.maxLayer;u>=0;u--)this.S===270?u===0?o.push(new F(0,0,l,Math.abs(this.Bt[0]))):o.push(new F(0,this.Bt[u-1],l,Math.abs(this.Bt[u-1]-this.Bt[u]))):this.S===90?u===0?o.push(new F(0,this.Bt[0],l,Math.abs(this.Bt[0]-t))):o.push(new F(0,this.Bt[u],l,Math.abs(this.Bt[u-1]-this.Bt[u]))):this.S===180?u===0?o.push(new F(0,0,Math.abs(this.Bt[0]),l)):o.push(new F(this.Bt[u-1],0,Math.abs(this.Bt[u-1]-this.Bt[u]),l)):u===0?o.push(new F(this.Bt[0],0,Math.abs(this.Bt[0]-t),l)):o.push(new F(this.Bt[u],0,Math.abs(this.Bt[u-1]-this.Bt[u]),l));this.commitLayers(o,this.or)}commitLayers(t,r){}commitLinks(){const t=this.network.edges.iterator;let r;for(;t.next();)r=t.value.link,r!==null&&(r.startRoute(),r.clearPoints(),r.commitRoute());for(t.reset();t.next();)r=t.value.link,r!==null&&r.updateRoute();for(t.reset();t.next();){const o=t.value;if(r=o.link,r===null||r.pointsCount===0)continue;r.startRoute();const l=r;let u=l.fromNode,c=l.toNode,f=l.fromPort,g=l.toPort;if(u!==null){const ct=u.findVisibleNode();ct!==null&&ct!==u&&(u=ct,f=ct.port)}if(c!==null){const ct=c.findVisibleNode();ct!==null&&ct!==c&&(c=ct,g=ct.port)}const y=r.computeSpot(!0,f),b=r.computeSpot(!1,g);let w=o.fromVertex,P=o.toVertex;if(o.valid){if(r.curve===9&&r.pointsCount===4)if(w.column===P.column&&this.alignOption===0){const ct=r.getLinkPoint(u,f,y,!0,!1,c,g),ut=r.getLinkPoint(c,g,b,!1,!1,u,f);ct.isReal()||ct.set(u.actualBounds.center),ut.isReal()||ut.set(c.actualBounds.center),r.clearPoints(),r.addPointAt(ct.x,ct.y),r.addPointAt((2*ct.x+ut.x)/3,(2*ct.y+ut.y)/3),r.addPointAt((ct.x+2*ut.x)/3,(ct.y+2*ut.y)/3),r.addPointAt(ut.x,ut.y)}else{let ct=!1,ut=!1;if(f!==null&&y===U.None&&(ct=!0),g!==null&&b===U.None&&(ut=!0),ct||ut){let pt=null;ct&&(pt=r.getLinkPointFromPoint(u,f,f.getDocumentPoint(U.Center),r.getPoint(3),!0),pt.isReal()||pt.set(u.actualBounds.center),r.setPointAt(0,pt.x,pt.y));let Tt=null;if(ut&&(Tt=r.getLinkPointFromPoint(c,g,g.getDocumentPoint(U.Center),r.getPoint(0),!1),Tt.isReal()||Tt.set(c.actualBounds.center),r.setPointAt(3,Tt.x,Tt.y)),pt){const Et=r.getPoint(2);r.setPointAt(1,(pt.x*2+Et.x)/3,(pt.y*2+Et.y)/3)}if(Tt){const Et=r.getPoint(1);r.setPointAt(2,(Tt.x*2+Et.x)/3,(Tt.y*2+Et.y)/3)}}}r.commitRoute();continue}if(w.layer===P.layer){r.commitRoute();continue}let E=!1,N=!1;const _=this.Ss;let R=0,$=r.firstPickIndex+1;if(r.isOrthogonal)N=!0,R=r.pointsCount,R>4&&r.points.removeRange(2,R-3);else if(r.curve===9)E=!0,R=r.pointsCount,R>4&&r.points.removeRange(2,R-3),R===4&&($=2);else{R=r.pointsCount;const ct=y===U.None,ut=b===U.None;R>2&&ct&&ut?r.points.removeRange(1,R-2):R>3&&ct&&!ut?r.points.removeRange(1,R-3):R>3&&!ct&&ut?r.points.removeRange(2,R-2):R>4&&!ct&&!ut&&r.points.removeRange(2,R-3)}let q,X,H=0,tt=0,Q=0,nt=0,ht=0,it=0,st=0;if(o.rev){let ct=0;for(;P!==null&&w!==P;){q=null,X=null;const ut=P.sourceEdges.iterator;for(;ut.next();){const pt=ut.value;if(pt.link===o.link&&(q=pt.fromVertex,X=pt.toVertex,q.node===null))break}if(q===null)break;if(q!==w)if(H=r.getPoint($-1).x,tt=r.getPoint($-1).y,Q=q.centerX,nt=q.centerY,N)this.S===180||this.S===0?$===r.firstPickIndex+1?(r.insertPointAt($++,H,tt),r.insertPointAt($++,H,nt)):(X!==null?X.centerY:tt)!==nt&&(ht=this.Bt[q.layer-1]+this.or.x,r.insertPointAt($++,ht,tt),r.insertPointAt($++,ht,nt)):$===r.firstPickIndex+1?(r.insertPointAt($++,H,tt),r.insertPointAt($++,Q,tt)):(X!==null?X.centerX:H)!==Q&&(ht=this.Bt[q.layer-1]+this.or.y,r.insertPointAt($++,H,ht),r.insertPointAt($++,Q,ht));else if($===r.firstPickIndex+1)if(it=Math.max(10,this.Qs[P.layer]),st=Math.max(10,this.Cs[P.layer]),E)this.S===180?Q<=P.bounds.x?(ct=P.bounds.x,r.insertPointAt($++,ct-it,nt),r.insertPointAt($++,ct,nt),r.insertPointAt($++,ct+st,nt)):(r.insertPointAt($++,Q-it,nt),r.insertPointAt($++,Q,nt),r.insertPointAt($++,Q+st,nt)):this.S===90?nt>=P.bounds.bottom?(ct=P.bounds.y+P.bounds.height,r.insertPointAt($++,Q,ct+st),r.insertPointAt($++,Q,ct),r.insertPointAt($++,Q,ct-it)):(r.insertPointAt($++,Q,nt+st),r.insertPointAt($++,Q,nt),r.insertPointAt($++,Q,nt-it)):this.S===270?nt<=P.bounds.y?(ct=P.bounds.y,r.insertPointAt($++,Q,ct-it),r.insertPointAt($++,Q,ct),r.insertPointAt($++,Q,ct+st)):(r.insertPointAt($++,Q,nt-it),r.insertPointAt($++,Q,nt),r.insertPointAt($++,Q,nt+st)):this.S===0&&(Q>=P.bounds.right?(ct=P.bounds.x+P.bounds.width,r.insertPointAt($++,ct+st,nt),r.insertPointAt($++,ct,nt),r.insertPointAt($++,ct-it,nt)):(r.insertPointAt($++,Q+st,nt),r.insertPointAt($++,Q,nt),r.insertPointAt($++,Q-it,nt)));else{r.insertPointAt($++,H,tt);let pt=0;this.S===180||this.S===0?((this.S===180?Q>=P.bounds.right:Q<=P.bounds.x)&&(pt=(this.S===0?-it:st)/2),r.insertPointAt($++,H+pt,nt)):((this.S===270?nt>=P.bounds.bottom:nt<=P.bounds.y)&&(pt=(this.S===90?-it:st)/2),r.insertPointAt($++,Q,tt+pt)),r.insertPointAt($++,Q,nt)}else it=Math.max(10,this.Qs[q.layer]),st=Math.max(10,this.Cs[q.layer]),E?this.S===180?(r.insertPointAt($++,Q-it-_,nt),r.insertPointAt($++,Math.min(Q-it+_/2,Q),nt),r.insertPointAt($++,Q,nt),r.insertPointAt($++,Q,nt),r.insertPointAt($++,Math.max(Q+st-_/2,Q),nt),r.insertPointAt($++,Q+st+_,nt)):this.S===90?(r.insertPointAt($++,Q,nt+st+_),r.insertPointAt($++,Q,Math.max(nt+st-_/2,nt)),r.insertPointAt($++,Q,nt),r.insertPointAt($++,Q,nt),r.insertPointAt($++,Q,Math.min(nt-it+_/2,nt)),r.insertPointAt($++,Q,nt-it-_)):this.S===270?(r.insertPointAt($++,Q,nt-it-_),r.insertPointAt($++,Q,Math.min(nt-it+_/2,nt)),r.insertPointAt($++,Q,nt),r.insertPointAt($++,Q,nt),r.insertPointAt($++,Q,Math.max(nt+st-_/2,nt)),r.insertPointAt($++,Q,nt+st+_)):(r.insertPointAt($++,Q+st+_,nt),r.insertPointAt($++,Math.max(Q+st-_/2,Q),nt),r.insertPointAt($++,Q,nt),r.insertPointAt($++,Q,nt),r.insertPointAt($++,Math.min(Q-it+_/2,Q),nt),r.insertPointAt($++,Q-it-_,nt)):(this.S===180||this.S===90||this.S,r.insertPointAt($++,Q,nt));P=q}if(g===null||y!==U.None||N)if(H=r.getPoint($-1).x,tt=r.getPoint($-1).y,Q=r.getPoint($).x,nt=r.getPoint($).y,N){const ut=this.Cs[w.layer];let pt=0;this.S===180||this.S===0?(pt=tt,pt>=w.bounds.y&&pt<=w.bounds.bottom&&(this.S===180?Q>=w.bounds.x:Q<=w.bounds.right)&&(ct=w.centerX+(this.S===180?-ut:ut),pt<w.bounds.y+w.bounds.height/2?pt=w.bounds.y-this.Wi/2:pt=w.bounds.bottom+this.Wi/2,r.insertPointAt($++,ct,tt),r.insertPointAt($++,ct,pt)),r.insertPointAt($++,Q,pt),r.insertPointAt($++,Q,nt)):(pt=H,pt>=w.bounds.x&&pt<=w.bounds.right&&(this.S===270?nt>=w.bounds.y:nt<=w.bounds.bottom)&&(ct=w.centerY+(this.S===270?-ut:ut),pt<w.bounds.x+w.bounds.width/2?pt=w.bounds.x-this.Wi/2:pt=w.bounds.right+this.Wi/2,r.insertPointAt($++,H,ct),r.insertPointAt($++,pt,ct)),r.insertPointAt($++,pt,nt),r.insertPointAt($++,Q,nt))}else if(E)it=Math.max(10,this.Qs[w.layer]),st=Math.max(10,this.Cs[w.layer]),this.S===180&&Q>=w.bounds.x?(ct=w.bounds.x+w.bounds.width,r.setPointAt($-2,ct,tt),r.setPointAt($-1,ct+st,tt)):this.S===90&&nt<=w.bounds.bottom?(ct=w.bounds.y,r.setPointAt($-2,H,ct),r.setPointAt($-1,H,ct-it)):this.S===270&&nt>=w.bounds.y?(ct=w.bounds.y+w.bounds.height,r.setPointAt($-2,H,ct),r.setPointAt($-1,H,ct+st)):this.S===0&&Q<=w.bounds.right&&(ct=w.bounds.x,r.setPointAt($-2,ct,tt),r.setPointAt($-1,ct-it,tt));else{it=Math.max(10,this.Qs[w.layer]),st=Math.max(10,this.Cs[w.layer]);let ut=0;this.S===180||this.S===0?((this.S===180?Q<=w.bounds.x:Q>=w.bounds.right)&&(ut=(this.S===0?st:-it)/2),r.insertPointAt($++,Q+ut,tt)):((this.S===270?nt<=w.bounds.y:nt>=w.bounds.bottom)&&(ut=(this.S===90?st:-it)/2),r.insertPointAt($++,H,nt+ut)),r.insertPointAt($++,Q,nt)}}else{for(;w!==null&&w!==P;){q=null,X=null;const ct=w.destinationEdges.iterator;for(;ct.next();){const ut=ct.value;if(ut.link===o.link&&(q=ut.toVertex,X=ut.fromVertex,X.node!==null&&(X=null),q.node===null))break}if(q===null)break;q!==P&&(H=r.getPoint($-1).x,tt=r.getPoint($-1).y,Q=q.centerX,nt=q.centerY,N?this.S===180||this.S===0?(X!==null?X.centerY:tt)!==nt&&(ht=this.Bt[q.layer]+this.or.x,$===r.firstPickIndex+1&&(this.S===0?ht=Math.max(ht,H):ht=Math.min(ht,H)),r.insertPointAt($++,ht,tt),r.insertPointAt($++,ht,nt)):(X!==null?X.centerX:H)!==Q&&(ht=this.Bt[q.layer]+this.or.y,$===r.firstPickIndex+1&&(this.S===90?ht=Math.max(ht,tt):ht=Math.min(ht,tt)),r.insertPointAt($++,H,ht),r.insertPointAt($++,Q,ht)):(it=Math.max(10,this.Qs[q.layer]),st=Math.max(10,this.Cs[q.layer]),E?this.S===180?(r.insertPointAt($++,Q+st+_,nt),r.insertPointAt($++,Math.max(Q+st-_/2,Q),nt),r.insertPointAt($++,Q,nt),r.insertPointAt($++,Q,nt),r.insertPointAt($++,Math.min(Q-it+_/2,Q),nt),r.insertPointAt($++,Q-it-_,nt)):this.S===90?(r.insertPointAt($++,Q,nt-it-_),r.insertPointAt($++,Q,Math.min(nt-it+_/2,nt)),r.insertPointAt($++,Q,nt),r.insertPointAt($++,Q,nt),r.insertPointAt($++,Q,Math.max(nt+st-_/2,nt)),r.insertPointAt($++,Q,nt+st+_)):this.S===270?(r.insertPointAt($++,Q,nt+st+_),r.insertPointAt($++,Q,Math.max(nt+st-_/2,nt)),r.insertPointAt($++,Q,nt),r.insertPointAt($++,Q,nt),r.insertPointAt($++,Q,Math.min(nt-it+_/2,nt)),r.insertPointAt($++,Q,nt-it-_)):(r.insertPointAt($++,Q-it-_,nt),r.insertPointAt($++,Math.min(Q-it+_/2,Q),nt),r.insertPointAt($++,Q,nt),r.insertPointAt($++,Q,nt),r.insertPointAt($++,Math.max(Q+st-_/2,Q),nt),r.insertPointAt($++,Q+st+_,nt)):this.S===180?(r.insertPointAt($++,Q+st,nt),r.insertPointAt($++,Q-it,nt)):this.S===90?(r.insertPointAt($++,Q,nt-it),r.insertPointAt($++,Q,nt+st)):this.S===270?(r.insertPointAt($++,Q,nt+st),r.insertPointAt($++,Q,nt-it)):(r.insertPointAt($++,Q-it,nt),r.insertPointAt($++,Q+st,nt)))),w=q}N&&(H=r.getPoint($-1).x,tt=r.getPoint($-1).y,Q=r.getPoint($).x,nt=r.getPoint($).y,this.S===180||this.S===0?tt!==nt&&(this.S===0?ht=Math.min(Math.max((Q+H)/2,this.Bt[P.layer]+this.or.x),Q):ht=Math.max(Math.min((Q+H)/2,this.Bt[P.layer]+this.or.x),Q),r.insertPointAt($++,ht,tt),r.insertPointAt($++,ht,nt)):H!==Q&&(this.S===90?ht=Math.min(Math.max((nt+tt)/2,this.Bt[P.layer]+this.or.y),nt):ht=Math.max(Math.min((nt+tt)/2,this.Bt[P.layer]+this.or.y),nt),r.insertPointAt($++,H,ht),r.insertPointAt($++,Q,ht)))}if(l!==null&&E&&r.pointsCount>=4){if(f!==null){const ct=y===U.None?r.getLinkPointFromPoint(u,f,f.getDocumentPoint(U.Center),r.getPoint(3),!0):r.getPoint(0);if(y===U.None){const ut=r.getPoint(2),pt=r.getPoint(3);this.direction===90||this.direction===270?(r.setPointAt(1,(ct.x+ut.x)/2,ut.y),r.setPointAt(2,pt.x,(ut.y+pt.y)/2)):(r.setPointAt(1,ut.x,(ct.y+ut.y)/2),r.setPointAt(2,(ut.x+pt.x)/2,pt.y))}ct.isReal()||ct.set(u.actualBounds.center),r.setPointAt(0,ct.x,ct.y)}if(g!==null){const ct=b===U.None?r.getLinkPointFromPoint(c,g,g.getDocumentPoint(U.Center),r.getPoint(r.pointsCount-4),!1):r.getPoint(r.pointsCount-1);if(b===U.None){const ut=r.getPoint(r.pointsCount-3),pt=r.getPoint(r.pointsCount-4);this.direction===90||this.direction===270?(r.setPointAt(r.pointsCount-2,(ct.x+ut.x)/2,ut.y),r.setPointAt(r.pointsCount-2,pt.x,(ut.y+pt.y)/2)):(r.setPointAt(r.pointsCount-2,ut.x,(ct.y+ut.y)/2),r.setPointAt(r.pointsCount-3,(ut.x+pt.x)/2,pt.y))}ct.isReal()||ct.set(c.actualBounds.center),r.setPointAt(r.pointsCount-1,ct.x,ct.y)}}r.commitRoute(),o.commit()}}KO(){this.Xy=-1,this.Lg=0,this.Ns=0,this.Ja=null,this.Tg=null,this.Jf=null;for(let t=0;t<this.Rn.length;t++)this.Rn[t]=null}Dh(t){let r;const o=this.di[t];if(o>=this.Rn.length){const u=[];for(let c=0;c<this.Rn.length;c++)u[c]=this.Rn[c];this.Rn=u}this.Rn[o]===void 0||this.Rn[o]===null?r=[]:(r=this.Rn[o],this.Rn[o]=null);const l=this.Jf[t];for(let u=0;u<l.length;u++){const c=l[u];r[c.index]=c}return r}Fh(t,r){this.Rn[this.di[t]]=r}get layerSpacing(){return this.Ss}set layerSpacing(t){this.Ss!==t&&t>=0&&(this.Ss=t,this.invalidateLayout())}get columnSpacing(){return this.Wi}set columnSpacing(t){this.Wi!==t&&t>0&&(this.Wi=t,this.invalidateLayout())}get direction(){return this.S}set direction(t){this.S!==t&&(t===0||t===90||t===180||t===270?(this.S=t,this.invalidateLayout()):n.o("LayeredDigraphLayout.direction must be 0, 90, 180, or 270"))}get cycleRemoveOption(){return this.Gf}set cycleRemoveOption(t){this.Gf!==t&&(t===1||t===0||t===2)&&(this.Gf=t,this.invalidateLayout())}get layeringOption(){return this.jf}set layeringOption(t){this.jf!==t&&(t===10||t===11||t===12)&&(this.jf=t,this.invalidateLayout())}get initializeOption(){return this.Hf}set initializeOption(t){this.Hf!==t&&(t===20||t===21||t===22)&&(this.Hf=t,this.invalidateLayout())}get iterations(){return this.Wa}set iterations(t){this.Wa!==t&&t>=0&&(this.Wa=t,this.invalidateLayout())}get aggressiveOption(){return this.qf}set aggressiveOption(t){this.qf!==t&&(t===30||t===31||t===32)&&(this.qf=t,this.invalidateLayout())}get packOption(){return this.nr}set packOption(t){this.nr!==t&&t>=0&&t<8&&(this.nr=t,this.invalidateLayout())}get packIterations(){return this.Wf}set packIterations(t){this.Wf=t}get alignOption(){return this.vn}set alignOption(t){this.vn!==t&&t>=0&&t<16&&(this.vn=t,this.invalidateLayout())}get setsPortSpots(){return this.Fn}set setsPortSpots(t){this.Fn!==t&&(this.Fn=t,this.invalidateLayout())}get maxLayer(){return this.Mt}get maxIndex(){return this.Xy}get maxColumn(){return this.Kt}get minIndexLayer(){return this.Lg}get maxIndexLayer(){return this.Ns}}T(Vn,"CycleDepthFirst",0),T(Vn,"CycleGreedy",1),T(Vn,"CycleFromLayers",2),T(Vn,"LayerOptimalLinkLength",10),T(Vn,"LayerLongestPathSink",11),T(Vn,"LayerLongestPathSource",12),T(Vn,"InitDepthFirstOut",20),T(Vn,"InitDepthFirstIn",21),T(Vn,"InitNaive",22),T(Vn,"AggressiveNone",30),T(Vn,"AggressiveLess",31),T(Vn,"AggressiveMore",32),T(Vn,"PackNone",0),T(Vn,"PackExpand",1),T(Vn,"PackStraighten",2),T(Vn,"PackMedian",4),T(Vn,"PackAll",15),T(Vn,"AlignNone",0),T(Vn,"AlignUpperLeft",1),T(Vn,"AlignUpperRight",2),T(Vn,"AlignLowerLeft",4),T(Vn,"AlignLowerRight",8),T(Vn,"AlignAll",15);class $d extends ys{constructor(i){super(i)}createVertex(){return new ml(this)}createEdge(){return new Gg(this)}}class ml extends jr{constructor(t){super(t);T(this,"Wo");T(this,"Bo");T(this,"Dt");T(this,"tk");T(this,"ik");T(this,"$i");T(this,"$f");T(this,"Gn");T(this,"$1");T(this,"q1");T(this,"W1");T(this,"$a");T(this,"On");T(this,"lD");T(this,"Rh");T(this,"_e");T(this,"Zf");T(this,"he");T(this,"In");T(this,"jy",null);T(this,"Hy",null);T(this,"qy",null);T(this,"Wy",null);this.Wo=-1,this.Bo=-1,this.Dt=-1,this.tk=NaN,this.ik=null,this.$i=!1,this.$f=NaN,this.Gn=NaN,this.$1=0,this.q1=null,this.W1=null}static cD(t,r){return t.index-r.index}getProperSourceEdges(){if(!this.qy){const t=[];for(const r of this.mo){const o=r;o.valid&&t.push(o)}this.qy=t}return this.qy}getProperDestinationEdges(){if(!this.Wy){const t=[];for(const r of this.ir){const o=r;o.valid&&t.push(o)}this.Wy=t}return this.Wy}getDestinationEdge(t){const r=this.getProperDestinationEdges();for(const o of r)if(o.toVertex===t)return o;n.o("Unable to find destination edge to given vertex")}getProperSourceVertexes(){if(!this.jy){const t=[];for(const r of this.mo){const o=r;!o.valid||o.fromVertex.layer<=o.toVertex.layer||t.push(o.fromVertex)}t.sort(ml.cD),this.jy=t}return this.jy}getProperDestinationVertexes(){if(!this.Hy){const t=[];for(const r of this.ir){const o=r;!o.valid||o.fromVertex.layer<=o.toVertex.layer||t.push(o.toVertex)}t.sort(ml.cD),this.Hy=t}return this.Hy}addSourceEdge(t){super.addSourceEdge(t),this.jy=null,this.qy=null}deleteSourceEdge(t){super.deleteSourceEdge(t),this.jy=null,this.qy=null}addDestinationEdge(t){super.addDestinationEdge(t),this.Hy=null,this.Wy=null}deleteDestinationEdge(t){super.deleteDestinationEdge(t),this.Hy=null,this.Wy=null}get layer(){return this.Wo}set layer(t){this.Wo!==t&&(this.Wo=t)}get column(){return this.Bo}set column(t){this.Bo!==t&&(this.Bo=t)}get index(){return this.Dt}set index(t){this.Dt!==t&&(this.Dt=t)}get component(){return this.tk}set component(t){this.tk!==t&&(this.tk=t)}get near(){return this.ik}set near(t){this.ik!==t&&(this.ik=t)}}class Gg extends vs{constructor(t){super(t);T(this,"$i");T(this,"ek");T(this,"sk");T(this,"nk");T(this,"ok");T(this,"rk");T(this,"lk");this.$i=!1,this.ek=!1,this.sk=!1,this.nk=NaN,this.ok=NaN,this.rk=0,this.lk=0}get fromVertex(){return this.Je}set fromVertex(t){this.Je!==t&&(this.Je=t)}get toVertex(){return this.$e}set toVertex(t){this.$e!==t&&(this.$e=t)}get valid(){return this.$i}set valid(t){this.$i!==t&&(this.$i=t)}get rev(){return this.ek}set rev(t){this.ek!==t&&(this.ek=t)}get forest(){return this.sk}set forest(t){this.sk!==t&&(this.sk=t)}get portFromPos(){return this.nk}set portFromPos(t){this.nk!==t&&(this.nk=t)}get portToPos(){return this.ok}set portToPos(t){this.ok!==t&&(this.ok=t)}get portFromColOffset(){return this.rk}set portFromColOffset(t){this.rk!==t&&(this.rk=t)}get portToColOffset(){return this.lk}set portToColOffset(t){this.lk!==t&&(this.lk=t)}}var zd=(W=>(W[W.Default=0]="Default",W[W.Destination=1]="Destination",W[W.Source=2]="Source",W))(zd||{}),vu=(W=>(W[W.Forwards=10]="Forwards",W[W.Reverse=11]="Reverse",W[W.Ascending=12]="Ascending",W[W.Descending=13]="Descending",W))(vu||{}),Vd=(W=>(W[W.CenterSubtrees=20]="CenterSubtrees",W[W.CenterChildren=21]="CenterChildren",W[W.Start=22]="Start",W[W.End=23]="End",W[W.Bus=24]="Bus",W[W.BusBranching=25]="BusBranching",W[W.TopLeftBus=26]="TopLeftBus",W[W.BottomRightBus=27]="BottomRightBus",W[W.Custom=28]="Custom",W))(Vd||{}),Ph=(W=>(W[W.None=30]="None",W[W.Block=31]="Block",W))(Ph||{}),kh=(W=>(W[W.Layered=40]="Layered",W[W.LastParents=41]="LastParents",W[W.Alternating=42]="Alternating",W[W.RootOnly=43]="RootOnly",W))(kh||{}),yl=(W=>(W[W.Vertical=50]="Vertical",W[W.Horizontal=51]="Horizontal",W[W.FixedRoots=52]="FixedRoots",W))(yl||{}),Uo=(W=>(W[W.Individual=60]="Individual",W[W.Siblings=61]="Siblings",W[W.Uniform=62]="Uniform",W))(Uo||{});class vn extends Ie{constructor(t){super();T(this,"Ri");T(this,"Di");T(this,"Qf");T(this,"Fg");T(this,"VN");T(this,"ve");T(this,"zi");T(this,"Ms");T(this,"V");T(this,"z");T(this,"hk");T(this,"as");this.Ri=new M,this.Di=0,this.as=1,this.Qf=40,this.Fg=60,this.VN=[],this.ve=!0,this.zi=50,this.Ms=new z(10,10).g();const r=new Sa(this);this.V=new Xn(r),this.z=new Xn(r),this.hk=[],t&&Object.assign(this,t)}cloneProtected(t){super.cloneProtected(t),t.Di=this.Di,t.Qf=this.Qf,t.Fg=this.Fg,t.ve=this.ve,t.zi=this.zi,t.Ms.a(this.Ms),t.V.copyInheritedPropertiesFrom(this.V),t.z.copyInheritedPropertiesFrom(this.z)}li(t){t in Vd?this.alignment=t:t in yl?this.arrangement=t:t in Ph?this.compaction=t:t in zd?this.path=t:t in vu?this.sorting=t:t in kh?this.treeStyle=t:super.li(t)}createNetwork(){return new Sa(this)}makeNetwork(t){const r=this.createNetwork(),o=l=>{if(l instanceof Jt)return!l.isLinkLabel&&l.category!=="Comment";if(l instanceof se){const u=l.fromNode;if(u===null||u.isLinkLabel||u.category==="Comment")return!1;const c=l.toNode;return!(c===null||c.isLinkLabel||c.category==="Comment")}return!1};return t instanceof xe?(r.addParts(t.nodes,!0,o),r.addParts(t.links,!0,o)):t instanceof Ut?r.addParts(t.memberParts,!1,o):r.addParts(t.iterator,!1,o),r}doLayout(t){this.network===null&&(this.network=this.makeNetwork(t)),this.arrangement!==52&&(this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin));let r=this.diagram;r===null&&t instanceof xe&&(r=t),this.path===0&&r!==null?this.as=r.isTreePathToChildren?1:2:this.as=this.path===0?1:this.path,this.network.vertexes.count>0&&(this.NI(),this.CI(),this.LI(),this.AI(),this.RN(),this.TI(),this.arrangeTrees(),this.updateParts()),this.network=null,this.Ri=new M,this.isValidLayout=!0}NI(){this.network.deleteSelfEdges();const t=this.network.vertexes.iterator;for(;t.next();){const u=t.value;u.initialized=!1,u.level=0,u.parent=null,u.children=[]}if(this.Ri.count>0){const u=new M,c=this.Ri.iterator;for(;c.next();){const f=c.value;if(f instanceof Jt){const g=this.network.findVertex(f);g!==null&&u.add(g)}else f instanceof Xn&&u.add(f)}this.Ri=u}this.Ri.count===0&&this.findRoots();const r=this.Ri.copy().iterator;for(;r.next();){const u=r.value;u.initialized||(u.initialized=!0,this.zN(u))}let o=this.network.vertexes,l=null;for(;l=this.DI(o),l.count>0;){const u=this.fD(l);u!==null&&this.Ri.add(u),u.initialized=!0,this.zN(u),o=l}}DI(t){const r=new M,o=t.iterator;for(;o.next();){const l=o.value;l.initialized||r.add(l)}return r}findRoots(){const t=this.network.vertexes,r=t.iterator;for(;r.next();){const o=r.value;switch(this.as){case 1:o.sourceEdges.count===0&&this.Ri.add(o);break;case 2:o.destinationEdges.count===0&&this.Ri.add(o);break;default:n.o("Unhandled path value "+this.as.toString())}}if(this.Ri.count===0){const o=this.fD(t);o!==null&&this.Ri.add(o)}}fD(t){let r=999999,o=null;const l=t.iterator;for(;l.next();){const u=l.value;switch(this.as){case 1:u.sourceEdges.count<r&&(r=u.sourceEdges.count,o=u);break;case 2:u.destinationEdges.count<r&&(r=u.destinationEdges.count,o=u);break;default:n.o("Unhandled path value "+this.as.toString())}}return o}zN(t){if(t===null)return;switch(this.as){case 1:if(t.destinationEdges.count>0){const l=new x,u=t.destinationVertexes;for(;u.next();){const c=u.value;this.uD(t,c)&&l.add(c)}l.count>0&&(t.children=l.toArray())}break;case 2:if(t.sourceEdges.count>0){const l=new x,u=t.sourceVertexes;for(;u.next();){const c=u.value;this.uD(t,c)&&l.add(c)}l.count>0&&(t.children=l.toArray())}break;default:n.o("Unhandled path value"+this.as.toString())}const r=t.children,o=r.length;for(let l=0;l<o;l++){const u=r[l];u.initialized=!0,u.level=t.level+1,u.parent=t,this.Ri.delete(u)}for(let l=0;l<o;l++){const u=r[l];this.zN(u)}}uD(t,r){return r.initialized?this.FI(r,t)||r.level>t.level?!1:(this.RI(r.parent,r),!0):!0}FI(t,r){if(r===null)return!1;let o=r.parent;for(;o!==null&&o!==t;)o=o.parent;return o===t}RI(t,r){if(t===null||r===null)return;const o=t.children;let l=0;for(let u=0;u<o.length;u++)o[u]===r&&l++;if(l>0){const u=new Array(o.length-l);let c=0;for(let f=0;f<o.length;f++)o[f]!==r&&(u[c++]=o[f]);t.children=u}}CI(){const t=this.Ri.iterator;for(;t.next();){const r=t.value;r instanceof Xn&&this.dD(r)}}dD(t){if(t===null)return;this.initializeTreeVertexValues(t),t.alignment===25&&this.sortTreeVertexChildren(t);let r=0,o=t.childrenCount,l=0;const u=t.children,c=u.length;for(let f=0;f<c;f++){const g=u[f];this.dD(g),r+=g.descendantCount+1,o=Math.max(o,g.maxChildrenCount),l=Math.max(l,g.maxGenerationCount)}t.descendantCount=r,t.maxChildrenCount=o,t.maxGenerationCount=o>0?l+1:0}vI(t){switch(this.Qf){default:case 40:return t.parent!==null?t.parent:this.V;case 43:return t.parent===null?this.V:t.parent.parent===null?this.z:t.parent;case 42:return t.parent!==null?t.parent.parent!==null?t.parent.parent:this.z:this.V;case 41:{let r=!0;if(t.childrenCount===0)r=!1;else{const o=t.children,l=o.length;for(let u=0;u<l;u++)if(o[u].childrenCount>0){r=!1;break}}return r&&t.parent!==null?this.z:t.parent!==null?t.parent:this.V}}}initializeTreeVertexValues(t){const r=this.vI(t);if(t.copyInheritedPropertiesFrom(r),t.parent!==null&&t.parent.alignment===25){let o=t.angle;const l=t.parent.children;let u=0;for(;u<l.length&&t!==l[u];)u++;u%2===0?u!==l.length-1&&(o===90?o=180:o===180?o=270:o===270?o=180:o=270):o===90?o=0:o===180?o=90:o===270?o=0:o=90,t.angle=o}t.initialized=!0}LI(){const t=this.Ri.iterator;for(;t.next();){const r=t.value;r instanceof Xn&&this.gD(r)}}gD(t){if(t===null)return;this.assignTreeVertexValues(t);const r=t.children,o=r.length;for(let l=0;l<o;l++){const u=r[l];this.gD(u)}}assignTreeVertexValues(t){}AI(){const t=this.Ri.iterator;for(;t.next();){const r=t.value;r instanceof Xn&&this.mD(r)}}mD(t){if(t===null)return;t.alignment!==25&&this.sortTreeVertexChildren(t);const r=t.children,o=r.length;for(let l=0;l<o;l++){const u=r[l];this.mD(u)}}sortTreeVertexChildren(t){switch(t.sorting){default:case 10:break;case 11:t.children.reverse();break;case 12:t.children.sort(t.comparer);break;case 13:t.children.sort(t.comparer),t.children.reverse();break}}RN(){if(!this.comments)return;const t=this.network.vertexes.iterator;for(;t.next();){const r=t.value;this.addComments(r)}}addComments(t){const r=t.angle,o=t.parent;let l=0,u=21,c=!1;o!==null&&(l=o.angle,u=o.alignment,c=this.isBusAlignment(u));const f=r===90||r===270,g=l===90||l===270,y=t.childrenCount===0;let b=0,w=0,P=0;const E=t.commentSpacing;if(t.node!==null){const N=t.node.findNodesConnected();for(;N.next();){const _=N.value;if(_.category!=="Comment"||!_.canLayout())continue;t.comments===null&&(t.comments=[]),t.comments.push(_),_.ensureBounds();const R=_.measuredBounds;f&&!y||!c&&!g&&y||c&&g&&y?(b=Math.max(b,R.width),w+=R.height+Math.abs(P)):(b+=R.width+Math.abs(P),w=Math.max(w,R.height)),P=E}}if(t.comments!==null){f&&!y||!c&&!g&&y||c&&g&&y?(b+=Math.abs(t.commentMargin),w=Math.max(0,w-t.height)):(w+=Math.abs(t.commentMargin),b=Math.max(0,b-t.width));const N=F.X(0,0,t.bounds.width+b,t.bounds.height+w);t.bounds=N,F.s(N)}}isBusAlignment(t){return t===24||t===25||t===26||t===27}Jy(t){return t===24||t===25}XN(t){const r=t.parent;if(r!==null){const o=r.alignment;if(this.isBusAlignment(o))if(this.Jy(o)){const l=r.children;let u=0;for(;u<l.length&&t!==l[u];)u++;return u%2===0}else return o===26}return!1}layoutComments(t){if(t.comments!==null){const r=t.node.measuredBounds,o=t.parent,l=t.angle;let u=0,c=21,f=!1;o!==null&&(u=o.angle,c=o.alignment,f=this.isBusAlignment(c));const g=l===90||l===270,y=u===90||u===270,b=t.childrenCount===0,w=this.XN(t);let P=0;const E=t.comments,N=E.length,_=C.l();for(let $=0;$<N;$++){const q=E[$],X=q.measuredBounds;if(g&&!b||!f&&!y&&b||f&&y&&b){if(u>135&&!f||y&&w)if(t.commentMargin>=0){_.e(t.bounds.x-t.commentMargin-X.width,t.bounds.y+P),q.move(_);const H=q.findLinksInto();for(;H.next();){const tt=H.value;tt.fromSpot=U.MiddleLeft,tt.toSpot=U.MiddleRight}}else{_.e(t.bounds.x+t.focus.x*2-t.commentMargin,t.bounds.y+P),q.move(_);const H=q.findLinksInto();for(;H.next();){const tt=H.value;tt.fromSpot=U.MiddleRight,tt.toSpot=U.MiddleLeft}}else if(t.commentMargin>=0){_.e(t.bounds.x+t.focus.x*2+t.commentMargin,t.bounds.y+P),q.move(_);const H=q.findLinksInto();for(;H.next();){const tt=H.value;tt.fromSpot=U.MiddleRight,tt.toSpot=U.MiddleLeft}}else{_.e(t.bounds.x+t.commentMargin-X.width,t.bounds.y+P),q.move(_);const H=q.findLinksInto();for(;H.next();){const tt=H.value;tt.fromSpot=U.MiddleLeft,tt.toSpot=U.MiddleRight}}t.commentSpacing>=0?P+=X.height+t.commentSpacing:P+=t.commentSpacing-X.height}else{if(u>135&&!f||!y&&w)if(t.commentMargin>=0){_.e(t.bounds.x+P,t.bounds.y-t.commentMargin-X.height),q.move(_);const H=q.findLinksInto();for(;H.next();){const tt=H.value;tt.fromSpot=U.MiddleTop,tt.toSpot=U.MiddleBottom}}else{_.e(t.bounds.x+P,t.bounds.y+t.focus.y*2-t.commentMargin),q.move(_);const H=q.findLinksInto();for(;H.next();){const tt=H.value;tt.fromSpot=U.MiddleBottom,tt.toSpot=U.MiddleTop}}else if(t.commentMargin>=0){_.e(t.bounds.x+P,t.bounds.y+t.focus.y*2+t.commentMargin),q.move(_);const H=q.findLinksInto();for(;H.next();){const tt=H.value;tt.fromSpot=U.MiddleBottom,tt.toSpot=U.MiddleTop}}else{_.e(t.bounds.x+P,t.bounds.y+t.commentMargin-X.height),q.move(_);const H=q.findLinksInto();for(;H.next();){const tt=H.value;tt.fromSpot=U.MiddleTop,tt.toSpot=U.MiddleBottom}}t.commentSpacing>=0?P+=X.width+t.commentSpacing:P+=t.commentSpacing-X.width}}C.s(_);const R=P-t.commentSpacing-(g?r.height:r.width);if(this.as===1){const $=t.destinationEdges;for(;$.next();){const q=$.value.link;q!==null&&!q.isAvoiding&&(q.fromEndSegmentLength=R>0?R:NaN)}}else{const $=t.sourceEdges;for(;$.next();){const q=$.value.link;q!==null&&!q.isAvoiding&&(q.toEndSegmentLength=R>0?R:NaN)}}}}TI(){if(this.layerStyle===62){const r=[];let o=this.network.vertexes.iterator;for(;o.next();){const l=o.value;let u=l.parent;u===null&&(u=l);const c=u.angle===0||u.angle===180;let f=r[l.level];f===void 0&&(f=0),r[l.level]=Math.max(f,c?l.width:l.height)}for(let l=0;l<r.length;l++)r[l]===void 0&&(r[l]=0);for(this.VN=r,o=this.network.vertexes.iterator;o.next();){const l=o.value;let u=l.parent;u===null&&(u=l),u.angle===0||u.angle===180?(u.angle===180&&(l.focusX+=r[l.level]-l.width),l.width=r[l.level]):(u.angle===270&&(l.focusY+=r[l.level]-l.height),l.height=r[l.level])}}else if(this.layerStyle===61){const r=this.network.vertexes.iterator;for(;r.next();){const o=r.value,l=o.angle===0||o.angle===180;let u=-1;for(let c=0;c<o.children.length;c++){const f=o.children[c];u=Math.max(u,l?f.width:f.height)}if(u>=0)for(let c=0;c<o.children.length;c++){const f=o.children[c];l?(o.angle===180&&(f.focusX+=u-f.width),f.width=u):(o.angle===270&&(f.focusY+=u-f.height),f.height=u)}}}const t=this.Ri.iterator;for(;t.next();){const r=t.value;r instanceof Xn&&this.layoutTree(r)}}layoutTree(t){if(t===null)return;const r=t.children,o=r.length;for(let l=0;l<o;l++){const u=r[l];this.layoutTree(u)}switch(t.compaction){case 30:this.pD(t);break;default:case 31:t.alignment===25?this.pD(t):this.OI(t);break}}pD(t){if(t.childrenCount===0){let m=!1,k=0,D=21;t.parent!==null&&(k=t.parent.angle,D=t.parent.alignment,m=this.isBusAlignment(D));const G=this.XN(t);t.U.e(0,0),t.mt.e(t.width,t.height),t.parent!==null&&t.comments!==null&&((k===180||k===270)&&!m||G)?k===180&&!m||(k===90||k===270)&&G?t.nt.e(t.width-t.focus.x*2,0):t.nt.e(0,t.height-t.focus.y*2):t.nt.e(0,0);return}const r=this.orthoAngle(t),o=r===90||r===270;let l=0;const u=t.children,c=u.length;for(let m=0;m<c;m++){const k=u[m];l=Math.max(l,o?k.mt.width:k.mt.height)}const f=t.alignment,g=f===22,y=f===23,b=this.isBusAlignment(f),w=Math.max(0,t.breadthLimit),P=this.computeLayerSpacing(t),E=t.nodeSpacing,N=this.computeNodeIndent(t),_=g||y?0:N/2,R=t.rowSpacing;let $=0;(g||y||t._f||t.tu&&t.maxGenerationCount===1)&&($=Math.max(0,t.rowIndent));const q=t.width,X=t.height;let H=0,tt=0,Q=0,nt=0,ht=0,it=0,st=0,ct=0,ut=0,pt=0;if(b&&!this.Jy(f)&&r>135&&u.reverse(),this.Jy(f))if(c>1)for(let m=0;m<c;m++){const k=u[m],D=k.mt;m%2===0&&m!==c-1?ut=Math.max(ut,(o?D.width:D.height)+this.computeBusNodeSpacing(k)-E):m%2!==0&&(pt=Math.max(pt,(o?D.width:D.height)+this.computeBusNodeSpacing(k)-E))}else c===1&&(ut=o?u[0].mt.width:u[0].mt.height);if(b)switch(f){case 24:case 25:let m;r<135?m=this.yD(t,u,ut,pt,H,tt):m=this.wD(t,u,ut,pt,H,tt),ut=m.x,H=m.width,tt=m.height;break;case 26:for(let k=0;k<c;k++){const D=u[k],G=D.mt,Z=st===0?0:R;o?(D.U.e(l-G.width,ht+Z),H=Math.max(H,G.width),tt=Math.max(tt,ht+Z+G.height),ht+=Z+G.height):(D.U.e(nt+Z,l-G.height),H=Math.max(H,nt+Z+G.width),tt=Math.max(tt,G.height),nt+=Z+G.width),st++}break;case 27:for(let k=0;k<c;k++){const D=u[k],G=D.mt,Z=st===0?0:R;o?(D.U.e(E/2+t.focus.x,ht+Z),H=Math.max(H,G.width),tt=Math.max(tt,ht+Z+G.height),ht+=Z+G.height):(D.U.e(nt+Z,E/2+t.focus.y),H=Math.max(H,nt+Z+G.width),tt=Math.max(tt,G.height),nt+=Z+G.width),st++}break}else for(let m=0;m<c;m++){const k=u[m],D=k.mt;if(o){w>0&&st>0&&nt+E+D.width>w&&(nt<l&&this.Za(t,f,l-nt,0,ct,m-1),it++,st=0,ct=m,Q=tt,nt=0,ht=r>135?-tt-R:tt+R);const G=st===0?_:E;this.ak(k,0,ht),k.U.e(nt+G,ht),H=Math.max(H,nt+G+D.width),tt=Math.max(tt,Q+(it===0?0:R)+D.height),nt+=G+D.width}else{w>0&&st>0&&ht+E+D.height>w&&(ht<l&&this.Za(t,f,0,l-ht,ct,m-1),it++,st=0,ct=m,Q=H,ht=0,nt=r>135?-H-R:H+R);const G=st===0?_:E;this.ak(k,nt,0),k.U.e(nt,ht+G),tt=Math.max(tt,ht+G+D.height),H=Math.max(H,Q+(it===0?0:R)+D.width),ht+=G+D.height}st++}it>0&&(o?(tt+=Math.max(0,P),nt<H&&this.Za(t,f,H-nt,0,ct,c-1),$>0&&(y||this.iu(t,$,0,0,c-1),H+=$)):(H+=Math.max(0,P),ht<tt&&this.Za(t,f,0,tt-ht,ct,c-1),$>0&&(y||this.iu(t,0,$,0,c-1),tt+=$)));let Tt=0,Et=0;switch(f){case 20:o?Tt+=H/2-t.focus.x-N/2:Et+=tt/2-t.focus.y-N/2;break;default:case 21:if(it>0)o?Tt+=H/2-t.focus.x-N/2:Et+=tt/2-t.focus.y-N/2;else{const k=c;if(o){const D=u[0].U.x+u[0].nt.x,G=u[k-1].U.x+u[k-1].nt.x+u[k-1].focus.x*2;Tt+=D+(G-D)/2-t.focus.x-N/2}else{const D=u[0].U.y+u[0].nt.y,G=u[k-1].U.y+u[k-1].nt.y+u[k-1].focus.y*2;Et+=D+(G-D)/2-t.focus.y-N/2}}break;case 22:o?(Tt-=N,H+=N):(Et-=N,tt+=N);break;case 23:o?(Tt+=H-t.width+N,H+=N):(Et+=tt-t.height+N,tt+=N);break;case 24:case 25:o?c>1?Tt+=ut+E/2-t.focus.x:Tt+=u[0].focus.x-t.focus.x+u[0].nt.x:c>1?Et+=ut+E/2-t.focus.y:Et+=u[0].focus.y-t.focus.y+u[0].nt.y;break;case 26:o?Tt+=H+E/2-t.focus.x:Et+=tt+E/2-t.focus.y;break;case 27:break;case 28:const m=this.customAlignment(t,Tt,Et,H,tt);Tt=m[0],Et=m[1],H=m[2],tt=m[3];break}for(let m=0;m<c;m++){const k=u[m];o?k.U.e(k.U.x+k.nt.x-Tt,k.U.y+(r>135?(b?-tt:-k.mt.height)+k.nt.y-P:X+P+k.nt.y)):k.U.e(k.U.x+(r>135?(b?-H:-k.mt.width)+k.nt.x-P:q+P+k.nt.x),k.U.y+k.nt.y-Et)}o?(H=this.KN(t,H,Tt),Tt<0&&(Tt=0),r>135&&(Et+=tt+P),tt=Math.max(Math.max(tt,X),tt+X+P)):(r>135&&(Tt+=H+P),H=Math.max(Math.max(H,q),H+q+P),tt=this.YN(t,tt,Et),Et<0&&(Et=0)),t.nt.e(Tt,Et),t.mt.e(H,tt)}customAlignment(t,r,o,l,u){return[r,o,l,u]}yD(t,r,o,l,u,c){const f=r.length;if(f===0)return new F(o,0,u,c);if(f===1){const R=r[0];return u=R.mt.width,c=R.mt.height,new F(o,0,u,c)}const g=t.nodeSpacing,y=t.rowSpacing,b=this.orthoAngle(t)===90;let w=0,P=0,E=0;for(let R=0;R<f;R++){if(R%2!==0||f>1&&R===f-1)continue;const $=r[R],q=$.mt,X=w===0?0:y;if(b){const H=this.computeBusNodeSpacing($)-g;$.U.e(o-(q.width+H),E+X),u=Math.max(u,q.width+H),c=Math.max(c,E+X+q.height),E+=X+q.height}else{const H=this.computeBusNodeSpacing($)-g;$.U.e(P+X,o-(q.height+H)),c=Math.max(c,q.height+H),u=Math.max(u,P+X+q.width),P+=X+q.width}w++}w=0;const N=P,_=E;b?(P=o+g,E=0):(P=0,E=o+g);for(let R=0;R<f;R++){if(R%2===0)continue;const $=r[R],q=$.mt,X=w===0?0:y;if(b){const H=this.computeBusNodeSpacing($)-g;$.U.e(P+H,E+X),u=Math.max(u,P+q.width+H),c=Math.max(c,E+X+q.height),E+=X+q.height}else{const H=this.computeBusNodeSpacing($)-g;$.U.e(P+X,E+H),u=Math.max(u,P+X+q.width),c=Math.max(c,E+q.height+H),P+=X+q.width}w++}if(f>1&&f%2===1){const R=r[f-1],$=R.mt,q=this.computeBusLastRowSpacing(R,b?Math.max(Math.abs(_),Math.abs(E)):Math.max(Math.abs(N),Math.abs(P)));if(b){R.U.e(o+g/2-R.focus.x-R.nt.x,c+q);const X=o+g/2-R.focus.x-R.nt.x;u=Math.max(u,X+$.width),X<0&&(u-=X),c=Math.max(c,Math.max(_,E)+q+$.height),R.U.x<0&&(o=this.ck(t,R.U.x,!1,o,g))}else{R.U.e(u+q,o+g/2-R.focus.y-R.nt.y),u=Math.max(u,Math.max(N,P)+q+$.width);const X=o+g/2-R.focus.y-R.nt.y;c=Math.max(c,X+$.height),X<0&&(c-=X),R.U.y<0&&(o=this.ck(t,R.U.y,!0,o,g))}}return new F(o,0,u,c)}wD(t,r,o,l,u,c){const f=r.length;if(f===0)return new F(o,0,u,c);if(f===1){const R=r[0];return u=R.mt.width,c=R.mt.height,new F(o,0,u,c)}const g=t.nodeSpacing,y=t.rowSpacing,b=this.orthoAngle(t)===270;let w=0,P=0,E=0;for(let R=0;R<f;R++){if(R%2!==0||f>1&&R===f-1)continue;const $=r[R],q=$.mt,X=w===0?0:y;if(b){const H=this.computeBusNodeSpacing($)-g;E-=X+q.height,$.U.e(o-(q.width+H),E),u=Math.max(u,q.width+H),c=Math.max(c,Math.abs(E))}else{const H=this.computeBusNodeSpacing($)-g;P-=X+q.width,$.U.e(P,o-(q.height+H)),c=Math.max(c,q.height+H),u=Math.max(u,Math.abs(P))}w++}w=0;const N=P,_=E;b?(P=o+g,E=0):(P=0,E=o+g);for(let R=0;R<f;R++){if(R%2===0)continue;const $=r[R],q=$.mt,X=w===0?0:y;if(b){const H=this.computeBusNodeSpacing($)-g;E-=X+q.height,$.U.e(P+H,E),u=Math.max(u,P+q.width+H),c=Math.max(c,Math.abs(E))}else{const H=this.computeBusNodeSpacing($)-g;P-=X+q.width,$.U.e(P,E+H),c=Math.max(c,E+q.height+H),u=Math.max(u,Math.abs(P))}w++}if(f>1&&f%2===1){const R=r[f-1],$=R.mt,q=this.computeBusLastRowSpacing(R,b?Math.max(Math.abs(_),Math.abs(E)):Math.max(Math.abs(N),Math.abs(P)));if(b){R.U.e(o+g/2-R.focus.x-R.nt.x,-c-$.height-q);const X=o+g/2-R.focus.x-R.nt.x;u=Math.max(u,X+$.width),X<0&&(u-=X),c=Math.max(c,Math.abs(Math.min(_,E))+q+$.height),R.U.x<0&&(o=this.ck(t,R.U.x,!1,o,g))}else{R.U.e(-u-$.width-q,o+g/2-R.focus.y-R.nt.y),u=Math.max(u,Math.abs(Math.min(N,P))+q+$.width);const X=o+g/2-R.focus.y-R.nt.y;c=Math.max(c,X+$.height),X<0&&(c-=X),R.U.y<0&&(o=this.ck(t,R.U.y,!0,o,g))}}for(let R=0;R<f;R++){const $=r[R];b?$.U.e($.U.x,$.U.y+c):$.U.e($.U.x+u,$.U.y)}return new F(o,0,u,c)}computeBusNodeSpacing(t){return t.parent===null?0:t.parent.nodeSpacing}computeBusLastRowSpacing(t,r){return t.parent===null?0:t.parent.rowSpacing}ck(t,r,o,l,u){const c=t.children,f=c.length;for(let y=0;y<f;y++)o?c[y].U.e(c[y].U.x,c[y].U.y-r):c[y].U.e(c[y].U.x-r,c[y].U.y);const g=c[f-1];return Math.max(l,o?g.nt.y+g.focus.y-u/2:g.nt.x+g.focus.x-u/2)}KN(t,r,o){switch(t.alignment){case 21:case 20:let l=r;return o+t.width>l&&(l=o+t.width),o<0&&(l-=o),l;case 22:return t.width>r?t.width:r;case 23:return t.focus.x*2>r?t.width:r+t.width-t.focus.x*2;case 24:case 25:const u=Math.min(0,o),c=Math.max(r,o+t.width);return Math.max(t.width,c-u);case 26:return t.width-t.focus.x+t.nodeSpacing/2+r;case 27:return Math.max(t.width,t.focus.x+t.nodeSpacing/2+r);default:return r}}YN(t,r,o){switch(t.alignment){case 21:case 20:let l=r;return o+t.height>l&&(l=o+t.height),o<0&&(l-=o),l;case 22:return t.height>r?t.height:r;case 23:return t.focus.y*2>r?t.height:r+t.height-t.focus.y*2;case 24:case 25:const u=Math.min(0,o),c=Math.max(r,o+t.height);return Math.max(t.height,c-u);case 26:return t.height-t.focus.y+t.nodeSpacing/2+r;case 27:return Math.max(t.height,t.focus.y+t.nodeSpacing/2+r);default:return r}}GN(t,r,o){switch(t){case 20:r/=2,o/=2;break;case 21:r/=2,o/=2;break;case 22:r=0,o=0;break;case 23:break;default:n.o("Unhandled alignment value "+t.toString())}return new C(r,o)}Za(t,r,o,l,u,c){const f=this.GN(r,o,l);this.iu(t,f.x,f.y,u,c)}iu(t,r,o,l,u){if(r===0&&o===0)return;const c=t.children;for(let f=l;f<=u;f++){const g=c[f].U;g.x+=r,g.y+=o}}ak(t,r,o){const l=t.parent;switch(this.as){case 1:{const u=t.sourceEdges;for(;u.next();){const c=u.value;c.fromVertex===l&&c.relativePoint.e(r,o)}break}case 2:{const u=t.destinationEdges;for(;u.next();){const c=u.value;c.toVertex===l&&c.relativePoint.e(r,o)}break}default:n.o("Unhandled path value "+this.as.toString())}}OI(t){if(t.childrenCount===0){const bt=t.parent;let Pt=!1,Dt=0,Gt=21;bt!==null&&(Dt=bt.angle,Gt=bt.alignment,Pt=this.isBusAlignment(Gt));const Bt=this.XN(t);t.U.e(0,0),t.mt.e(t.width,t.height),t.parent!==null&&t.comments!==null&&((Dt===180||Dt===270)&&!Pt||Bt)?Dt===180&&!Pt||(Dt===90||Dt===270)&&Bt?t.nt.e(t.width-t.focus.x*2,0):t.nt.e(0,t.height-t.focus.y*2):t.nt.e(0,0),t.Rg=null,t.vg=null;return}const r=this.orthoAngle(t),o=r===90||r===270;let l=0;const u=t.children,c=u.length;for(let bt=0;bt<c;bt++){const Pt=u[bt];l=Math.max(l,o?Pt.mt.width:Pt.mt.height)}const f=t.alignment,g=f===22,y=f===23,b=this.isBusAlignment(f),w=Math.max(0,t.breadthLimit),P=this.computeLayerSpacing(t),E=t.nodeSpacing,N=this.computeNodeIndent(t),_=t.rowSpacing;let R=0;(g||y||t._f||t.tu&&t.maxGenerationCount===1)&&(R=Math.max(0,t.rowIndent));const $=t.width,q=t.height;let X=0,H=0,tt=0,Q=null,nt=null,ht=0,it=0,st=0,ct=0,ut=0,pt=0,Tt=0,Et=0,m=0;if(b&&!this.Jy(f)&&r>135&&u.reverse(),this.Jy(f))if(c>1)for(let bt=0;bt<c;bt++)bt%2===0&&bt!==c-1?Et=Math.max(Et,o?u[bt].mt.width:u[bt].mt.height):bt%2!==0&&(m=Math.max(m,o?u[bt].mt.width:u[bt].mt.height));else c===1&&(Et=o?u[0].mt.width:u[0].mt.height);if(b){switch(f){case 24:let bt;r<135?bt=this.yD(t,u,Et,m,X,H):bt=this.wD(t,u,Et,m,X,H),Et=bt.x,X=bt.width,H=bt.height;break;case 26:for(let Pt=0;Pt<c;Pt++){const Dt=u[Pt],Gt=Dt.mt,Bt=pt===0?0:_;o?(Dt.U.e(l-Gt.width,ct+Bt),X=Math.max(X,Gt.width),H=Math.max(H,ct+Bt+Gt.height),ct+=Bt+Gt.height):(Dt.U.e(st+Bt,l-Gt.height),X=Math.max(X,st+Bt+Gt.width),H=Math.max(H,Gt.height),st+=Bt+Gt.width),pt++}break;case 27:for(let Pt=0;Pt<c;Pt++){const Dt=u[Pt],Gt=Dt.mt,Bt=pt===0?0:_;o?(Dt.U.e(E/2+t.focus.x,ct+Bt),X=Math.max(X,Gt.width),H=Math.max(H,ct+Bt+Gt.height),ct+=Bt+Gt.height):(Dt.U.e(st+Bt,E/2+t.focus.y),X=Math.max(X,st+Bt+Gt.width),H=Math.max(H,Gt.height),st+=Bt+Gt.width),pt++}break}Q=this.ae(2),nt=this.ae(2),o?(Q[0].e(0,0),Q[1].e(0,H),nt[0].e(X,0),nt[1].e(X,H)):(Q[0].e(0,0),Q[1].e(X,0),nt[0].e(0,H),nt[1].e(X,H))}else for(let bt=0;bt<c;bt++){const Pt=u[bt],Dt=Pt.mt;if(o){w>0&&pt>0&&st+E+Dt.width>w&&(st<l&&this.Za(t,f,l-st,0,Tt,bt-1),ut++,pt=0,Tt=bt,tt=H,st=0,ct=r>135?-H-_:H+_),this.ak(Pt,0,ct);let Gt=0;if(pt===0)Q=Pt.Rg,nt=Pt.vg,ht=Dt.width,it=Dt.height,(Q===null||nt===null||r!==this.orthoAngle(Pt))&&(Q=this.ae(2),nt=this.ae(2),Q[0].e(0,0),Q[1].e(0,it),nt[0].e(ht,0),nt[1].e(ht,it));else{const Bt=n.rt(),Ht=this.xD(t,Pt,Q,nt,ht,it,Bt);Gt=Ht.x,Q=Bt[0],nt=Bt[1],ht=Ht.width,it=Ht.height,n.it(Bt),st<Dt.width&&Gt<0&&(this.iu(t,-Gt,0,Tt,bt-1),this.fk(Q,-Gt,0),this.fk(nt,-Gt,0),Gt=0)}Pt.U.e(Gt,ct),X=Math.max(X,ht),H=Math.max(H,tt+(ut===0?0:_)+Dt.height),st=ht}else{w>0&&pt>0&&ct+E+Dt.height>w&&(ct<l&&this.Za(t,f,0,l-ct,Tt,bt-1),ut++,pt=0,Tt=bt,tt=X,ct=0,st=r>135?-X-_:X+_),this.ak(Pt,st,0);let Gt=0;if(pt===0)Q=Pt.Rg,nt=Pt.vg,ht=Dt.width,it=Dt.height,(Q===null||nt===null||r!==this.orthoAngle(Pt))&&(Q=this.ae(2),nt=this.ae(2),Q[0].e(0,0),Q[1].e(ht,0),nt[0].e(0,it),nt[1].e(ht,it));else{const Bt=n.rt(),Ht=this.xD(t,Pt,Q,nt,ht,it,Bt);Gt=Ht.x,Q=Bt[0],nt=Bt[1],ht=Ht.width,it=Ht.height,n.it(Bt),ct<Dt.height&&Gt<0&&(this.iu(t,0,-Gt,Tt,bt-1),this.fk(Q,0,-Gt),this.fk(nt,0,-Gt),Gt=0)}Pt.U.e(st,Gt),H=Math.max(H,it),X=Math.max(X,tt+(ut===0?0:_)+Dt.width),ct=it}pt++}ut>0&&(o?(H+=Math.max(0,P),st<X&&this.Za(t,f,X-st,0,Tt,c-1),R>0&&(y||this.iu(t,R,0,0,c-1),X+=R)):(X+=Math.max(0,P),ct<H&&this.Za(t,f,0,H-ct,Tt,c-1),R>0&&(y||this.iu(t,0,R,0,c-1),H+=R)));let k=0,D=0;switch(f){case 20:o?k+=X/2-t.focus.x-N/2:D+=H/2-t.focus.y-N/2;break;default:case 21:if(ut>0)o?k+=X/2-t.focus.x-N/2:D+=H/2-t.focus.y-N/2;else{const Pt=c;if(o){const Dt=u[0].U.x+u[0].nt.x,Gt=u[Pt-1].U.x+u[Pt-1].nt.x+u[Pt-1].focus.x*2;k+=Dt+(Gt-Dt)/2-t.focus.x-N/2}else{const Dt=u[0].U.y+u[0].nt.y,Gt=u[Pt-1].U.y+u[Pt-1].nt.y+u[Pt-1].focus.y*2;D+=Dt+(Gt-Dt)/2-t.focus.y-N/2}}break;case 22:o?(k-=N,X+=N):(D-=N,H+=N);break;case 23:o?(k+=X-t.width+N,X+=N):(D+=H-t.height+N,H+=N);break;case 24:o?c>1?k+=Et+E/2-t.focus.x:k+=u[0].focus.x-t.focus.x+u[0].nt.x:c>1?D+=Et+E/2-t.focus.y:D+=u[0].focus.y-t.focus.y+u[0].nt.y;break;case 26:o?k+=X+E/2-t.focus.x:D+=H+E/2-t.focus.y;break;case 27:break;case 28:const bt=this.customAlignment(t,k,D,X,H);k=bt[0],D=bt[1],X=bt[2],H=bt[3];break}for(let bt=0;bt<c;bt++){const Pt=u[bt];o?Pt.U.e(Pt.U.x+Pt.nt.x-k,Pt.U.y+(r>135?(b?-H:-Pt.mt.height)+Pt.nt.y-P:q+P+Pt.nt.y)):Pt.U.e(Pt.U.x+(r>135?(b?-X:-Pt.mt.width)+Pt.nt.x-P:$+P+Pt.nt.x),Pt.U.y+Pt.nt.y-D)}let G=0,Z=0;if(b)o?(X=this.KN(t,X,k),k<0&&(k=0),r>135&&(D+=H+P),H+=q+P,f===27&&(G+=E/2+t.focus.x),Z+=q+P):(r>135&&(k+=X+P),X+=$+P,H=this.YN(t,H,D),D<0&&(D=0),f===27&&(Z+=E/2+t.focus.y),G+=$+P);else if(o){if(t.comments===null){if($>X){const bt=this.GN(f,$-X,0);G=bt.x,Z=bt.y,X=$,k=0}}else X=this.KN(t,X,k);k<0&&(G-=k,k=0),r>135&&(D+=H+P),H=Math.max(Math.max(H,q),H+q+P),Z+=q+P}else{if(r>135&&(k+=X+P),X=Math.max(Math.max(X,$),X+$+P),t.comments===null){if(q>H){const bt=this.GN(f,0,q-H);G=bt.x,Z=bt.y,H=q,D=0}}else H=this.YN(t,H,D);D<0&&(Z-=D,D=0),G+=$+P}let et,ft;if(ut>0)et=this.ae(4),ft=this.ae(4),o?(et[2].e(0,q+P),et[3].e(et[2].x,H),ft[2].e(X,et[2].y),ft[3].e(ft[2].x,et[3].y)):(et[2].e($+P,0),et[3].e(X,et[2].y),ft[2].e(et[2].x,H),ft[3].e(et[3].x,ft[2].y));else{et=this.ae(Q.length+2),ft=this.ae(nt.length+2);for(let bt=0;bt<Q.length;bt++){const Pt=Q[bt];et[bt+2].e(Pt.x+G,Pt.y+Z)}for(let bt=0;bt<nt.length;bt++){const Pt=nt[bt];ft[bt+2].e(Pt.x+G,Pt.y+Z)}}o?(et[0].e(k,0),et[1].e(et[0].x,q),et[2].y<et[1].y&&(et[2].x>et[0].x?et[2].a(et[1]):et[1].a(et[2])),et[3].y<et[2].y&&(et[3].x>et[0].x?et[3].a(et[2]):et[2].a(et[3])),ft[0].e(k+$,0),ft[1].e(ft[0].x,q),ft[2].y<ft[1].y&&(ft[2].x<ft[0].x?ft[2].a(ft[1]):ft[1].a(ft[2])),ft[3].y<ft[2].y&&(ft[3].x<ft[0].x?ft[3].a(ft[2]):ft[2].a(ft[3])),et[2].y-=P/2,ft[2].y-=P/2):(et[0].e(0,D),et[1].e($,et[0].y),et[2].x<et[1].x&&(et[2].y>et[0].y?et[2].a(et[1]):et[1].a(et[2])),et[3].x<et[2].x&&(et[3].y>et[0].y?et[3].a(et[2]):et[2].a(et[3])),ft[0].e(0,D+q),ft[1].e($,ft[0].y),ft[2].x<ft[1].x&&(ft[2].y<ft[0].y?ft[2].a(ft[1]):ft[1].a(ft[2])),ft[3].x<ft[2].x&&(ft[3].y<ft[0].y?ft[3].a(ft[2]):ft[2].a(ft[3])),et[2].x-=P/2,ft[2].x-=P/2),this.tn(Q),this.tn(nt),t.Rg=et,t.vg=ft,t.nt.e(k,D),t.mt.e(X,H)}fk(t,r,o){for(let l=0;l<t.length;l++){const u=t[l];u.x+=r,u.y+=o}}xD(t,r,o,l,u,c,f){const g=this.orthoAngle(t),y=g===90||g===270,b=t.nodeSpacing,w=o,P=l,E=u,N=c;let _=r.Rg,R=r.vg;const $=r.mt,q=y?Math.max(N,$.height):Math.max(E,$.width);if((_===null||g!==this.orthoAngle(r))&&(_=this.ae(2),R=this.ae(2),y?(_[0].e(0,0),_[1].e(0,$.height),R[0].e($.width,0),R[1].e(R[0].x,_[1].y)):(_[0].e(0,0),_[1].e($.width,0),R[0].e(0,$.height),R[1].e(_[1].x,R[0].y))),y){const X=E;let H=X-this.II(P,_,X);return H+=b,o=this.EI(w,_,H),l=this.UI(P,R,H),u=Math.max(0,H)+$.width,c=q,this.tn(w),this.tn(_),this.tn(P),this.tn(R),f[0]=o,f[1]=l,new F(H,0,u,c)}else{const X=N;let H=X-this.BI(P,_,X);return H+=b,o=this.VI(w,_,H),l=this.zI(P,R,H),u=q,c=Math.max(0,H)+$.height,this.tn(w),this.tn(_),this.tn(P),this.tn(R),f[0]=o,f[1]=l,new F(H,0,u,c)}}VI(t,r,o){if(t===null||t.length<2||r===null||r.length<2)return null;const l=this.ae(t.length+r.length);let u=0,c=0,f=0;for(;c<r.length&&r[c].x<t[0].x;){const b=r[c++];l[f++].e(b.x,b.y+o)}for(;u<t.length;){const b=t[u++];l[f++].e(b.x,b.y)}const g=t[t.length-1].x;for(;c<r.length&&r[c].x<=g;)c++;for(;c<r.length&&r[c].x>g;){const b=r[c++];l[f++].e(b.x,b.y+o)}const y=this.ae(f);for(u=0;u<f;u++)y[u].a(l[u]);return this.tn(l),y}EI(t,r,o){if(t===null||t.length<2||r===null||r.length<2)return null;const l=this.ae(t.length+r.length);let u=0,c=0,f=0;for(;c<r.length&&r[c].y<t[0].y;){const b=r[c++];l[f++].e(b.x+o,b.y)}for(;u<t.length;){const b=t[u++];l[f++].e(b.x,b.y)}const g=t[t.length-1].y;for(;c<r.length&&r[c].y<=g;)c++;for(;c<r.length&&r[c].y>g;){const b=r[c++];l[f++].e(b.x+o,b.y)}const y=this.ae(f);for(u=0;u<f;u++)y[u].a(l[u]);return this.tn(l),y}zI(t,r,o){if(t===null||t.length<2||r===null||r.length<2)return null;const l=this.ae(t.length+r.length);let u=0,c=0,f=0;for(;u<t.length&&t[u].x<r[0].x;){const b=t[u++];l[f++].e(b.x,b.y)}for(;c<r.length;){const b=r[c++];l[f++].e(b.x,b.y+o)}const g=r[r.length-1].x;for(;u<t.length&&t[u].x<=g;)u++;for(;u<t.length&&t[u].x>g;){const b=t[u++];l[f++].e(b.x,b.y)}const y=this.ae(f);for(u=0;u<f;u++)y[u].a(l[u]);return this.tn(l),y}UI(t,r,o){if(t===null||t.length<2||r===null||r.length<2)return null;const l=this.ae(t.length+r.length);let u=0,c=0,f=0;for(;u<t.length&&t[u].y<r[0].y;){const b=t[u++];l[f++].e(b.x,b.y)}for(;c<r.length;){const b=r[c++];l[f++].e(b.x+o,b.y)}const g=r[r.length-1].y;for(;u<t.length&&t[u].y<=g;)u++;for(;u<t.length&&t[u].y>g;){const b=t[u++];l[f++].e(b.x,b.y)}const y=this.ae(f);for(u=0;u<f;u++)y[u].a(l[u]);return this.tn(l),y}BI(t,r,o){let l=9999999;if(t===null||t.length<2||r===null||r.length<2)return l;let u=0,c=0;for(;u<t.length&&c<r.length;){const f=t[u],g=r[c],y=g.x;let b=g.y;b+=o;let w=f;u+1<t.length&&(w=t[u+1]);let P=g,E=P.x,N=P.y;c+1<r.length&&(P=r[c+1],E=P.x,N=P.y,N+=o);let _=l;f.x===y?_=b-f.y:f.x>y&&f.x<E?_=b+(f.x-y)/(E-y)*(N-b)-f.y:y>f.x&&y<w.x&&(_=b-(f.y+(y-f.x)/(w.x-f.x)*(w.y-f.y))),_<l&&(l=_),w.x<=f.x?u++:E<=y?c++:(w.x<=E&&u++,E<=w.x&&c++)}return l}II(t,r,o){let l=9999999;if(t===null||t.length<2||r===null||r.length<2)return l;let u=0,c=0;for(;u<t.length&&c<r.length;){const f=t[u],g=r[c];let y=g.x;const b=g.y;y+=o;let w=f;u+1<t.length&&(w=t[u+1]);let P=g,E=P.x,N=P.y;c+1<r.length&&(P=r[c+1],E=P.x,N=P.y,E+=o);let _=l;f.y===b?_=y-f.x:f.y>b&&f.y<N?_=y+(f.y-b)/(N-b)*(E-y)-f.x:b>f.y&&b<w.y&&(_=y-(f.x+(b-f.y)/(w.y-f.y)*(w.x-f.x))),_<l&&(l=_),w.y<=f.y?u++:N<=b?c++:(w.y<=N&&u++,N<=w.y&&c++)}return l}ae(t){const r=this.hk[t];if(r!==void 0){const l=r.pop();if(l!==void 0)return l}const o=[];for(let l=0;l<t;l++)o[l]=new C;return o}tn(t){const r=t.length;let o=this.hk[r];o===void 0&&(o=[],this.hk[r]=o),o.push(t)}arrangeTrees(){if(this.zi===52){const t=this.Ri.iterator;for(;t.next();){const r=t.value;if(!(r instanceof Xn))continue;const o=r.node;if(o===null)continue;const l=o.position;let u=l.x,c=l.y;isFinite(u)||(u=0),isFinite(c)||(c=0),this.jN(r,u,c)}}else{const t=[],r=this.Ri.iterator;for(;r.next();){const c=r.value;c instanceof Xn&&t.push(c)}switch(this.sorting){default:case 10:break;case 11:t.reverse();break;case 12:t.sort(this.comparer);break;case 13:t.sort(this.comparer),t.reverse();break}const o=this.arrangementOrigin;let l=o.x,u=o.y;for(let c=0;c<t.length;c++){const f=t[c];switch(this.jN(f,l+f.nt.x,u+f.nt.y),this.zi){case 50:u+=f.mt.height+this.Ms.height;break;default:case 51:l+=f.mt.width+this.Ms.width;break}}}}jN(t,r,o){if(t===null)return;t.x=r,t.y=o;const l=t.children,u=l.length;for(let c=0;c<u;c++){const f=l[c];this.jN(f,r+f.U.x,o+f.U.y)}}commitLayout(){this.zy(),this.commitNodes(),this.BN(),this.isRouting&&this.commitLinks()}commitNodes(){const t=this.network.vertexes.iterator;for(;t.next();)t.value.commit();for(t.reset();t.next();){const r=t.value;this.layoutComments(r)}}BN(){if(this.layerStyle!==62)return;const t=this.VN,r=[];let o=null;const l=this.network.vertexes.iterator;for(;l.next();){const y=l.value;o===null?o=y.bounds.copy():o.unionRect(y.bounds);let b=r[y.level];b===void 0?b=this.computeLayerSpacing(y):b=Math.max(b,this.computeLayerSpacing(y)),r[y.level]=b}for(let y=0;y<r.length;y++)r[y]===void 0&&(r[y]=0);let u;this.angle===90||this.angle===270?(o.inflate(this.nodeSpacing/2,this.layerSpacing),u=new C(-this.nodeSpacing/2,-this.layerSpacing/2)):(o.inflate(this.layerSpacing,this.nodeSpacing/2),u=new C(-this.layerSpacing/2,-this.nodeSpacing/2));const c=[],f=this.angle===90||this.angle===270?o.width:o.height;let g=0;if(this.angle===180||this.angle===270)for(let y=0;y<t.length;y++)g+=t[y]+r[y];for(let y=0;y<t.length;y++){const b=t[y]+r[y];this.angle===270?(g-=b,c.push(new F(0,g,f,b))):this.angle===90?(c.push(new F(0,g,f,b)),g+=b):this.angle===180?(g-=b,c.push(new F(g,0,b,f))):(c.push(new F(g,0,b,f)),g+=b)}this.commitLayers(c,u)}commitLayers(t,r){}commitLinks(){const t=this.network.edges.iterator;for(;t.next();)t.value.commit()}zy(){const t=this.Ri.iterator;for(;t.next();){const r=t.value;r instanceof Xn&&this.bD(r)}}bD(t){if(t===null)return;this.setPortSpots(t);const r=t.children,o=r.length;for(let l=0;l<o;l++){const u=r[l];this.bD(u)}}setPortSpots(t){const r=t.alignment;if(this.isBusAlignment(r))this.XI(t,r);else{const o=this.orthoAngle(t);if(this.as===1){const l=t.destinationEdges;for(;l.next();){const u=l.value.link;if(u!==null){if(t.setsPortSpot)if(t.portSpot.isDefault())switch(o){case 0:u.fromSpot=U.MiddleRight;break;case 90:u.fromSpot=U.MiddleBottom;break;case 180:u.fromSpot=U.MiddleLeft;break;default:u.fromSpot=U.MiddleTop;break}else u.fromSpot=t.portSpot;if(t.setsChildPortSpot)if(t.childPortSpot.isDefault())switch(o){case 0:u.toSpot=U.MiddleLeft;break;case 90:u.toSpot=U.MiddleTop;break;case 180:u.toSpot=U.MiddleRight;break;default:u.toSpot=U.MiddleBottom;break}else u.toSpot=t.childPortSpot}}}else{const l=t.sourceEdges;for(;l.next();){const u=l.value.link;if(u!==null){if(t.setsPortSpot)if(t.portSpot.isDefault())switch(o){case 0:u.toSpot=U.MiddleRight;break;case 90:u.toSpot=U.MiddleBottom;break;case 180:u.toSpot=U.MiddleLeft;break;default:u.toSpot=U.MiddleTop;break}else u.toSpot=t.portSpot;if(t.setsChildPortSpot)if(t.childPortSpot.isDefault())switch(o){case 0:u.fromSpot=U.MiddleLeft;break;case 90:u.fromSpot=U.MiddleTop;break;case 180:u.fromSpot=U.MiddleRight;break;default:u.fromSpot=U.MiddleBottom;break}else u.fromSpot=t.childPortSpot}}}}}XI(t,r){const o=this.as===1,l=this.orthoAngle(t);let u;switch(l){case 0:u=U.MiddleRight;break;case 90:u=U.MiddleBottom;break;case 180:u=U.MiddleLeft;break;default:u=U.MiddleTop;break}const c=t.children,f=c.length;switch(r){case 24:case 25:{for(let g=0;g<f;g++){const y=c[g],b=(o?y.sourceEdges:y.destinationEdges).first();if(b===null)continue;const w=b.link;if(w!==null){let P=l===90||l===270?U.MiddleLeft:U.MiddleTop;if(f===1||g===f-1&&f%2===1)switch(l){case 0:P=U.MiddleLeft;break;case 90:P=U.MiddleTop;break;case 180:P=U.MiddleRight;break;default:P=U.MiddleBottom;break}else g%2===0&&(P=l===90||l===270?U.MiddleRight:U.MiddleBottom);o?(t.setsPortSpot&&(w.fromSpot=u),t.setsChildPortSpot&&(w.toSpot=P)):(t.setsPortSpot&&(w.fromSpot=P),t.setsChildPortSpot&&(w.toSpot=u))}}break}case 26:{const g=l===90||l===270?U.MiddleRight:U.MiddleBottom,y=o?t.destinationEdges:t.sourceEdges;for(;y.next();){const b=y.value.link;b!==null&&(o?(t.setsPortSpot&&(b.fromSpot=u),t.setsChildPortSpot&&(b.toSpot=g)):(t.setsPortSpot&&(b.fromSpot=g),t.setsChildPortSpot&&(b.toSpot=u)))}break}case 27:{const g=l===90||l===270?U.MiddleLeft:U.MiddleTop,y=o?t.destinationEdges:t.sourceEdges;for(;y.next();){const b=y.value.link;b!==null&&(o?(t.setsPortSpot&&(b.fromSpot=u),t.setsChildPortSpot&&(b.toSpot=g)):(t.setsPortSpot&&(b.fromSpot=g),t.setsChildPortSpot&&(b.toSpot=u)))}break}}}orthoAngle(t){const r=t.angle;return r<=45?0:r<=135?90:r<=225?180:r<=315?270:0}computeLayerSpacing(t){const r=this.orthoAngle(t),o=r===90||r===270;let l=t.layerSpacing;if(t.layerSpacingParentOverlap>0){const u=Math.min(1,t.layerSpacingParentOverlap);l-=o?t.height*u:t.width*u}return l<(o?-t.height:-t.width)&&(l=o?-t.height:-t.width),l}computeNodeIndent(t){const r=this.orthoAngle(t),o=r===90||r===270;let l=t.nodeIndent;if(t.nodeIndentPastParent>0){const u=Math.min(1,t.nodeIndentPastParent);l+=o?t.width*u:t.height*u}return l=Math.max(0,l),l}get roots(){return this.Ri}set roots(t){this.Ri!==t&&(this.Ri=t,this.invalidateLayout())}get path(){return this.Di}set path(t){this.Di!==t&&(this.Di=t,this.invalidateLayout())}get treeStyle(){return this.Qf}set treeStyle(t){this.Qf!==t&&(t===40||t===42||t===41||t===43)&&(this.Qf=t,this.invalidateLayout())}get layerStyle(){return this.Fg}set layerStyle(t){this.Fg!==t&&(t===60||t===61||t===62)&&(this.Fg=t,this.invalidateLayout())}get comments(){return this.ve}set comments(t){this.ve!==t&&(this.ve=t,this.invalidateLayout())}get arrangement(){return this.zi}set arrangement(t){this.zi!==t&&(t===50||t===51||t===52)&&(this.zi=t,this.invalidateLayout())}get arrangementSpacing(){return this.Ms}set arrangementSpacing(t){this.Ms.equals(t)||(this.Ms.a(t),this.invalidateLayout())}get rootDefaults(){return this.V}set rootDefaults(t){this.V!==t&&(this.V=t,this.invalidateLayout())}get alternateDefaults(){return this.z}set alternateDefaults(t){this.z!==t&&(this.z=t,this.invalidateLayout())}get sorting(){return this.V.sorting}set sorting(t){this.V.sorting!==t&&(this.V.sorting=t,this.invalidateLayout())}get comparer(){return this.V.comparer}set comparer(t){this.V.comparer!==t&&(this.V.comparer=t,this.invalidateLayout())}get angle(){return this.V.angle}set angle(t){this.V.angle!==t&&(t===0||t===90||t===180||t===270?(this.V.angle=t,this.invalidateLayout()):n.o("TreeLayout.angle must be 0, 90, 180, or 270"))}get alignment(){return this.V.alignment}set alignment(t){this.V.alignment!==t&&(this.V.alignment=t,this.invalidateLayout())}get nodeIndent(){return this.V.nodeIndent}set nodeIndent(t){this.V.nodeIndent!==t&&t>=0&&(this.V.nodeIndent=t,this.invalidateLayout())}get nodeIndentPastParent(){return this.V.nodeIndentPastParent}set nodeIndentPastParent(t){this.V.nodeIndentPastParent!==t&&t>=0&&t<=1&&(this.V.nodeIndentPastParent=t,this.invalidateLayout())}get nodeSpacing(){return this.V.nodeSpacing}set nodeSpacing(t){this.V.nodeSpacing!==t&&(this.V.nodeSpacing=t,this.invalidateLayout())}get layerSpacing(){return this.V.layerSpacing}set layerSpacing(t){this.V.layerSpacing!==t&&(this.V.layerSpacing=t,this.invalidateLayout())}get layerSpacingParentOverlap(){return this.V.layerSpacingParentOverlap}set layerSpacingParentOverlap(t){this.V.layerSpacingParentOverlap!==t&&t>=0&&t<=1&&(this.V.layerSpacingParentOverlap=t,this.invalidateLayout())}get compaction(){return this.V.compaction}set compaction(t){this.V.compaction!==t&&(t===30||t===31)&&(this.V.compaction=t,this.invalidateLayout())}get breadthLimit(){return this.V.breadthLimit}set breadthLimit(t){this.V.breadthLimit!==t&&t>=0&&(this.V.breadthLimit=t,this.invalidateLayout())}get rowSpacing(){return this.V.rowSpacing}set rowSpacing(t){this.V.rowSpacing!==t&&(this.V.rowSpacing=t,this.invalidateLayout())}get rowIndent(){return this.V.rowIndent}set rowIndent(t){this.V.rowIndent!==t&&t>=0&&(this.V.rowIndent=t,this.invalidateLayout())}get commentSpacing(){return this.V.commentSpacing}set commentSpacing(t){this.V.commentSpacing!==t&&(this.V.commentSpacing=t,this.invalidateLayout())}get commentMargin(){return this.V.commentMargin}set commentMargin(t){this.V.commentMargin!==t&&(this.V.commentMargin=t,this.invalidateLayout())}get setsPortSpot(){return this.V.setsPortSpot}set setsPortSpot(t){this.V.setsPortSpot!==t&&(this.V.setsPortSpot=t,this.invalidateLayout())}get portSpot(){return this.V.portSpot}set portSpot(t){this.V.portSpot.equals(t)||(this.V.portSpot=t,this.invalidateLayout())}get setsChildPortSpot(){return this.V.setsChildPortSpot}set setsChildPortSpot(t){this.V.setsChildPortSpot!==t&&(this.V.setsChildPortSpot=t,this.invalidateLayout())}get childPortSpot(){return this.V.childPortSpot}set childPortSpot(t){this.V.childPortSpot.equals(t)||(this.V.childPortSpot=t,this.invalidateLayout())}get alternateSorting(){return this.z.sorting}set alternateSorting(t){this.z.sorting!==t&&(this.z.sorting=t,this.invalidateLayout())}get alternateComparer(){return this.z.comparer}set alternateComparer(t){this.z.comparer!==t&&(this.z.comparer=t,this.invalidateLayout())}get alternateAngle(){return this.z.angle}set alternateAngle(t){this.z.angle!==t&&(t===0||t===90||t===180||t===270)&&(this.z.angle=t,this.invalidateLayout())}get alternateAlignment(){return this.z.alignment}set alternateAlignment(t){this.z.alignment!==t&&(this.z.alignment=t,this.invalidateLayout())}get alternateNodeIndent(){return this.z.nodeIndent}set alternateNodeIndent(t){this.z.nodeIndent!==t&&t>=0&&(this.z.nodeIndent=t,this.invalidateLayout())}get alternateNodeIndentPastParent(){return this.z.nodeIndentPastParent}set alternateNodeIndentPastParent(t){this.z.nodeIndentPastParent!==t&&t>=0&&t<=1&&(this.z.nodeIndentPastParent=t,this.invalidateLayout())}get alternateNodeSpacing(){return this.z.nodeSpacing}set alternateNodeSpacing(t){this.z.nodeSpacing!==t&&(this.z.nodeSpacing=t,this.invalidateLayout())}get alternateLayerSpacing(){return this.z.layerSpacing}set alternateLayerSpacing(t){this.z.layerSpacing!==t&&(this.z.layerSpacing=t,this.invalidateLayout())}get alternateLayerSpacingParentOverlap(){return this.z.layerSpacingParentOverlap}set alternateLayerSpacingParentOverlap(t){this.z.layerSpacingParentOverlap!==t&&t>=0&&t<=1&&(this.z.layerSpacingParentOverlap=t,this.invalidateLayout())}get alternateCompaction(){return this.z.compaction}set alternateCompaction(t){this.z.compaction!==t&&(t===30||t===31)&&(this.z.compaction=t,this.invalidateLayout())}get alternateBreadthLimit(){return this.z.breadthLimit}set alternateBreadthLimit(t){this.z.breadthLimit!==t&&t>=0&&(this.z.breadthLimit=t,this.invalidateLayout())}get alternateRowSpacing(){return this.z.rowSpacing}set alternateRowSpacing(t){this.z.rowSpacing!==t&&(this.z.rowSpacing=t,this.invalidateLayout())}get alternateRowIndent(){return this.z.rowIndent}set alternateRowIndent(t){this.z.rowIndent!==t&&t>=0&&(this.z.rowIndent=t,this.invalidateLayout())}get alternateCommentSpacing(){return this.z.commentSpacing}set alternateCommentSpacing(t){this.z.commentSpacing!==t&&(this.z.commentSpacing=t,this.invalidateLayout())}get alternateCommentMargin(){return this.z.commentMargin}set alternateCommentMargin(t){this.z.commentMargin!==t&&(this.z.commentMargin=t,this.invalidateLayout())}get alternateSetsPortSpot(){return this.z.setsPortSpot}set alternateSetsPortSpot(t){this.z.setsPortSpot!==t&&(this.z.setsPortSpot=t,this.invalidateLayout())}get alternatePortSpot(){return this.z.portSpot}set alternatePortSpot(t){this.z.portSpot.equals(t)||(this.z.portSpot=t,this.invalidateLayout())}get alternateSetsChildPortSpot(){return this.z.setsChildPortSpot}set alternateSetsChildPortSpot(t){this.z.setsChildPortSpot!==t&&(this.z.setsChildPortSpot=t,this.invalidateLayout())}get alternateChildPortSpot(){return this.z.childPortSpot}set alternateChildPortSpot(t){this.z.childPortSpot.equals(t)||(this.z.childPortSpot=t,this.invalidateLayout())}}T(vn,"PathDefault",0),T(vn,"PathDestination",1),T(vn,"PathSource",2),T(vn,"SortingForwards",10),T(vn,"SortingReverse",11),T(vn,"SortingAscending",12),T(vn,"SortingDescending",13),T(vn,"AlignmentCenterSubtrees",20),T(vn,"AlignmentCenterChildren",21),T(vn,"AlignmentStart",22),T(vn,"AlignmentEnd",23),T(vn,"AlignmentBus",24),T(vn,"AlignmentBusBranching",25),T(vn,"AlignmentTopLeftBus",26),T(vn,"AlignmentBottomRightBus",27),T(vn,"CompactionNone",30),T(vn,"CompactionBlock",31),T(vn,"StyleLayered",40),T(vn,"StyleLastParents",41),T(vn,"StyleAlternating",42),T(vn,"StyleRootOnly",43),T(vn,"ArrangementVertical",50),T(vn,"ArrangementHorizontal",51),T(vn,"ArrangementFixedRoots",52),T(vn,"LayerIndividual",60),T(vn,"LayerSiblings",61),T(vn,"LayerUniform",62);class Sa extends ys{constructor(i){super(i)}createVertex(){return new Xn(this)}createEdge(){return new Ud(this)}}class Xn extends jr{constructor(t){super(t);T(this,"U");T(this,"mt");T(this,"nt");T(this,"uk");T(this,"dk");T(this,"gk");T(this,"mk");T(this,"pk");T(this,"yk");T(this,"wk");T(this,"ve");T(this,"kD");T(this,"_f");T(this,"tu");T(this,"Rg");T(this,"vg");T(this,"ye");T(this,"we");T(this,"Xt");T(this,"oi");T(this,"$y");T(this,"Zy");T(this,"Qy");T(this,"Ss");T(this,"_y");T(this,"tw");T(this,"iw");T(this,"ew");T(this,"sw");T(this,"nw");T(this,"ow");T(this,"rw");T(this,"lw");T(this,"hw");T(this,"aw");this.uk=!1,this.dk=null,this.gk=[],this.mk=0,this.pk=0,this.yk=0,this.wk=0,this.ve=null,this.U=new C(0,0),this.mt=new z(0,0),this.nt=new C(0,0),this.kD=!1,this._f=!1,this.tu=!1,this.Rg=null,this.vg=null,this.ye=10,this.we=jr.standardComparer,this.Xt=0,this.oi=21,this.$y=0,this.Zy=0,this.Qy=20,this.Ss=50,this._y=0,this.tw=31,this.iw=0,this.ew=25,this.sw=10,this.nw=10,this.ow=20,this.rw=!0,this.lw=U.Default,this.hw=!0,this.aw=U.Default}copyInheritedPropertiesFrom(t){t!==null&&(this.ye=t.sorting,this.we=t.comparer,this.Xt=t.angle,this.oi=t.alignment,this.$y=t.nodeIndent,this.Zy=t.nodeIndentPastParent,this.Qy=t.nodeSpacing,this.Ss=t.layerSpacing,this._y=t.layerSpacingParentOverlap,this.tw=t.compaction,this.iw=t.breadthLimit,this.ew=t.rowSpacing,this.sw=t.rowIndent,this.nw=t.commentSpacing,this.ow=t.commentMargin,this.rw=t.setsPortSpot,this.lw=t.portSpot,this.hw=t.setsChildPortSpot,this.aw=t.childPortSpot)}get initialized(){return this.uk}set initialized(t){this.uk!==t&&(this.uk=t)}get parent(){return this.dk}set parent(t){this.dk!==t&&(this.dk=t)}get children(){return this.gk}set children(t){if(this.gk!==t){if(t!==null){const r=t.length;for(let o=0;o<r;o++)t[o]}this.gk=t}}get level(){return this.mk}set level(t){this.mk!==t&&(this.mk=t)}get descendantCount(){return this.pk}set descendantCount(t){this.pk!==t&&(this.pk=t)}get maxChildrenCount(){return this.yk}set maxChildrenCount(t){this.yk!==t&&(this.yk=t)}get maxGenerationCount(){return this.wk}set maxGenerationCount(t){this.wk!==t&&(this.wk=t)}get comments(){return this.ve}set comments(t){if(this.ve!==t){if(t!==null){const r=t.length;for(let o=0;o<r;o++)t[o]}this.ve=t}}get sorting(){return this.ye}set sorting(t){this.ye!==t&&(this.ye=t)}get comparer(){return this.we}set comparer(t){this.we!==t&&(this.we=t)}get angle(){return this.Xt}set angle(t){this.Xt!==t&&(this.Xt=t)}get alignment(){return this.oi}set alignment(t){this.oi!==t&&(this.oi=t)}get nodeIndent(){return this.$y}set nodeIndent(t){this.$y!==t&&(this.$y=t)}get nodeIndentPastParent(){return this.Zy}set nodeIndentPastParent(t){this.Zy!==t&&(this.Zy=t)}get nodeSpacing(){return this.Qy}set nodeSpacing(t){this.Qy!==t&&(this.Qy=t)}get layerSpacing(){return this.Ss}set layerSpacing(t){this.Ss!==t&&(this.Ss=t)}get layerSpacingParentOverlap(){return this._y}set layerSpacingParentOverlap(t){this._y!==t&&(this._y=t)}get compaction(){return this.tw}set compaction(t){this.tw!==t&&(this.tw=t)}get breadthLimit(){return this.iw}set breadthLimit(t){this.iw!==t&&(this.iw=t)}get rowSpacing(){return this.ew}set rowSpacing(t){this.ew!==t&&(this.ew=t)}get rowIndent(){return this.sw}set rowIndent(t){this.sw!==t&&(this.sw=t)}get commentSpacing(){return this.nw}set commentSpacing(t){this.nw!==t&&(this.nw=t)}get commentMargin(){return this.ow}set commentMargin(t){this.ow!==t&&(this.ow=t)}get setsPortSpot(){return this.rw}set setsPortSpot(t){this.rw!==t&&(this.rw=t)}get portSpot(){return this.lw}set portSpot(t){this.lw.equals(t)||(this.lw=t)}get setsChildPortSpot(){return this.hw}set setsChildPortSpot(t){this.hw!==t&&(this.hw=t)}get childPortSpot(){return this.aw}set childPortSpot(t){this.aw.equals(t)||(this.aw=t)}get childrenCount(){return this.children.length}get relativePosition(){return this.U}set relativePosition(t){this.U.set(t)}get subtreeSize(){return this.mt}set subtreeSize(t){this.mt.set(t)}get subtreeOffset(){return this.nt}set subtreeOffset(t){this.nt.set(t)}}class Ud extends vs{constructor(t){super(t);T(this,"xk");this.xk=new C(0,0)}commit(){const t=this.link;if(t===null||t.isAvoiding)return;const r=this.network.layout;let o=null,l=null;switch(r.as){case 1:o=this.fromVertex,l=this.toVertex;break;case 2:o=this.toVertex,l=this.fromVertex;break;default:n.o("Unhandled path value "+r.as.toString())}if(o===null||l===null)return;const u=this.xk;if(u.x===0&&u.y===0&&!o.kD){this.KI(o,l);return}const c=o.bounds,f=r.orthoAngle(o),g=r.computeLayerSpacing(o),y=o.rowSpacing;t.updateRoute();const b=t.curve===9,w=t.isOrthogonal;let P=0,E,N;if(t.startRoute(),w||b){for(P=2;t.pointsCount>4;)t.removePoint(2);E=t.getPoint(1),N=t.getPoint(2)}else{for(P=1;t.pointsCount>3;)t.removePoint(1);E=t.getPoint(0),N=t.getPoint(t.pointsCount-1)}const _=t.getPoint(t.pointsCount-1);let R=0;f===0?(o.alignment===23?(R=c.bottom+u.y,u.y===0&&E.y>_.y+o.rowIndent&&(R=Math.min(R,Math.max(E.y,R-r.computeNodeIndent(o))))):o.alignment===22?(R=c.top+u.y,u.y===0&&E.y<_.y-o.rowIndent&&(R=Math.max(R,Math.min(E.y,R+r.computeNodeIndent(o))))):o._f||o.tu&&o.maxGenerationCount===1?R=c.top-o.nt.y+u.y:R=c.y+c.height/2+u.y,b?(t.insertPointAt(P,E.x,R),P++,t.insertPointAt(P,c.right+g,R),P++,t.insertPointAt(P,c.right+g+(u.x-y)/3,R),P++,t.insertPointAt(P,c.right+g+(u.x-y)*2/3,R),P++,t.insertPointAt(P,c.right+g+(u.x-y),R),P++,t.insertPointAt(P,N.x,R),P++):(w&&(t.insertPointAt(P,c.right+g/2,E.y),P++),t.insertPointAt(P,c.right+g/2,R),P++,t.insertPointAt(P,c.right+g+u.x-(w?y/2:y),R),P++,w&&(t.insertPointAt(P,t.getPoint(P-1).x,N.y),P++))):f===90?(o.alignment===23?(R=c.right+u.x,u.x===0&&E.x>_.x+o.rowIndent&&(R=Math.min(R,Math.max(E.x,R-r.computeNodeIndent(o))))):o.alignment===22?(R=c.left+u.x,u.x===0&&E.x<_.x-o.rowIndent&&(R=Math.max(R,Math.min(E.x,R+r.computeNodeIndent(o))))):o._f||o.tu&&o.maxGenerationCount===1?R=c.left-o.nt.x+u.x:R=c.x+c.width/2+u.x,b?(t.insertPointAt(P,R,E.y),P++,t.insertPointAt(P,R,c.bottom+g),P++,t.insertPointAt(P,R,c.bottom+g+(u.y-y)/3),P++,t.insertPointAt(P,R,c.bottom+g+(u.y-y)*2/3),P++,t.insertPointAt(P,R,c.bottom+g+(u.y-y)),P++,t.insertPointAt(P,R,N.y),P++):(w&&(t.insertPointAt(P,E.x,c.bottom+g/2),P++),t.insertPointAt(P,R,c.bottom+g/2),P++,t.insertPointAt(P,R,c.bottom+g+u.y-(w?y/2:y)),P++,w&&(t.insertPointAt(P,N.x,t.getPoint(P-1).y),P++))):f===180?(o.alignment===23?(R=c.bottom+u.y,u.y===0&&E.y>_.y+o.rowIndent&&(R=Math.min(R,Math.max(E.y,R-r.computeNodeIndent(o))))):o.alignment===22?(R=c.top+u.y,u.y===0&&E.y<_.y-o.rowIndent&&(R=Math.max(R,Math.min(E.y,R+r.computeNodeIndent(o))))):o._f||o.tu&&o.maxGenerationCount===1?R=c.top-o.nt.y+u.y:R=c.y+c.height/2+u.y,b?(t.insertPointAt(P,E.x,R),P++,t.insertPointAt(P,c.left-g,R),P++,t.insertPointAt(P,c.left-g+(u.x+y)/3,R),P++,t.insertPointAt(P,c.left-g+(u.x+y)*2/3,R),P++,t.insertPointAt(P,c.left-g+(u.x+y),R),P++,t.insertPointAt(P,N.x,R),P++):(w&&(t.insertPointAt(P,c.left-g/2,E.y),P++),t.insertPointAt(P,c.left-g/2,R),P++,t.insertPointAt(P,c.left-g+u.x+(w?y/2:y),R),P++,w&&(t.insertPointAt(P,t.getPoint(P-1).x,N.y),P++))):f===270?(o.alignment===23?(R=c.right+u.x,u.x===0&&E.x>_.x+o.rowIndent&&(R=Math.min(R,Math.max(E.x,R-r.computeNodeIndent(o))))):o.alignment===22?(R=c.left+u.x,u.x===0&&E.x<_.x-o.rowIndent&&(R=Math.max(R,Math.min(E.x,R+r.computeNodeIndent(o))))):o._f||o.tu&&o.maxGenerationCount===1?R=c.left-o.nt.x+u.x:R=c.x+c.width/2+u.x,b?(t.insertPointAt(P,R,E.y),P++,t.insertPointAt(P,R,c.top-g),P++,t.insertPointAt(P,R,c.top-g+(u.y+y)/3),P++,t.insertPointAt(P,R,c.top-g+(u.y+y)*2/3),P++,t.insertPointAt(P,R,c.top-g+(u.y+y)),P++,t.insertPointAt(P,R,N.y),P++):(w&&(t.insertPointAt(P,E.x,c.top-g/2),P++),t.insertPointAt(P,R,c.top-g/2),P++,t.insertPointAt(P,R,c.top-g+u.y+(w?y/2:y)),P++,w&&(t.insertPointAt(P,N.x,t.getPoint(P-1).y),P++))):n.o("Invalid angle "+f),t.commitRoute()}KI(t,r){const o=this.link,l=this.network.layout,u=l.orthoAngle(t),c=l.orthoAngle(r);if(u===c)return;const f=l.computeLayerSpacing(t),g=t.bounds,y=r.bounds;if(u===0&&y.left-g.right<f+1||u===90&&y.top-g.bottom<f+1||u===180&&g.left-y.right<f+1||u===270&&g.top-y.bottom<f+1)return;o.updateRoute();const b=o.curve===9,w=o.isOrthogonal,P=this.fromVertex,E=l.isBusAlignment(P.alignment);if(o.startRoute(),u===0){const N=g.right+f/2;if(b){if(o.pointsCount===4){const _=o.getPoint(3).y;o.setPointAt(1,N-20,o.getPoint(1).y),o.insertPointAt(2,N-20,_),o.insertPointAt(3,N,_),o.insertPointAt(4,N+20,_),o.setPointAt(5,o.getPoint(5).x,_)}}else w?E?o.setPointAt(3,o.getPoint(2).x,o.getPoint(4).y):o.pointsCount===6&&(o.setPointAt(2,N,o.getPoint(2).y),o.setPointAt(3,N,o.getPoint(3).y)):o.pointsCount===4?o.insertPointAt(2,N,o.getPoint(2).y):o.pointsCount===3?o.setPointAt(1,N,o.getPoint(2).y):o.pointsCount===2&&o.insertPointAt(1,N,o.getPoint(1).y)}else if(u===90){const N=g.bottom+f/2;if(b){if(o.pointsCount===4){const _=o.getPoint(3).x;o.setPointAt(1,o.getPoint(1).x,N-20),o.insertPointAt(2,_,N-20),o.insertPointAt(3,_,N),o.insertPointAt(4,_,N+20),o.setPointAt(5,_,o.getPoint(5).y)}}else w?E?o.setPointAt(3,o.getPoint(2).x,o.getPoint(4).y):o.pointsCount===6&&(o.setPointAt(2,o.getPoint(2).x,N),o.setPointAt(3,o.getPoint(3).x,N)):o.pointsCount===4?o.insertPointAt(2,o.getPoint(2).x,N):o.pointsCount===3?o.setPointAt(1,o.getPoint(2).x,N):o.pointsCount===2&&o.insertPointAt(1,o.getPoint(1).x,N)}else if(u===180){const N=g.left-f/2;if(b){if(o.pointsCount===4){const _=o.getPoint(3).y;o.setPointAt(1,N+20,o.getPoint(1).y),o.insertPointAt(2,N+20,_),o.insertPointAt(3,N,_),o.insertPointAt(4,N-20,_),o.setPointAt(5,o.getPoint(5).x,_)}}else w?E?o.setPointAt(3,o.getPoint(2).x,o.getPoint(4).y):o.pointsCount===6&&(o.setPointAt(2,N,o.getPoint(2).y),o.setPointAt(3,N,o.getPoint(3).y)):o.pointsCount===4?o.insertPointAt(2,N,o.getPoint(2).y):o.pointsCount===3?o.setPointAt(1,N,o.getPoint(2).y):o.pointsCount===2&&o.insertPointAt(1,N,o.getPoint(1).y)}else if(u===270){const N=g.top-f/2;if(b){if(o.pointsCount===4){const _=o.getPoint(3).x;o.setPointAt(1,o.getPoint(1).x,N+20),o.insertPointAt(2,_,N+20),o.insertPointAt(3,_,N),o.insertPointAt(4,_,N-20),o.setPointAt(5,_,o.getPoint(5).y)}}else w?E?o.setPointAt(3,o.getPoint(2).x,o.getPoint(4).y):o.pointsCount===6&&(o.setPointAt(2,o.getPoint(2).x,N),o.setPointAt(3,o.getPoint(3).x,N)):o.pointsCount===4?o.insertPointAt(2,o.getPoint(2).x,N):o.pointsCount===3?o.setPointAt(1,o.getPoint(2).x,N):o.pointsCount===2&&o.insertPointAt(1,o.getPoint(1).x,N)}o.commitRoute()}get fromVertex(){return this.Je}set fromVertex(t){this.Je!==t&&(this.Je=t)}get toVertex(){return this.$e}set toVertex(t){this.$e!==t&&(this.$e=t)}get relativePoint(){return this.xk}set relativePoint(t){this.xk.set(t)}}class br{constructor(){}}T(br,"Light",{colors:{text:"#0a0a0a",comment:"#ca8a04",link:"#0a0a0a",group:"#a3a3a344",outline:"#a3a3a3",selection:"#0ea5e9",div:"#fff",gridMinor:"#e5e5e5",gridMajor:"#a3a3a3",overviewBox:"#c026d3",tempLink:"#2563eb",tempPort:"#c026d3",adornmentFill:"#0ea5e9",adornmentStroke:"#1e40af",dragSelect:"#c026d3"},fonts:{normal:"10pt sans-serif",bold:"bold 12pt sans-serif"},numbers:{group:1,selection:3},margins:{group:new Y(5)},arrowheads:{toArrow:"Standard"}}),T(br,"Dark",{colors:{text:"#f5f5f5",comment:"#facc15",link:"#f5f5f5",group:"#a3a3a388",outline:"#a3a3a3",selection:"#38bdf8",div:"#171717",gridMinor:"#262626",gridMajor:"#404040",overviewBox:"#e879f9",tempLink:"#60a5fa",tempPort:"#e879f9",adornmentFill:"#38bdf8",adornmentStroke:"#2563eb",dragSelect:"#e879f9"},fonts:{normal:"10pt sans-serif",bold:"bold 12pt sans-serif"},numbers:{group:1,selection:3},margins:{group:new Y(5)},arrowheads:{toArrow:"Standard"}});const Pa=class Pa{constructor(i){T(this,"ss",new Set);T(this,"eu",new V);T(this,"bk","light");T(this,"kk","light");T(this,"Pk",!1);T(this,"Og","light");T(this,"PD",i=>{const t=i.matches?"dark":"light";t!==this.Og&&(this.Og=t,this.kk==="system"&&this.cw())});i&&Object.assign(this,i),i!=null&&i.themeMap||(this.eu.set("light",{colors:{...br.Light.colors},fonts:{...br.Light.fonts},numbers:{...br.Light.numbers},margins:{...br.Light.margins},arrowheads:{...br.Light.arrowheads}}),this.eu.set("dark",{colors:{...br.Dark.colors},fonts:{...br.Dark.fonts},numbers:{...br.Dark.numbers},margins:{...br.Dark.margins},arrowheads:{...br.Dark.arrowheads}})),e.matchMedia&&(this.Og=e.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}get themeMap(){return this.eu}set themeMap(i){this.eu!==i&&(this.eu=i,this.cw())}get defaultTheme(){return this.bk}set defaultTheme(i){this.bk!==i&&(n.i(i,"string",Pa,"defaultTheme"),this.bk=i,this.cw())}get currentTheme(){return this.kk}set currentTheme(i){this.kk!==i&&(n.i(i,"string",Pa,"currentTheme"),this.kk=i,this.cw())}get changesDivBackground(){return this.Pk}set changesDivBackground(i){if(this.Pk!==i&&(this.Pk=i,i))for(const t of this.ss)t.setDivBackground(this.findValue("div","","fill")),t.v("ThemeChanged",this)}get preferredColorScheme(){return this.Og}addDiagram(i){return this.ss.add(i),this.HN(i),this}removeDiagram(i){return this.ss.delete(i),this.HN(i),this}BF(){var i;this.ss.size===0&&e.matchMedia&&((i=e.matchMedia("(prefers-color-scheme: dark)"))==null||i.addEventListener("change",this.PD))}VF(){var i;this.ss.size===0&&e.matchMedia&&((i=e.matchMedia("(prefers-color-scheme: dark)"))==null||i.removeEventListener("change",this.PD))}set(i,t){i===""&&(i=this.bk),i==="system"&&(i=this.Og);let r=this.eu.get(i);return r?r=this.MD(r,t):r=t,this.eu.set(i,r),this.cw(),this}findValue(i,t,r){return this.getValue(this.findTheme(this.currentTheme),i,t,r)||this.getValue(this.findTheme(this.defaultTheme),i,t,r)}getValue(i,t,r,o){var f;if(!i)return;r==null&&(r="");let l=i;const u=g=>{if(l===void 0||g==="")return;if(typeof g=="number"||!(Array.isArray(g)||g.includes(".")))return l[g];const y=Array.isArray(g)?g:g.split(".");for(let b=0;b<y.length;b++){const w=y[b];if(w!==""&&(l=l[w],l===void 0))return}return l},c=()=>{if(!(r!==""&&(l=u(r),l===void 0)))return Array.isArray(l)&&typeof t=="number"?l=l[t%l.length]:l=u(t),l};if(l=c(),l===void 0&&typeof o=="string"&&o.length>0){let g=(f=i.targetPropertyMap)==null?void 0:f.get(o);if(g?l=i[g]:(g=Pa.YI.get(o),l=g?i[g]:i.colors),l=c(),l!==void 0)return l}return l}findTheme(i){return this.themeMap.get(i==="system"?this.Og:i)}HN(i){const t=i.skipsUndoManager;i.skipsUndoManager=!0,i.updateAllThemeBindings(),this.Pk&&i.setDivBackground(this.findValue("div","","fill")),i.skipsUndoManager=t,i.v("ThemeChanged",this)}cw(){for(const i of this.ss)this.HN(i)}MD(i,t){for(const r in t)if(n.fw(t,r))try{t[r].constructor===Object?i[r]=this.MD(i[r]??{},t[r]):i[r]=t[r]}catch{delete i[r]}return i}};T(Pa,"YI",new Map([["background","colors"],["defaultColumnSeparatorStroke","colors"],["defaultRowSeparatorStroke","colors"],["shadowColor","colors"],["fill","colors"],["stroke","colors"],["font","fonts"],["angle","numbers"],["fromEndSegmentLength","numbers"],["fromShortLength","numbers"],["height","numbers"],["opacity","numbers"],["scale","numbers"],["toEndSegmentLength","numbers"],["toShortLength","numbers"],["width","numbers"],["defaultColumnSeparatorStrokeWidth","numbers"],["defaultRowSeparatorStrokeWidth","numbers"],["shadowBlur","numbers"],["corner","numbers"],["curviness","numbers"],["smoothness","numbers"],["parameter1","numbers"],["parameter2","numbers"],["strokeWidth","numbers"],["strokeDashOffset","numbers"],["maxLines","numbers"],["spacingAbove","numbers"],["spacingBelow","numbers"],["position","points"],["shadowOffset","points"],["desiredSize","sizes"],["maxSize","sizes"],["minSize","sizes"],["margin","margins"],["defaultSeparatorPadding","margins"],["padding","margins"],["alignment","spots"],["alignmentFocus","spots"],["fromSpot","spots"],["toSpot","spots"],["defaultAlignment","spots"],["spot1","spots"],["spot2","spots"],["verticalAlignment","spots"],["imageAlignment","spots"],["fromArrow","arrowheads"],["toArrow","arrowheads"]]));let xu=Pa;class Th{constructor(){T(this,"St");T(this,"p");T(this,"Oi");T(this,"dl");this.p=xe.pm(),this.St="",this.Oi=!0,this.dl=!0}get name(){return this.St}set name(i){this.St=i}get isEnabled(){return this.Oi}set isEnabled(i){this.Oi=i}get isRealtime(){return this.dl}set isRealtime(i){this.dl=i}get diagram(){return this.p}set diagram(i){this.p!==i&&(this.p=i,i.kl=!0,i.requestUpdate())}invalidateRouter(){this.p!==null&&(this.p.kl=!0,this.p.requestUpdate())}canRoute(i){if(!this.isEnabled)return!1;const t=this.diagram;return!(t&&(!this.isRealtime&&t.yu||t.animationManager.isTicking))}routeLinks(i,t){}toString(){return this.name!==""?this.name+" Router":n.sn(this.constructor)}}class Kd extends Th{constructor(i){super(),this.name="AvoidsNodes",i&&Object.assign(this,i)}canRoute(i){return(i instanceof xe?i.Gm:i.diagram.Gm)?super.canRoute(i):!1}routeLinks(i,t){const r=t instanceof xe?null:t,o=i.iterator,l=this.diagram.getPositions(!0,r,null);for(;o.next();){const u=o.value;if(!u.isAvoiding||t&&u.containingGroup!==r||u.toNode===null||u.fromNode===null||u.pointsCount<4)continue;u.startRoute();const c=u.pointsCount,f=u.getPoint(1),g=u.getPoint(c-2),y=u.fromNode.actualBounds.copy();y.inflate(se.Fa,se.Fa),y.unionPoint(u.getPoint(0));const b=u.toNode.actualBounds.copy();b.inflate(se.Fa,se.Fa),b.unionPoint(u.getPoint(c-1)),this.GI(u,y,b,l)&&this.jI(u,f,u.iN,g,u.eN,y,b,l),u.commitRoute()}}GI(i,t,r,o){const l=i.diagram,u=i.pointsCount;if(l===null||i.fromNode===i.toNode||i.layer.isTemporary||t.containsPoint(i.getPoint(u-1))&&!i.toNode.isMemberOf(i.fromNode)||r.containsPoint(i.getPoint(0))&&!i.fromNode.isMemberOf(i.toNode)||!i.isOrthogonal)return!1;if(i.segmentIndex===17)return!0;const c=i.getPoint(1),f=i.getPoint(u-2),g=i.getPoint(2);if(!o.isUnoccupied(Math.min(c.x,g.x),Math.min(c.y,g.y),Math.abs(c.x-g.x),Math.abs(c.y-g.y)))return!0;for(let b=2;b<u-3;b++){const w=i.getPoint(b),P=i.getPoint(b+1);if(!o.isUnoccupied(Math.min(w.x,P.x),Math.min(w.y,P.y),Math.abs(w.x-P.x),Math.abs(w.y-P.y)))return!0}const y=i.getPoint(u-3);return!o.isUnoccupied(Math.min(y.x,f.x),Math.min(y.y,f.y),Math.abs(y.x-f.x),Math.abs(y.y-f.y))}jI(i,t,r,o,l,u,c,f){const g=i.diagram,y=t,b=o;let w=null,P=null;if(g.isVirtualized){const _=f.bounds.copy(),R=i.getPoint(2),$=i.getPoint(i.pointsCount-3);_.inflate(-f.cellWidth,-f.cellHeight);const q=C.l();f.Vd(t.x,t.y)||(K.yl(_.x,_.y,_.x+_.width,_.y+_.height,t.x,t.y,R.x,R.y,q)?(w=t=q.copy(),r=q.directionPoint(R)):K.yl(_.x,_.y,_.x+_.width,_.y+_.height,R.x,R.y,$.x,$.y,q)?(w=t=q.copy(),r=q.directionPoint($)):K.yl(_.x,_.y,_.x+_.width,_.y+_.height,$.x,$.y,o.x,o.y,q)&&(w=t=q.copy(),r=q.directionPoint(o))),f.Vd(o.x,o.y)||(K.yl(_.x,_.y,_.x+_.width,_.y+_.height,o.x,o.y,$.x,$.y,q)?(P=o=q.copy(),l=$.directionPoint(q)):K.yl(_.x,_.y,_.x+_.width,_.y+_.height,$.x,$.y,R.x,R.y,q)?(P=o=q.copy(),l=R.directionPoint(q)):K.yl(_.x,_.y,_.x+_.width,_.y+_.height,R.x,R.y,t.x,t.y,q)&&(P=o=q.copy(),l=t.directionPoint(q))),C.s(q)}const E=u.copy().unionRect(c);E.inflate(f.cellWidth*f.Kc,f.cellHeight*f.Kc),f.nT(t,r,o,l,E,!0);let N=f.co(o.x,o.y);if(!f.by&&N>=Fr.Bd&&(f.VL(),E.inflate(f.cellWidth*f.RS,f.cellHeight*f.vS),f.nT(t,r,o,l,E,!1),N=f.co(o.x,o.y)),!f.by&&N<Fr.Bd&&!f.hO(o.x,o.y)){i.points.removeRange(2,i.pointsCount-3),this.qN(i,f,o.x,o.y,l,!0);const _=0,R=90,$=180,q=270,X=i.getPoint(2);if(i.pointsCount<4)r===_||r===$?(X.x=t.x,X.y=o.y):(X.x=o.x,X.y=t.y),i.setPointAt(2,X.x,X.y),i.insertPointAt(3,X.x,X.y);else{const H=i.getPoint(3);if(r===_||r===$)if(K.u(X.x,H.x)){const tt=r===_?Math.max(X.x,t.x):Math.min(X.x,t.x);i.setPointAt(2,tt,t.y),i.setPointAt(3,tt,H.y)}else K.u(X.y,H.y)?(Math.abs(t.y-X.y)<=f.cellHeight/2&&(i.setPointAt(2,X.x,t.y),i.setPointAt(3,H.x,t.y)),i.insertPointAt(2,X.x,t.y)):i.setPointAt(2,t.x,X.y);else if(r===R||r===q)if(K.u(X.y,H.y)){const tt=r===R?Math.max(X.y,t.y):Math.min(X.y,t.y);i.setPointAt(2,t.x,tt),i.setPointAt(3,H.x,tt)}else K.u(X.x,H.x)?(Math.abs(t.x-X.x)<=f.cellWidth/2&&(i.setPointAt(2,t.x,X.y),i.setPointAt(3,t.x,H.y)),i.insertPointAt(2,t.x,X.y)):i.setPointAt(2,X.x,t.y)}if(w!==null){const H=i.getPoint(1),tt=i.getPoint(2);H.x!==tt.x&&H.y!==tt.y?r===_||r===$?i.insertPointAt(2,H.x,tt.y):i.insertPointAt(2,tt.x,H.y):r===_||r===$?i.insertPointAt(2,y.x,w.y):i.insertPointAt(2,w.x,y.y)}P!==null&&(l===_||l===$?i.insertPointAt(i.pointsCount-2,b.x,P.y):i.insertPointAt(i.pointsCount-2,P.x,b.y))}}qN(i,t,r,o,l,u){const c=t.cellWidth,f=t.cellHeight;let g=t.co(r,o),y=r,b=o,w=y,P=b;for(l===0?w+=c:l===90?P+=f:l===180?w-=c:P-=f,i.oN&&g>Fr.Ia&&t.co(w,P)!==g-1&&(t.co(y-c,b)===g-1?(l=180,w=y-c,P=b):t.co(y+c,b)===g-1?(l=0,w=y+c,P=b):t.co(y,b-f)===g-1?(l=270,w=y,P=b-f):t.co(y,b+f)===g-1&&(l=90,w=y,P=b+f));g>Fr.Ia&&t.co(w,P)===g-1;)y=w,b=P,l===0?w+=c:l===90?P+=f:l===180?w-=c:P-=f,g-=1;if(u?g>Fr.Ia&&(l===180||l===0?y=Math.floor(y/c)*c+c/2:(l===90||l===270)&&(b=Math.floor(b/f)*f+f/2)):(y=Math.floor(y/c)*c+c/2,b=Math.floor(b/f)*f+f/2),g>Fr.Ia){let E=l,N=y,_=b;if(l===0?(E=90,_+=f):l===90?(E=180,N-=c):l===180?(E=270,_-=f):l===270&&(E=0,N+=c),t.co(N,_)===g-1)this.qN(i,t,N,_,E,!1);else{let R=y,$=b;l===0?(E=270,$-=f):l===90?(E=0,R+=c):l===180?(E=90,$+=f):l===270&&(E=180,R-=c),t.co(R,$)===g-1&&this.qN(i,t,R,$,E,!1)}}i.insertPointAt(i.pointsCount-2,y,b)}}$t.prototype.initializeStandardTools=function(){this.$t("Action",new ue,this.mouseDownTools),this.$t("Relinking",new be,this.mouseDownTools),this.$t("LinkReshaping",new le,this.mouseDownTools),this.$t("Rotating",new _t,this.mouseDownTools),this.$t("Resizing",new me,this.mouseDownTools),this.$t("Linking",new he,this.mouseMoveTools),this.$t("Dragging",new ee,this.mouseMoveTools),this.$t("DragSelecting",new _e,this.mouseMoveTools),this.$t("Panning",new en,this.mouseMoveTools),this.$t("ContextMenu",new yn,this.mouseUpTools),this.$t("TextEditing",new gr,this.mouseUpTools),this.$t("ClickCreating",new Ae,this.mouseUpTools),this.$t("ClickSelecting",new Yt,this.mouseUpTools)},xe.dS("GraphLinksModel",po),xe.dS("TreeModel",xt);const Mh=e.go,Gd={get version(){return xe.version},Group:Ut,List:x,Set:M,Map:V,Point:C,Size:z,Rect:F,Margin:Y,Spot:U,Geometry:lt,PathFigure:dt,PathSegment:vt,InputEvent:Mt,DiagramEvent:Ct,ChangedEvent:Rt,Model:Qt,GraphLinksModel:De,TreeModel:hn,Binding:Zt,ThemeBinding:ge,Transaction:yt,UndoManager:Nt,CommandHandler:Hn,Tool:kt,DraggingTool:ee,DraggingInfo:Oe,DraggingOptions:Xe,LinkingBaseTool:ne,LinkingTool:he,RelinkingTool:be,LinkReshapingTool:le,ResizingTool:me,RotatingTool:_t,ClickSelectingTool:Yt,ActionTool:ue,ClickCreatingTool:Ae,HTMLInfo:qe,ContextMenuTool:yn,DragSelectingTool:_e,PanningTool:en,TextEditingTool:gr,ToolManager:$t,Animation:si,AnimationManager:Ri,AnimationTrigger:Bn,Layer:_n,Diagram:xe,Palette:Oi,Overview:yi,Brush:ze,GraphObject:dn,Panel:re,RowColumnDefinition:wi,Shape:fe,TextBlock:on,Picture:Ii,Part:Le,Adornment:ye,Node:Jt,Link:se,Placeholder:zn,Layout:Ie,LayoutNetwork:ys,LayoutVertex:jr,LayoutEdge:vs,GridLayout:js,PanelLayout:Ee,CircularLayout:pn,CircularNetwork:Fi,CircularVertex:or,CircularEdge:Jr,ForceDirectedLayout:xs,ForceDirectedNetwork:Bs,ForceDirectedVertex:ba,ForceDirectedEdge:wa,LayeredDigraphLayout:Vn,LayeredDigraphNetwork:$d,LayeredDigraphVertex:ml,LayeredDigraphEdge:Gg,TreeLayout:vn,TreeNetwork:Sa,TreeVertex:Xn,TreeEdge:Ud,Themes:br,ThemeManager:xu,Router:Th,AnimationStyle:uo,AutoScale:mr,CycleMode:Yr,Flip:cl,TextFormat:Zr,ImageStretch:Cn,LayoutConditions:Bo,LinkAdjusting:co,Curve:xa,Routing:xr,Orientation:pa,TextOverflow:ya,PortSpreading:ms,ScrollMode:fs,CollapsePolicy:yr,Sizing:pl,TriggerStart:oi,Stretch:fa,ViewboxStretch:xh,Wrap:Sn,BrushType:Wi,ColorSpace:mu,GeometryStretch:gt,GeometryType:rt,SegmentType:mt,BindingMode:Lt,ChangeType:Ot,CircularArrangement:Me,CircularDirection:ai,CircularNodeDiameterFormula:li,CircularSorting:Ye,GridAlignment:zo,GridArrangement:sr,GridSorting:Vo,LayeredDigraphAggressive:wh,LayeredDigraphAlign:Sh,LayeredDigraphCycleRemove:jd,LayeredDigraphInit:$s,LayeredDigraphLayering:bh,LayeredDigraphPack:Bd,TreeAlignment:Vd,TreeArrangement:yl,TreeCompaction:Ph,TreeLayerStyle:Uo,TreePath:zd,TreeSorting:vu,TreeStyle:kh,GestureMode:It,LinkingDirection:Ft,ReshapingBehavior:te,TextEditingAccept:mi,TextEditingStarting:rr,TextEditingState:Ki,WheelMode:At};typeof Mh=="object"&&Mh.version&&n.ri("WARNING: a `go` object on the root object is already defined.  "+("Debug"in Mh?"debug ":"")+"version: "+Mh.version+", replaced with version: "+Gd.version),xe.prototype.go=Gd,e.go=Gd})();const Kt=typeof global<"u"?global.go:self.go;Kt.Group;Kt.List;Kt.Set;Kt.Map;Kt.Point;Kt.Size;Kt.Rect;Kt.Margin;const TMt=Kt.Spot;Kt.Geometry;Kt.PathFigure;Kt.PathSegment;Kt.InputEvent;Kt.DiagramEvent;Kt.ChangedEvent;Kt.Model;const _4=Kt.GraphLinksModel;Kt.TreeModel;Kt.Binding;Kt.ThemeBinding;Kt.Transaction;Kt.UndoManager;Kt.CommandHandler;Kt.Tool;Kt.DraggingTool;Kt.DraggingInfo;Kt.DraggingOptions;Kt.LinkingBaseTool;Kt.LinkingTool;Kt.RelinkingTool;Kt.LinkReshapingTool;Kt.ResizingTool;Kt.RotatingTool;Kt.ClickSelectingTool;Kt.ActionTool;Kt.ClickCreatingTool;Kt.HTMLInfo;Kt.ContextMenuTool;Kt.DragSelectingTool;Kt.PanningTool;Kt.TextEditingTool;Kt.ToolManager;Kt.Animation;Kt.AnimationManager;Kt.AnimationTrigger;Kt.Layer;const mA=Kt.Diagram;Kt.Palette;const MMt=Kt.Overview;Kt.Brush;Kt.GraphObject;Kt.Panel;Kt.RowColumnDefinition;Kt.Shape;Kt.TextBlock;Kt.Picture;Kt.Part;Kt.Adornment;Kt.Node;Kt.Link;Kt.Placeholder;Kt.Layout;Kt.LayoutNetwork;Kt.LayoutVertex;Kt.LayoutEdge;Kt.GridLayout;Kt.PanelLayout;Kt.CircularLayout;Kt.CircularNetwork;Kt.CircularVertex;Kt.CircularEdge;Kt.ForceDirectedLayout;Kt.ForceDirectedNetwork;Kt.ForceDirectedVertex;Kt.ForceDirectedEdge;Kt.LayeredDigraphLayout;Kt.LayeredDigraphNetwork;Kt.LayeredDigraphVertex;Kt.LayeredDigraphEdge;Kt.TreeLayout;Kt.TreeNetwork;Kt.TreeVertex;Kt.TreeEdge;Kt.Themes;Kt.ThemeManager;Kt.Router;Kt.version;Kt.AnimationStyle;Kt.AutoScale;Kt.Curve;Kt.CycleMode;Kt.Flip;Kt.ImageStretch;Kt.LayoutConditions;Kt.LinkAdjusting;Kt.Orientation;Kt.PortSpreading;Kt.Routing;Kt.ScrollMode;Kt.CollapsePolicy;Kt.Sizing;Kt.TriggerStart;Kt.Stretch;Kt.TextFormat;Kt.TextOverflow;Kt.ViewboxStretch;Kt.Wrap;Kt.BrushType;Kt.ColorSpace;Kt.GeometryStretch;Kt.GeometryType;Kt.SegmentType;Kt.BindingMode;Kt.ChangeType;Kt.CircularArrangement;Kt.CircularDirection;Kt.CircularNodeDiameterFormula;Kt.CircularSorting;Kt.GridAlignment;Kt.GridArrangement;Kt.GridSorting;Kt.LayeredDigraphAggressive;Kt.LayeredDigraphAlign;Kt.LayeredDigraphCycleRemove;Kt.LayeredDigraphInit;Kt.LayeredDigraphLayering;Kt.LayeredDigraphPack;Kt.TreeAlignment;Kt.TreeArrangement;Kt.TreeCompaction;Kt.TreeLayerStyle;Kt.TreePath;Kt.TreeSorting;Kt.TreeStyle;Kt.GestureMode;Kt.LinkingDirection;Kt.ReshapingBehavior;Kt.TextEditingAccept;Kt.TextEditingStarting;Kt.TextEditingState;Kt.WheelMode;var $P=function(e,n){return $P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var h in a)Object.prototype.hasOwnProperty.call(a,h)&&(s[h]=a[h])},$P(e,n)};function yA(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");$P(e,n);function s(){this.constructor=e}e.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}/*! Copyright (C) 1998-2023 by Northwoods Software Corporation. All Rights Reserved. */(function(e){yA(n,e);function n(s){var a=e.call(this,s)||this;return a.wasCleared=!1,a.modelChangedListener=null,a.divRef=at.createRef(),a}return n.prototype.getDiagram=function(){return this.divRef.current===null?null:mA.fromDiv(this.divRef.current)},n.prototype.clear=function(){var s=this.getDiagram();s!==null&&(s.clear(),this.wasCleared=!0)},n.prototype.componentDidMount=function(){var s=this;if(this.divRef.current!==null){var a=this.props.initDiagram();a.div=this.divRef.current,this.modelChangedListener=function(h){if(h.isTransactionFinished&&h.model&&!h.model.isReadOnly&&s.props.onModelChange){var d=h.model.toIncrementalData(h);d!==null&&s.props.onModelChange(d)}},a.addModelChangedListener(this.modelChangedListener),a.delayInitialization(function(){s.mergeData(a,!0)})}},n.prototype.componentWillUnmount=function(){var s=this.getDiagram();s!==null&&(s.div=null,this.modelChangedListener!==null&&(s.removeModelChangedListener(this.modelChangedListener),this.modelChangedListener=null))},n.prototype.shouldComponentUpdate=function(s,a){return s.divClassName!==this.props.divClassName||s.style!==this.props.style?!0:!(s.skipsDiagramUpdate||s.nodeDataArray===this.props.nodeDataArray&&s.linkDataArray===this.props.linkDataArray&&s.modelData===this.props.modelData)},n.prototype.componentDidUpdate=function(s,a){var h=this;if(!(s.nodeDataArray===this.props.nodeDataArray&&s.linkDataArray===this.props.linkDataArray&&s.modelData===this.props.modelData)){var d=this.getDiagram();d!==null&&(this.wasCleared?d.delayInitialization(function(){h.mergeData(d,!0),h.wasCleared=!1}):this.mergeData(d,!1))}},n.prototype.mergeData=function(s,a){var h=this,d=s.model;d.commit(function(p){h.props.modelData!==void 0&&p.assignAllDataProperties(p.modelData,h.props.modelData),p.mergeNodeDataArray(h.props.nodeDataArray),h.props.linkDataArray!==void 0&&p instanceof _4&&p.mergeLinkDataArray(h.props.linkDataArray)},a?"initial merge":"merge data")},n.prototype.render=function(){return at.createElement("div",{ref:this.divRef,className:this.props.divClassName,style:this.props.style})},n})(at.Component);(function(e){yA(n,e);function n(s){var a=e.call(this,s)||this;return a.divRef=at.createRef(),a}return n.prototype.getOverview=function(){return this.divRef.current===null?null:mA.fromDiv(this.divRef.current)},n.prototype.componentDidMount=function(){if(this.divRef.current!==null){var s;this.props.initOverview!==void 0?s=this.props.initOverview():(s=new MMt,s.contentAlignment=TMt.Center),s.div=this.divRef.current,s.observed=this.props.observedDiagram}},n.prototype.componentWillUnmount=function(){var s=this.getOverview();s!==null&&(s.div=null,s.observed=null)},n.prototype.shouldComponentUpdate=function(s,a){return s.divClassName!==this.props.divClassName||s.style!==this.props.style?!0:s.observedDiagram!==this.props.observedDiagram},n.prototype.componentDidUpdate=function(s,a){if(s.observedDiagram!==this.props.observedDiagram){var h=this.getOverview();h!==null&&(h.observed=this.props.observedDiagram)}},n.prototype.render=function(){return at.createElement("div",{ref:this.divRef,className:this.props.divClassName,style:this.props.style})},n})(at.Component);(function(e){yA(n,e);function n(s){var a=e.call(this,s)||this;return a.wasCleared=!1,a.divRef=at.createRef(),a}return n.prototype.getPalette=function(){return this.divRef.current===null?null:mA.fromDiv(this.divRef.current)},n.prototype.clear=function(){var s=this.getPalette();s!==null&&(s.clear(),this.wasCleared=!0)},n.prototype.componentDidMount=function(){var s=this;if(this.divRef.current!==null){var a=this.props.initPalette();a.div=this.divRef.current,a.delayInitialization(function(){s.mergeData(a,!0)})}},n.prototype.componentWillUnmount=function(){var s=this.getPalette();s!==null&&(s.div=null)},n.prototype.shouldComponentUpdate=function(s,a){return s.divClassName!==this.props.divClassName||s.style!==this.props.style?!0:!(s.nodeDataArray===this.props.nodeDataArray&&s.linkDataArray===this.props.linkDataArray&&s.modelData===this.props.modelData)},n.prototype.componentDidUpdate=function(s,a){var h=this;if(!(s.nodeDataArray===this.props.nodeDataArray&&s.linkDataArray===this.props.linkDataArray&&s.modelData===this.props.modelData)){var d=this.getPalette();d!==null&&(this.wasCleared?d.delayInitialization(function(){h.mergeData(d,!0),h.wasCleared=!1}):this.mergeData(d,!1))}},n.prototype.mergeData=function(s,a){var h=this,d=s.model;d.commit(function(p){h.props.modelData!==void 0&&p.assignAllDataProperties(p.modelData,h.props.modelData),p.mergeNodeDataArray(h.props.nodeDataArray),h.props.linkDataArray!==void 0&&p instanceof _4&&p.mergeLinkDataArray(h.props.linkDataArray)},a?"initial merge":"merge data")},n.prototype.render=function(){return at.createElement("div",{ref:this.divRef,className:this.props.divClassName,style:this.props.style})},n})(at.Component);function AMt({lastNews:e,lastActivity:n,content:s={}}){return console.log({content:s}),ot.jsxs(al,{children:[ot.jsx("section",{className:"w-full min-h-[80vh] flex items-center py-8",children:ot.jsxs("div",{children:[ot.jsxs("div",{className:"w-full my-4 px-4 md:px-0 md:w-11/12 mx-auto",children:[ot.jsx("h4",{className:"text-base",children:"Selamat Datang"}),ot.jsxs("h1",{className:"text-3xl font-bold",children:["Di Website Resmi ",s==null?void 0:s.village_name]})]}),ot.jsx("div",{className:"w-full",children:ot.jsx(L4,{data:(s==null?void 0:s.image_sliders)||[]})})]})}),ot.jsx("section",{className:"w-full min-h-[80vh] flex items-center bg-gray-50 py-8",children:ot.jsx("div",{className:"w-full md:w-10/12 lg:w-8/12 mx-auto px-4 mt-12",children:ot.jsxs("div",{className:"w-full flex flex-col md:flex-row gap-12",children:[ot.jsx("div",{className:"w-fit",children:ot.jsx("img",{className:"size-96 object-cover",src:`/storage/${s==null?void 0:s.image_head_of_village}`,alt:"Profil"})}),ot.jsxs("div",{className:"flex-1 w",children:[ot.jsx("h1",{className:"text-xl font-medium",children:"Sambutan Kelurahan"}),ot.jsx("h2",{className:"text-4xl font-bold",children:s==null?void 0:s.head_of_village}),ot.jsx("h3",{children:s==null?void 0:s.village_name}),ot.jsx("p",{className:"mt-4 text-gray-600 text-base text-justify leading-relaxed",dangerouslySetInnerHTML:{__html:s==null?void 0:s.opening_remarks}})]})]})})}),ot.jsx("section",{className:"min-h-[80vh] flex items-center",children:ot.jsx("div",{className:"w-full md:w-10/12 mx-auto px-4 mt-12",children:ot.jsxs("div",{className:"flex flex-col md:flex-row gap-8 py-8",children:[ot.jsxs("div",{className:"w-full md:w-1/2",children:[ot.jsx("h1",{className:"text-3xl font-bold text-gray-700",children:"Jelajahi Kelurahan"}),ot.jsx("p",{className:"text-gray-500 leading-relaxed mt-4 text-justify",dangerouslySetInnerHTML:{__html:s==null?void 0:s.about_village}})]}),ot.jsxs("div",{className:"w-full md:w-1/2",children:[ot.jsx("h1",{className:"text-4xl font-semibold",children:s==null?void 0:s.village_name}),ot.jsxs("div",{className:"grid grid-cols-2 gap-2 md:gap-4 auto-rows-fr",children:[ot.jsxs(Mi,{href:"/lokasi?tab=wisata",className:"w-full mt-4 p-3 rounded-md border",children:[ot.jsx("h1",{className:"text-xl font-bold",children:"Wisata Desa"}),ot.jsx("p",{className:"text-sm text-gray-600",children:"Daftar Wisata di Kelurahan Kowioha"})]}),ot.jsxs(Mi,{href:"/lokasi?tab=situs",className:"w-full mt-4 p-3 rounded-md border",children:[ot.jsx("h1",{className:"text-xl font-bold",children:"Situs Sejarah"}),ot.jsxs("p",{className:"text-sm text-gray-600",children:["Daftar Wisata di ",s==null?void 0:s.village_name]})]})]})]})]})})}),ot.jsx("section",{className:"min-h-[80vh] flex items-center",children:ot.jsxs("div",{className:"w-full",children:[ot.jsxs("div",{className:"text-center mt-12",children:[ot.jsx("h1",{className:"text-3xl font-bold text-gray-600",children:"Berita Terkini"}),ot.jsxs("p",{className:"text-gray-500",children:["Berita Terbaru di ",s==null?void 0:s.village_name]})]}),ot.jsx("div",{className:"relative w-full md:w-10/12 mx-auto px-4 mt-12 before:content-[''] before:absolute before:z-10 before:top-0 before:left-0 before:w-32 before:h-full before:bg-gradient-to-r before:from-white before:via-white before:to-transparent after:content-[''] after:absolute after:z-10 after:top-0 after:right-0 after:w-32 after:h-full after:bg-gradient-to-l after:from-white after:via-white after:to-transparent",children:ot.jsx(k4,{data:e})})]})}),ot.jsx("section",{className:"min-h-[80vh] flex items-center",children:ot.jsxs("div",{className:"w-full",children:[ot.jsxs("div",{className:"text-center mt-12",children:[ot.jsx("h1",{className:"text-3xl font-bold text-gray-600",children:"Kegiatan Terbaru"}),ot.jsxs("p",{className:"text-gray-500",children:["Aktivitas Terbaru di ",s==null?void 0:s.village_name]})]}),ot.jsx("div",{className:"relative w-full md:w-10/12 mx-auto px-4 mt-12 before:content-[''] before:absolute before:z-10 before:top-0 before:left-0 before:w-32 before:h-full before:bg-gradient-to-r before:from-white before:via-white before:to-transparent after:content-[''] after:absolute after:z-10 after:top-0 after:right-0 after:w-32 after:h-full after:bg-gradient-to-l after:from-white after:via-white after:to-transparent",children:ot.jsx(P4,{data:n})})]})})]})}const CMt=Object.freeze(Object.defineProperty({__proto__:null,default:AMt},Symbol.toStringTag,{value:"Module"}));function OMt({news:e}){const n=new URL(window.location.href);return ot.jsxs(al,{children:[ot.jsx("div",{children:ot.jsx("div",{className:"mt-4 w-full md:w-8/12 lg:w-1/2 mx-auto px-4 md:px-0",children:ot.jsx("h1",{className:"text-3xl font-bold text-center underline underline-offset-2 text-gray-700",children:"Berita Kami"})})}),ot.jsx("div",{className:"w-full md:w-8/12 lg:w-1/2 mx-auto px-4 md:px-0 divide-y space-y-8",children:e.map(s=>ot.jsx("div",{children:ot.jsx(Mi,{href:`/berita/${s.slug}`,className:"block w-full h-full py-2 group transition-all duration-300",children:ot.jsxs("div",{className:"flex gap-x-4",children:[ot.jsx("div",{className:"w-1/5 h-36",children:ot.jsx("img",{className:"w-full h-full object-cover",src:`${n.origin}/storage/${s.image}`,alt:s.title})}),ot.jsxs("div",{className:"flex-1 flex flex-col justify-between",children:[ot.jsxs("div",{className:"flex-1",children:[ot.jsx("h1",{className:"text-xl font-bold text-gray-600 group-hover:text-gray-700 transition-all duration-300",children:s.title}),ot.jsx("p",{className:"mt-2 text-sm line-clamp-3 text-justify text-gray-500 group-hover:text-gray-600 transition-all duration-300",dangerouslySetInnerHTML:{__html:s.content}})]}),ot.jsxs("div",{className:"flex justify-between",children:[ot.jsxs("h3",{className:"flex gap-1 items-center text-gray-500 text-xs md:text-sm",children:[ot.jsx("span",{children:ot.jsx(HX,{size:16})}),s.author]}),ot.jsx("time",{dateTime:s.created_at,className:"text-gray-500 group-hover:text-gray-600 block text-xs md:text-sm font-medium transition-all duration-300",children:nT(s.created_at)})]})]})]})})},s.id))})]})}const NMt=Object.freeze(Object.defineProperty({__proto__:null,default:OMt},Symbol.toStringTag,{value:"Module"}));function EMt({news:e,last:n}){return ot.jsx(al,{children:ot.jsx("div",{className:"w-full md:w-8/12 mx-auto px-4 md:px-0",children:ot.jsxs("div",{className:"flex gap-8 my-8",children:[ot.jsxs("div",{className:"flex-1",children:[ot.jsx("img",{src:`/storage/${e.image}`,alt:e.title,className:"w-full h-96 object-cover"}),ot.jsxs("div",{className:"flex justify-between items-end my-4",children:[ot.jsxs("div",{children:[ot.jsx("h1",{className:"text-xl font-bold capitalize",children:e.title}),ot.jsx("h3",{className:"text-gray-600 text-xs",children:nT(e.created_at)})]}),ot.jsx("div",{children:ot.jsx("h3",{className:"text-gray-600 text-xs",children:e.author})})]}),ot.jsx("p",{className:"text-gray-600 text-sm leading-relaxed text-justify",dangerouslySetInnerHTML:{__html:e.content}})]}),ot.jsxs("div",{className:"w-1/5",children:[ot.jsx("h1",{className:"text-xl mb-2 font-bold text-gray-600",children:"Terbaru"}),ot.jsx("div",{className:"divide-y space-y-1",children:n.map(s=>ot.jsx("div",{children:ot.jsxs(Mi,{href:`/berita/${s.slug}`,children:[ot.jsx("h1",{className:"text-sm font-semibold line-clamp-1 capitalize",children:s.title}),ot.jsx("p",{className:"text-xs text-gray-600 line-clamp-1",dangerouslySetInnerHTML:{__html:s.content}})]})},s.id))})]})]})})})}const LMt=Object.freeze(Object.defineProperty({__proto__:null,default:EMt},Symbol.toStringTag,{value:"Module"}));function _Mt({staff:e}){return ot.jsx(al,{children:ot.jsx("div",{className:"w-10/12 mx-auto",children:e.map(n=>ot.jsx("div",{children:ot.jsxs("div",{className:"my-8",children:[ot.jsx("h1",{className:"mb-8 text-3xl md:text-5xl lg:text-8xl font-bold md:font-extrabold text-center underline underline-offset-2 text-gray-700",children:n.name}),ot.jsx("img",{className:"w-full h-full object-cover",src:`/storage/${n.image}`,alt:n.title})]})},n.id))})})}const DMt=Object.freeze(Object.defineProperty({__proto__:null,default:_Mt},Symbol.toStringTag,{value:"Module"}));function D4(e,n){const s=at.useRef(n);at.useEffect(function(){n!==s.current&&e.attributionControl!=null&&(s.current!=null&&e.attributionControl.removeAttribution(s.current),n!=null&&e.attributionControl.addAttribution(n)),s.current=n},[e,n])}const RMt=1;function IMt(e){return Object.freeze({__version:RMt,map:e})}function FMt(e,n){return Object.freeze({...e,...n})}const R4=at.createContext(null),I4=R4.Provider;function vA(){const e=at.useContext(R4);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function jMt(e){function n(s,a){const{instance:h,context:d}=e(s).current;return at.useImperativeHandle(a,()=>h),s.children==null?null:wt.createElement(I4,{value:d},s.children)}return at.forwardRef(n)}function BMt(e){function n(s,a){const[h,d]=at.useState(!1),{instance:p}=e(s,d).current;at.useImperativeHandle(a,()=>p),at.useEffect(function(){h&&p.update()},[p,h,s.children]);const v=p._contentNode;return v?Sg.createPortal(s.children,v):null}return at.forwardRef(n)}function $Mt(e){function n(s,a){const{instance:h}=e(s).current;return at.useImperativeHandle(a,()=>h),null}return at.forwardRef(n)}function F4(e,n){const s=at.useRef();at.useEffect(function(){return n!=null&&e.instance.on(n),s.current=n,function(){s.current!=null&&e.instance.off(s.current),s.current=null}},[e,n])}function xA(e,n){const s=e.pane??n.pane;return s?{...e,pane:s}:e}function zMt(e,n){return function(a,h){const d=vA(),p=e(xA(a,d),d);return D4(d.map,a.attribution),F4(p.current,a.eventHandlers),n(p.current,d,a,h),p}}var zP={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,n){(function(s,a){a(n)})(Zs,function(s){var a="1.9.4";function h(m){var k,D,G,Z;for(D=1,G=arguments.length;D<G;D++){Z=arguments[D];for(k in Z)m[k]=Z[k]}return m}var d=Object.create||function(){function m(){}return function(k){return m.prototype=k,new m}}();function p(m,k){var D=Array.prototype.slice;if(m.bind)return m.bind.apply(m,D.call(arguments,1));var G=D.call(arguments,2);return function(){return m.apply(k,G.length?G.concat(D.call(arguments)):arguments)}}var v=0;function x(m){return"_leaflet_id"in m||(m._leaflet_id=++v),m._leaflet_id}function S(m,k,D){var G,Z,et,ft;return ft=function(){G=!1,Z&&(et.apply(D,Z),Z=!1)},et=function(){G?Z=arguments:(m.apply(D,arguments),setTimeout(ft,k),G=!0)},et}function M(m,k,D){var G=k[1],Z=k[0],et=G-Z;return m===G&&D?m:((m-Z)%et+et)%et+Z}function A(){return!1}function O(m,k){if(k===!1)return m;var D=Math.pow(10,k===void 0?6:k);return Math.round(m*D)/D}function B(m){return m.trim?m.trim():m.replace(/^\s+|\s+$/g,"")}function I(m){return B(m).split(/\s+/)}function j(m,k){Object.prototype.hasOwnProperty.call(m,"options")||(m.options=m.options?d(m.options):{});for(var D in k)m.options[D]=k[D];return m.options}function V(m,k,D){var G=[];for(var Z in m)G.push(encodeURIComponent(D?Z.toUpperCase():Z)+"="+encodeURIComponent(m[Z]));return(!k||k.indexOf("?")===-1?"?":"&")+G.join("&")}var C=/\{ *([\w_ -]+) *\}/g;function z(m,k){return m.replace(C,function(D,G){var Z=k[G];if(Z===void 0)throw new Error("No value provided for variable "+D);return typeof Z=="function"&&(Z=Z(k)),Z})}var F=Array.isArray||function(m){return Object.prototype.toString.call(m)==="[object Array]"};function Y(m,k){for(var D=0;D<m.length;D++)if(m[D]===k)return D;return-1}var U="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function J(m){return window["webkit"+m]||window["moz"+m]||window["ms"+m]}var K=0;function rt(m){var k=+new Date,D=Math.max(0,16-(k-K));return K=k+D,window.setTimeout(m,D)}var gt=window.requestAnimationFrame||J("RequestAnimationFrame")||rt,lt=window.cancelAnimationFrame||J("CancelAnimationFrame")||J("CancelRequestAnimationFrame")||function(m){window.clearTimeout(m)};function dt(m,k,D){if(D&&gt===rt)m.call(k);else return gt.call(window,p(m,k))}function mt(m){m&&lt.call(window,m)}var vt={__proto__:null,extend:h,create:d,bind:p,get lastId(){return v},stamp:x,throttle:S,wrapNum:M,falseFn:A,formatNum:O,trim:B,splitWords:I,setOptions:j,getParamString:V,template:z,isArray:F,indexOf:Y,emptyImageUrl:U,requestFn:gt,cancelFn:lt,requestAnimFrame:dt,cancelAnimFrame:mt};function Mt(){}Mt.extend=function(m){var k=function(){j(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},D=k.__super__=this.prototype,G=d(D);G.constructor=k,k.prototype=G;for(var Z in this)Object.prototype.hasOwnProperty.call(this,Z)&&Z!=="prototype"&&Z!=="__super__"&&(k[Z]=this[Z]);return m.statics&&h(k,m.statics),m.includes&&(Ct(m.includes),h.apply(null,[G].concat(m.includes))),h(G,m),delete G.statics,delete G.includes,G.options&&(G.options=D.options?d(D.options):{},h(G.options,m.options)),G._initHooks=[],G.callInitHooks=function(){if(!this._initHooksCalled){D.callInitHooks&&D.callInitHooks.call(this),this._initHooksCalled=!0;for(var et=0,ft=G._initHooks.length;et<ft;et++)G._initHooks[et].call(this)}},k},Mt.include=function(m){var k=this.prototype.options;return h(this.prototype,m),m.options&&(this.prototype.options=k,this.mergeOptions(m.options)),this},Mt.mergeOptions=function(m){return h(this.prototype.options,m),this},Mt.addInitHook=function(m){var k=Array.prototype.slice.call(arguments,1),D=typeof m=="function"?m:function(){this[m].apply(this,k)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(D),this};function Ct(m){if(!(typeof L>"u"||!L||!L.Mixin)){m=F(m)?m:[m];for(var k=0;k<m.length;k++)m[k]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Ot={on:function(m,k,D){if(typeof m=="object")for(var G in m)this._on(G,m[G],k);else{m=I(m);for(var Z=0,et=m.length;Z<et;Z++)this._on(m[Z],k,D)}return this},off:function(m,k,D){if(!arguments.length)delete this._events;else if(typeof m=="object")for(var G in m)this._off(G,m[G],k);else{m=I(m);for(var Z=arguments.length===1,et=0,ft=m.length;et<ft;et++)Z?this._off(m[et]):this._off(m[et],k,D)}return this},_on:function(m,k,D,G){if(typeof k!="function"){console.warn("wrong listener type: "+typeof k);return}if(this._listens(m,k,D)===!1){D===this&&(D=void 0);var Z={fn:k,ctx:D};G&&(Z.once=!0),this._events=this._events||{},this._events[m]=this._events[m]||[],this._events[m].push(Z)}},_off:function(m,k,D){var G,Z,et;if(this._events&&(G=this._events[m],!!G)){if(arguments.length===1){if(this._firingCount)for(Z=0,et=G.length;Z<et;Z++)G[Z].fn=A;delete this._events[m];return}if(typeof k!="function"){console.warn("wrong listener type: "+typeof k);return}var ft=this._listens(m,k,D);if(ft!==!1){var bt=G[ft];this._firingCount&&(bt.fn=A,this._events[m]=G=G.slice()),G.splice(ft,1)}}},fire:function(m,k,D){if(!this.listens(m,D))return this;var G=h({},k,{type:m,target:this,sourceTarget:k&&k.sourceTarget||this});if(this._events){var Z=this._events[m];if(Z){this._firingCount=this._firingCount+1||1;for(var et=0,ft=Z.length;et<ft;et++){var bt=Z[et],Pt=bt.fn;bt.once&&this.off(m,Pt,bt.ctx),Pt.call(bt.ctx||this,G)}this._firingCount--}}return D&&this._propagateEvent(G),this},listens:function(m,k,D,G){typeof m!="string"&&console.warn('"string" type argument expected');var Z=k;typeof k!="function"&&(G=!!k,Z=void 0,D=void 0);var et=this._events&&this._events[m];if(et&&et.length&&this._listens(m,Z,D)!==!1)return!0;if(G){for(var ft in this._eventParents)if(this._eventParents[ft].listens(m,k,D,G))return!0}return!1},_listens:function(m,k,D){if(!this._events)return!1;var G=this._events[m]||[];if(!k)return!!G.length;D===this&&(D=void 0);for(var Z=0,et=G.length;Z<et;Z++)if(G[Z].fn===k&&G[Z].ctx===D)return Z;return!1},once:function(m,k,D){if(typeof m=="object")for(var G in m)this._on(G,m[G],k,!0);else{m=I(m);for(var Z=0,et=m.length;Z<et;Z++)this._on(m[Z],k,D,!0)}return this},addEventParent:function(m){return this._eventParents=this._eventParents||{},this._eventParents[x(m)]=m,this},removeEventParent:function(m){return this._eventParents&&delete this._eventParents[x(m)],this},_propagateEvent:function(m){for(var k in this._eventParents)this._eventParents[k].fire(m.type,h({layer:m.target,propagatedFrom:m.target},m),!0)}};Ot.addEventListener=Ot.on,Ot.removeEventListener=Ot.clearAllEventListeners=Ot.off,Ot.addOneTimeEventListener=Ot.once,Ot.fireEvent=Ot.fire,Ot.hasEventListeners=Ot.listens;var Rt=Mt.extend(Ot);function yt(m,k,D){this.x=D?Math.round(m):m,this.y=D?Math.round(k):k}var Nt=Math.trunc||function(m){return m>0?Math.floor(m):Math.ceil(m)};yt.prototype={clone:function(){return new yt(this.x,this.y)},add:function(m){return this.clone()._add(kt(m))},_add:function(m){return this.x+=m.x,this.y+=m.y,this},subtract:function(m){return this.clone()._subtract(kt(m))},_subtract:function(m){return this.x-=m.x,this.y-=m.y,this},divideBy:function(m){return this.clone()._divideBy(m)},_divideBy:function(m){return this.x/=m,this.y/=m,this},multiplyBy:function(m){return this.clone()._multiplyBy(m)},_multiplyBy:function(m){return this.x*=m,this.y*=m,this},scaleBy:function(m){return new yt(this.x*m.x,this.y*m.y)},unscaleBy:function(m){return new yt(this.x/m.x,this.y/m.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Nt(this.x),this.y=Nt(this.y),this},distanceTo:function(m){m=kt(m);var k=m.x-this.x,D=m.y-this.y;return Math.sqrt(k*k+D*D)},equals:function(m){return m=kt(m),m.x===this.x&&m.y===this.y},contains:function(m){return m=kt(m),Math.abs(m.x)<=Math.abs(this.x)&&Math.abs(m.y)<=Math.abs(this.y)},toString:function(){return"Point("+O(this.x)+", "+O(this.y)+")"}};function kt(m,k,D){return m instanceof yt?m:F(m)?new yt(m[0],m[1]):m==null?m:typeof m=="object"&&"x"in m&&"y"in m?new yt(m.x,m.y):new yt(m,k,D)}function At(m,k){if(m)for(var D=k?[m,k]:m,G=0,Z=D.length;G<Z;G++)this.extend(D[G])}At.prototype={extend:function(m){var k,D;if(!m)return this;if(m instanceof yt||typeof m[0]=="number"||"x"in m)k=D=kt(m);else if(m=It(m),k=m.min,D=m.max,!k||!D)return this;return!this.min&&!this.max?(this.min=k.clone(),this.max=D.clone()):(this.min.x=Math.min(k.x,this.min.x),this.max.x=Math.max(D.x,this.max.x),this.min.y=Math.min(k.y,this.min.y),this.max.y=Math.max(D.y,this.max.y)),this},getCenter:function(m){return kt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,m)},getBottomLeft:function(){return kt(this.min.x,this.max.y)},getTopRight:function(){return kt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(m){var k,D;return typeof m[0]=="number"||m instanceof yt?m=kt(m):m=It(m),m instanceof At?(k=m.min,D=m.max):k=D=m,k.x>=this.min.x&&D.x<=this.max.x&&k.y>=this.min.y&&D.y<=this.max.y},intersects:function(m){m=It(m);var k=this.min,D=this.max,G=m.min,Z=m.max,et=Z.x>=k.x&&G.x<=D.x,ft=Z.y>=k.y&&G.y<=D.y;return et&&ft},overlaps:function(m){m=It(m);var k=this.min,D=this.max,G=m.min,Z=m.max,et=Z.x>k.x&&G.x<D.x,ft=Z.y>k.y&&G.y<D.y;return et&&ft},isValid:function(){return!!(this.min&&this.max)},pad:function(m){var k=this.min,D=this.max,G=Math.abs(k.x-D.x)*m,Z=Math.abs(k.y-D.y)*m;return It(kt(k.x-G,k.y-Z),kt(D.x+G,D.y+Z))},equals:function(m){return m?(m=It(m),this.min.equals(m.getTopLeft())&&this.max.equals(m.getBottomRight())):!1}};function It(m,k){return!m||m instanceof At?m:new At(m,k)}function $t(m,k){if(m)for(var D=k?[m,k]:m,G=0,Z=D.length;G<Z;G++)this.extend(D[G])}$t.prototype={extend:function(m){var k=this._southWest,D=this._northEast,G,Z;if(m instanceof ne)G=m,Z=m;else if(m instanceof $t){if(G=m._southWest,Z=m._northEast,!G||!Z)return this}else return m?this.extend(Ft(m)||ee(m)):this;return!k&&!D?(this._southWest=new ne(G.lat,G.lng),this._northEast=new ne(Z.lat,Z.lng)):(k.lat=Math.min(G.lat,k.lat),k.lng=Math.min(G.lng,k.lng),D.lat=Math.max(Z.lat,D.lat),D.lng=Math.max(Z.lng,D.lng)),this},pad:function(m){var k=this._southWest,D=this._northEast,G=Math.abs(k.lat-D.lat)*m,Z=Math.abs(k.lng-D.lng)*m;return new $t(new ne(k.lat-G,k.lng-Z),new ne(D.lat+G,D.lng+Z))},getCenter:function(){return new ne((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ne(this.getNorth(),this.getWest())},getSouthEast:function(){return new ne(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(m){typeof m[0]=="number"||m instanceof ne||"lat"in m?m=Ft(m):m=ee(m);var k=this._southWest,D=this._northEast,G,Z;return m instanceof $t?(G=m.getSouthWest(),Z=m.getNorthEast()):G=Z=m,G.lat>=k.lat&&Z.lat<=D.lat&&G.lng>=k.lng&&Z.lng<=D.lng},intersects:function(m){m=ee(m);var k=this._southWest,D=this._northEast,G=m.getSouthWest(),Z=m.getNorthEast(),et=Z.lat>=k.lat&&G.lat<=D.lat,ft=Z.lng>=k.lng&&G.lng<=D.lng;return et&&ft},overlaps:function(m){m=ee(m);var k=this._southWest,D=this._northEast,G=m.getSouthWest(),Z=m.getNorthEast(),et=Z.lat>k.lat&&G.lat<D.lat,ft=Z.lng>k.lng&&G.lng<D.lng;return et&&ft},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(m,k){return m?(m=ee(m),this._southWest.equals(m.getSouthWest(),k)&&this._northEast.equals(m.getNorthEast(),k)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ee(m,k){return m instanceof $t?m:new $t(m,k)}function ne(m,k,D){if(isNaN(m)||isNaN(k))throw new Error("Invalid LatLng object: ("+m+", "+k+")");this.lat=+m,this.lng=+k,D!==void 0&&(this.alt=+D)}ne.prototype={equals:function(m,k){if(!m)return!1;m=Ft(m);var D=Math.max(Math.abs(this.lat-m.lat),Math.abs(this.lng-m.lng));return D<=(k===void 0?1e-9:k)},toString:function(m){return"LatLng("+O(this.lat,m)+", "+O(this.lng,m)+")"},distanceTo:function(m){return be.distance(this,Ft(m))},wrap:function(){return be.wrapLatLng(this)},toBounds:function(m){var k=180*m/40075017,D=k/Math.cos(Math.PI/180*this.lat);return ee([this.lat-k,this.lng-D],[this.lat+k,this.lng+D])},clone:function(){return new ne(this.lat,this.lng,this.alt)}};function Ft(m,k,D){return m instanceof ne?m:F(m)&&typeof m[0]!="object"?m.length===3?new ne(m[0],m[1],m[2]):m.length===2?new ne(m[0],m[1]):null:m==null?m:typeof m=="object"&&"lat"in m?new ne(m.lat,"lng"in m?m.lng:m.lon,m.alt):k===void 0?null:new ne(m,k,D)}var he={latLngToPoint:function(m,k){var D=this.projection.project(m),G=this.scale(k);return this.transformation._transform(D,G)},pointToLatLng:function(m,k){var D=this.scale(k),G=this.transformation.untransform(m,D);return this.projection.unproject(G)},project:function(m){return this.projection.project(m)},unproject:function(m){return this.projection.unproject(m)},scale:function(m){return 256*Math.pow(2,m)},zoom:function(m){return Math.log(m/256)/Math.LN2},getProjectedBounds:function(m){if(this.infinite)return null;var k=this.projection.bounds,D=this.scale(m),G=this.transformation.transform(k.min,D),Z=this.transformation.transform(k.max,D);return new At(G,Z)},infinite:!1,wrapLatLng:function(m){var k=this.wrapLng?M(m.lng,this.wrapLng,!0):m.lng,D=this.wrapLat?M(m.lat,this.wrapLat,!0):m.lat,G=m.alt;return new ne(D,k,G)},wrapLatLngBounds:function(m){var k=m.getCenter(),D=this.wrapLatLng(k),G=k.lat-D.lat,Z=k.lng-D.lng;if(G===0&&Z===0)return m;var et=m.getSouthWest(),ft=m.getNorthEast(),bt=new ne(et.lat-G,et.lng-Z),Pt=new ne(ft.lat-G,ft.lng-Z);return new $t(bt,Pt)}},be=h({},he,{wrapLng:[-180,180],R:6371e3,distance:function(m,k){var D=Math.PI/180,G=m.lat*D,Z=k.lat*D,et=Math.sin((k.lat-m.lat)*D/2),ft=Math.sin((k.lng-m.lng)*D/2),bt=et*et+Math.cos(G)*Math.cos(Z)*ft*ft,Pt=2*Math.atan2(Math.sqrt(bt),Math.sqrt(1-bt));return this.R*Pt}}),te=6378137,le={R:te,MAX_LATITUDE:85.0511287798,project:function(m){var k=Math.PI/180,D=this.MAX_LATITUDE,G=Math.max(Math.min(D,m.lat),-D),Z=Math.sin(G*k);return new yt(this.R*m.lng*k,this.R*Math.log((1+Z)/(1-Z))/2)},unproject:function(m){var k=180/Math.PI;return new ne((2*Math.atan(Math.exp(m.y/this.R))-Math.PI/2)*k,m.x*k/this.R)},bounds:function(){var m=te*Math.PI;return new At([-m,-m],[m,m])}()};function me(m,k,D,G){if(F(m)){this._a=m[0],this._b=m[1],this._c=m[2],this._d=m[3];return}this._a=m,this._b=k,this._c=D,this._d=G}me.prototype={transform:function(m,k){return this._transform(m.clone(),k)},_transform:function(m,k){return k=k||1,m.x=k*(this._a*m.x+this._b),m.y=k*(this._c*m.y+this._d),m},untransform:function(m,k){return k=k||1,new yt((m.x/k-this._b)/this._a,(m.y/k-this._d)/this._c)}};function _t(m,k,D,G){return new me(m,k,D,G)}var Yt=h({},be,{code:"EPSG:3857",projection:le,transformation:function(){var m=.5/(Math.PI*le.R);return _t(m,.5,-m,.5)}()}),ue=h({},Yt,{code:"EPSG:900913"});function Ae(m){return document.createElementNS("http://www.w3.org/2000/svg",m)}function _e(m,k){var D="",G,Z,et,ft,bt,Pt;for(G=0,et=m.length;G<et;G++){for(bt=m[G],Z=0,ft=bt.length;Z<ft;Z++)Pt=bt[Z],D+=(Z?"L":"M")+Pt.x+" "+Pt.y;D+=k?Se.svg?"z":"x":""}return D||"M0 0"}var en=document.documentElement.style,qe="ActiveXObject"in window,$e=qe&&!document.addEventListener,yn="msLaunchUri"in navigator&&!("documentMode"in document),mi=vi("webkit"),rr=vi("android"),Ki=vi("android 2")||vi("android 3"),gr=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),uo=rr&&vi("Google")&&gr<537&&!("AudioNode"in window),Ri=!!window.opera,si=!yn&&vi("chrome"),Dr=vi("gecko")&&!mi&&!Ri&&!qe,oi=!si&&vi("safari"),Bn=vi("phantom"),_n="OTransition"in en,mr=navigator.platform.indexOf("Win")===0,Yr=qe&&"transition"in en,fs="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ki,yr="MozPerspective"in en,xe=!window.L_DISABLE_3D&&(Yr||fs||yr)&&!_n&&!Bn,Rr=typeof orientation<"u"||vi("mobile"),Oe=Rr&&mi,He=Rr&&fs,Xe=!window.PointerEvent&&window.MSPointerEvent,Oi=!!(window.PointerEvent||Xe),yi="ontouchstart"in window||!!window.TouchEvent,Ir=!window.L_NO_TOUCH&&(yi||Oi),Hn=Rr&&Ri,fa=Rr&&Dr,pa=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,cl=function(){var m=!1;try{var k=Object.defineProperty({},"passive",{get:function(){m=!0}});window.addEventListener("testPassiveEventSupport",A,k),window.removeEventListener("testPassiveEventSupport",A,k)}catch{}return m}(),dn=function(){return!!document.createElement("canvas").getContext}(),ps=!!(document.createElementNS&&Ae("svg").createSVGRect),dl=!!ps&&function(){var m=document.createElement("div");return m.innerHTML="<svg/>",(m.firstChild&&m.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),ga=!ps&&function(){try{var m=document.createElement("div");m.innerHTML='<v:shape adj="1"/>';var k=m.firstChild;return k.style.behavior="url(#default#VML)",k&&typeof k.adj=="object"}catch{return!1}}(),ma=navigator.platform.indexOf("Mac")===0,Gi=navigator.platform.indexOf("Linux")===0;function vi(m){return navigator.userAgent.toLowerCase().indexOf(m)>=0}var Se={ie:qe,ielt9:$e,edge:yn,webkit:mi,android:rr,android23:Ki,androidStock:uo,opera:Ri,chrome:si,gecko:Dr,safari:oi,phantom:Bn,opera12:_n,win:mr,ie3d:Yr,webkit3d:fs,gecko3d:yr,any3d:xe,mobile:Rr,mobileWebkit:Oe,mobileWebkit3d:He,msPointer:Xe,pointer:Oi,touch:Ir,touchNative:yi,mobileOpera:Hn,mobileGecko:fa,retina:pa,passiveEvents:cl,canvas:dn,svg:ps,vml:ga,inlineSvg:dl,mac:ma,linux:Gi},Wi=Se.msPointer?"MSPointerDown":"pointerdown",mu=Se.msPointer?"MSPointerMove":"pointermove",ho=Se.msPointer?"MSPointerUp":"pointerup",ze=Se.msPointer?"MSPointerCancel":"pointercancel",Ee={touchstart:Wi,touchmove:mu,touchend:ho,touchcancel:ze},yh={touchstart:Id,touchmove:fl,touchend:fl,touchcancel:fl},Hi={},vh=!1;function Ed(m,k,D){return k==="touchstart"&&Rd(),yh[k]?(D=yh[k].bind(this,D),m.addEventListener(Ee[k],D,!1),D):(console.warn("wrong event specified:",k),A)}function Ld(m,k,D){if(!Ee[k]){console.warn("wrong event specified:",k);return}m.removeEventListener(Ee[k],D,!1)}function _d(m){Hi[m.pointerId]=m}function Dd(m){Hi[m.pointerId]&&(Hi[m.pointerId]=m)}function Ds(m){delete Hi[m.pointerId]}function Rd(){vh||(document.addEventListener(Wi,_d,!0),document.addEventListener(mu,Dd,!0),document.addEventListener(ho,Ds,!0),document.addEventListener(ze,Ds,!0),vh=!0)}function fl(m,k){if(k.pointerType!==(k.MSPOINTER_TYPE_MOUSE||"mouse")){k.touches=[];for(var D in Hi)k.touches.push(Hi[D]);k.changedTouches=[k],m(k)}}function Id(m,k){k.MSPOINTER_TYPE_TOUCH&&k.pointerType===k.MSPOINTER_TYPE_TOUCH&&Dn(k),fl(m,k)}function Fd(m){var k={},D,G;for(G in m)D=m[G],k[G]=D&&D.bind?D.bind(m):D;return m=k,k.type="dblclick",k.detail=2,k.isTrusted=!1,k._simulated=!0,k}var xh=200;function re(m,k){m.addEventListener("dblclick",k);var D=0,G;function Z(et){if(et.detail!==1){G=et.detail;return}if(!(et.pointerType==="mouse"||et.sourceCapabilities&&!et.sourceCapabilities.firesTouchEvents)){var ft=xt(et);if(!(ft.some(function(Pt){return Pt instanceof HTMLLabelElement&&Pt.attributes.for})&&!ft.some(function(Pt){return Pt instanceof HTMLInputElement||Pt instanceof HTMLSelectElement}))){var bt=Date.now();bt-D<=xh?(G++,G===2&&k(Fd(et))):G=1,D=bt}}}return m.addEventListener("click",Z),{dblclick:k,simDblclick:Z}}function qr(m,k){m.removeEventListener("dblclick",k.dblclick),m.removeEventListener("click",k.simDblclick)}var Rs=Bo(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),fn=Bo(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),pl=fn==="webkitTransition"||fn==="OTransition"?fn+"End":"transitionend";function wi(m){return typeof m=="string"?document.getElementById(m):m}function fe(m,k){var D=m.style[k]||m.currentStyle&&m.currentStyle[k];if((!D||D==="auto")&&document.defaultView){var G=document.defaultView.getComputedStyle(m,null);D=G?G[k]:null}return D==="auto"?null:D}function Ze(m,k,D){var G=document.createElement(m);return G.className=k||"",D&&D.appendChild(G),G}function Sn(m){var k=m.parentNode;k&&k.removeChild(m)}function ya(m){for(;m.firstChild;)m.removeChild(m.firstChild)}function Zr(m){var k=m.parentNode;k&&k.lastChild!==m&&k.appendChild(m)}function on(m){var k=m.parentNode;k&&k.firstChild!==m&&k.insertBefore(m,k.firstChild)}function gs(m,k){if(m.classList!==void 0)return m.classList.contains(k);var D=gl(m);return D.length>0&&new RegExp("(^|\\s)"+k+"(\\s|$)").test(D)}function Ne(m,k){if(m.classList!==void 0)for(var D=I(k),G=0,Z=D.length;G<Z;G++)m.classList.add(D[G]);else if(!gs(m,k)){var et=gl(m);Ii(m,(et?et+" ":"")+k)}}function Cn(m,k){m.classList!==void 0?m.classList.remove(k):Ii(m,B((" "+gl(m)+" ").replace(" "+k+" "," ")))}function Ii(m,k){m.className.baseVal===void 0?m.className=k:m.className.baseVal=k}function gl(m){return m.correspondingElement&&(m=m.correspondingElement),m.className.baseVal===void 0?m.className:m.className.baseVal}function vr(m,k){"opacity"in m.style?m.style.opacity=k:"filter"in m.style&&jo(m,k)}function jo(m,k){var D=!1,G="DXImageTransform.Microsoft.Alpha";try{D=m.filters.item(G)}catch{if(k===1)return}k=Math.round(k*100),D?(D.Enabled=k!==100,D.Opacity=k):m.style.filter+=" progid:"+G+"(opacity="+k+")"}function Bo(m){for(var k=document.documentElement.style,D=0;D<m.length;D++)if(m[D]in k)return m[D];return!1}function Le(m,k,D){var G=k||new yt(0,0);m.style[Rs]=(Se.ie3d?"translate("+G.x+"px,"+G.y+"px)":"translate3d("+G.x+"px,"+G.y+"px,0)")+(D?" scale("+D+")":"")}function $n(m,k){m._leaflet_pos=k,Se.any3d?Le(m,k):(m.style.left=k.x+"px",m.style.top=k.y+"px")}function ye(m){return m._leaflet_pos||new yt(0,0)}var ms,Jt,va;if("onselectstart"in document)ms=function(){Ut(window,"selectstart",Dn)},Jt=function(){Ie(window,"selectstart",Dn)};else{var co=Bo(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ms=function(){if(co){var m=document.documentElement.style;va=m[co],m[co]="none"}},Jt=function(){co&&(document.documentElement.style[co]=va,va=void 0)}}function xr(){Ut(window,"dragstart",Dn)}function xa(){Ie(window,"dragstart",Dn)}var se,yu;function Fr(m){for(;m.tabIndex===-1;)m=m.parentNode;m.style&&($o(),se=m,yu=m.style.outlineStyle,m.style.outlineStyle="none",Ut(window,"keydown",$o))}function $o(){se&&(se.style.outlineStyle=yu,se=void 0,yu=void 0,Ie(window,"keydown",$o))}function Is(m){do m=m.parentNode;while((!m.offsetWidth||!m.offsetHeight)&&m!==document.body);return m}function fo(m){var k=m.getBoundingClientRect();return{x:k.width/m.offsetWidth||1,y:k.height/m.offsetHeight||1,boundingClientRect:k}}var Fs={__proto__:null,TRANSFORM:Rs,TRANSITION:fn,TRANSITION_END:pl,get:wi,getStyle:fe,create:Ze,remove:Sn,empty:ya,toFront:Zr,toBack:on,hasClass:gs,addClass:Ne,removeClass:Cn,setClass:Ii,getClass:gl,setOpacity:vr,testProp:Bo,setTransform:Le,setPosition:$n,getPosition:ye,get disableTextSelection(){return ms},get enableTextSelection(){return Jt},disableImageDrag:xr,enableImageDrag:xa,preventOutline:Fr,restoreOutline:$o,getSizedParentNode:Is,getScale:fo};function Ut(m,k,D,G){if(k&&typeof k=="object")for(var Z in k)vs(m,Z,k[Z],D);else{k=I(k);for(var et=0,ft=k.length;et<ft;et++)vs(m,k[et],D,G)}return this}var zn="_leaflet_events";function Ie(m,k,D,G){if(arguments.length===1)ys(m),delete m[zn];else if(k&&typeof k=="object")for(var Z in k)zo(m,Z,k[Z],D);else if(k=I(k),arguments.length===2)ys(m,function(bt){return Y(k,bt)!==-1});else for(var et=0,ft=k.length;et<ft;et++)zo(m,k[et],D,G);return this}function ys(m,k){for(var D in m[zn]){var G=D.split(/\d/)[0];(!k||k(G))&&zo(m,G,null,null,D)}}var jr={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function vs(m,k,D,G){var Z=k+x(D)+(G?"_"+x(G):"");if(m[zn]&&m[zn][Z])return this;var et=function(bt){return D.call(G||m,bt||window.event)},ft=et;!Se.touchNative&&Se.pointer&&k.indexOf("touch")===0?et=Ed(m,k,et):Se.touch&&k==="dblclick"?et=re(m,et):"addEventListener"in m?k==="touchstart"||k==="touchmove"||k==="wheel"||k==="mousewheel"?m.addEventListener(jr[k]||k,et,Se.passiveEvents?{passive:!1}:!1):k==="mouseenter"||k==="mouseleave"?(et=function(bt){bt=bt||window.event,Qt(m,bt)&&ft(bt)},m.addEventListener(jr[k],et,!1)):m.addEventListener(k,ft,!1):m.attachEvent("on"+k,et),m[zn]=m[zn]||{},m[zn][Z]=et}function zo(m,k,D,G,Z){Z=Z||k+x(D)+(G?"_"+x(G):"");var et=m[zn]&&m[zn][Z];if(!et)return this;!Se.touchNative&&Se.pointer&&k.indexOf("touch")===0?Ld(m,k,et):Se.touch&&k==="dblclick"?qr(m,et):"removeEventListener"in m?m.removeEventListener(jr[k]||k,et,!1):m.detachEvent("on"+k,et),m[zn][Z]=null}function sr(m){return m.stopPropagation?m.stopPropagation():m.originalEvent?m.originalEvent._stopped=!0:m.cancelBubble=!0,this}function Vo(m){return vs(m,"wheel",sr),this}function js(m){return Ut(m,"mousedown touchstart dblclick contextmenu",sr),m._leaflet_disable_click=!0,this}function Dn(m){return m.preventDefault?m.preventDefault():m.returnValue=!1,this}function po(m){return Dn(m),sr(m),this}function xt(m){if(m.composedPath)return m.composedPath();for(var k=[],D=m.target;D;)k.push(D),D=D.parentNode;return k}function Lt(m,k){if(!k)return new yt(m.clientX,m.clientY);var D=fo(k),G=D.boundingClientRect;return new yt((m.clientX-G.left)/D.x-k.clientLeft,(m.clientY-G.top)/D.y-k.clientTop)}var Zt=Se.linux&&Se.chrome?window.devicePixelRatio:Se.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ge(m){return Se.edge?m.wheelDeltaY/2:m.deltaY&&m.deltaMode===0?-m.deltaY/Zt:m.deltaY&&m.deltaMode===1?-m.deltaY*20:m.deltaY&&m.deltaMode===2?-m.deltaY*60:m.deltaX||m.deltaZ?0:m.wheelDelta?(m.wheelDeltaY||m.wheelDelta)/2:m.detail&&Math.abs(m.detail)<32765?-m.detail*20:m.detail?m.detail/-32765*60:0}function Qt(m,k){var D=k.relatedTarget;if(!D)return!0;try{for(;D&&D!==m;)D=D.parentNode}catch{return!1}return D!==m}var De={__proto__:null,on:Ut,off:Ie,stopPropagation:sr,disableScrollPropagation:Vo,disableClickPropagation:js,preventDefault:Dn,stop:po,getPropagationPath:xt,getMousePosition:Lt,getWheelDelta:ge,isExternalTarget:Qt,addListener:Ut,removeListener:Ie},hn=Rt.extend({run:function(m,k,D,G){this.stop(),this._el=m,this._inProgress=!0,this._duration=D||.25,this._easeOutPower=1/Math.max(G||.5,.2),this._startPos=ye(m),this._offset=k.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=dt(this._animate,this),this._step()},_step:function(m){var k=+new Date-this._startTime,D=this._duration*1e3;k<D?this._runFrame(this._easeOut(k/D),m):(this._runFrame(1),this._complete())},_runFrame:function(m,k){var D=this._startPos.add(this._offset.multiplyBy(m));k&&D._round(),$n(this._el,D),this.fire("step")},_complete:function(){mt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(m){return 1-Math.pow(1-m,this._easeOutPower)}}),Me=Rt.extend({options:{crs:Yt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(m,k){k=j(this,k),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(m),this._initLayout(),this._onResize=p(this._onResize,this),this._initEvents(),k.maxBounds&&this.setMaxBounds(k.maxBounds),k.zoom!==void 0&&(this._zoom=this._limitZoom(k.zoom)),k.center&&k.zoom!==void 0&&this.setView(Ft(k.center),k.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=fn&&Se.any3d&&!Se.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ut(this._proxy,pl,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(m,k,D){if(k=k===void 0?this._zoom:this._limitZoom(k),m=this._limitCenter(Ft(m),k,this.options.maxBounds),D=D||{},this._stop(),this._loaded&&!D.reset&&D!==!0){D.animate!==void 0&&(D.zoom=h({animate:D.animate},D.zoom),D.pan=h({animate:D.animate,duration:D.duration},D.pan));var G=this._zoom!==k?this._tryAnimatedZoom&&this._tryAnimatedZoom(m,k,D.zoom):this._tryAnimatedPan(m,D.pan);if(G)return clearTimeout(this._sizeTimer),this}return this._resetView(m,k,D.pan&&D.pan.noMoveStart),this},setZoom:function(m,k){return this._loaded?this.setView(this.getCenter(),m,{zoom:k}):(this._zoom=m,this)},zoomIn:function(m,k){return m=m||(Se.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+m,k)},zoomOut:function(m,k){return m=m||(Se.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-m,k)},setZoomAround:function(m,k,D){var G=this.getZoomScale(k),Z=this.getSize().divideBy(2),et=m instanceof yt?m:this.latLngToContainerPoint(m),ft=et.subtract(Z).multiplyBy(1-1/G),bt=this.containerPointToLatLng(Z.add(ft));return this.setView(bt,k,{zoom:D})},_getBoundsCenterZoom:function(m,k){k=k||{},m=m.getBounds?m.getBounds():ee(m);var D=kt(k.paddingTopLeft||k.padding||[0,0]),G=kt(k.paddingBottomRight||k.padding||[0,0]),Z=this.getBoundsZoom(m,!1,D.add(G));if(Z=typeof k.maxZoom=="number"?Math.min(k.maxZoom,Z):Z,Z===1/0)return{center:m.getCenter(),zoom:Z};var et=G.subtract(D).divideBy(2),ft=this.project(m.getSouthWest(),Z),bt=this.project(m.getNorthEast(),Z),Pt=this.unproject(ft.add(bt).divideBy(2).add(et),Z);return{center:Pt,zoom:Z}},fitBounds:function(m,k){if(m=ee(m),!m.isValid())throw new Error("Bounds are not valid.");var D=this._getBoundsCenterZoom(m,k);return this.setView(D.center,D.zoom,k)},fitWorld:function(m){return this.fitBounds([[-90,-180],[90,180]],m)},panTo:function(m,k){return this.setView(m,this._zoom,{pan:k})},panBy:function(m,k){if(m=kt(m).round(),k=k||{},!m.x&&!m.y)return this.fire("moveend");if(k.animate!==!0&&!this.getSize().contains(m))return this._resetView(this.unproject(this.project(this.getCenter()).add(m)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new hn,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),k.noMoveStart||this.fire("movestart"),k.animate!==!1){Ne(this._mapPane,"leaflet-pan-anim");var D=this._getMapPanePos().subtract(m).round();this._panAnim.run(this._mapPane,D,k.duration||.25,k.easeLinearity)}else this._rawPanBy(m),this.fire("move").fire("moveend");return this},flyTo:function(m,k,D){if(D=D||{},D.animate===!1||!Se.any3d)return this.setView(m,k,D);this._stop();var G=this.project(this.getCenter()),Z=this.project(m),et=this.getSize(),ft=this._zoom;m=Ft(m),k=k===void 0?ft:k;var bt=Math.max(et.x,et.y),Pt=bt*this.getZoomScale(ft,k),Dt=Z.distanceTo(G)||1,Gt=1.42,Bt=Gt*Gt;function Ht(ln){var qi=ln?-1:1,ni=ln?Pt:bt,ki=Pt*Pt-bt*bt+qi*Bt*Bt*Dt*Dt,ns=2*ni*Bt*Dt,Be=ki/ns,ws=Math.sqrt(Be*Be+1)-Be,Zi=ws<1e-9?-18:Math.log(ws);return Zi}function Fe(ln){return(Math.exp(ln)-Math.exp(-ln))/2}function de(ln){return(Math.exp(ln)+Math.exp(-ln))/2}function qt(ln){return Fe(ln)/de(ln)}var Vt=Ht(0);function oe(ln){return bt*(de(Vt)/de(Vt+Gt*ln))}function Ce(ln){return bt*(de(Vt)*qt(Vt+Gt*ln)-Fe(Vt))/Bt}function xn(ln){return 1-Math.pow(1-ln,1.5)}var Rn=Date.now(),In=(Ht(1)-Vt)/Gt,qn=D.duration?1e3*D.duration:1e3*In*.8;function es(){var ln=(Date.now()-Rn)/qn,qi=xn(ln)*In;ln<=1?(this._flyToFrame=dt(es,this),this._move(this.unproject(G.add(Z.subtract(G).multiplyBy(Ce(qi)/Dt)),ft),this.getScaleZoom(bt/oe(qi),ft),{flyTo:!0})):this._move(m,k)._moveEnd(!0)}return this._moveStart(!0,D.noMoveStart),es.call(this),this},flyToBounds:function(m,k){var D=this._getBoundsCenterZoom(m,k);return this.flyTo(D.center,D.zoom,k)},setMaxBounds:function(m){return m=ee(m),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),m.isValid()?(this.options.maxBounds=m,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(m){var k=this.options.minZoom;return this.options.minZoom=m,this._loaded&&k!==m&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(m):this},setMaxZoom:function(m){var k=this.options.maxZoom;return this.options.maxZoom=m,this._loaded&&k!==m&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(m):this},panInsideBounds:function(m,k){this._enforcingBounds=!0;var D=this.getCenter(),G=this._limitCenter(D,this._zoom,ee(m));return D.equals(G)||this.panTo(G,k),this._enforcingBounds=!1,this},panInside:function(m,k){k=k||{};var D=kt(k.paddingTopLeft||k.padding||[0,0]),G=kt(k.paddingBottomRight||k.padding||[0,0]),Z=this.project(this.getCenter()),et=this.project(m),ft=this.getPixelBounds(),bt=It([ft.min.add(D),ft.max.subtract(G)]),Pt=bt.getSize();if(!bt.contains(et)){this._enforcingBounds=!0;var Dt=et.subtract(bt.getCenter()),Gt=bt.extend(et).getSize().subtract(Pt);Z.x+=Dt.x<0?-Gt.x:Gt.x,Z.y+=Dt.y<0?-Gt.y:Gt.y,this.panTo(this.unproject(Z),k),this._enforcingBounds=!1}return this},invalidateSize:function(m){if(!this._loaded)return this;m=h({animate:!1,pan:!0},m===!0?{animate:!0}:m);var k=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var D=this.getSize(),G=k.divideBy(2).round(),Z=D.divideBy(2).round(),et=G.subtract(Z);return!et.x&&!et.y?this:(m.animate&&m.pan?this.panBy(et):(m.pan&&this._rawPanBy(et),this.fire("move"),m.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(p(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:k,newSize:D}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(m){if(m=this._locateOptions=h({timeout:1e4,watch:!1},m),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var k=p(this._handleGeolocationResponse,this),D=p(this._handleGeolocationError,this);return m.watch?this._locationWatchId=navigator.geolocation.watchPosition(k,D,m):navigator.geolocation.getCurrentPosition(k,D,m),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(m){if(this._container._leaflet_id){var k=m.code,D=m.message||(k===1?"permission denied":k===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:k,message:"Geolocation error: "+D+"."})}},_handleGeolocationResponse:function(m){if(this._container._leaflet_id){var k=m.coords.latitude,D=m.coords.longitude,G=new ne(k,D),Z=G.toBounds(m.coords.accuracy*2),et=this._locateOptions;if(et.setView){var ft=this.getBoundsZoom(Z);this.setView(G,et.maxZoom?Math.min(ft,et.maxZoom):ft)}var bt={latlng:G,bounds:Z,timestamp:m.timestamp};for(var Pt in m.coords)typeof m.coords[Pt]=="number"&&(bt[Pt]=m.coords[Pt]);this.fire("locationfound",bt)}},addHandler:function(m,k){if(!k)return this;var D=this[m]=new k(this);return this._handlers.push(D),this.options[m]&&D.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Sn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(mt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var m;for(m in this._layers)this._layers[m].remove();for(m in this._panes)Sn(this._panes[m]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(m,k){var D="leaflet-pane"+(m?" leaflet-"+m.replace("Pane","")+"-pane":""),G=Ze("div",D,k||this._mapPane);return m&&(this._panes[m]=G),G},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var m=this.getPixelBounds(),k=this.unproject(m.getBottomLeft()),D=this.unproject(m.getTopRight());return new $t(k,D)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(m,k,D){m=ee(m),D=kt(D||[0,0]);var G=this.getZoom()||0,Z=this.getMinZoom(),et=this.getMaxZoom(),ft=m.getNorthWest(),bt=m.getSouthEast(),Pt=this.getSize().subtract(D),Dt=It(this.project(bt,G),this.project(ft,G)).getSize(),Gt=Se.any3d?this.options.zoomSnap:1,Bt=Pt.x/Dt.x,Ht=Pt.y/Dt.y,Fe=k?Math.max(Bt,Ht):Math.min(Bt,Ht);return G=this.getScaleZoom(Fe,G),Gt&&(G=Math.round(G/(Gt/100))*(Gt/100),G=k?Math.ceil(G/Gt)*Gt:Math.floor(G/Gt)*Gt),Math.max(Z,Math.min(et,G))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new yt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(m,k){var D=this._getTopLeftPoint(m,k);return new At(D,D.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(m){return this.options.crs.getProjectedBounds(m===void 0?this.getZoom():m)},getPane:function(m){return typeof m=="string"?this._panes[m]:m},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(m,k){var D=this.options.crs;return k=k===void 0?this._zoom:k,D.scale(m)/D.scale(k)},getScaleZoom:function(m,k){var D=this.options.crs;k=k===void 0?this._zoom:k;var G=D.zoom(m*D.scale(k));return isNaN(G)?1/0:G},project:function(m,k){return k=k===void 0?this._zoom:k,this.options.crs.latLngToPoint(Ft(m),k)},unproject:function(m,k){return k=k===void 0?this._zoom:k,this.options.crs.pointToLatLng(kt(m),k)},layerPointToLatLng:function(m){var k=kt(m).add(this.getPixelOrigin());return this.unproject(k)},latLngToLayerPoint:function(m){var k=this.project(Ft(m))._round();return k._subtract(this.getPixelOrigin())},wrapLatLng:function(m){return this.options.crs.wrapLatLng(Ft(m))},wrapLatLngBounds:function(m){return this.options.crs.wrapLatLngBounds(ee(m))},distance:function(m,k){return this.options.crs.distance(Ft(m),Ft(k))},containerPointToLayerPoint:function(m){return kt(m).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(m){return kt(m).add(this._getMapPanePos())},containerPointToLatLng:function(m){var k=this.containerPointToLayerPoint(kt(m));return this.layerPointToLatLng(k)},latLngToContainerPoint:function(m){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Ft(m)))},mouseEventToContainerPoint:function(m){return Lt(m,this._container)},mouseEventToLayerPoint:function(m){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(m))},mouseEventToLatLng:function(m){return this.layerPointToLatLng(this.mouseEventToLayerPoint(m))},_initContainer:function(m){var k=this._container=wi(m);if(k){if(k._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ut(k,"scroll",this._onScroll,this),this._containerId=x(k)},_initLayout:function(){var m=this._container;this._fadeAnimated=this.options.fadeAnimation&&Se.any3d,Ne(m,"leaflet-container"+(Se.touch?" leaflet-touch":"")+(Se.retina?" leaflet-retina":"")+(Se.ielt9?" leaflet-oldie":"")+(Se.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var k=fe(m,"position");k!=="absolute"&&k!=="relative"&&k!=="fixed"&&k!=="sticky"&&(m.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var m=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),$n(this._mapPane,new yt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ne(m.markerPane,"leaflet-zoom-hide"),Ne(m.shadowPane,"leaflet-zoom-hide"))},_resetView:function(m,k,D){$n(this._mapPane,new yt(0,0));var G=!this._loaded;this._loaded=!0,k=this._limitZoom(k),this.fire("viewprereset");var Z=this._zoom!==k;this._moveStart(Z,D)._move(m,k)._moveEnd(Z),this.fire("viewreset"),G&&this.fire("load")},_moveStart:function(m,k){return m&&this.fire("zoomstart"),k||this.fire("movestart"),this},_move:function(m,k,D,G){k===void 0&&(k=this._zoom);var Z=this._zoom!==k;return this._zoom=k,this._lastCenter=m,this._pixelOrigin=this._getNewPixelOrigin(m),G?D&&D.pinch&&this.fire("zoom",D):((Z||D&&D.pinch)&&this.fire("zoom",D),this.fire("move",D)),this},_moveEnd:function(m){return m&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return mt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(m){$n(this._mapPane,this._getMapPanePos().subtract(m))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(m){this._targets={},this._targets[x(this._container)]=this;var k=m?Ie:Ut;k(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&k(window,"resize",this._onResize,this),Se.any3d&&this.options.transform3DLimit&&(m?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){mt(this._resizeRequest),this._resizeRequest=dt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var m=this._getMapPanePos();Math.max(Math.abs(m.x),Math.abs(m.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(m,k){for(var D=[],G,Z=k==="mouseout"||k==="mouseover",et=m.target||m.srcElement,ft=!1;et;){if(G=this._targets[x(et)],G&&(k==="click"||k==="preclick")&&this._draggableMoved(G)){ft=!0;break}if(G&&G.listens(k,!0)&&(Z&&!Qt(et,m)||(D.push(G),Z))||et===this._container)break;et=et.parentNode}return!D.length&&!ft&&!Z&&this.listens(k,!0)&&(D=[this]),D},_isClickDisabled:function(m){for(;m&&m!==this._container;){if(m._leaflet_disable_click)return!0;m=m.parentNode}},_handleDOMEvent:function(m){var k=m.target||m.srcElement;if(!(!this._loaded||k._leaflet_disable_events||m.type==="click"&&this._isClickDisabled(k))){var D=m.type;D==="mousedown"&&Fr(k),this._fireDOMEvent(m,D)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(m,k,D){if(m.type==="click"){var G=h({},m);G.type="preclick",this._fireDOMEvent(G,G.type,D)}var Z=this._findEventTargets(m,k);if(D){for(var et=[],ft=0;ft<D.length;ft++)D[ft].listens(k,!0)&&et.push(D[ft]);Z=et.concat(Z)}if(Z.length){k==="contextmenu"&&Dn(m);var bt=Z[0],Pt={originalEvent:m};if(m.type!=="keypress"&&m.type!=="keydown"&&m.type!=="keyup"){var Dt=bt.getLatLng&&(!bt._radius||bt._radius<=10);Pt.containerPoint=Dt?this.latLngToContainerPoint(bt.getLatLng()):this.mouseEventToContainerPoint(m),Pt.layerPoint=this.containerPointToLayerPoint(Pt.containerPoint),Pt.latlng=Dt?bt.getLatLng():this.layerPointToLatLng(Pt.layerPoint)}for(ft=0;ft<Z.length;ft++)if(Z[ft].fire(k,Pt,!0),Pt.originalEvent._stopped||Z[ft].options.bubblingMouseEvents===!1&&Y(this._mouseEvents,k)!==-1)return}},_draggableMoved:function(m){return m=m.dragging&&m.dragging.enabled()?m:this,m.dragging&&m.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var m=0,k=this._handlers.length;m<k;m++)this._handlers[m].disable()},whenReady:function(m,k){return this._loaded?m.call(k||this,{target:this}):this.on("load",m,k),this},_getMapPanePos:function(){return ye(this._mapPane)||new yt(0,0)},_moved:function(){var m=this._getMapPanePos();return m&&!m.equals([0,0])},_getTopLeftPoint:function(m,k){var D=m&&k!==void 0?this._getNewPixelOrigin(m,k):this.getPixelOrigin();return D.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(m,k){var D=this.getSize()._divideBy(2);return this.project(m,k)._subtract(D)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(m,k,D){var G=this._getNewPixelOrigin(D,k);return this.project(m,k)._subtract(G)},_latLngBoundsToNewLayerBounds:function(m,k,D){var G=this._getNewPixelOrigin(D,k);return It([this.project(m.getSouthWest(),k)._subtract(G),this.project(m.getNorthWest(),k)._subtract(G),this.project(m.getSouthEast(),k)._subtract(G),this.project(m.getNorthEast(),k)._subtract(G)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(m){return this.latLngToLayerPoint(m).subtract(this._getCenterLayerPoint())},_limitCenter:function(m,k,D){if(!D)return m;var G=this.project(m,k),Z=this.getSize().divideBy(2),et=new At(G.subtract(Z),G.add(Z)),ft=this._getBoundsOffset(et,D,k);return Math.abs(ft.x)<=1&&Math.abs(ft.y)<=1?m:this.unproject(G.add(ft),k)},_limitOffset:function(m,k){if(!k)return m;var D=this.getPixelBounds(),G=new At(D.min.add(m),D.max.add(m));return m.add(this._getBoundsOffset(G,k))},_getBoundsOffset:function(m,k,D){var G=It(this.project(k.getNorthEast(),D),this.project(k.getSouthWest(),D)),Z=G.min.subtract(m.min),et=G.max.subtract(m.max),ft=this._rebound(Z.x,-et.x),bt=this._rebound(Z.y,-et.y);return new yt(ft,bt)},_rebound:function(m,k){return m+k>0?Math.round(m-k)/2:Math.max(0,Math.ceil(m))-Math.max(0,Math.floor(k))},_limitZoom:function(m){var k=this.getMinZoom(),D=this.getMaxZoom(),G=Se.any3d?this.options.zoomSnap:1;return G&&(m=Math.round(m/G)*G),Math.max(k,Math.min(D,m))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Cn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(m,k){var D=this._getCenterOffset(m)._trunc();return(k&&k.animate)!==!0&&!this.getSize().contains(D)?!1:(this.panBy(D,k),!0)},_createAnimProxy:function(){var m=this._proxy=Ze("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(m),this.on("zoomanim",function(k){var D=Rs,G=this._proxy.style[D];Le(this._proxy,this.project(k.center,k.zoom),this.getZoomScale(k.zoom,1)),G===this._proxy.style[D]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Sn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var m=this.getCenter(),k=this.getZoom();Le(this._proxy,this.project(m,k),this.getZoomScale(k,1))},_catchTransitionEnd:function(m){this._animatingZoom&&m.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(m,k,D){if(this._animatingZoom)return!0;if(D=D||{},!this._zoomAnimated||D.animate===!1||this._nothingToAnimate()||Math.abs(k-this._zoom)>this.options.zoomAnimationThreshold)return!1;var G=this.getZoomScale(k),Z=this._getCenterOffset(m)._divideBy(1-1/G);return D.animate!==!0&&!this.getSize().contains(Z)?!1:(dt(function(){this._moveStart(!0,D.noMoveStart||!1)._animateZoom(m,k,!0)},this),!0)},_animateZoom:function(m,k,D,G){this._mapPane&&(D&&(this._animatingZoom=!0,this._animateToCenter=m,this._animateToZoom=k,Ne(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:m,zoom:k,noUpdate:G}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(p(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Cn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ai(m,k){return new Me(m,k)}var Ye=Mt.extend({options:{position:"topright"},initialize:function(m){j(this,m)},getPosition:function(){return this.options.position},setPosition:function(m){var k=this._map;return k&&k.removeControl(this),this.options.position=m,k&&k.addControl(this),this},getContainer:function(){return this._container},addTo:function(m){this.remove(),this._map=m;var k=this._container=this.onAdd(m),D=this.getPosition(),G=m._controlCorners[D];return Ne(k,"leaflet-control"),D.indexOf("bottom")!==-1?G.insertBefore(k,G.firstChild):G.appendChild(k),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Sn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(m){this._map&&m&&m.screenX>0&&m.screenY>0&&this._map.getContainer().focus()}}),li=function(m){return new Ye(m)};Me.include({addControl:function(m){return m.addTo(this),this},removeControl:function(m){return m.remove(),this},_initControlPos:function(){var m=this._controlCorners={},k="leaflet-",D=this._controlContainer=Ze("div",k+"control-container",this._container);function G(Z,et){var ft=k+Z+" "+k+et;m[Z+et]=Ze("div",ft,D)}G("top","left"),G("top","right"),G("bottom","left"),G("bottom","right")},_clearControlPos:function(){for(var m in this._controlCorners)Sn(this._controlCorners[m]);Sn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var pn=Ye.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(m,k,D,G){return D<G?-1:G<D?1:0}},initialize:function(m,k,D){j(this,D),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var G in m)this._addLayer(m[G],G);for(G in k)this._addLayer(k[G],G,!0)},onAdd:function(m){this._initLayout(),this._update(),this._map=m,m.on("zoomend",this._checkDisabledLayers,this);for(var k=0;k<this._layers.length;k++)this._layers[k].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(m){return Ye.prototype.addTo.call(this,m),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var m=0;m<this._layers.length;m++)this._layers[m].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(m,k){return this._addLayer(m,k),this._map?this._update():this},addOverlay:function(m,k){return this._addLayer(m,k,!0),this._map?this._update():this},removeLayer:function(m){m.off("add remove",this._onLayerChange,this);var k=this._getLayer(x(m));return k&&this._layers.splice(this._layers.indexOf(k),1),this._map?this._update():this},expand:function(){Ne(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var m=this._map.getSize().y-(this._container.offsetTop+50);return m<this._section.clientHeight?(Ne(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=m+"px"):Cn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Cn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var m="leaflet-control-layers",k=this._container=Ze("div",m),D=this.options.collapsed;k.setAttribute("aria-haspopup",!0),js(k),Vo(k);var G=this._section=Ze("section",m+"-list");D&&(this._map.on("click",this.collapse,this),Ut(k,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var Z=this._layersLink=Ze("a",m+"-toggle",k);Z.href="#",Z.title="Layers",Z.setAttribute("role","button"),Ut(Z,{keydown:function(et){et.keyCode===13&&this._expandSafely()},click:function(et){Dn(et),this._expandSafely()}},this),D||this.expand(),this._baseLayersList=Ze("div",m+"-base",G),this._separator=Ze("div",m+"-separator",G),this._overlaysList=Ze("div",m+"-overlays",G),k.appendChild(G)},_getLayer:function(m){for(var k=0;k<this._layers.length;k++)if(this._layers[k]&&x(this._layers[k].layer)===m)return this._layers[k]},_addLayer:function(m,k,D){this._map&&m.on("add remove",this._onLayerChange,this),this._layers.push({layer:m,name:k,overlay:D}),this.options.sortLayers&&this._layers.sort(p(function(G,Z){return this.options.sortFunction(G.layer,Z.layer,G.name,Z.name)},this)),this.options.autoZIndex&&m.setZIndex&&(this._lastZIndex++,m.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ya(this._baseLayersList),ya(this._overlaysList),this._layerControlInputs=[];var m,k,D,G,Z=0;for(D=0;D<this._layers.length;D++)G=this._layers[D],this._addItem(G),k=k||G.overlay,m=m||!G.overlay,Z+=G.overlay?0:1;return this.options.hideSingleBase&&(m=m&&Z>1,this._baseLayersList.style.display=m?"":"none"),this._separator.style.display=k&&m?"":"none",this},_onLayerChange:function(m){this._handlingClick||this._update();var k=this._getLayer(x(m.target)),D=k.overlay?m.type==="add"?"overlayadd":"overlayremove":m.type==="add"?"baselayerchange":null;D&&this._map.fire(D,k)},_createRadioElement:function(m,k){var D='<input type="radio" class="leaflet-control-layers-selector" name="'+m+'"'+(k?' checked="checked"':"")+"/>",G=document.createElement("div");return G.innerHTML=D,G.firstChild},_addItem:function(m){var k=document.createElement("label"),D=this._map.hasLayer(m.layer),G;m.overlay?(G=document.createElement("input"),G.type="checkbox",G.className="leaflet-control-layers-selector",G.defaultChecked=D):G=this._createRadioElement("leaflet-base-layers_"+x(this),D),this._layerControlInputs.push(G),G.layerId=x(m.layer),Ut(G,"click",this._onInputClick,this);var Z=document.createElement("span");Z.innerHTML=" "+m.name;var et=document.createElement("span");k.appendChild(et),et.appendChild(G),et.appendChild(Z);var ft=m.overlay?this._overlaysList:this._baseLayersList;return ft.appendChild(k),this._checkDisabledLayers(),k},_onInputClick:function(){if(!this._preventClick){var m=this._layerControlInputs,k,D,G=[],Z=[];this._handlingClick=!0;for(var et=m.length-1;et>=0;et--)k=m[et],D=this._getLayer(k.layerId).layer,k.checked?G.push(D):k.checked||Z.push(D);for(et=0;et<Z.length;et++)this._map.hasLayer(Z[et])&&this._map.removeLayer(Z[et]);for(et=0;et<G.length;et++)this._map.hasLayer(G[et])||this._map.addLayer(G[et]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var m=this._layerControlInputs,k,D,G=this._map.getZoom(),Z=m.length-1;Z>=0;Z--)k=m[Z],D=this._getLayer(k.layerId).layer,k.disabled=D.options.minZoom!==void 0&&G<D.options.minZoom||D.options.maxZoom!==void 0&&G>D.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var m=this._section;this._preventClick=!0,Ut(m,"click",Dn),this.expand();var k=this;setTimeout(function(){Ie(m,"click",Dn),k._preventClick=!1})}}),Si=function(m,k,D){return new pn(m,k,D)},Fi=Ye.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(m){var k="leaflet-control-zoom",D=Ze("div",k+" leaflet-bar"),G=this.options;return this._zoomInButton=this._createButton(G.zoomInText,G.zoomInTitle,k+"-in",D,this._zoomIn),this._zoomOutButton=this._createButton(G.zoomOutText,G.zoomOutTitle,k+"-out",D,this._zoomOut),this._updateDisabled(),m.on("zoomend zoomlevelschange",this._updateDisabled,this),D},onRemove:function(m){m.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(m){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(m.shiftKey?3:1))},_zoomOut:function(m){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(m.shiftKey?3:1))},_createButton:function(m,k,D,G,Z){var et=Ze("a",D,G);return et.innerHTML=m,et.href="#",et.title=k,et.setAttribute("role","button"),et.setAttribute("aria-label",k),js(et),Ut(et,"click",po),Ut(et,"click",Z,this),Ut(et,"click",this._refocusOnMap,this),et},_updateDisabled:function(){var m=this._map,k="leaflet-disabled";Cn(this._zoomInButton,k),Cn(this._zoomOutButton,k),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||m._zoom===m.getMinZoom())&&(Ne(this._zoomOutButton,k),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||m._zoom===m.getMaxZoom())&&(Ne(this._zoomInButton,k),this._zoomInButton.setAttribute("aria-disabled","true"))}});Me.mergeOptions({zoomControl:!0}),Me.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Fi,this.addControl(this.zoomControl))});var or=function(m){return new Fi(m)},Jr=Ye.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(m){var k="leaflet-control-scale",D=Ze("div",k),G=this.options;return this._addScales(G,k+"-line",D),m.on(G.updateWhenIdle?"moveend":"move",this._update,this),m.whenReady(this._update,this),D},onRemove:function(m){m.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(m,k,D){m.metric&&(this._mScale=Ze("div",k,D)),m.imperial&&(this._iScale=Ze("div",k,D))},_update:function(){var m=this._map,k=m.getSize().y/2,D=m.distance(m.containerPointToLatLng([0,k]),m.containerPointToLatLng([this.options.maxWidth,k]));this._updateScales(D)},_updateScales:function(m){this.options.metric&&m&&this._updateMetric(m),this.options.imperial&&m&&this._updateImperial(m)},_updateMetric:function(m){var k=this._getRoundNum(m),D=k<1e3?k+" m":k/1e3+" km";this._updateScale(this._mScale,D,k/m)},_updateImperial:function(m){var k=m*3.2808399,D,G,Z;k>5280?(D=k/5280,G=this._getRoundNum(D),this._updateScale(this._iScale,G+" mi",G/D)):(Z=this._getRoundNum(k),this._updateScale(this._iScale,Z+" ft",Z/k))},_updateScale:function(m,k,D){m.style.width=Math.round(this.options.maxWidth*D)+"px",m.innerHTML=k},_getRoundNum:function(m){var k=Math.pow(10,(Math.floor(m)+"").length-1),D=m/k;return D=D>=10?10:D>=5?5:D>=3?3:D>=2?2:1,k*D}}),xs=function(m){return new Jr(m)},Bs='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ba=Ye.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Se.inlineSvg?Bs+" ":"")+"Leaflet</a>"},initialize:function(m){j(this,m),this._attributions={}},onAdd:function(m){m.attributionControl=this,this._container=Ze("div","leaflet-control-attribution"),js(this._container);for(var k in m._layers)m._layers[k].getAttribution&&this.addAttribution(m._layers[k].getAttribution());return this._update(),m.on("layeradd",this._addAttribution,this),this._container},onRemove:function(m){m.off("layeradd",this._addAttribution,this)},_addAttribution:function(m){m.layer.getAttribution&&(this.addAttribution(m.layer.getAttribution()),m.layer.once("remove",function(){this.removeAttribution(m.layer.getAttribution())},this))},setPrefix:function(m){return this.options.prefix=m,this._update(),this},addAttribution:function(m){return m?(this._attributions[m]||(this._attributions[m]=0),this._attributions[m]++,this._update(),this):this},removeAttribution:function(m){return m?(this._attributions[m]&&(this._attributions[m]--,this._update()),this):this},_update:function(){if(this._map){var m=[];for(var k in this._attributions)this._attributions[k]&&m.push(k);var D=[];this.options.prefix&&D.push(this.options.prefix),m.length&&D.push(m.join(", ")),this._container.innerHTML=D.join(' <span aria-hidden="true">|</span> ')}}});Me.mergeOptions({attributionControl:!0}),Me.addInitHook(function(){this.options.attributionControl&&new ba().addTo(this)});var wa=function(m){return new ba(m)};Ye.Layers=pn,Ye.Zoom=Fi,Ye.Scale=Jr,Ye.Attribution=ba,li.layers=Si,li.zoom=or,li.scale=xs,li.attribution=wa;var Xi=Mt.extend({initialize:function(m){this._map=m},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Xi.addTo=function(m,k){return m.addHandler(k,this),this};var jd={Events:Ot},bh=Se.touch?"touchstart mousedown":"mousedown",$s=Rt.extend({options:{clickTolerance:3},initialize:function(m,k,D,G){j(this,G),this._element=m,this._dragStartTarget=k||m,this._preventOutline=D},enable:function(){this._enabled||(Ut(this._dragStartTarget,bh,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&($s._dragging===this&&this.finishDrag(!0),Ie(this._dragStartTarget,bh,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(m){if(this._enabled&&(this._moved=!1,!gs(this._element,"leaflet-zoom-anim"))){if(m.touches&&m.touches.length!==1){$s._dragging===this&&this.finishDrag();return}if(!($s._dragging||m.shiftKey||m.which!==1&&m.button!==1&&!m.touches)&&($s._dragging=this,this._preventOutline&&Fr(this._element),xr(),ms(),!this._moving)){this.fire("down");var k=m.touches?m.touches[0]:m,D=Is(this._element);this._startPoint=new yt(k.clientX,k.clientY),this._startPos=ye(this._element),this._parentScale=fo(D);var G=m.type==="mousedown";Ut(document,G?"mousemove":"touchmove",this._onMove,this),Ut(document,G?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(m){if(this._enabled){if(m.touches&&m.touches.length>1){this._moved=!0;return}var k=m.touches&&m.touches.length===1?m.touches[0]:m,D=new yt(k.clientX,k.clientY)._subtract(this._startPoint);!D.x&&!D.y||Math.abs(D.x)+Math.abs(D.y)<this.options.clickTolerance||(D.x/=this._parentScale.x,D.y/=this._parentScale.y,Dn(m),this._moved||(this.fire("dragstart"),this._moved=!0,Ne(document.body,"leaflet-dragging"),this._lastTarget=m.target||m.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ne(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(D),this._moving=!0,this._lastEvent=m,this._updatePosition())}},_updatePosition:function(){var m={originalEvent:this._lastEvent};this.fire("predrag",m),$n(this._element,this._newPos),this.fire("drag",m)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(m){Cn(document.body,"leaflet-dragging"),this._lastTarget&&(Cn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ie(document,"mousemove touchmove",this._onMove,this),Ie(document,"mouseup touchend touchcancel",this._onUp,this),xa(),Jt();var k=this._moved&&this._moving;this._moving=!1,$s._dragging=!1,k&&this.fire("dragend",{noInertia:m,distance:this._newPos.distanceTo(this._startPos)})}});function wh(m,k,D){var G,Z=[1,4,2,8],et,ft,bt,Pt,Dt,Gt,Bt,Ht;for(et=0,Gt=m.length;et<Gt;et++)m[et]._code=Uo(m[et],k);for(bt=0;bt<4;bt++){for(Bt=Z[bt],G=[],et=0,Gt=m.length,ft=Gt-1;et<Gt;ft=et++)Pt=m[et],Dt=m[ft],Pt._code&Bt?Dt._code&Bt||(Ht=yl(Dt,Pt,Bt,k,D),Ht._code=Uo(Ht,k),G.push(Ht)):(Dt._code&Bt&&(Ht=yl(Dt,Pt,Bt,k,D),Ht._code=Uo(Ht,k),G.push(Ht)),G.push(Pt));m=G}return m}function Bd(m,k){var D,G,Z,et,ft,bt,Pt,Dt,Gt;if(!m||m.length===0)throw new Error("latlngs not passed");Xn(m)||(console.warn("latlngs are not flat! Only the first ring will be used"),m=m[0]);var Bt=Ft([0,0]),Ht=ee(m),Fe=Ht.getNorthWest().distanceTo(Ht.getSouthWest())*Ht.getNorthEast().distanceTo(Ht.getNorthWest());Fe<1700&&(Bt=Sh(m));var de=m.length,qt=[];for(D=0;D<de;D++){var Vt=Ft(m[D]);qt.push(k.project(Ft([Vt.lat-Bt.lat,Vt.lng-Bt.lng])))}for(bt=Pt=Dt=0,D=0,G=de-1;D<de;G=D++)Z=qt[D],et=qt[G],ft=Z.y*et.x-et.y*Z.x,Pt+=(Z.x+et.x)*ft,Dt+=(Z.y+et.y)*ft,bt+=ft*3;bt===0?Gt=qt[0]:Gt=[Pt/bt,Dt/bt];var oe=k.unproject(kt(Gt));return Ft([oe.lat+Bt.lat,oe.lng+Bt.lng])}function Sh(m){for(var k=0,D=0,G=0,Z=0;Z<m.length;Z++){var et=Ft(m[Z]);k+=et.lat,D+=et.lng,G++}return Ft([k/G,D/G])}var Vn={__proto__:null,clipPolygon:wh,polygonCenter:Bd,centroid:Sh};function $d(m,k){if(!k||!m.length)return m.slice();var D=k*k;return m=Vd(m,D),m=zd(m,D),m}function ml(m,k,D){return Math.sqrt(Sa(m,k,D,!0))}function Gg(m,k,D){return Sa(m,k,D)}function zd(m,k){var D=m.length,G=typeof Uint8Array<"u"?Uint8Array:Array,Z=new G(D);Z[0]=Z[D-1]=1,vu(m,Z,k,0,D-1);var et,ft=[];for(et=0;et<D;et++)Z[et]&&ft.push(m[et]);return ft}function vu(m,k,D,G,Z){var et=0,ft,bt,Pt;for(bt=G+1;bt<=Z-1;bt++)Pt=Sa(m[bt],m[G],m[Z],!0),Pt>et&&(ft=bt,et=Pt);et>D&&(k[ft]=1,vu(m,k,D,G,ft),vu(m,k,D,ft,Z))}function Vd(m,k){for(var D=[m[0]],G=1,Z=0,et=m.length;G<et;G++)vn(m[G],m[Z])>k&&(D.push(m[G]),Z=G);return Z<et-1&&D.push(m[et-1]),D}var Ph;function kh(m,k,D,G,Z){var et=G?Ph:Uo(m,D),ft=Uo(k,D),bt,Pt,Dt;for(Ph=ft;;){if(!(et|ft))return[m,k];if(et&ft)return!1;bt=et||ft,Pt=yl(m,k,bt,D,Z),Dt=Uo(Pt,D),bt===et?(m=Pt,et=Dt):(k=Pt,ft=Dt)}}function yl(m,k,D,G,Z){var et=k.x-m.x,ft=k.y-m.y,bt=G.min,Pt=G.max,Dt,Gt;return D&8?(Dt=m.x+et*(Pt.y-m.y)/ft,Gt=Pt.y):D&4?(Dt=m.x+et*(bt.y-m.y)/ft,Gt=bt.y):D&2?(Dt=Pt.x,Gt=m.y+ft*(Pt.x-m.x)/et):D&1&&(Dt=bt.x,Gt=m.y+ft*(bt.x-m.x)/et),new yt(Dt,Gt,Z)}function Uo(m,k){var D=0;return m.x<k.min.x?D|=1:m.x>k.max.x&&(D|=2),m.y<k.min.y?D|=4:m.y>k.max.y&&(D|=8),D}function vn(m,k){var D=k.x-m.x,G=k.y-m.y;return D*D+G*G}function Sa(m,k,D,G){var Z=k.x,et=k.y,ft=D.x-Z,bt=D.y-et,Pt=ft*ft+bt*bt,Dt;return Pt>0&&(Dt=((m.x-Z)*ft+(m.y-et)*bt)/Pt,Dt>1?(Z=D.x,et=D.y):Dt>0&&(Z+=ft*Dt,et+=bt*Dt)),ft=m.x-Z,bt=m.y-et,G?ft*ft+bt*bt:new yt(Z,et)}function Xn(m){return!F(m[0])||typeof m[0][0]!="object"&&typeof m[0][0]<"u"}function Ud(m){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Xn(m)}function br(m,k){var D,G,Z,et,ft,bt,Pt,Dt;if(!m||m.length===0)throw new Error("latlngs not passed");Xn(m)||(console.warn("latlngs are not flat! Only the first ring will be used"),m=m[0]);var Gt=Ft([0,0]),Bt=ee(m),Ht=Bt.getNorthWest().distanceTo(Bt.getSouthWest())*Bt.getNorthEast().distanceTo(Bt.getNorthWest());Ht<1700&&(Gt=Sh(m));var Fe=m.length,de=[];for(D=0;D<Fe;D++){var qt=Ft(m[D]);de.push(k.project(Ft([qt.lat-Gt.lat,qt.lng-Gt.lng])))}for(D=0,G=0;D<Fe-1;D++)G+=de[D].distanceTo(de[D+1])/2;if(G===0)Dt=de[0];else for(D=0,et=0;D<Fe-1;D++)if(ft=de[D],bt=de[D+1],Z=ft.distanceTo(bt),et+=Z,et>G){Pt=(et-G)/Z,Dt=[bt.x-Pt*(bt.x-ft.x),bt.y-Pt*(bt.y-ft.y)];break}var Vt=k.unproject(kt(Dt));return Ft([Vt.lat+Gt.lat,Vt.lng+Gt.lng])}var xu={__proto__:null,simplify:$d,pointToSegmentDistance:ml,closestPointOnSegment:Gg,clipSegment:kh,_getEdgeIntersection:yl,_getBitCode:Uo,_sqClosestPointOnSegment:Sa,isFlat:Xn,_flat:Ud,polylineCenter:br},Th={project:function(m){return new yt(m.lng,m.lat)},unproject:function(m){return new ne(m.y,m.x)},bounds:new At([-180,-90],[180,90])},Kd={R:6378137,R_MINOR:6356752314245179e-9,bounds:new At([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(m){var k=Math.PI/180,D=this.R,G=m.lat*k,Z=this.R_MINOR/D,et=Math.sqrt(1-Z*Z),ft=et*Math.sin(G),bt=Math.tan(Math.PI/4-G/2)/Math.pow((1-ft)/(1+ft),et/2);return G=-D*Math.log(Math.max(bt,1e-10)),new yt(m.lng*k*D,G)},unproject:function(m){for(var k=180/Math.PI,D=this.R,G=this.R_MINOR/D,Z=Math.sqrt(1-G*G),et=Math.exp(-m.y/D),ft=Math.PI/2-2*Math.atan(et),bt=0,Pt=.1,Dt;bt<15&&Math.abs(Pt)>1e-7;bt++)Dt=Z*Math.sin(ft),Dt=Math.pow((1-Dt)/(1+Dt),Z/2),Pt=Math.PI/2-2*Math.atan(et*Dt)-ft,ft+=Pt;return new ne(ft*k,m.x*k/D)}},Mh={__proto__:null,LonLat:Th,Mercator:Kd,SphericalMercator:le},Gd=h({},be,{code:"EPSG:3395",projection:Kd,transformation:function(){var m=.5/(Math.PI*Kd.R);return _t(m,.5,-m,.5)}()}),Un=h({},be,{code:"EPSG:4326",projection:Th,transformation:_t(1/180,1,-1/180,.5)}),Ah=h({},he,{projection:Th,transformation:_t(1,0,-1,0),scale:function(m){return Math.pow(2,m)},zoom:function(m){return Math.log(m)/Math.LN2},distance:function(m,k){var D=k.lng-m.lng,G=k.lat-m.lat;return Math.sqrt(D*D+G*G)},infinite:!0});he.Earth=be,he.EPSG3395=Gd,he.EPSG3857=Yt,he.EPSG900913=ue,he.EPSG4326=Un,he.Simple=Ah;var Pi=Rt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(m){return m.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(m){return m&&m.removeLayer(this),this},getPane:function(m){return this._map.getPane(m?this.options[m]||m:this.options.pane)},addInteractiveTarget:function(m){return this._map._targets[x(m)]=this,this},removeInteractiveTarget:function(m){return delete this._map._targets[x(m)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(m){var k=m.target;if(k.hasLayer(this)){if(this._map=k,this._zoomAnimated=k._zoomAnimated,this.getEvents){var D=this.getEvents();k.on(D,this),this.once("remove",function(){k.off(D,this)},this)}this.onAdd(k),this.fire("add"),k.fire("layeradd",{layer:this})}}});Me.include({addLayer:function(m){if(!m._layerAdd)throw new Error("The provided object is not a Layer.");var k=x(m);return this._layers[k]?this:(this._layers[k]=m,m._mapToAdd=this,m.beforeAdd&&m.beforeAdd(this),this.whenReady(m._layerAdd,m),this)},removeLayer:function(m){var k=x(m);return this._layers[k]?(this._loaded&&m.onRemove(this),delete this._layers[k],this._loaded&&(this.fire("layerremove",{layer:m}),m.fire("remove")),m._map=m._mapToAdd=null,this):this},hasLayer:function(m){return x(m)in this._layers},eachLayer:function(m,k){for(var D in this._layers)m.call(k,this._layers[D]);return this},_addLayers:function(m){m=m?F(m)?m:[m]:[];for(var k=0,D=m.length;k<D;k++)this.addLayer(m[k])},_addZoomLimit:function(m){(!isNaN(m.options.maxZoom)||!isNaN(m.options.minZoom))&&(this._zoomBoundLayers[x(m)]=m,this._updateZoomLevels())},_removeZoomLimit:function(m){var k=x(m);this._zoomBoundLayers[k]&&(delete this._zoomBoundLayers[k],this._updateZoomLevels())},_updateZoomLevels:function(){var m=1/0,k=-1/0,D=this._getZoomSpan();for(var G in this._zoomBoundLayers){var Z=this._zoomBoundLayers[G].options;m=Z.minZoom===void 0?m:Math.min(m,Z.minZoom),k=Z.maxZoom===void 0?k:Math.max(k,Z.maxZoom)}this._layersMaxZoom=k===-1/0?void 0:k,this._layersMinZoom=m===1/0?void 0:m,D!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Pn=Pi.extend({initialize:function(m,k){j(this,k),this._layers={};var D,G;if(m)for(D=0,G=m.length;D<G;D++)this.addLayer(m[D])},addLayer:function(m){var k=this.getLayerId(m);return this._layers[k]=m,this._map&&this._map.addLayer(m),this},removeLayer:function(m){var k=m in this._layers?m:this.getLayerId(m);return this._map&&this._layers[k]&&this._map.removeLayer(this._layers[k]),delete this._layers[k],this},hasLayer:function(m){var k=typeof m=="number"?m:this.getLayerId(m);return k in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(m){var k=Array.prototype.slice.call(arguments,1),D,G;for(D in this._layers)G=this._layers[D],G[m]&&G[m].apply(G,k);return this},onAdd:function(m){this.eachLayer(m.addLayer,m)},onRemove:function(m){this.eachLayer(m.removeLayer,m)},eachLayer:function(m,k){for(var D in this._layers)m.call(k,this._layers[D]);return this},getLayer:function(m){return this._layers[m]},getLayers:function(){var m=[];return this.eachLayer(m.push,m),m},setZIndex:function(m){return this.invoke("setZIndex",m)},getLayerId:function(m){return x(m)}}),On=function(m,k){return new Pn(m,k)},Nn=Pn.extend({addLayer:function(m){return this.hasLayer(m)?this:(m.addEventParent(this),Pn.prototype.addLayer.call(this,m),this.fire("layeradd",{layer:m}))},removeLayer:function(m){return this.hasLayer(m)?(m in this._layers&&(m=this._layers[m]),m.removeEventParent(this),Pn.prototype.removeLayer.call(this,m),this.fire("layerremove",{layer:m})):this},setStyle:function(m){return this.invoke("setStyle",m)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var m=new $t;for(var k in this._layers){var D=this._layers[k];m.extend(D.getBounds?D.getBounds():D.getLatLng())}return m}}),Ni=function(m,k){return new Nn(m,k)},zt=Mt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(m){j(this,m)},createIcon:function(m){return this._createIcon("icon",m)},createShadow:function(m){return this._createIcon("shadow",m)},_createIcon:function(m,k){var D=this._getIconUrl(m);if(!D){if(m==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var G=this._createImg(D,k&&k.tagName==="IMG"?k:null);return this._setIconStyles(G,m),(this.options.crossOrigin||this.options.crossOrigin==="")&&(G.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),G},_setIconStyles:function(m,k){var D=this.options,G=D[k+"Size"];typeof G=="number"&&(G=[G,G]);var Z=kt(G),et=kt(k==="shadow"&&D.shadowAnchor||D.iconAnchor||Z&&Z.divideBy(2,!0));m.className="leaflet-marker-"+k+" "+(D.className||""),et&&(m.style.marginLeft=-et.x+"px",m.style.marginTop=-et.y+"px"),Z&&(m.style.width=Z.x+"px",m.style.height=Z.y+"px")},_createImg:function(m,k){return k=k||document.createElement("img"),k.src=m,k},_getIconUrl:function(m){return Se.retina&&this.options[m+"RetinaUrl"]||this.options[m+"Url"]}});function Ko(m){return new zt(m)}var Yn=zt.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(m){return typeof Yn.imagePath!="string"&&(Yn.imagePath=this._detectIconPath()),(this.options.imagePath||Yn.imagePath)+zt.prototype._getIconUrl.call(this,m)},_stripUrl:function(m){var k=function(D,G,Z){var et=G.exec(D);return et&&et[Z]};return m=k(m,/^url\((['"])?(.+)\1\)$/,2),m&&k(m,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var m=Ze("div","leaflet-default-icon-path",document.body),k=fe(m,"background-image")||fe(m,"backgroundImage");if(document.body.removeChild(m),k=this._stripUrl(k),k)return k;var D=document.querySelector('link[href$="leaflet.css"]');return D?D.href.substring(0,D.href.length-11-1):""}}),Br=Xi.extend({initialize:function(m){this._marker=m},addHooks:function(){var m=this._marker._icon;this._draggable||(this._draggable=new $s(m,m,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ne(m,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Cn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(m){var k=this._marker,D=k._map,G=this._marker.options.autoPanSpeed,Z=this._marker.options.autoPanPadding,et=ye(k._icon),ft=D.getPixelBounds(),bt=D.getPixelOrigin(),Pt=It(ft.min._subtract(bt).add(Z),ft.max._subtract(bt).subtract(Z));if(!Pt.contains(et)){var Dt=kt((Math.max(Pt.max.x,et.x)-Pt.max.x)/(ft.max.x-Pt.max.x)-(Math.min(Pt.min.x,et.x)-Pt.min.x)/(ft.min.x-Pt.min.x),(Math.max(Pt.max.y,et.y)-Pt.max.y)/(ft.max.y-Pt.max.y)-(Math.min(Pt.min.y,et.y)-Pt.min.y)/(ft.min.y-Pt.min.y)).multiplyBy(G);D.panBy(Dt,{animate:!1}),this._draggable._newPos._add(Dt),this._draggable._startPos._add(Dt),$n(k._icon,this._draggable._newPos),this._onDrag(m),this._panRequest=dt(this._adjustPan.bind(this,m))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(m){this._marker.options.autoPan&&(mt(this._panRequest),this._panRequest=dt(this._adjustPan.bind(this,m)))},_onDrag:function(m){var k=this._marker,D=k._shadow,G=ye(k._icon),Z=k._map.layerPointToLatLng(G);D&&$n(D,G),k._latlng=Z,m.latlng=Z,m.oldLatLng=this._oldLatLng,k.fire("move",m).fire("drag",m)},_onDragEnd:function(m){mt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",m)}}),zs=Pi.extend({options:{icon:new Yn,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(m,k){j(this,k),this._latlng=Ft(m)},onAdd:function(m){this._zoomAnimated=this._zoomAnimated&&m.options.markerZoomAnimation,this._zoomAnimated&&m.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(m){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&m.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(m){var k=this._latlng;return this._latlng=Ft(m),this.update(),this.fire("move",{oldLatLng:k,latlng:this._latlng})},setZIndexOffset:function(m){return this.options.zIndexOffset=m,this.update()},getIcon:function(){return this.options.icon},setIcon:function(m){return this.options.icon=m,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var m=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(m)}return this},_initIcon:function(){var m=this.options,k="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),D=m.icon.createIcon(this._icon),G=!1;D!==this._icon&&(this._icon&&this._removeIcon(),G=!0,m.title&&(D.title=m.title),D.tagName==="IMG"&&(D.alt=m.alt||"")),Ne(D,k),m.keyboard&&(D.tabIndex="0",D.setAttribute("role","button")),this._icon=D,m.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ut(D,"focus",this._panOnFocus,this);var Z=m.icon.createShadow(this._shadow),et=!1;Z!==this._shadow&&(this._removeShadow(),et=!0),Z&&(Ne(Z,k),Z.alt=""),this._shadow=Z,m.opacity<1&&this._updateOpacity(),G&&this.getPane().appendChild(this._icon),this._initInteraction(),Z&&et&&this.getPane(m.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ie(this._icon,"focus",this._panOnFocus,this),Sn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Sn(this._shadow),this._shadow=null},_setPos:function(m){this._icon&&$n(this._icon,m),this._shadow&&$n(this._shadow,m),this._zIndex=m.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(m){this._icon&&(this._icon.style.zIndex=this._zIndex+m)},_animateZoom:function(m){var k=this._map._latLngToNewLayerPoint(this._latlng,m.zoom,m.center).round();this._setPos(k)},_initInteraction:function(){if(this.options.interactive&&(Ne(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Br)){var m=this.options.draggable;this.dragging&&(m=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Br(this),m&&this.dragging.enable()}},setOpacity:function(m){return this.options.opacity=m,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var m=this.options.opacity;this._icon&&vr(this._icon,m),this._shadow&&vr(this._shadow,m)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var m=this._map;if(m){var k=this.options.icon.options,D=k.iconSize?kt(k.iconSize):kt(0,0),G=k.iconAnchor?kt(k.iconAnchor):kt(0,0);m.panInside(this._latlng,{paddingTopLeft:G,paddingBottomRight:D.subtract(G)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Ve(m,k){return new zs(m,k)}var Qe=Pi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(m){this._renderer=m.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(m){return j(this,m),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&m&&Object.prototype.hasOwnProperty.call(m,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),kn=Qe.extend({options:{fill:!0,radius:10},initialize:function(m,k){j(this,k),this._latlng=Ft(m),this._radius=this.options.radius},setLatLng:function(m){var k=this._latlng;return this._latlng=Ft(m),this.redraw(),this.fire("move",{oldLatLng:k,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(m){return this.options.radius=this._radius=m,this.redraw()},getRadius:function(){return this._radius},setStyle:function(m){var k=m&&m.radius||this._radius;return Qe.prototype.setStyle.call(this,m),this.setRadius(k),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var m=this._radius,k=this._radiusY||m,D=this._clickTolerance(),G=[m+D,k+D];this._pxBounds=new At(this._point.subtract(G),this._point.add(G))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(m){return m.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Qr(m,k){return new kn(m,k)}var Yi=kn.extend({initialize:function(m,k,D){if(typeof k=="number"&&(k=h({},D,{radius:k})),j(this,k),this._latlng=Ft(m),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(m){return this._mRadius=m,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var m=[this._radius,this._radiusY||this._radius];return new $t(this._map.layerPointToLatLng(this._point.subtract(m)),this._map.layerPointToLatLng(this._point.add(m)))},setStyle:Qe.prototype.setStyle,_project:function(){var m=this._latlng.lng,k=this._latlng.lat,D=this._map,G=D.options.crs;if(G.distance===be.distance){var Z=Math.PI/180,et=this._mRadius/be.R/Z,ft=D.project([k+et,m]),bt=D.project([k-et,m]),Pt=ft.add(bt).divideBy(2),Dt=D.unproject(Pt).lat,Gt=Math.acos((Math.cos(et*Z)-Math.sin(k*Z)*Math.sin(Dt*Z))/(Math.cos(k*Z)*Math.cos(Dt*Z)))/Z;(isNaN(Gt)||Gt===0)&&(Gt=et/Math.cos(Math.PI/180*k)),this._point=Pt.subtract(D.getPixelOrigin()),this._radius=isNaN(Gt)?0:Pt.x-D.project([Dt,m-Gt]).x,this._radiusY=Pt.y-ft.y}else{var Bt=G.unproject(G.project(this._latlng).subtract([this._mRadius,0]));this._point=D.latLngToLayerPoint(this._latlng),this._radius=this._point.x-D.latLngToLayerPoint(Bt).x}this._updateBounds()}});function vl(m,k,D){return new Yi(m,k,D)}var jt=Qe.extend({options:{smoothFactor:1,noClip:!1},initialize:function(m,k){j(this,k),this._setLatLngs(m)},getLatLngs:function(){return this._latlngs},setLatLngs:function(m){return this._setLatLngs(m),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(m){for(var k=1/0,D=null,G=Sa,Z,et,ft=0,bt=this._parts.length;ft<bt;ft++)for(var Pt=this._parts[ft],Dt=1,Gt=Pt.length;Dt<Gt;Dt++){Z=Pt[Dt-1],et=Pt[Dt];var Bt=G(m,Z,et,!0);Bt<k&&(k=Bt,D=G(m,Z,et))}return D&&(D.distance=Math.sqrt(k)),D},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return br(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(m,k){return k=k||this._defaultShape(),m=Ft(m),k.push(m),this._bounds.extend(m),this.redraw()},_setLatLngs:function(m){this._bounds=new $t,this._latlngs=this._convertLatLngs(m)},_defaultShape:function(){return Xn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(m){for(var k=[],D=Xn(m),G=0,Z=m.length;G<Z;G++)D?(k[G]=Ft(m[G]),this._bounds.extend(k[G])):k[G]=this._convertLatLngs(m[G]);return k},_project:function(){var m=new At;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,m),this._bounds.isValid()&&m.isValid()&&(this._rawPxBounds=m,this._updateBounds())},_updateBounds:function(){var m=this._clickTolerance(),k=new yt(m,m);this._rawPxBounds&&(this._pxBounds=new At([this._rawPxBounds.min.subtract(k),this._rawPxBounds.max.add(k)]))},_projectLatlngs:function(m,k,D){var G=m[0]instanceof ne,Z=m.length,et,ft;if(G){for(ft=[],et=0;et<Z;et++)ft[et]=this._map.latLngToLayerPoint(m[et]),D.extend(ft[et]);k.push(ft)}else for(et=0;et<Z;et++)this._projectLatlngs(m[et],k,D)},_clipPoints:function(){var m=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(m))){if(this.options.noClip){this._parts=this._rings;return}var k=this._parts,D,G,Z,et,ft,bt,Pt;for(D=0,Z=0,et=this._rings.length;D<et;D++)for(Pt=this._rings[D],G=0,ft=Pt.length;G<ft-1;G++)bt=kh(Pt[G],Pt[G+1],m,G,!0),bt&&(k[Z]=k[Z]||[],k[Z].push(bt[0]),(bt[1]!==Pt[G+1]||G===ft-2)&&(k[Z].push(bt[1]),Z++))}},_simplifyPoints:function(){for(var m=this._parts,k=this.options.smoothFactor,D=0,G=m.length;D<G;D++)m[D]=$d(m[D],k)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(m,k){var D,G,Z,et,ft,bt,Pt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(m))return!1;for(D=0,et=this._parts.length;D<et;D++)for(bt=this._parts[D],G=0,ft=bt.length,Z=ft-1;G<ft;Z=G++)if(!(!k&&G===0)&&ml(m,bt[Z],bt[G])<=Pt)return!0;return!1}});function ce(m,k){return new jt(m,k)}jt._flat=Ud;var go=jt.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Bd(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(m){var k=jt.prototype._convertLatLngs.call(this,m),D=k.length;return D>=2&&k[0]instanceof ne&&k[0].equals(k[D-1])&&k.pop(),k},_setLatLngs:function(m){jt.prototype._setLatLngs.call(this,m),Xn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Xn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var m=this._renderer._bounds,k=this.options.weight,D=new yt(k,k);if(m=new At(m.min.subtract(D),m.max.add(D)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(m))){if(this.options.noClip){this._parts=this._rings;return}for(var G=0,Z=this._rings.length,et;G<Z;G++)et=wh(this._rings[G],m,!0),et.length&&this._parts.push(et)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(m){var k=!1,D,G,Z,et,ft,bt,Pt,Dt;if(!this._pxBounds||!this._pxBounds.contains(m))return!1;for(et=0,Pt=this._parts.length;et<Pt;et++)for(D=this._parts[et],ft=0,Dt=D.length,bt=Dt-1;ft<Dt;bt=ft++)G=D[ft],Z=D[bt],G.y>m.y!=Z.y>m.y&&m.x<(Z.x-G.x)*(m.y-G.y)/(Z.y-G.y)+G.x&&(k=!k);return k||jt.prototype._containsPoint.call(this,m,!0)}});function St(m,k){return new go(m,k)}var ts=Nn.extend({initialize:function(m,k){j(this,k),this._layers={},m&&this.addData(m)},addData:function(m){var k=F(m)?m:m.features,D,G,Z;if(k){for(D=0,G=k.length;D<G;D++)Z=k[D],(Z.geometries||Z.geometry||Z.features||Z.coordinates)&&this.addData(Z);return this}var et=this.options;if(et.filter&&!et.filter(m))return this;var ft=ie(m,et);return ft?(ft.feature=wr(m),ft.defaultOptions=ft.options,this.resetStyle(ft),et.onEachFeature&&et.onEachFeature(m,ft),this.addLayer(ft)):this},resetStyle:function(m){return m===void 0?this.eachLayer(this.resetStyle,this):(m.options=h({},m.defaultOptions),this._setLayerStyle(m,this.options.style),this)},setStyle:function(m){return this.eachLayer(function(k){this._setLayerStyle(k,m)},this)},_setLayerStyle:function(m,k){m.setStyle&&(typeof k=="function"&&(k=k(m.feature)),m.setStyle(k))}});function ie(m,k){var D=m.type==="Feature"?m.geometry:m,G=D?D.coordinates:null,Z=[],et=k&&k.pointToLayer,ft=k&&k.coordsToLatLng||nn,bt,Pt,Dt,Gt;if(!G&&!D)return null;switch(D.type){case"Point":return bt=ft(G),$r(et,m,bt,k);case"MultiPoint":for(Dt=0,Gt=G.length;Dt<Gt;Dt++)bt=ft(G[Dt]),Z.push($r(et,m,bt,k));return new Nn(Z);case"LineString":case"MultiLineString":return Pt=we(G,D.type==="LineString"?0:1,ft),new jt(Pt,k);case"Polygon":case"MultiPolygon":return Pt=we(G,D.type==="Polygon"?1:2,ft),new go(Pt,k);case"GeometryCollection":for(Dt=0,Gt=D.geometries.length;Dt<Gt;Dt++){var Bt=ie({geometry:D.geometries[Dt],type:"Feature",properties:m.properties},k);Bt&&Z.push(Bt)}return new Nn(Z);case"FeatureCollection":for(Dt=0,Gt=D.features.length;Dt<Gt;Dt++){var Ht=ie(D.features[Dt],k);Ht&&Z.push(Ht)}return new Nn(Z);default:throw new Error("Invalid GeoJSON object.")}}function $r(m,k,D,G){return m?m(k,D):new zs(D,G&&G.markersInheritOptions&&G)}function nn(m){return new ne(m[1],m[0],m[2])}function we(m,k,D){for(var G=[],Z=0,et=m.length,ft;Z<et;Z++)ft=k?we(m[Z],k-1,D):(D||nn)(m[Z]),G.push(ft);return G}function Tn(m,k){return m=Ft(m),m.alt!==void 0?[O(m.lng,k),O(m.lat,k),O(m.alt,k)]:[O(m.lng,k),O(m.lat,k)]}function Vs(m,k,D,G){for(var Z=[],et=0,ft=m.length;et<ft;et++)Z.push(k?Vs(m[et],Xn(m[et])?0:k-1,D,G):Tn(m[et],G));return!k&&D&&Z.length>0&&Z.push(Z[0].slice()),Z}function an(m,k){return m.feature?h({},m.feature,{geometry:k}):wr(k)}function wr(m){return m.type==="Feature"||m.type==="FeatureCollection"?m:{type:"Feature",properties:{},geometry:m}}var Te={toGeoJSON:function(m){return an(this,{type:"Point",coordinates:Tn(this.getLatLng(),m)})}};zs.include(Te),Yi.include(Te),kn.include(Te),jt.include({toGeoJSON:function(m){var k=!Xn(this._latlngs),D=Vs(this._latlngs,k?1:0,!1,m);return an(this,{type:(k?"Multi":"")+"LineString",coordinates:D})}}),go.include({toGeoJSON:function(m){var k=!Xn(this._latlngs),D=k&&!Xn(this._latlngs[0]),G=Vs(this._latlngs,D?2:k?1:0,!0,m);return k||(G=[G]),an(this,{type:(D?"Multi":"")+"Polygon",coordinates:G})}}),Pn.include({toMultiPoint:function(m){var k=[];return this.eachLayer(function(D){k.push(D.toGeoJSON(m).geometry.coordinates)}),an(this,{type:"MultiPoint",coordinates:k})},toGeoJSON:function(m){var k=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(k==="MultiPoint")return this.toMultiPoint(m);var D=k==="GeometryCollection",G=[];return this.eachLayer(function(Z){if(Z.toGeoJSON){var et=Z.toGeoJSON(m);if(D)G.push(et.geometry);else{var ft=wr(et);ft.type==="FeatureCollection"?G.push.apply(G,ft.features):G.push(ft)}}}),D?an(this,{geometries:G,type:"GeometryCollection"}):{type:"FeatureCollection",features:G}}});function Je(m,k){return new ts(m,k)}var bs=Je,Sr=Pi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(m,k,D){this._url=m,this._bounds=ee(k),j(this,D)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ne(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Sn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(m){return this.options.opacity=m,this._image&&this._updateOpacity(),this},setStyle:function(m){return m.opacity&&this.setOpacity(m.opacity),this},bringToFront:function(){return this._map&&Zr(this._image),this},bringToBack:function(){return this._map&&on(this._image),this},setUrl:function(m){return this._url=m,this._image&&(this._image.src=m),this},setBounds:function(m){return this._bounds=ee(m),this._map&&this._reset(),this},getEvents:function(){var m={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(m.zoomanim=this._animateZoom),m},setZIndex:function(m){return this.options.zIndex=m,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var m=this._url.tagName==="IMG",k=this._image=m?this._url:Ze("img");if(Ne(k,"leaflet-image-layer"),this._zoomAnimated&&Ne(k,"leaflet-zoom-animated"),this.options.className&&Ne(k,this.options.className),k.onselectstart=A,k.onmousemove=A,k.onload=p(this.fire,this,"load"),k.onerror=p(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(k.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),m){this._url=k.src;return}k.src=this._url,k.alt=this.options.alt},_animateZoom:function(m){var k=this._map.getZoomScale(m.zoom),D=this._map._latLngBoundsToNewLayerBounds(this._bounds,m.zoom,m.center).min;Le(this._image,D,k)},_reset:function(){var m=this._image,k=new At(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),D=k.getSize();$n(m,k.min),m.style.width=D.x+"px",m.style.height=D.y+"px"},_updateOpacity:function(){vr(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var m=this.options.errorOverlayUrl;m&&this._url!==m&&(this._url=m,this._image.src=m)},getCenter:function(){return this._bounds.getCenter()}}),ar=function(m,k,D){return new Sr(m,k,D)},ve=Sr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var m=this._url.tagName==="VIDEO",k=this._image=m?this._url:Ze("video");if(Ne(k,"leaflet-image-layer"),this._zoomAnimated&&Ne(k,"leaflet-zoom-animated"),this.options.className&&Ne(k,this.options.className),k.onselectstart=A,k.onmousemove=A,k.onloadeddata=p(this.fire,this,"load"),m){for(var D=k.getElementsByTagName("source"),G=[],Z=0;Z<D.length;Z++)G.push(D[Z].src);this._url=D.length>0?G:[k.src];return}F(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(k.style,"objectFit")&&(k.style.objectFit="fill"),k.autoplay=!!this.options.autoplay,k.loop=!!this.options.loop,k.muted=!!this.options.muted,k.playsInline=!!this.options.playsInline;for(var et=0;et<this._url.length;et++){var ft=Ze("source");ft.src=this._url[et],k.appendChild(ft)}}});function ui(m,k,D){return new ve(m,k,D)}var Pa=Sr.extend({_initImage:function(){var m=this._image=this._url;Ne(m,"leaflet-image-layer"),this._zoomAnimated&&Ne(m,"leaflet-zoom-animated"),this.options.className&&Ne(m,this.options.className),m.onselectstart=A,m.onmousemove=A}});function W(m,k,D){return new Pa(m,k,D)}var i=Pi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(m,k){m&&(m instanceof ne||F(m))?(this._latlng=Ft(m),j(this,k)):(j(this,m),this._source=k),this.options.content&&(this._content=this.options.content)},openOn:function(m){return m=arguments.length?m:this._source._map,m.hasLayer(this)||m.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(m){return this._map?this.close():(arguments.length?this._source=m:m=this._source,this._prepareOpen(),this.openOn(m._map)),this},onAdd:function(m){this._zoomAnimated=m._zoomAnimated,this._container||this._initLayout(),m._fadeAnimated&&vr(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),m._fadeAnimated&&vr(this._container,1),this.bringToFront(),this.options.interactive&&(Ne(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(m){m._fadeAnimated?(vr(this._container,0),this._removeTimeout=setTimeout(p(Sn,void 0,this._container),200)):Sn(this._container),this.options.interactive&&(Cn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(m){return this._latlng=Ft(m),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(m){return this._content=m,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var m={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(m.zoomanim=this._animateZoom),m},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Zr(this._container),this},bringToBack:function(){return this._map&&on(this._container),this},_prepareOpen:function(m){var k=this._source;if(!k._map)return!1;if(k instanceof Nn){k=null;var D=this._source._layers;for(var G in D)if(D[G]._map){k=D[G];break}if(!k)return!1;this._source=k}if(!m)if(k.getCenter)m=k.getCenter();else if(k.getLatLng)m=k.getLatLng();else if(k.getBounds)m=k.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(m),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var m=this._contentNode,k=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof k=="string")m.innerHTML=k;else{for(;m.hasChildNodes();)m.removeChild(m.firstChild);m.appendChild(k)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var m=this._map.latLngToLayerPoint(this._latlng),k=kt(this.options.offset),D=this._getAnchor();this._zoomAnimated?$n(this._container,m.add(D)):k=k.add(m).add(D);var G=this._containerBottom=-k.y,Z=this._containerLeft=-Math.round(this._containerWidth/2)+k.x;this._container.style.bottom=G+"px",this._container.style.left=Z+"px"}},_getAnchor:function(){return[0,0]}});Me.include({_initOverlay:function(m,k,D,G){var Z=k;return Z instanceof m||(Z=new m(G).setContent(k)),D&&Z.setLatLng(D),Z}}),Pi.include({_initOverlay:function(m,k,D,G){var Z=D;return Z instanceof m?(j(Z,G),Z._source=this):(Z=k&&!G?k:new m(G,this),Z.setContent(D)),Z}});var t=i.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(m){return m=arguments.length?m:this._source._map,!m.hasLayer(this)&&m._popup&&m._popup.options.autoClose&&m.removeLayer(m._popup),m._popup=this,i.prototype.openOn.call(this,m)},onAdd:function(m){i.prototype.onAdd.call(this,m),m.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Qe||this._source.on("preclick",sr))},onRemove:function(m){i.prototype.onRemove.call(this,m),m.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Qe||this._source.off("preclick",sr))},getEvents:function(){var m=i.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(m.preclick=this.close),this.options.keepInView&&(m.moveend=this._adjustPan),m},_initLayout:function(){var m="leaflet-popup",k=this._container=Ze("div",m+" "+(this.options.className||"")+" leaflet-zoom-animated"),D=this._wrapper=Ze("div",m+"-content-wrapper",k);if(this._contentNode=Ze("div",m+"-content",D),js(k),Vo(this._contentNode),Ut(k,"contextmenu",sr),this._tipContainer=Ze("div",m+"-tip-container",k),this._tip=Ze("div",m+"-tip",this._tipContainer),this.options.closeButton){var G=this._closeButton=Ze("a",m+"-close-button",k);G.setAttribute("role","button"),G.setAttribute("aria-label","Close popup"),G.href="#close",G.innerHTML='<span aria-hidden="true">&#215;</span>',Ut(G,"click",function(Z){Dn(Z),this.close()},this)}},_updateLayout:function(){var m=this._contentNode,k=m.style;k.width="",k.whiteSpace="nowrap";var D=m.offsetWidth;D=Math.min(D,this.options.maxWidth),D=Math.max(D,this.options.minWidth),k.width=D+1+"px",k.whiteSpace="",k.height="";var G=m.offsetHeight,Z=this.options.maxHeight,et="leaflet-popup-scrolled";Z&&G>Z?(k.height=Z+"px",Ne(m,et)):Cn(m,et),this._containerWidth=this._container.offsetWidth},_animateZoom:function(m){var k=this._map._latLngToNewLayerPoint(this._latlng,m.zoom,m.center),D=this._getAnchor();$n(this._container,k.add(D))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var m=this._map,k=parseInt(fe(this._container,"marginBottom"),10)||0,D=this._container.offsetHeight+k,G=this._containerWidth,Z=new yt(this._containerLeft,-D-this._containerBottom);Z._add(ye(this._container));var et=m.layerPointToContainerPoint(Z),ft=kt(this.options.autoPanPadding),bt=kt(this.options.autoPanPaddingTopLeft||ft),Pt=kt(this.options.autoPanPaddingBottomRight||ft),Dt=m.getSize(),Gt=0,Bt=0;et.x+G+Pt.x>Dt.x&&(Gt=et.x+G-Dt.x+Pt.x),et.x-Gt-bt.x<0&&(Gt=et.x-bt.x),et.y+D+Pt.y>Dt.y&&(Bt=et.y+D-Dt.y+Pt.y),et.y-Bt-bt.y<0&&(Bt=et.y-bt.y),(Gt||Bt)&&(this.options.keepInView&&(this._autopanning=!0),m.fire("autopanstart").panBy([Gt,Bt]))}},_getAnchor:function(){return kt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),r=function(m,k){return new t(m,k)};Me.mergeOptions({closePopupOnClick:!0}),Me.include({openPopup:function(m,k,D){return this._initOverlay(t,m,k,D).openOn(this),this},closePopup:function(m){return m=arguments.length?m:this._popup,m&&m.close(),this}}),Pi.include({bindPopup:function(m,k){return this._popup=this._initOverlay(t,this._popup,m,k),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(m){return this._popup&&(this instanceof Nn||(this._popup._source=this),this._popup._prepareOpen(m||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(m){return this._popup&&this._popup.setContent(m),this},getPopup:function(){return this._popup},_openPopup:function(m){if(!(!this._popup||!this._map)){po(m);var k=m.layer||m.target;if(this._popup._source===k&&!(k instanceof Qe)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(m.latlng);return}this._popup._source=k,this.openPopup(m.latlng)}},_movePopup:function(m){this._popup.setLatLng(m.latlng)},_onKeyPress:function(m){m.originalEvent.keyCode===13&&this._openPopup(m)}});var o=i.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(m){i.prototype.onAdd.call(this,m),this.setOpacity(this.options.opacity),m.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(m){i.prototype.onRemove.call(this,m),m.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var m=i.prototype.getEvents.call(this);return this.options.permanent||(m.preclick=this.close),m},_initLayout:function(){var m="leaflet-tooltip",k=m+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ze("div",k),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+x(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(m){var k,D,G=this._map,Z=this._container,et=G.latLngToContainerPoint(G.getCenter()),ft=G.layerPointToContainerPoint(m),bt=this.options.direction,Pt=Z.offsetWidth,Dt=Z.offsetHeight,Gt=kt(this.options.offset),Bt=this._getAnchor();bt==="top"?(k=Pt/2,D=Dt):bt==="bottom"?(k=Pt/2,D=0):bt==="center"?(k=Pt/2,D=Dt/2):bt==="right"?(k=0,D=Dt/2):bt==="left"?(k=Pt,D=Dt/2):ft.x<et.x?(bt="right",k=0,D=Dt/2):(bt="left",k=Pt+(Gt.x+Bt.x)*2,D=Dt/2),m=m.subtract(kt(k,D,!0)).add(Gt).add(Bt),Cn(Z,"leaflet-tooltip-right"),Cn(Z,"leaflet-tooltip-left"),Cn(Z,"leaflet-tooltip-top"),Cn(Z,"leaflet-tooltip-bottom"),Ne(Z,"leaflet-tooltip-"+bt),$n(Z,m)},_updatePosition:function(){var m=this._map.latLngToLayerPoint(this._latlng);this._setPosition(m)},setOpacity:function(m){this.options.opacity=m,this._container&&vr(this._container,m)},_animateZoom:function(m){var k=this._map._latLngToNewLayerPoint(this._latlng,m.zoom,m.center);this._setPosition(k)},_getAnchor:function(){return kt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),l=function(m,k){return new o(m,k)};Me.include({openTooltip:function(m,k,D){return this._initOverlay(o,m,k,D).openOn(this),this},closeTooltip:function(m){return m.close(),this}}),Pi.include({bindTooltip:function(m,k){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(o,this._tooltip,m,k),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(m){if(!(!m&&this._tooltipHandlersAdded)){var k=m?"off":"on",D={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?D.add=this._openTooltip:(D.mouseover=this._openTooltip,D.mouseout=this.closeTooltip,D.click=this._openTooltip,this._map?this._addFocusListeners():D.add=this._addFocusListeners),this._tooltip.options.sticky&&(D.mousemove=this._moveTooltip),this[k](D),this._tooltipHandlersAdded=!m}},openTooltip:function(m){return this._tooltip&&(this instanceof Nn||(this._tooltip._source=this),this._tooltip._prepareOpen(m)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(m){return this._tooltip&&this._tooltip.setContent(m),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(m){var k=typeof m.getElement=="function"&&m.getElement();k&&(Ut(k,"focus",function(){this._tooltip._source=m,this.openTooltip()},this),Ut(k,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(m){var k=typeof m.getElement=="function"&&m.getElement();k&&k.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(m){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var k=this;this._map.once("moveend",function(){k._openOnceFlag=!1,k._openTooltip(m)});return}this._tooltip._source=m.layer||m.target,this.openTooltip(this._tooltip.options.sticky?m.latlng:void 0)}},_moveTooltip:function(m){var k=m.latlng,D,G;this._tooltip.options.sticky&&m.originalEvent&&(D=this._map.mouseEventToContainerPoint(m.originalEvent),G=this._map.containerPointToLayerPoint(D),k=this._map.layerPointToLatLng(G)),this._tooltip.setLatLng(k)}});var u=zt.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(m){var k=m&&m.tagName==="DIV"?m:document.createElement("div"),D=this.options;if(D.html instanceof Element?(ya(k),k.appendChild(D.html)):k.innerHTML=D.html!==!1?D.html:"",D.bgPos){var G=kt(D.bgPos);k.style.backgroundPosition=-G.x+"px "+-G.y+"px"}return this._setIconStyles(k,"icon"),k},createShadow:function(){return null}});function c(m){return new u(m)}zt.Default=Yn;var f=Pi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Se.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(m){j(this,m)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(m){m._addZoomLimit(this)},onRemove:function(m){this._removeAllTiles(),Sn(this._container),m._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Zr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(on(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(m){return this.options.opacity=m,this._updateOpacity(),this},setZIndex:function(m){return this.options.zIndex=m,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var m=this._clampZoom(this._map.getZoom());m!==this._tileZoom&&(this._tileZoom=m,this._updateLevels()),this._update()}return this},getEvents:function(){var m={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=S(this._onMoveEnd,this.options.updateInterval,this)),m.move=this._onMove),this._zoomAnimated&&(m.zoomanim=this._animateZoom),m},createTile:function(){return document.createElement("div")},getTileSize:function(){var m=this.options.tileSize;return m instanceof yt?m:new yt(m,m)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(m){for(var k=this.getPane().children,D=-m(-1/0,1/0),G=0,Z=k.length,et;G<Z;G++)et=k[G].style.zIndex,k[G]!==this._container&&et&&(D=m(D,+et));isFinite(D)&&(this.options.zIndex=D+m(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Se.ielt9){vr(this._container,this.options.opacity);var m=+new Date,k=!1,D=!1;for(var G in this._tiles){var Z=this._tiles[G];if(!(!Z.current||!Z.loaded)){var et=Math.min(1,(m-Z.loaded)/200);vr(Z.el,et),et<1?k=!0:(Z.active?D=!0:this._onOpaqueTile(Z),Z.active=!0)}}D&&!this._noPrune&&this._pruneTiles(),k&&(mt(this._fadeFrame),this._fadeFrame=dt(this._updateOpacity,this))}},_onOpaqueTile:A,_initContainer:function(){this._container||(this._container=Ze("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var m=this._tileZoom,k=this.options.maxZoom;if(m!==void 0){for(var D in this._levels)D=Number(D),this._levels[D].el.children.length||D===m?(this._levels[D].el.style.zIndex=k-Math.abs(m-D),this._onUpdateLevel(D)):(Sn(this._levels[D].el),this._removeTilesAtZoom(D),this._onRemoveLevel(D),delete this._levels[D]);var G=this._levels[m],Z=this._map;return G||(G=this._levels[m]={},G.el=Ze("div","leaflet-tile-container leaflet-zoom-animated",this._container),G.el.style.zIndex=k,G.origin=Z.project(Z.unproject(Z.getPixelOrigin()),m).round(),G.zoom=m,this._setZoomTransform(G,Z.getCenter(),Z.getZoom()),A(G.el.offsetWidth),this._onCreateLevel(G)),this._level=G,G}},_onUpdateLevel:A,_onRemoveLevel:A,_onCreateLevel:A,_pruneTiles:function(){if(this._map){var m,k,D=this._map.getZoom();if(D>this.options.maxZoom||D<this.options.minZoom){this._removeAllTiles();return}for(m in this._tiles)k=this._tiles[m],k.retain=k.current;for(m in this._tiles)if(k=this._tiles[m],k.current&&!k.active){var G=k.coords;this._retainParent(G.x,G.y,G.z,G.z-5)||this._retainChildren(G.x,G.y,G.z,G.z+2)}for(m in this._tiles)this._tiles[m].retain||this._removeTile(m)}},_removeTilesAtZoom:function(m){for(var k in this._tiles)this._tiles[k].coords.z===m&&this._removeTile(k)},_removeAllTiles:function(){for(var m in this._tiles)this._removeTile(m)},_invalidateAll:function(){for(var m in this._levels)Sn(this._levels[m].el),this._onRemoveLevel(Number(m)),delete this._levels[m];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(m,k,D,G){var Z=Math.floor(m/2),et=Math.floor(k/2),ft=D-1,bt=new yt(+Z,+et);bt.z=+ft;var Pt=this._tileCoordsToKey(bt),Dt=this._tiles[Pt];return Dt&&Dt.active?(Dt.retain=!0,!0):(Dt&&Dt.loaded&&(Dt.retain=!0),ft>G?this._retainParent(Z,et,ft,G):!1)},_retainChildren:function(m,k,D,G){for(var Z=2*m;Z<2*m+2;Z++)for(var et=2*k;et<2*k+2;et++){var ft=new yt(Z,et);ft.z=D+1;var bt=this._tileCoordsToKey(ft),Pt=this._tiles[bt];if(Pt&&Pt.active){Pt.retain=!0;continue}else Pt&&Pt.loaded&&(Pt.retain=!0);D+1<G&&this._retainChildren(Z,et,D+1,G)}},_resetView:function(m){var k=m&&(m.pinch||m.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),k,k)},_animateZoom:function(m){this._setView(m.center,m.zoom,!0,m.noUpdate)},_clampZoom:function(m){var k=this.options;return k.minNativeZoom!==void 0&&m<k.minNativeZoom?k.minNativeZoom:k.maxNativeZoom!==void 0&&k.maxNativeZoom<m?k.maxNativeZoom:m},_setView:function(m,k,D,G){var Z=Math.round(k);this.options.maxZoom!==void 0&&Z>this.options.maxZoom||this.options.minZoom!==void 0&&Z<this.options.minZoom?Z=void 0:Z=this._clampZoom(Z);var et=this.options.updateWhenZooming&&Z!==this._tileZoom;(!G||et)&&(this._tileZoom=Z,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),Z!==void 0&&this._update(m),D||this._pruneTiles(),this._noPrune=!!D),this._setZoomTransforms(m,k)},_setZoomTransforms:function(m,k){for(var D in this._levels)this._setZoomTransform(this._levels[D],m,k)},_setZoomTransform:function(m,k,D){var G=this._map.getZoomScale(D,m.zoom),Z=m.origin.multiplyBy(G).subtract(this._map._getNewPixelOrigin(k,D)).round();Se.any3d?Le(m.el,Z,G):$n(m.el,Z)},_resetGrid:function(){var m=this._map,k=m.options.crs,D=this._tileSize=this.getTileSize(),G=this._tileZoom,Z=this._map.getPixelWorldBounds(this._tileZoom);Z&&(this._globalTileRange=this._pxBoundsToTileRange(Z)),this._wrapX=k.wrapLng&&!this.options.noWrap&&[Math.floor(m.project([0,k.wrapLng[0]],G).x/D.x),Math.ceil(m.project([0,k.wrapLng[1]],G).x/D.y)],this._wrapY=k.wrapLat&&!this.options.noWrap&&[Math.floor(m.project([k.wrapLat[0],0],G).y/D.x),Math.ceil(m.project([k.wrapLat[1],0],G).y/D.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(m){var k=this._map,D=k._animatingZoom?Math.max(k._animateToZoom,k.getZoom()):k.getZoom(),G=k.getZoomScale(D,this._tileZoom),Z=k.project(m,this._tileZoom).floor(),et=k.getSize().divideBy(G*2);return new At(Z.subtract(et),Z.add(et))},_update:function(m){var k=this._map;if(k){var D=this._clampZoom(k.getZoom());if(m===void 0&&(m=k.getCenter()),this._tileZoom!==void 0){var G=this._getTiledPixelBounds(m),Z=this._pxBoundsToTileRange(G),et=Z.getCenter(),ft=[],bt=this.options.keepBuffer,Pt=new At(Z.getBottomLeft().subtract([bt,-bt]),Z.getTopRight().add([bt,-bt]));if(!(isFinite(Z.min.x)&&isFinite(Z.min.y)&&isFinite(Z.max.x)&&isFinite(Z.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Dt in this._tiles){var Gt=this._tiles[Dt].coords;(Gt.z!==this._tileZoom||!Pt.contains(new yt(Gt.x,Gt.y)))&&(this._tiles[Dt].current=!1)}if(Math.abs(D-this._tileZoom)>1){this._setView(m,D);return}for(var Bt=Z.min.y;Bt<=Z.max.y;Bt++)for(var Ht=Z.min.x;Ht<=Z.max.x;Ht++){var Fe=new yt(Ht,Bt);if(Fe.z=this._tileZoom,!!this._isValidTile(Fe)){var de=this._tiles[this._tileCoordsToKey(Fe)];de?de.current=!0:ft.push(Fe)}}if(ft.sort(function(Vt,oe){return Vt.distanceTo(et)-oe.distanceTo(et)}),ft.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var qt=document.createDocumentFragment();for(Ht=0;Ht<ft.length;Ht++)this._addTile(ft[Ht],qt);this._level.el.appendChild(qt)}}}},_isValidTile:function(m){var k=this._map.options.crs;if(!k.infinite){var D=this._globalTileRange;if(!k.wrapLng&&(m.x<D.min.x||m.x>D.max.x)||!k.wrapLat&&(m.y<D.min.y||m.y>D.max.y))return!1}if(!this.options.bounds)return!0;var G=this._tileCoordsToBounds(m);return ee(this.options.bounds).overlaps(G)},_keyToBounds:function(m){return this._tileCoordsToBounds(this._keyToTileCoords(m))},_tileCoordsToNwSe:function(m){var k=this._map,D=this.getTileSize(),G=m.scaleBy(D),Z=G.add(D),et=k.unproject(G,m.z),ft=k.unproject(Z,m.z);return[et,ft]},_tileCoordsToBounds:function(m){var k=this._tileCoordsToNwSe(m),D=new $t(k[0],k[1]);return this.options.noWrap||(D=this._map.wrapLatLngBounds(D)),D},_tileCoordsToKey:function(m){return m.x+":"+m.y+":"+m.z},_keyToTileCoords:function(m){var k=m.split(":"),D=new yt(+k[0],+k[1]);return D.z=+k[2],D},_removeTile:function(m){var k=this._tiles[m];k&&(Sn(k.el),delete this._tiles[m],this.fire("tileunload",{tile:k.el,coords:this._keyToTileCoords(m)}))},_initTile:function(m){Ne(m,"leaflet-tile");var k=this.getTileSize();m.style.width=k.x+"px",m.style.height=k.y+"px",m.onselectstart=A,m.onmousemove=A,Se.ielt9&&this.options.opacity<1&&vr(m,this.options.opacity)},_addTile:function(m,k){var D=this._getTilePos(m),G=this._tileCoordsToKey(m),Z=this.createTile(this._wrapCoords(m),p(this._tileReady,this,m));this._initTile(Z),this.createTile.length<2&&dt(p(this._tileReady,this,m,null,Z)),$n(Z,D),this._tiles[G]={el:Z,coords:m,current:!0},k.appendChild(Z),this.fire("tileloadstart",{tile:Z,coords:m})},_tileReady:function(m,k,D){k&&this.fire("tileerror",{error:k,tile:D,coords:m});var G=this._tileCoordsToKey(m);D=this._tiles[G],D&&(D.loaded=+new Date,this._map._fadeAnimated?(vr(D.el,0),mt(this._fadeFrame),this._fadeFrame=dt(this._updateOpacity,this)):(D.active=!0,this._pruneTiles()),k||(Ne(D.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:D.el,coords:m})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Se.ielt9||!this._map._fadeAnimated?dt(this._pruneTiles,this):setTimeout(p(this._pruneTiles,this),250)))},_getTilePos:function(m){return m.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(m){var k=new yt(this._wrapX?M(m.x,this._wrapX):m.x,this._wrapY?M(m.y,this._wrapY):m.y);return k.z=m.z,k},_pxBoundsToTileRange:function(m){var k=this.getTileSize();return new At(m.min.unscaleBy(k).floor(),m.max.unscaleBy(k).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var m in this._tiles)if(!this._tiles[m].loaded)return!1;return!0}});function g(m){return new f(m)}var y=f.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(m,k){this._url=m,k=j(this,k),k.detectRetina&&Se.retina&&k.maxZoom>0?(k.tileSize=Math.floor(k.tileSize/2),k.zoomReverse?(k.zoomOffset--,k.minZoom=Math.min(k.maxZoom,k.minZoom+1)):(k.zoomOffset++,k.maxZoom=Math.max(k.minZoom,k.maxZoom-1)),k.minZoom=Math.max(0,k.minZoom)):k.zoomReverse?k.minZoom=Math.min(k.maxZoom,k.minZoom):k.maxZoom=Math.max(k.minZoom,k.maxZoom),typeof k.subdomains=="string"&&(k.subdomains=k.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(m,k){return this._url===m&&k===void 0&&(k=!0),this._url=m,k||this.redraw(),this},createTile:function(m,k){var D=document.createElement("img");return Ut(D,"load",p(this._tileOnLoad,this,k,D)),Ut(D,"error",p(this._tileOnError,this,k,D)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(D.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(D.referrerPolicy=this.options.referrerPolicy),D.alt="",D.src=this.getTileUrl(m),D},getTileUrl:function(m){var k={r:Se.retina?"@2x":"",s:this._getSubdomain(m),x:m.x,y:m.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var D=this._globalTileRange.max.y-m.y;this.options.tms&&(k.y=D),k["-y"]=D}return z(this._url,h(k,this.options))},_tileOnLoad:function(m,k){Se.ielt9?setTimeout(p(m,this,null,k),0):m(null,k)},_tileOnError:function(m,k,D){var G=this.options.errorTileUrl;G&&k.getAttribute("src")!==G&&(k.src=G),m(D,k)},_onTileRemove:function(m){m.tile.onload=null},_getZoomForUrl:function(){var m=this._tileZoom,k=this.options.maxZoom,D=this.options.zoomReverse,G=this.options.zoomOffset;return D&&(m=k-m),m+G},_getSubdomain:function(m){var k=Math.abs(m.x+m.y)%this.options.subdomains.length;return this.options.subdomains[k]},_abortLoading:function(){var m,k;for(m in this._tiles)if(this._tiles[m].coords.z!==this._tileZoom&&(k=this._tiles[m].el,k.onload=A,k.onerror=A,!k.complete)){k.src=U;var D=this._tiles[m].coords;Sn(k),delete this._tiles[m],this.fire("tileabort",{tile:k,coords:D})}},_removeTile:function(m){var k=this._tiles[m];if(k)return k.el.setAttribute("src",U),f.prototype._removeTile.call(this,m)},_tileReady:function(m,k,D){if(!(!this._map||D&&D.getAttribute("src")===U))return f.prototype._tileReady.call(this,m,k,D)}});function b(m,k){return new y(m,k)}var w=y.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(m,k){this._url=m;var D=h({},this.defaultWmsParams);for(var G in k)G in this.options||(D[G]=k[G]);k=j(this,k);var Z=k.detectRetina&&Se.retina?2:1,et=this.getTileSize();D.width=et.x*Z,D.height=et.y*Z,this.wmsParams=D},onAdd:function(m){this._crs=this.options.crs||m.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var k=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[k]=this._crs.code,y.prototype.onAdd.call(this,m)},getTileUrl:function(m){var k=this._tileCoordsToNwSe(m),D=this._crs,G=It(D.project(k[0]),D.project(k[1])),Z=G.min,et=G.max,ft=(this._wmsVersion>=1.3&&this._crs===Un?[Z.y,Z.x,et.y,et.x]:[Z.x,Z.y,et.x,et.y]).join(","),bt=y.prototype.getTileUrl.call(this,m);return bt+V(this.wmsParams,bt,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+ft},setParams:function(m,k){return h(this.wmsParams,m),k||this.redraw(),this}});function P(m,k){return new w(m,k)}y.WMS=w,b.wms=P;var E=Pi.extend({options:{padding:.1},initialize:function(m){j(this,m),x(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ne(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var m={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(m.zoomanim=this._onAnimZoom),m},_onAnimZoom:function(m){this._updateTransform(m.center,m.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(m,k){var D=this._map.getZoomScale(k,this._zoom),G=this._map.getSize().multiplyBy(.5+this.options.padding),Z=this._map.project(this._center,k),et=G.multiplyBy(-D).add(Z).subtract(this._map._getNewPixelOrigin(m,k));Se.any3d?Le(this._container,et,D):$n(this._container,et)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var m in this._layers)this._layers[m]._reset()},_onZoomEnd:function(){for(var m in this._layers)this._layers[m]._project()},_updatePaths:function(){for(var m in this._layers)this._layers[m]._update()},_update:function(){var m=this.options.padding,k=this._map.getSize(),D=this._map.containerPointToLayerPoint(k.multiplyBy(-m)).round();this._bounds=new At(D,D.add(k.multiplyBy(1+m*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),N=E.extend({options:{tolerance:0},getEvents:function(){var m=E.prototype.getEvents.call(this);return m.viewprereset=this._onViewPreReset,m},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){E.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var m=this._container=document.createElement("canvas");Ut(m,"mousemove",this._onMouseMove,this),Ut(m,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ut(m,"mouseout",this._handleMouseOut,this),m._leaflet_disable_events=!0,this._ctx=m.getContext("2d")},_destroyContainer:function(){mt(this._redrawRequest),delete this._ctx,Sn(this._container),Ie(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var m;this._redrawBounds=null;for(var k in this._layers)m=this._layers[k],m._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){E.prototype._update.call(this);var m=this._bounds,k=this._container,D=m.getSize(),G=Se.retina?2:1;$n(k,m.min),k.width=G*D.x,k.height=G*D.y,k.style.width=D.x+"px",k.style.height=D.y+"px",Se.retina&&this._ctx.scale(2,2),this._ctx.translate(-m.min.x,-m.min.y),this.fire("update")}},_reset:function(){E.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(m){this._updateDashArray(m),this._layers[x(m)]=m;var k=m._order={layer:m,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=k),this._drawLast=k,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(m){this._requestRedraw(m)},_removePath:function(m){var k=m._order,D=k.next,G=k.prev;D?D.prev=G:this._drawLast=G,G?G.next=D:this._drawFirst=D,delete m._order,delete this._layers[x(m)],this._requestRedraw(m)},_updatePath:function(m){this._extendRedrawBounds(m),m._project(),m._update(),this._requestRedraw(m)},_updateStyle:function(m){this._updateDashArray(m),this._requestRedraw(m)},_updateDashArray:function(m){if(typeof m.options.dashArray=="string"){var k=m.options.dashArray.split(/[, ]+/),D=[],G,Z;for(Z=0;Z<k.length;Z++){if(G=Number(k[Z]),isNaN(G))return;D.push(G)}m.options._dashArray=D}else m.options._dashArray=m.options.dashArray},_requestRedraw:function(m){this._map&&(this._extendRedrawBounds(m),this._redrawRequest=this._redrawRequest||dt(this._redraw,this))},_extendRedrawBounds:function(m){if(m._pxBounds){var k=(m.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new At,this._redrawBounds.extend(m._pxBounds.min.subtract([k,k])),this._redrawBounds.extend(m._pxBounds.max.add([k,k]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var m=this._redrawBounds;if(m){var k=m.getSize();this._ctx.clearRect(m.min.x,m.min.y,k.x,k.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var m,k=this._redrawBounds;if(this._ctx.save(),k){var D=k.getSize();this._ctx.beginPath(),this._ctx.rect(k.min.x,k.min.y,D.x,D.y),this._ctx.clip()}this._drawing=!0;for(var G=this._drawFirst;G;G=G.next)m=G.layer,(!k||m._pxBounds&&m._pxBounds.intersects(k))&&m._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(m,k){if(this._drawing){var D,G,Z,et,ft=m._parts,bt=ft.length,Pt=this._ctx;if(bt){for(Pt.beginPath(),D=0;D<bt;D++){for(G=0,Z=ft[D].length;G<Z;G++)et=ft[D][G],Pt[G?"lineTo":"moveTo"](et.x,et.y);k&&Pt.closePath()}this._fillStroke(Pt,m)}}},_updateCircle:function(m){if(!(!this._drawing||m._empty())){var k=m._point,D=this._ctx,G=Math.max(Math.round(m._radius),1),Z=(Math.max(Math.round(m._radiusY),1)||G)/G;Z!==1&&(D.save(),D.scale(1,Z)),D.beginPath(),D.arc(k.x,k.y/Z,G,0,Math.PI*2,!1),Z!==1&&D.restore(),this._fillStroke(D,m)}},_fillStroke:function(m,k){var D=k.options;D.fill&&(m.globalAlpha=D.fillOpacity,m.fillStyle=D.fillColor||D.color,m.fill(D.fillRule||"evenodd")),D.stroke&&D.weight!==0&&(m.setLineDash&&m.setLineDash(k.options&&k.options._dashArray||[]),m.globalAlpha=D.opacity,m.lineWidth=D.weight,m.strokeStyle=D.color,m.lineCap=D.lineCap,m.lineJoin=D.lineJoin,m.stroke())},_onClick:function(m){for(var k=this._map.mouseEventToLayerPoint(m),D,G,Z=this._drawFirst;Z;Z=Z.next)D=Z.layer,D.options.interactive&&D._containsPoint(k)&&(!(m.type==="click"||m.type==="preclick")||!this._map._draggableMoved(D))&&(G=D);this._fireEvent(G?[G]:!1,m)},_onMouseMove:function(m){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var k=this._map.mouseEventToLayerPoint(m);this._handleMouseHover(m,k)}},_handleMouseOut:function(m){var k=this._hoveredLayer;k&&(Cn(this._container,"leaflet-interactive"),this._fireEvent([k],m,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(m,k){if(!this._mouseHoverThrottled){for(var D,G,Z=this._drawFirst;Z;Z=Z.next)D=Z.layer,D.options.interactive&&D._containsPoint(k)&&(G=D);G!==this._hoveredLayer&&(this._handleMouseOut(m),G&&(Ne(this._container,"leaflet-interactive"),this._fireEvent([G],m,"mouseover"),this._hoveredLayer=G)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,m),this._mouseHoverThrottled=!0,setTimeout(p(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(m,k,D){this._map._fireDOMEvent(k,D||k.type,m)},_bringToFront:function(m){var k=m._order;if(k){var D=k.next,G=k.prev;if(D)D.prev=G;else return;G?G.next=D:D&&(this._drawFirst=D),k.prev=this._drawLast,this._drawLast.next=k,k.next=null,this._drawLast=k,this._requestRedraw(m)}},_bringToBack:function(m){var k=m._order;if(k){var D=k.next,G=k.prev;if(G)G.next=D;else return;D?D.prev=G:G&&(this._drawLast=G),k.prev=null,k.next=this._drawFirst,this._drawFirst.prev=k,this._drawFirst=k,this._requestRedraw(m)}}});function _(m){return Se.canvas?new N(m):null}var R=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(m){return document.createElement("<lvml:"+m+' class="lvml">')}}catch{}return function(m){return document.createElement("<"+m+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),$={_initContainer:function(){this._container=Ze("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(E.prototype._update.call(this),this.fire("update"))},_initPath:function(m){var k=m._container=R("shape");Ne(k,"leaflet-vml-shape "+(this.options.className||"")),k.coordsize="1 1",m._path=R("path"),k.appendChild(m._path),this._updateStyle(m),this._layers[x(m)]=m},_addPath:function(m){var k=m._container;this._container.appendChild(k),m.options.interactive&&m.addInteractiveTarget(k)},_removePath:function(m){var k=m._container;Sn(k),m.removeInteractiveTarget(k),delete this._layers[x(m)]},_updateStyle:function(m){var k=m._stroke,D=m._fill,G=m.options,Z=m._container;Z.stroked=!!G.stroke,Z.filled=!!G.fill,G.stroke?(k||(k=m._stroke=R("stroke")),Z.appendChild(k),k.weight=G.weight+"px",k.color=G.color,k.opacity=G.opacity,G.dashArray?k.dashStyle=F(G.dashArray)?G.dashArray.join(" "):G.dashArray.replace(/( *, *)/g," "):k.dashStyle="",k.endcap=G.lineCap.replace("butt","flat"),k.joinstyle=G.lineJoin):k&&(Z.removeChild(k),m._stroke=null),G.fill?(D||(D=m._fill=R("fill")),Z.appendChild(D),D.color=G.fillColor||G.color,D.opacity=G.fillOpacity):D&&(Z.removeChild(D),m._fill=null)},_updateCircle:function(m){var k=m._point.round(),D=Math.round(m._radius),G=Math.round(m._radiusY||D);this._setPath(m,m._empty()?"M0 0":"AL "+k.x+","+k.y+" "+D+","+G+" 0,"+65535*360)},_setPath:function(m,k){m._path.v=k},_bringToFront:function(m){Zr(m._container)},_bringToBack:function(m){on(m._container)}},q=Se.vml?R:Ae,X=E.extend({_initContainer:function(){this._container=q("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=q("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Sn(this._container),Ie(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){E.prototype._update.call(this);var m=this._bounds,k=m.getSize(),D=this._container;(!this._svgSize||!this._svgSize.equals(k))&&(this._svgSize=k,D.setAttribute("width",k.x),D.setAttribute("height",k.y)),$n(D,m.min),D.setAttribute("viewBox",[m.min.x,m.min.y,k.x,k.y].join(" ")),this.fire("update")}},_initPath:function(m){var k=m._path=q("path");m.options.className&&Ne(k,m.options.className),m.options.interactive&&Ne(k,"leaflet-interactive"),this._updateStyle(m),this._layers[x(m)]=m},_addPath:function(m){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(m._path),m.addInteractiveTarget(m._path)},_removePath:function(m){Sn(m._path),m.removeInteractiveTarget(m._path),delete this._layers[x(m)]},_updatePath:function(m){m._project(),m._update()},_updateStyle:function(m){var k=m._path,D=m.options;k&&(D.stroke?(k.setAttribute("stroke",D.color),k.setAttribute("stroke-opacity",D.opacity),k.setAttribute("stroke-width",D.weight),k.setAttribute("stroke-linecap",D.lineCap),k.setAttribute("stroke-linejoin",D.lineJoin),D.dashArray?k.setAttribute("stroke-dasharray",D.dashArray):k.removeAttribute("stroke-dasharray"),D.dashOffset?k.setAttribute("stroke-dashoffset",D.dashOffset):k.removeAttribute("stroke-dashoffset")):k.setAttribute("stroke","none"),D.fill?(k.setAttribute("fill",D.fillColor||D.color),k.setAttribute("fill-opacity",D.fillOpacity),k.setAttribute("fill-rule",D.fillRule||"evenodd")):k.setAttribute("fill","none"))},_updatePoly:function(m,k){this._setPath(m,_e(m._parts,k))},_updateCircle:function(m){var k=m._point,D=Math.max(Math.round(m._radius),1),G=Math.max(Math.round(m._radiusY),1)||D,Z="a"+D+","+G+" 0 1,0 ",et=m._empty()?"M0 0":"M"+(k.x-D)+","+k.y+Z+D*2+",0 "+Z+-D*2+",0 ";this._setPath(m,et)},_setPath:function(m,k){m._path.setAttribute("d",k)},_bringToFront:function(m){Zr(m._path)},_bringToBack:function(m){on(m._path)}});Se.vml&&X.include($);function H(m){return Se.svg||Se.vml?new X(m):null}Me.include({getRenderer:function(m){var k=m.options.renderer||this._getPaneRenderer(m.options.pane)||this.options.renderer||this._renderer;return k||(k=this._renderer=this._createRenderer()),this.hasLayer(k)||this.addLayer(k),k},_getPaneRenderer:function(m){if(m==="overlayPane"||m===void 0)return!1;var k=this._paneRenderers[m];return k===void 0&&(k=this._createRenderer({pane:m}),this._paneRenderers[m]=k),k},_createRenderer:function(m){return this.options.preferCanvas&&_(m)||H(m)}});var tt=go.extend({initialize:function(m,k){go.prototype.initialize.call(this,this._boundsToLatLngs(m),k)},setBounds:function(m){return this.setLatLngs(this._boundsToLatLngs(m))},_boundsToLatLngs:function(m){return m=ee(m),[m.getSouthWest(),m.getNorthWest(),m.getNorthEast(),m.getSouthEast()]}});function Q(m,k){return new tt(m,k)}X.create=q,X.pointsToPath=_e,ts.geometryToLayer=ie,ts.coordsToLatLng=nn,ts.coordsToLatLngs=we,ts.latLngToCoords=Tn,ts.latLngsToCoords=Vs,ts.getFeature=an,ts.asFeature=wr,Me.mergeOptions({boxZoom:!0});var nt=Xi.extend({initialize:function(m){this._map=m,this._container=m._container,this._pane=m._panes.overlayPane,this._resetStateTimeout=0,m.on("unload",this._destroy,this)},addHooks:function(){Ut(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ie(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Sn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(m){if(!m.shiftKey||m.which!==1&&m.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ms(),xr(),this._startPoint=this._map.mouseEventToContainerPoint(m),Ut(document,{contextmenu:po,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(m){this._moved||(this._moved=!0,this._box=Ze("div","leaflet-zoom-box",this._container),Ne(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(m);var k=new At(this._point,this._startPoint),D=k.getSize();$n(this._box,k.min),this._box.style.width=D.x+"px",this._box.style.height=D.y+"px"},_finish:function(){this._moved&&(Sn(this._box),Cn(this._container,"leaflet-crosshair")),Jt(),xa(),Ie(document,{contextmenu:po,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(m){if(!(m.which!==1&&m.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(p(this._resetState,this),0);var k=new $t(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(k).fire("boxzoomend",{boxZoomBounds:k})}},_onKeyDown:function(m){m.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Me.addInitHook("addHandler","boxZoom",nt),Me.mergeOptions({doubleClickZoom:!0});var ht=Xi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(m){var k=this._map,D=k.getZoom(),G=k.options.zoomDelta,Z=m.originalEvent.shiftKey?D-G:D+G;k.options.doubleClickZoom==="center"?k.setZoom(Z):k.setZoomAround(m.containerPoint,Z)}});Me.addInitHook("addHandler","doubleClickZoom",ht),Me.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var it=Xi.extend({addHooks:function(){if(!this._draggable){var m=this._map;this._draggable=new $s(m._mapPane,m._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),m.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),m.on("zoomend",this._onZoomEnd,this),m.whenReady(this._onZoomEnd,this))}Ne(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Cn(this._map._container,"leaflet-grab"),Cn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var m=this._map;if(m._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var k=ee(this._map.options.maxBounds);this._offsetLimit=It(this._map.latLngToContainerPoint(k.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(k.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;m.fire("movestart").fire("dragstart"),m.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(m){if(this._map.options.inertia){var k=this._lastTime=+new Date,D=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(D),this._times.push(k),this._prunePositions(k)}this._map.fire("move",m).fire("drag",m)},_prunePositions:function(m){for(;this._positions.length>1&&m-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var m=this._map.getSize().divideBy(2),k=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=k.subtract(m).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(m,k){return m-(m-k)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var m=this._draggable._newPos.subtract(this._draggable._startPos),k=this._offsetLimit;m.x<k.min.x&&(m.x=this._viscousLimit(m.x,k.min.x)),m.y<k.min.y&&(m.y=this._viscousLimit(m.y,k.min.y)),m.x>k.max.x&&(m.x=this._viscousLimit(m.x,k.max.x)),m.y>k.max.y&&(m.y=this._viscousLimit(m.y,k.max.y)),this._draggable._newPos=this._draggable._startPos.add(m)}},_onPreDragWrap:function(){var m=this._worldWidth,k=Math.round(m/2),D=this._initialWorldOffset,G=this._draggable._newPos.x,Z=(G-k+D)%m+k-D,et=(G+k+D)%m-k-D,ft=Math.abs(Z+D)<Math.abs(et+D)?Z:et;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=ft},_onDragEnd:function(m){var k=this._map,D=k.options,G=!D.inertia||m.noInertia||this._times.length<2;if(k.fire("dragend",m),G)k.fire("moveend");else{this._prunePositions(+new Date);var Z=this._lastPos.subtract(this._positions[0]),et=(this._lastTime-this._times[0])/1e3,ft=D.easeLinearity,bt=Z.multiplyBy(ft/et),Pt=bt.distanceTo([0,0]),Dt=Math.min(D.inertiaMaxSpeed,Pt),Gt=bt.multiplyBy(Dt/Pt),Bt=Dt/(D.inertiaDeceleration*ft),Ht=Gt.multiplyBy(-Bt/2).round();!Ht.x&&!Ht.y?k.fire("moveend"):(Ht=k._limitOffset(Ht,k.options.maxBounds),dt(function(){k.panBy(Ht,{duration:Bt,easeLinearity:ft,noMoveStart:!0,animate:!0})}))}}});Me.addInitHook("addHandler","dragging",it),Me.mergeOptions({keyboard:!0,keyboardPanDelta:80});var st=Xi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(m){this._map=m,this._setPanDelta(m.options.keyboardPanDelta),this._setZoomDelta(m.options.zoomDelta)},addHooks:function(){var m=this._map._container;m.tabIndex<=0&&(m.tabIndex="0"),Ut(m,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ie(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var m=document.body,k=document.documentElement,D=m.scrollTop||k.scrollTop,G=m.scrollLeft||k.scrollLeft;this._map._container.focus(),window.scrollTo(G,D)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(m){var k=this._panKeys={},D=this.keyCodes,G,Z;for(G=0,Z=D.left.length;G<Z;G++)k[D.left[G]]=[-1*m,0];for(G=0,Z=D.right.length;G<Z;G++)k[D.right[G]]=[m,0];for(G=0,Z=D.down.length;G<Z;G++)k[D.down[G]]=[0,m];for(G=0,Z=D.up.length;G<Z;G++)k[D.up[G]]=[0,-1*m]},_setZoomDelta:function(m){var k=this._zoomKeys={},D=this.keyCodes,G,Z;for(G=0,Z=D.zoomIn.length;G<Z;G++)k[D.zoomIn[G]]=m;for(G=0,Z=D.zoomOut.length;G<Z;G++)k[D.zoomOut[G]]=-m},_addHooks:function(){Ut(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ie(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(m){if(!(m.altKey||m.ctrlKey||m.metaKey)){var k=m.keyCode,D=this._map,G;if(k in this._panKeys){if(!D._panAnim||!D._panAnim._inProgress)if(G=this._panKeys[k],m.shiftKey&&(G=kt(G).multiplyBy(3)),D.options.maxBounds&&(G=D._limitOffset(kt(G),D.options.maxBounds)),D.options.worldCopyJump){var Z=D.wrapLatLng(D.unproject(D.project(D.getCenter()).add(G)));D.panTo(Z)}else D.panBy(G)}else if(k in this._zoomKeys)D.setZoom(D.getZoom()+(m.shiftKey?3:1)*this._zoomKeys[k]);else if(k===27&&D._popup&&D._popup.options.closeOnEscapeKey)D.closePopup();else return;po(m)}}});Me.addInitHook("addHandler","keyboard",st),Me.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ct=Xi.extend({addHooks:function(){Ut(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ie(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(m){var k=ge(m),D=this._map.options.wheelDebounceTime;this._delta+=k,this._lastMousePos=this._map.mouseEventToContainerPoint(m),this._startTime||(this._startTime=+new Date);var G=Math.max(D-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(p(this._performZoom,this),G),po(m)},_performZoom:function(){var m=this._map,k=m.getZoom(),D=this._map.options.zoomSnap||0;m._stop();var G=this._delta/(this._map.options.wheelPxPerZoomLevel*4),Z=4*Math.log(2/(1+Math.exp(-Math.abs(G))))/Math.LN2,et=D?Math.ceil(Z/D)*D:Z,ft=m._limitZoom(k+(this._delta>0?et:-et))-k;this._delta=0,this._startTime=null,ft&&(m.options.scrollWheelZoom==="center"?m.setZoom(k+ft):m.setZoomAround(this._lastMousePos,k+ft))}});Me.addInitHook("addHandler","scrollWheelZoom",ct);var ut=600;Me.mergeOptions({tapHold:Se.touchNative&&Se.safari&&Se.mobile,tapTolerance:15});var pt=Xi.extend({addHooks:function(){Ut(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ie(this._map._container,"touchstart",this._onDown,this)},_onDown:function(m){if(clearTimeout(this._holdTimeout),m.touches.length===1){var k=m.touches[0];this._startPos=this._newPos=new yt(k.clientX,k.clientY),this._holdTimeout=setTimeout(p(function(){this._cancel(),this._isTapValid()&&(Ut(document,"touchend",Dn),Ut(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",k))},this),ut),Ut(document,"touchend touchcancel contextmenu",this._cancel,this),Ut(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function m(){Ie(document,"touchend",Dn),Ie(document,"touchend touchcancel",m)},_cancel:function(){clearTimeout(this._holdTimeout),Ie(document,"touchend touchcancel contextmenu",this._cancel,this),Ie(document,"touchmove",this._onMove,this)},_onMove:function(m){var k=m.touches[0];this._newPos=new yt(k.clientX,k.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(m,k){var D=new MouseEvent(m,{bubbles:!0,cancelable:!0,view:window,screenX:k.screenX,screenY:k.screenY,clientX:k.clientX,clientY:k.clientY});D._simulated=!0,k.target.dispatchEvent(D)}});Me.addInitHook("addHandler","tapHold",pt),Me.mergeOptions({touchZoom:Se.touch,bounceAtZoomLimits:!0});var Tt=Xi.extend({addHooks:function(){Ne(this._map._container,"leaflet-touch-zoom"),Ut(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Cn(this._map._container,"leaflet-touch-zoom"),Ie(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(m){var k=this._map;if(!(!m.touches||m.touches.length!==2||k._animatingZoom||this._zooming)){var D=k.mouseEventToContainerPoint(m.touches[0]),G=k.mouseEventToContainerPoint(m.touches[1]);this._centerPoint=k.getSize()._divideBy(2),this._startLatLng=k.containerPointToLatLng(this._centerPoint),k.options.touchZoom!=="center"&&(this._pinchStartLatLng=k.containerPointToLatLng(D.add(G)._divideBy(2))),this._startDist=D.distanceTo(G),this._startZoom=k.getZoom(),this._moved=!1,this._zooming=!0,k._stop(),Ut(document,"touchmove",this._onTouchMove,this),Ut(document,"touchend touchcancel",this._onTouchEnd,this),Dn(m)}},_onTouchMove:function(m){if(!(!m.touches||m.touches.length!==2||!this._zooming)){var k=this._map,D=k.mouseEventToContainerPoint(m.touches[0]),G=k.mouseEventToContainerPoint(m.touches[1]),Z=D.distanceTo(G)/this._startDist;if(this._zoom=k.getScaleZoom(Z,this._startZoom),!k.options.bounceAtZoomLimits&&(this._zoom<k.getMinZoom()&&Z<1||this._zoom>k.getMaxZoom()&&Z>1)&&(this._zoom=k._limitZoom(this._zoom)),k.options.touchZoom==="center"){if(this._center=this._startLatLng,Z===1)return}else{var et=D._add(G)._divideBy(2)._subtract(this._centerPoint);if(Z===1&&et.x===0&&et.y===0)return;this._center=k.unproject(k.project(this._pinchStartLatLng,this._zoom).subtract(et),this._zoom)}this._moved||(k._moveStart(!0,!1),this._moved=!0),mt(this._animRequest);var ft=p(k._move,k,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=dt(ft,this,!0),Dn(m)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,mt(this._animRequest),Ie(document,"touchmove",this._onTouchMove,this),Ie(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Me.addInitHook("addHandler","touchZoom",Tt),Me.BoxZoom=nt,Me.DoubleClickZoom=ht,Me.Drag=it,Me.Keyboard=st,Me.ScrollWheelZoom=ct,Me.TapHold=pt,Me.TouchZoom=Tt,s.Bounds=At,s.Browser=Se,s.CRS=he,s.Canvas=N,s.Circle=Yi,s.CircleMarker=kn,s.Class=Mt,s.Control=Ye,s.DivIcon=u,s.DivOverlay=i,s.DomEvent=De,s.DomUtil=Fs,s.Draggable=$s,s.Evented=Rt,s.FeatureGroup=Nn,s.GeoJSON=ts,s.GridLayer=f,s.Handler=Xi,s.Icon=zt,s.ImageOverlay=Sr,s.LatLng=ne,s.LatLngBounds=$t,s.Layer=Pi,s.LayerGroup=Pn,s.LineUtil=xu,s.Map=Me,s.Marker=zs,s.Mixin=jd,s.Path=Qe,s.Point=yt,s.PolyUtil=Vn,s.Polygon=go,s.Polyline=jt,s.Popup=t,s.PosAnimation=hn,s.Projection=Mh,s.Rectangle=tt,s.Renderer=E,s.SVG=X,s.SVGOverlay=Pa,s.TileLayer=y,s.Tooltip=o,s.Transformation=me,s.Util=vt,s.VideoOverlay=ve,s.bind=p,s.bounds=It,s.canvas=_,s.circle=vl,s.circleMarker=Qr,s.control=li,s.divIcon=c,s.extend=h,s.featureGroup=Ni,s.geoJSON=Je,s.geoJson=bs,s.gridLayer=g,s.icon=Ko,s.imageOverlay=ar,s.latLng=Ft,s.latLngBounds=ee,s.layerGroup=On,s.map=ai,s.marker=Ve,s.point=kt,s.polygon=St,s.polyline=ce,s.popup=r,s.rectangle=Q,s.setOptions=j,s.stamp=x,s.svg=H,s.svgOverlay=W,s.tileLayer=b,s.tooltip=l,s.transformation=_t,s.version=a,s.videoOverlay=ui;var Et=window.L;s.noConflict=function(){return window.L=Et,this},window.L=s})})(zP,zP.exports);var B1=zP.exports;function bA(e,n,s){return Object.freeze({instance:e,context:n,container:s})}function wA(e,n){return n==null?function(a,h){const d=at.useRef();return d.current||(d.current=e(a,h)),d}:function(a,h){const d=at.useRef();d.current||(d.current=e(a,h));const p=at.useRef(a),{instance:v}=d.current;return at.useEffect(function(){p.current!==a&&(n(v,a,p.current),p.current=a)},[v,a,h]),d}}function VMt(e,n){at.useEffect(function(){return(n.layerContainer??n.map).addLayer(e.instance),function(){var d;(d=n.layerContainer)==null||d.removeLayer(e.instance),n.map.removeLayer(e.instance)}},[n,e])}function j4(e){return function(s){const a=vA(),h=e(xA(s,a),a);return D4(a.map,s.attribution),F4(h.current,s.eventHandlers),VMt(h.current,a),h}}function UMt(e,n){const s=wA(e,n),a=j4(s);return jMt(a)}function KMt(e,n){const s=wA(e),a=zMt(s,n);return BMt(a)}function GMt(e,n){const s=wA(e,n),a=j4(s);return $Mt(a)}function WMt(e,n,s){const{opacity:a,zIndex:h}=n;a!=null&&a!==s.opacity&&e.setOpacity(a),h!=null&&h!==s.zIndex&&e.setZIndex(h)}function HMt(){return vA().map}function XMt(e){const n=HMt();return at.useEffect(function(){return n.on(e),function(){n.off(e)}},[n,e]),n}function VP(){return VP=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},VP.apply(this,arguments)}function YMt({bounds:e,boundsOptions:n,center:s,children:a,className:h,id:d,placeholder:p,style:v,whenReady:x,zoom:S,...M},A){const[O]=at.useState({className:h,id:d,style:v}),[B,I]=at.useState(null);at.useImperativeHandle(A,()=>(B==null?void 0:B.map)??null,[B]);const j=at.useCallback(C=>{if(C!==null&&B===null){const z=new B1.Map(C,M);s!=null&&S!=null?z.setView(s,S):e!=null&&z.fitBounds(e,n),x!=null&&z.whenReady(x),I(IMt(z))}},[]);at.useEffect(()=>()=>{B==null||B.map.remove()},[B]);const V=B?wt.createElement(I4,{value:B},a):p??null;return wt.createElement("div",VP({},O,{ref:j}),V)}const qMt=at.forwardRef(YMt),B4=UMt(function({position:n,...s},a){const h=new B1.Marker(n,s);return bA(h,FMt(a,{overlayContainer:h}))},function(n,s,a){s.position!==a.position&&n.setLatLng(s.position),s.icon!=null&&s.icon!==a.icon&&n.setIcon(s.icon),s.zIndexOffset!=null&&s.zIndexOffset!==a.zIndexOffset&&n.setZIndexOffset(s.zIndexOffset),s.opacity!=null&&s.opacity!==a.opacity&&n.setOpacity(s.opacity),n.dragging!=null&&s.draggable!==a.draggable&&(s.draggable===!0?n.dragging.enable():n.dragging.disable())}),$4=KMt(function(n,s){const a=new B1.Popup(n,s.overlayContainer);return bA(a,s)},function(n,s,{position:a},h){at.useEffect(function(){const{instance:p}=n;function v(S){S.popup===p&&(p.update(),h(!0))}function x(S){S.popup===p&&h(!1)}return s.map.on({popupopen:v,popupclose:x}),s.overlayContainer==null?(a!=null&&p.setLatLng(a),p.openOn(s.map)):s.overlayContainer.bindPopup(p),function(){var M;s.map.off({popupopen:v,popupclose:x}),(M=s.overlayContainer)==null||M.unbindPopup(),s.map.removeLayer(p)}},[n,s,h,a])}),ZMt=GMt(function({url:n,...s},a){const h=new B1.TileLayer(n,xA(s,a));return bA(h,a)},function(n,s,a){WMt(n,s,a);const{url:h}=s;h!=null&&h!==a.url&&n.setUrl(h)}),z4=[{name:"satelite",layer:"http://{s}.google.com/vt?lyrs=s&x={x}&y={y}&z={z}"},{name:"hybrid",layer:"http://{s}.google.com/vt?lyrs=s,h&x={x}&y={y}&z={z}"},{name:"street",layer:"http://{s}.google.com/vt?lyrs=m&x={x}&y={y}&z={z}"},{name:"terrain",layer:"http://{s}.google.com/vt?lyrs=p&x={x}&y={y}&z={z}"}],JMt=()=>{const[e,n]=at.useState(null);return XMt({click(s){console.log(s.latlng),console.log("click"),n(s.latlng)}}),e===null?null:ot.jsx(B4,{position:e,eventHandlers:{click:s=>{console.log(s.latlng)}},children:e&&ot.jsx($4,{children:ot.jsx("button",{type:"button",children:"Add"})})})},QMt=({layer:e,setLayer:n})=>ot.jsx("div",{className:"absolute top-2 right-2 z-[99999]",children:ot.jsx("div",{className:"flex flex-col space-y-2",children:z4.map(s=>ot.jsx("button",{className:`${e.layer===s.layer?"bg-black text-white":"bg-gray-100"} px-3 py-1 capitalize text-xs font-medium`,onClick:()=>n(s),children:s.name},s.name))})});function SA(){const e=[-4.1123312761602655,121.67717009782793],[n,s]=at.useState(z4[1]);return ot.jsxs("div",{className:"w-full h-full border my-4 relative",children:[ot.jsx(QMt,{layer:n,setLayer:s}),ot.jsxs(qMt,{className:"w-full h-full min-h-96 overflow-hidden",center:e,zoom:16,children:[ot.jsx(ZMt,{attribution:'Â© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:n.layer,maxZoom:20,subdomains:["mt0","mt1","mt2","mt3"]}),ot.jsx(B4,{position:e,children:ot.jsxs($4,{children:["Kelurahan Kowioha ",ot.jsx("br",{})," Kec. Wundulako, Kolaka"]})}),ot.jsx(JMt,{})]})]})}const tAt=Object.freeze(Object.defineProperty({__proto__:null,default:SA},Symbol.toStringTag,{value:"Module"}));function eAt(e){const n=e+"CollectionProvider",[s,a]=sv(n),[h,d]=s(n,{collectionRef:{current:null},itemMap:new Map}),p=B=>{const{scope:I,children:j}=B,V=wt.useRef(null),C=wt.useRef(new Map).current;return ot.jsx(h,{scope:I,itemMap:C,collectionRef:V,children:j})};p.displayName=n;const v=e+"CollectionSlot",x=wt.forwardRef((B,I)=>{const{scope:j,children:V}=B,C=d(v,j),z=oa(I,C.collectionRef);return ot.jsx(_c,{ref:z,children:V})});x.displayName=v;const S=e+"CollectionItemSlot",M="data-radix-collection-item",A=wt.forwardRef((B,I)=>{const{scope:j,children:V,...C}=B,z=wt.useRef(null),F=oa(I,z),Y=d(S,j);return wt.useEffect(()=>(Y.itemMap.set(z,{ref:z,...C}),()=>void Y.itemMap.delete(z))),ot.jsx(_c,{[M]:"",ref:F,children:V})});A.displayName=S;function O(B){const I=d(e+"CollectionConsumer",B);return wt.useCallback(()=>{const V=I.collectionRef.current;if(!V)return[];const C=Array.from(V.querySelectorAll(`[${M}]`));return Array.from(I.itemMap.values()).sort((Y,U)=>C.indexOf(Y.ref.current)-C.indexOf(U.ref.current))},[I.collectionRef,I.itemMap])}return[{Provider:p,Slot:x,ItemSlot:A},O,a]}var nAt=at.createContext(void 0);function V4(e){const n=at.useContext(nAt);return e||n||"ltr"}var Cb="rovingFocusGroup.onEntryFocus",iAt={bubbles:!1,cancelable:!0},$1="RovingFocusGroup",[UP,U4,rAt]=eAt($1),[sAt,K4]=sv($1,[rAt]),[oAt,aAt]=sAt($1),G4=at.forwardRef((e,n)=>ot.jsx(UP.Provider,{scope:e.__scopeRovingFocusGroup,children:ot.jsx(UP.Slot,{scope:e.__scopeRovingFocusGroup,children:ot.jsx(lAt,{...e,ref:n})})}));G4.displayName=$1;var lAt=at.forwardRef((e,n)=>{const{__scopeRovingFocusGroup:s,orientation:a,loop:h=!1,dir:d,currentTabStopId:p,defaultCurrentTabStopId:v,onCurrentTabStopIdChange:x,onEntryFocus:S,preventScrollOnEntryFocus:M=!1,...A}=e,O=at.useRef(null),B=oa(n,O),I=V4(d),[j=null,V]=ok({prop:p,defaultProp:v,onChange:x}),[C,z]=at.useState(!1),F=Hl(S),Y=U4(s),U=at.useRef(!1),[J,K]=at.useState(0);return at.useEffect(()=>{const rt=O.current;if(rt)return rt.addEventListener(Cb,F),()=>rt.removeEventListener(Cb,F)},[F]),ot.jsx(oAt,{scope:s,orientation:a,dir:I,loop:h,currentTabStopId:j,onItemFocus:at.useCallback(rt=>V(rt),[V]),onItemShiftTab:at.useCallback(()=>z(!0),[]),onFocusableItemAdd:at.useCallback(()=>K(rt=>rt+1),[]),onFocusableItemRemove:at.useCallback(()=>K(rt=>rt-1),[]),children:ot.jsx(Xr.div,{tabIndex:C||J===0?-1:0,"data-orientation":a,...A,ref:B,style:{outline:"none",...e.style},onMouseDown:dr(e.onMouseDown,()=>{U.current=!0}),onFocus:dr(e.onFocus,rt=>{const gt=!U.current;if(rt.target===rt.currentTarget&&gt&&!C){const lt=new CustomEvent(Cb,iAt);if(rt.currentTarget.dispatchEvent(lt),!lt.defaultPrevented){const dt=Y().filter(Ot=>Ot.focusable),mt=dt.find(Ot=>Ot.active),vt=dt.find(Ot=>Ot.id===j),Ct=[mt,vt,...dt].filter(Boolean).map(Ot=>Ot.ref.current);X4(Ct,M)}}U.current=!1}),onBlur:dr(e.onBlur,()=>z(!1))})})}),W4="RovingFocusGroupItem",H4=at.forwardRef((e,n)=>{const{__scopeRovingFocusGroup:s,focusable:a=!0,active:h=!1,tabStopId:d,...p}=e,v=Nf(),x=d||v,S=aAt(W4,s),M=S.currentTabStopId===x,A=U4(s),{onFocusableItemAdd:O,onFocusableItemRemove:B}=S;return at.useEffect(()=>{if(a)return O(),()=>B()},[a,O,B]),ot.jsx(UP.ItemSlot,{scope:s,id:x,focusable:a,active:h,children:ot.jsx(Xr.span,{tabIndex:M?0:-1,"data-orientation":S.orientation,...p,ref:n,onMouseDown:dr(e.onMouseDown,I=>{a?S.onItemFocus(x):I.preventDefault()}),onFocus:dr(e.onFocus,()=>S.onItemFocus(x)),onKeyDown:dr(e.onKeyDown,I=>{if(I.key==="Tab"&&I.shiftKey){S.onItemShiftTab();return}if(I.target!==I.currentTarget)return;const j=cAt(I,S.orientation,S.dir);if(j!==void 0){if(I.metaKey||I.ctrlKey||I.altKey||I.shiftKey)return;I.preventDefault();let C=A().filter(z=>z.focusable).map(z=>z.ref.current);if(j==="last")C.reverse();else if(j==="prev"||j==="next"){j==="prev"&&C.reverse();const z=C.indexOf(I.currentTarget);C=S.loop?dAt(C,z+1):C.slice(z+1)}setTimeout(()=>X4(C))}})})})});H4.displayName=W4;var uAt={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function hAt(e,n){return n!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function cAt(e,n,s){const a=hAt(e.key,s);if(!(n==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(n==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return uAt[a]}function X4(e,n=!1){const s=document.activeElement;for(const a of e)if(a===s||(a.focus({preventScroll:n}),document.activeElement!==s))return}function dAt(e,n){return e.map((s,a)=>e[(n+a)%e.length])}var fAt=G4,pAt=H4,PA="Tabs",[gAt,FAt]=sv(PA,[K4]),Y4=K4(),[mAt,kA]=gAt(PA),q4=at.forwardRef((e,n)=>{const{__scopeTabs:s,value:a,onValueChange:h,defaultValue:d,orientation:p="horizontal",dir:v,activationMode:x="automatic",...S}=e,M=V4(v),[A,O]=ok({prop:a,onChange:h,defaultProp:d});return ot.jsx(mAt,{scope:s,baseId:Nf(),value:A,onValueChange:O,orientation:p,dir:M,activationMode:x,children:ot.jsx(Xr.div,{dir:M,"data-orientation":p,...S,ref:n})})});q4.displayName=PA;var Z4="TabsList",J4=at.forwardRef((e,n)=>{const{__scopeTabs:s,loop:a=!0,...h}=e,d=kA(Z4,s),p=Y4(s);return ot.jsx(fAt,{asChild:!0,...p,orientation:d.orientation,dir:d.dir,loop:a,children:ot.jsx(Xr.div,{role:"tablist","aria-orientation":d.orientation,...h,ref:n})})});J4.displayName=Z4;var Q4="TabsTrigger",t5=at.forwardRef((e,n)=>{const{__scopeTabs:s,value:a,disabled:h=!1,...d}=e,p=kA(Q4,s),v=Y4(s),x=i5(p.baseId,a),S=r5(p.baseId,a),M=a===p.value;return ot.jsx(pAt,{asChild:!0,...v,focusable:!h,active:M,children:ot.jsx(Xr.button,{type:"button",role:"tab","aria-selected":M,"aria-controls":S,"data-state":M?"active":"inactive","data-disabled":h?"":void 0,disabled:h,id:x,...d,ref:n,onMouseDown:dr(e.onMouseDown,A=>{!h&&A.button===0&&A.ctrlKey===!1?p.onValueChange(a):A.preventDefault()}),onKeyDown:dr(e.onKeyDown,A=>{[" ","Enter"].includes(A.key)&&p.onValueChange(a)}),onFocus:dr(e.onFocus,()=>{const A=p.activationMode!=="manual";!M&&!h&&A&&p.onValueChange(a)})})})});t5.displayName=Q4;var e5="TabsContent",n5=at.forwardRef((e,n)=>{const{__scopeTabs:s,value:a,forceMount:h,children:d,...p}=e,v=kA(e5,s),x=i5(v.baseId,a),S=r5(v.baseId,a),M=a===v.value,A=at.useRef(M);return at.useEffect(()=>{const O=requestAnimationFrame(()=>A.current=!1);return()=>cancelAnimationFrame(O)},[]),ot.jsx(Pg,{present:h||M,children:({present:O})=>ot.jsx(Xr.div,{"data-state":M?"active":"inactive","data-orientation":v.orientation,role:"tabpanel","aria-labelledby":x,hidden:!O,id:S,tabIndex:0,...p,ref:n,style:{...e.style,animationDuration:A.current?"0s":void 0},children:O&&d})})});n5.displayName=e5;function i5(e,n){return`${e}-trigger-${n}`}function r5(e,n){return`${e}-content-${n}`}var yAt=q4,s5=J4,o5=t5,a5=n5;const vAt=yAt,l5=at.forwardRef(({className:e,...n},s)=>ot.jsx(s5,{ref:s,className:Fn("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...n}));l5.displayName=s5.displayName;const ly=at.forwardRef(({className:e,...n},s)=>ot.jsx(o5,{ref:s,className:Fn("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...n}));ly.displayName=o5.displayName;const uy=at.forwardRef(({className:e,...n},s)=>ot.jsx(a5,{ref:s,className:Fn("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...n}));uy.displayName=a5.displayName;const xAt=cj,u5=at.forwardRef(({className:e,...n},s)=>ot.jsx(Sv,{ref:s,className:Fn("fixed inset-0 z-[9999999] bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...n}));u5.displayName=Sv.displayName;const bAt=at.forwardRef(({className:e,children:n,...s},a)=>ot.jsxs(xAt,{children:[ot.jsx(u5,{}),ot.jsxs(Pv,{ref:a,className:Fn("fixed left-[50%] top-[50%] z-[9999999] grid w-full  translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[n,ot.jsxs(dj,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[ot.jsx(mj,{className:"h-4 w-4"}),ot.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));bAt.displayName=Pv.displayName;const wAt=at.forwardRef(({className:e,...n},s)=>ot.jsx(kv,{ref:s,className:Fn("text-lg font-semibold leading-none tracking-tight",e),...n}));wAt.displayName=kv.displayName;const SAt=at.forwardRef(({className:e,...n},s)=>ot.jsx(Tv,{ref:s,className:Fn("text-sm text-muted-foreground",e),...n}));SAt.displayName=Tv.displayName;const mD=["all","situs","wisata"],Ob=({place:e})=>ot.jsx("section",{children:ot.jsxs("div",{className:"w-full py-4 flex gap-x-4",children:[ot.jsx("div",{className:"w-1/4",children:ot.jsx("img",{className:"w-full object-cover",src:e.image,alt:e.name})}),ot.jsxs("div",{className:"flex-1",children:[ot.jsx("h1",{className:"text-base line-clamp-1",children:e.name}),ot.jsx("p",{className:"text-sm line-clamp-3 text-gray-600 mt-1 text-justify",children:e.description})]})]})});function PAt({places:e}){const n=e.filter(p=>p.type==="wisata"),s=e.filter(p=>p.type==="sejarah");let a=mD[0];const d=new URLSearchParams(window.location.search).get("tab");return mD.includes(d)&&(a=d),ot.jsx(al,{children:ot.jsx("section",{className:"w-full md:w-10/12 lg:w-8/12 mx-auto px-4 md:px-0",children:ot.jsxs("div",{className:"flex flex-col gap-4",children:[ot.jsx("div",{className:"w-full h-full",children:ot.jsx(SA,{})}),ot.jsx("div",{className:"flex-1 px-4",children:ot.jsxs(vAt,{defaultValue:a,className:"w-full mt-4",onValueChange:p=>history.replaceState(null,null,`?tab=${p}`),children:[ot.jsxs(l5,{className:"grid w-full grid-cols-3 bg-gray-100",children:[ot.jsx(ly,{value:"all",children:"Semua"}),ot.jsx(ly,{value:"situs",children:"Situs Sejarah"}),ot.jsx(ly,{value:"wisata",children:"Wisata"})]}),ot.jsx(uy,{value:"all",children:ot.jsxs("div",{className:"relative w-full py-4 rounded-xl after:content-[''] after:w-full after:h-32 after:bg-gradient-to-t after:from-white after:via-white after:to-transparent after:absolute after:bottom-0",children:[ot.jsx("h1",{className:"text-xl font-semibold",children:"Semua"}),ot.jsx("div",{className:"space-y-2 divide-y max-h-[60vh] overflow-auto",children:e.map(p=>ot.jsx(Ob,{place:p},p.id))})]})}),ot.jsx(uy,{value:"situs",children:ot.jsxs("div",{className:"relative w-full py-4 rounded-xl after:content-[''] after:w-full after:h-32 after:bg-gradient-to-t after:from-white after:via-white after:to-transparent after:absolute after:bottom-0",children:[ot.jsx("h1",{className:"text-xl font-semibold",children:"Situs Sejarah"}),ot.jsx("div",{className:"space-y-2 divide-y max-h-[60vh] overflow-auto",children:s.map(p=>ot.jsx(Ob,{place:p},p.id))})]})}),ot.jsx(uy,{value:"wisata",children:ot.jsxs("div",{className:"relative w-full py-4 rounded-xl after:content-[''] after:w-full after:h-32 after:bg-gradient-to-t after:from-white after:via-white after:to-transparent after:absolute after:bottom-0",children:[ot.jsx("h1",{className:"text-xl font-semibold",children:"Destinasi Wisata"}),ot.jsx("div",{className:"space-y-2 divide-y max-h-[60vh] overflow-auto",children:n.map(p=>ot.jsx(Ob,{place:p},p.id))})]})})]})})]})})})}const kAt=Object.freeze(Object.defineProperty({__proto__:null,default:PAt},Symbol.toStringTag,{value:"Module"})),TAt=e=>{let n=e;return n=n.replace(/<ol>/g,'<ol class="list-decimal ml-4 space-y-4">'),n};function MAt({content:e={},staff:n}){return console.log(n),ot.jsxs(al,{children:[ot.jsxs("section",{className:"w-full h-[80vh] relative ",children:[ot.jsx("img",{className:"w-full h-full object-cover object-bottom",src:"https://res.cloudinary.com/dwcdtvmyy/image/upload/v1725835338/WhatsApp_Image_2024-09-09_at_06.40.08_ko2jyd.jpg",alt:"Lambang"}),ot.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center bg-black/50",children:ot.jsx("div",{className:"w-full flex items-center justify-center text-center",children:ot.jsxs("div",{children:[ot.jsxs("h1",{className:"text-5xl md:text-7xl font-black uppercase text-white",children:["Profil ",e==null?void 0:e.village_name]}),ot.jsx("h2",{className:"text-3xl text-white uppercase font-black",children:"Kecamatan Wundulako, Kabupaten Kolaka"})]})})})]}),ot.jsx("section",{className:"w-full md:w-10/12 lg:w-8/12 mx-auto min-h-[80vh] flex items-center px-4 md:px-0",children:ot.jsxs("div",{className:"w-full",children:[ot.jsx("h1",{className:"text-3xl font-bold text-center underline underline-offset-2",children:"Visi & Misi"}),ot.jsxs("div",{className:"mt-4 flex flex-col md:flex-row gap-x-20",children:[ot.jsx("div",{className:"w-full md:w-1/2",children:ot.jsx("img",{className:"w-full h-full object-contain",src:"https://upload.wikimedia.org/wikipedia/commons/2/21/Lambang_Kab_Kolaka.png",alt:"Logo"})}),ot.jsxs("div",{className:"w-full md:w-1/2",children:[ot.jsxs("div",{className:"w-full",children:[ot.jsx("h1",{className:"text-2xl font-bold",children:"Visi"}),ot.jsx("p",{className:"text-gray-600 text-xl font-medium",dangerouslySetInnerHTML:{__html:(e==null?void 0:e.vision)||""}})]}),ot.jsxs("div",{className:"w-full mt-4",children:[ot.jsx("h1",{className:"text-2xl font-bold",children:"Misi"}),ot.jsx("p",{className:"text-gray-600 text-xl font-medium",dangerouslySetInnerHTML:{__html:TAt((e==null?void 0:e.mission)||"")}})]})]})]})]})}),ot.jsx("section",{className:"w-full md:w-10/12 lg:w-8/12 mx-auto min-h-[80vh] flex items-center px-4 md:px-0",children:ot.jsx("iframe",{className:"w-full h-96",src:"https://www.youtube.com/embed/feceoLwv08M?si=VhcwuNA08Ej0gzLu",title:"YouTube video player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"strict-origin-when-cross-origin",allowFullScreen:!0})}),ot.jsx("section",{className:"w-full md:w-10/12 lg:w-8/12 mx-auto min-h-[80vh] flex items-center",children:ot.jsxs("div",{className:"w-full",children:[ot.jsxs("h1",{className:"text-3xl font-bold text-center underline underline-offset-2",children:["Peta Lokasi ",e==null?void 0:e.village_name]}),ot.jsx("div",{className:"mt-4 w-full h-96",children:ot.jsx(SA,{})})]})})]})}const AAt=Object.freeze(Object.defineProperty({__proto__:null,default:MAt},Symbol.toStringTag,{value:"Module"}));var h5,yD=Sg;h5=yD.createRoot,yD.hydrateRoot;lG({resolve:e=>(e=e.replace(/\./g,"/"),Object.assign({"./Pages/Activity/page.jsx":CJ,"./Pages/Administration/page.jsx":EJ,"./Pages/Citizen/page.jsx":ikt,"./Pages/Home/activity.jsx":jTt,"./Pages/Home/news.jsx":BTt,"./Pages/Home/page.jsx":CMt,"./Pages/Home/slider.jsx":kMt,"./Pages/News/page.jsx":NMt,"./Pages/News/show.jsx":LMt,"./Pages/Organizational/page.jsx":DMt,"./Pages/Place/maps.jsx":tAt,"./Pages/Place/page.jsx":kAt,"./Pages/Profile/page.jsx":AAt})[`./Pages/${e}.jsx`]),setup({el:e,App:n,props:s}){h5(e).render(ot.jsx(n,{...s}))}});
